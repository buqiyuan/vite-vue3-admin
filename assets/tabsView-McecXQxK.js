import{x as u,w as i,e as h,T as b,d as c,L as d,P as f}from"./index-Bf9NpXkZ.js";const m=[c,d,f],L=u({id:"tabs-view",state:()=>({tabsList:[]}),getters:{getTabsList:t=>t.tabsList.filter(s=>!s.meta?.hideInTabs&&i.hasRoute(s.name)),getCurrentTab:t=>{const s=i.currentRoute.value;return t.tabsList.find(e=>!e.meta?.hideInTabs&&e.fullPath===s.fullPath)}},actions:{delCompFromClosedTabs(t){const s=h(),e=i.getRoutes(),a=t.reduce((l,n)=>{if(n.name&&i.hasRoute(n.name)){const o=e.find(r=>r.name===n.name)?.components?.default?.name;o&&l.push(o)}return l},[]);s.remove(a)},initTabs(t){this.tabsList=t},addTabs(t){return m.includes(t.name)?!1:(this.tabsList.some(e=>e.fullPath==t.fullPath)||this.tabsList.push(t),!0)},closeLeftTabs(t){const s=this.tabsList.findIndex(e=>e.fullPath==t.fullPath);this.delCompFromClosedTabs(this.tabsList.splice(0,s))},closeRightTabs(t){const s=this.tabsList.findIndex(e=>e.fullPath==t.fullPath);this.delCompFromClosedTabs(this.tabsList.splice(s+1))},closeOtherTabs(t){const s=this.tabsList.findIndex(e=>e.fullPath===t.fullPath);if(s!==-1){const e=this.tabsList.splice(s,1);this.delCompFromClosedTabs(this.tabsList),this.tabsList=e}},closeCurrentTab(t){const s=this.tabsList.findIndex(a=>a.fullPath==t.fullPath),e=Object.is(this.getCurrentTab,this.tabsList[s]);if(this.delCompFromClosedTabs(this.tabsList.splice(s,1)),e){const a=this.tabsList[Math.max(0,this.tabsList.length-1)];i.push(a)}},closeAllTabs(){this.delCompFromClosedTabs(this.tabsList),this.tabsList=[],localStorage.removeItem(b)},updateTabTitle(t){const s=i.currentRoute.value,e=this.tabsList.find(a=>a.fullPath===s.fullPath);e&&(e.meta.title=t)}}});export{m as b,L as u};

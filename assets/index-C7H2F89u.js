import{w as N5,d as R5,y as hM,r as JN,x as WN,o as bM,ca as yM,cH as vM,cI as xM,h as GN,bt as wM,bj as kM,b as A5,I as M5,J as QN,M as _M,B as D5,k as A3,K as _A,Q as CM,U as SM,F as EM,aK as TM,bb as zM,a3 as AM,aJ as OM}from"./vendor-D7Y6X7_h.js";import{g as NM,k as MM,A as e6}from"./index-Bf9NpXkZ.js";import"./ApiSelect.vue_vue_type_script_setup_true_lang-BrXY2i5o.js";import{u as DM}from"./useForm-CWiR2QqS.js";import"./is-CBsgbGQ7.js";import"./schema-form.vue_vue_type_script_setup_true_lang-BWF4-paj.js";import"./index-DKcumURF.js";import"./dateUtil-ohqk8BGA.js";var RM=["onActivate","onAddUndo","onBeforeAddUndo","onBeforeExecCommand","onBeforeGetContent","onBeforeRenderUI","onBeforeSetContent","onBeforePaste","onBlur","onChange","onClearUndos","onClick","onContextMenu","onCopy","onCut","onDblclick","onDeactivate","onDirty","onDrag","onDragDrop","onDragEnd","onDragGesture","onDragOver","onDrop","onExecCommand","onFocus","onFocusIn","onFocusOut","onGetContent","onHide","onInit","onKeyDown","onKeyPress","onKeyUp","onLoadContent","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onNodeChange","onObjectResizeStart","onObjectResized","onObjectSelected","onPaste","onPostProcess","onPostRender","onPreProcess","onProgressState","onRedo","onRemove","onReset","onSaveContent","onSelectionChange","onSetAttrib","onSetContent","onShow","onSubmit","onUndo","onVisualAid"],BM=function(xo){return RM.map(function(Ko){return Ko.toLowerCase()}).indexOf(xo.toLowerCase())!==-1},FM=function(xo,Ko,Io){Object.keys(Ko).filter(BM).forEach(function(on){var Qo=Ko[on];typeof Qo=="function"&&(on==="onInit"?Qo(xo,Io):Io.on(on.substring(2),function(io){return Qo(io,Io)}))})},LM=function(xo,Ko,Io,on){var Qo=xo.modelEvents?xo.modelEvents:null,io=Array.isArray(Qo)?Qo.join(" "):Qo;N5(on,function(Po,jt){Io&&typeof Po=="string"&&Po!==jt&&Po!==Io.getContent({format:xo.outputFormat})&&Io.setContent(Po)}),Io.on(io||"change input undo redo",function(){Ko.emit("update:modelValue",Io.getContent({format:xo.outputFormat}))})},IM=function(xo,Ko,Io,on,Qo,io){on.setContent(io()),Io.attrs["onUpdate:modelValue"]&&LM(Ko,Io,on,Qo),FM(xo,Io.attrs,on)},KN=0,t6=function(xo){var Ko=Date.now(),Io=Math.floor(Math.random()*1e9);return KN++,xo+"_"+Io+KN+String(Ko)},PM=function(xo){return xo!==null&&xo.tagName.toLowerCase()==="textarea"},YN=function(xo){return typeof xo>"u"||xo===""?[]:Array.isArray(xo)?xo:xo.split(" ")},HM=function(xo,Ko){return YN(xo).concat(YN(Ko))},jM=function(xo){return xo==null},XN=function(){return{listeners:[],scriptId:t6("tiny-script"),scriptLoaded:!1}},VM=function(){var xo=XN(),Ko=function(Qo,io,Po,jt){var ko=io.createElement("script");ko.referrerPolicy="origin",ko.type="application/javascript",ko.id=Qo,ko.src=Po;var Mo=function(){ko.removeEventListener("load",Mo),jt()};ko.addEventListener("load",Mo),io.head&&io.head.appendChild(ko)},Io=function(Qo,io,Po){xo.scriptLoaded?Po():(xo.listeners.push(Po),Qo.getElementById(xo.scriptId)||Ko(xo.scriptId,Qo,io,function(){xo.listeners.forEach(function(jt){return jt()}),xo.scriptLoaded=!0}))},on=function(){xo=XN()};return{load:Io,reinitialize:on}},$M=VM(),UM=function(){return typeof window<"u"?window:global},vv=function(){var xo=UM();return xo&&xo.tinymce?xo.tinymce:null},o6={apiKey:String,cloudChannel:String,id:String,init:Object,initialValue:String,inline:Boolean,modelEvents:[String,Array],plugins:[String,Array],tagName:String,toolbar:[String,Array],modelValue:String,disabled:Boolean,tinymceScriptSrc:String,outputFormat:{type:String,validator:function(xo){return xo==="html"||xo==="text"}}},Rf=function(){return Rf=Object.assign||function(xo){for(var Ko,Io=1,on=arguments.length;Io<on;Io++){Ko=arguments[Io];for(var Qo in Ko)Object.prototype.hasOwnProperty.call(Ko,Qo)&&(xo[Qo]=Ko[Qo])}return xo},Rf.apply(this,arguments)},ZM=function(xo,Ko,Io,on){return xo(on||"div",{id:Ko,ref:Io})},qM=function(xo,Ko,Io){return xo("textarea",{id:Ko,visibility:"hidden",ref:Io})},O5={selector:void 0,target:void 0},WM=R5({props:o6,setup:function(xo,Ko){var Io=xo.init?Rf(Rf({},xo.init),O5):Rf({},O5),on=hM(xo),Qo=on.disabled,io=on.modelValue,Po=on.tagName,jt=JN(null),ko=null,Mo=xo.id||t6("tiny-vue"),jo=xo.init&&xo.init.inline||xo.inline,tn=!!Ko.attrs["onUpdate:modelValue"],To=!0,Ue=xo.initialValue?xo.initialValue:"",it="",So=function(Dt){return tn?function(){return io?.value?io.value:""}:function(){return Dt?Ue:it}},co=function(){var Dt=So(To),fo=Rf(Rf({},Io),{readonly:xo.disabled,target:jt.value,plugins:HM(Io.plugins,xo.plugins),toolbar:xo.toolbar||Io.toolbar,inline:jo,setup:function(me){ko=me,me.on("init",function(Ze){return IM(Ze,xo,Ko,me,io,Dt)}),typeof Io.setup=="function"&&Io.setup(me)}});PM(jt.value)&&(jt.value.style.visibility=""),vv().init(fo),To=!1};N5(Qo,function(Dt){var fo;ko!==null&&(typeof((fo=ko.mode)===null||fo===void 0?void 0:fo.set)=="function"?ko.mode.set(Dt?"readonly":"design"):ko.setMode(Dt?"readonly":"design"))}),N5(Po,function(Dt){var fo;tn||(it=ko.getContent()),(fo=vv())===null||fo===void 0||fo.remove(ko),WN(function(){return co()})}),bM(function(){if(vv()!==null)co();else if(jt.value&&jt.value.ownerDocument){var Dt=xo.cloudChannel?xo.cloudChannel:"6",fo=xo.apiKey?xo.apiKey:"no-api-key",me=jM(xo.tinymceScriptSrc)?"https://cdn.tiny.cloud/1/".concat(fo,"/tinymce/").concat(Dt,"/tinymce.min.js"):xo.tinymceScriptSrc;$M.load(jt.value.ownerDocument,me,co)}}),yM(function(){vv()!==null&&vv().remove(ko)}),jo||(vM(function(){To||co()}),xM(function(){var Dt;tn||(it=ko.getContent()),(Dt=vv())===null||Dt===void 0||Dt.remove(ko)}));var he=function(Dt){var fo;it=ko.getContent(),(fo=vv())===null||fo===void 0||fo.remove(ko),Io=Rf(Rf(Rf({},Io),Dt),O5),WN(function(){return co()})};return Ko.expose({rerender:he,getEditor:function(){return ko}}),function(){return jo?ZM(GN,Mo,jt,xo.tagName):qM(GN,Mo,jt)}}});const GM="/vite-vue3-admin/assets/tinymce.min-BLJv-IOT.js";var KM={exports:{}};(function(xo){(function(){var Ko=function(t){if(t===null)return"null";if(t===void 0)return"undefined";var o=typeof t;return o==="object"&&(Array.prototype.isPrototypeOf(t)||t.constructor&&t.constructor.name==="Array")?"array":o==="object"&&(String.prototype.isPrototypeOf(t)||t.constructor&&t.constructor.name==="String")?"string":o},Io=function(t){return{eq:t}},on=Io(function(t,o){return t===o}),Qo=function(t){return Io(function(o,n){if(o.length!==n.length)return!1;for(var a=o.length,i=0;i<a;i++)if(!t.eq(o[i],n[i]))return!1;return!0})},io=function(t){return Io(function(o,n){var a=Object.keys(o),i=Object.keys(n);if(!function(f,y){return function(v,k){return Io(function(E,B){return v.eq(k(E),k(B))})}(Qo(f),function(v){return function(k,E){return Array.prototype.slice.call(k).sort(E)}(v,y)})}(on).eq(a,i))return!1;for(var c=a.length,d=0;d<c;d++){var u=a[d];if(!t.eq(o[u],n[u]))return!1}return!0})},Po=Io(function(t,o){if(t===o)return!0;var n=Ko(t);return n===Ko(o)&&(function(a){return["undefined","boolean","number","string","function","xml","null"].indexOf(a)!==-1}(n)?t===o:n==="array"?Qo(Po).eq(t,o):n==="object"&&io(Po).eq(t,o))});const jt=Object.getPrototypeOf,ko=(t,o,n)=>{var a;return!!n(t,o.prototype)||((a=t.constructor)===null||a===void 0?void 0:a.name)===o.name},Mo=t=>o=>(n=>{const a=typeof n;return n===null?"null":a==="object"&&Array.isArray(n)?"array":a==="object"&&ko(n,String,(i,c)=>c.isPrototypeOf(i))?"string":a})(o)===t,jo=t=>o=>typeof o===t,tn=t=>o=>t===o,To=(t,o)=>it(t)&&ko(t,o,(n,a)=>jt(n)===a),Ue=Mo("string"),it=Mo("object"),So=t=>To(t,Object),co=Mo("array"),he=tn(null),Dt=jo("boolean"),fo=tn(void 0),me=t=>t==null,Ze=t=>!me(t),de=jo("function"),rt=jo("number"),Yo=(t,o)=>{if(co(t)){for(let n=0,a=t.length;n<a;++n)if(!o(t[n]))return!1;return!0}return!1},$t=()=>{},gn=(t,o)=>(...n)=>t(o.apply(null,n)),Bo=(t,o)=>n=>t(o(n)),Ct=t=>()=>t,R=t=>t,qe=(t,o)=>t===o;function Je(t,...o){return(...n)=>{const a=o.concat(n);return t.apply(null,a)}}const lt=t=>o=>!t(o),Mt=t=>()=>{throw new Error(t)},ht=t=>t(),Rt=t=>{t()},uo=Ct(!1),Bt=Ct(!0);class V{constructor(o,n){this.tag=o,this.value=n}static some(o){return new V(!0,o)}static none(){return V.singletonNone}fold(o,n){return this.tag?n(this.value):o()}isSome(){return this.tag}isNone(){return!this.tag}map(o){return this.tag?V.some(o(this.value)):V.none()}bind(o){return this.tag?o(this.value):V.none()}exists(o){return this.tag&&o(this.value)}forall(o){return!this.tag||o(this.value)}filter(o){return!this.tag||o(this.value)?this:V.none()}getOr(o){return this.tag?this.value:o}or(o){return this.tag?this:o}getOrThunk(o){return this.tag?this.value:o()}orThunk(o){return this.tag?this:o()}getOrDie(o){if(this.tag)return this.value;throw new Error(o??"Called getOrDie on None")}static from(o){return Ze(o)?V.some(o):V.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(o){this.tag&&o(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}V.singletonNone=new V(!1);const dt=Array.prototype.slice,Ie=Array.prototype.indexOf,Co=Array.prototype.push,Pt=(t,o)=>Ie.call(t,o),lo=(t,o)=>Pt(t,o)>-1,zo=(t,o)=>{for(let n=0,a=t.length;n<a;n++)if(o(t[n],n))return!0;return!1},to=(t,o)=>{const n=t.length,a=new Array(n);for(let i=0;i<n;i++){const c=t[i];a[i]=o(c,i)}return a},Se=(t,o)=>{for(let n=0,a=t.length;n<a;n++)o(t[n],n)},$e=(t,o)=>{for(let n=t.length-1;n>=0;n--)o(t[n],n)},ct=(t,o)=>{const n=[],a=[];for(let i=0,c=t.length;i<c;i++){const d=t[i];(o(d,i)?n:a).push(d)}return{pass:n,fail:a}},gt=(t,o)=>{const n=[];for(let a=0,i=t.length;a<i;a++){const c=t[a];o(c,a)&&n.push(c)}return n},pe=(t,o,n)=>($e(t,(a,i)=>{n=o(n,a,i)}),n),Oe=(t,o,n)=>(Se(t,(a,i)=>{n=o(n,a,i)}),n),We=(t,o,n)=>{for(let a=0,i=t.length;a<i;a++){const c=t[a];if(o(c,a))return V.some(c);if(n(c,a))break}return V.none()},Fe=(t,o)=>We(t,o,uo),ge=(t,o)=>{for(let n=0,a=t.length;n<a;n++)if(o(t[n],n))return V.some(n);return V.none()},Me=t=>{const o=[];for(let n=0,a=t.length;n<a;++n){if(!co(t[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+t);Co.apply(o,t[n])}return o},at=(t,o)=>Me(to(t,o)),ze=(t,o)=>{for(let n=0,a=t.length;n<a;++n)if(o(t[n],n)!==!0)return!1;return!0},Ge=t=>{const o=dt.call(t,0);return o.reverse(),o},Gt=(t,o)=>gt(t,n=>!lo(o,n)),Vt=(t,o)=>{const n={};for(let a=0,i=t.length;a<i;a++){const c=t[a];n[String(c)]=o(c,a)}return n},Xo=(t,o)=>{const n=dt.call(t,0);return n.sort(o),n},$o=(t,o)=>o>=0&&o<t.length?V.some(t[o]):V.none(),Zo=t=>$o(t,0),Gn=t=>$o(t,t.length-1),Pn=de(Array.from)?Array.from:t=>dt.call(t),zn=(t,o)=>{for(let n=0;n<t.length;n++){const a=o(t[n],n);if(a.isSome())return a}return V.none()},ut=Object.keys,zt=Object.hasOwnProperty,Ft=(t,o)=>{const n=ut(t);for(let a=0,i=n.length;a<i;a++){const c=n[a];o(t[c],c)}},vo=(t,o)=>Xt(t,(n,a)=>({k:a,v:o(n,a)})),Xt=(t,o)=>{const n={};return Ft(t,(a,i)=>{const c=o(a,i);n[c.k]=c.v}),n},Vo=t=>(o,n)=>{t[n]=o},$n=(t,o,n,a)=>{Ft(t,(i,c)=>{(o(i,c)?n:a)(i,c)})},Rr=(t,o)=>{const n={};return $n(t,o,Vo(n),$t),n},Wt=(t,o)=>{const n=[];return Ft(t,(a,i)=>{n.push(o(a,i))}),n},vr=t=>Wt(t,R),Fn=(t,o)=>ln(t,o)?V.from(t[o]):V.none(),ln=(t,o)=>zt.call(t,o),xr=(t,o)=>ln(t,o)&&t[o]!==void 0&&t[o]!==null,Ys=t=>{const o={};return Se(t,n=>{o[n]={}}),ut(o)},Yr=t=>t.length!==void 0,Pa=Array.isArray,cs=(t,o,n)=>{if(!t)return!1;if(n=n||t,Yr(t)){for(let a=0,i=t.length;a<i;a++)if(o.call(n,t[a],a,t)===!1)return!1}else for(const a in t)if(ln(t,a)&&o.call(n,t[a],a,t)===!1)return!1;return!0},Ha=(t,o)=>{const n=[];return cs(t,(a,i)=>{n.push(o(a,i,t))}),n},ja=(t,o)=>{const n=[];return cs(t,(a,i)=>{o&&!o(a,i,t)||n.push(a)}),n},$s=(t,o,n,a)=>{let i=fo(n)?t[0]:n;for(let c=0;c<t.length;c++)i=o.call(a,i,t[c],c);return i},Us=(t,o,n)=>{for(let a=0,i=t.length;a<i;a++)if(o.call(n,t[a],a,t))return a;return-1},_a=t=>t[t.length-1],tt=t=>{let o,n=!1;return(...a)=>(n||(n=!0,o=t.apply(null,a)),o)},_t=()=>Do(0,0),Do=(t,o)=>({major:t,minor:o}),St={nu:Do,detect:(t,o)=>{const n=String(o).toLowerCase();return t.length===0?_t():((a,i)=>{const c=((u,f)=>{for(let y=0;y<u.length;y++){const v=u[y];if(v.test(f))return v}})(a,i);if(!c)return{major:0,minor:0};const d=u=>Number(i.replace(c,"$"+u));return Do(d(1),d(2))})(t,n)},unknown:_t},zr=(t,o)=>{const n=String(o).toLowerCase();return Fe(t,a=>a.search(n))},kr=(t,o,n)=>o===""||t.length>=o.length&&t.substr(n,n+o.length)===o,Is=(t,o)=>gr(t,o)?((n,a)=>n.substring(a))(t,o.length):t,Xr=(t,o,n=0,a)=>{const i=t.indexOf(o,n);return i!==-1&&(!!fo(a)||i+o.length<=a)},gr=(t,o)=>kr(t,o,0),De=(t,o)=>kr(t,o,t.length-o.length),Ae=t=>o=>o.replace(t,""),wt=Ae(/^\s+|\s+$/g),It=Ae(/^\s+/g),dn=Ae(/\s+$/g),nn=t=>t.length>0,sr=t=>!nn(t),Vr=(t,o=10)=>{const n=parseInt(t,o);return isNaN(n)?V.none():V.some(n)},Br=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Jo=t=>o=>Xr(o,t),Ce=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:t=>Xr(t,"edge/")&&Xr(t,"chrome")&&Xr(t,"safari")&&Xr(t,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Br],search:t=>Xr(t,"chrome")&&!Xr(t,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:t=>Xr(t,"msie")||Xr(t,"trident")},{name:"Opera",versionRegexes:[Br,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Jo("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Jo("firefox")},{name:"Safari",versionRegexes:[Br,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:t=>(Xr(t,"safari")||Xr(t,"mobile/"))&&Xr(t,"applewebkit")}],Ne=[{name:"Windows",search:Jo("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:t=>Xr(t,"iphone")||Xr(t,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Jo("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:Jo("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Jo("linux"),versionRegexes:[]},{name:"Solaris",search:Jo("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Jo("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:Jo("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],Zt={browsers:Ct(Ce),oses:Ct(Ne)},Lo="Edge",Ho="Chromium",rn="Opera",Go="Firefox",hn="Safari",wn=t=>{const o=t.current,n=t.version,a=i=>()=>o===i;return{current:o,version:n,isEdge:a(Lo),isChromium:a(Ho),isIE:a("IE"),isOpera:a(rn),isFirefox:a(Go),isSafari:a(hn)}},Un=()=>wn({current:void 0,version:St.unknown()}),Ar=wn,ra="Windows",Xs="Android",Zs="Linux",mi="macOS",Wr="Solaris",rr="FreeBSD",Sr="ChromeOS",va=t=>{const o=t.current,n=t.version,a=i=>()=>o===i;return{current:o,version:n,isWindows:a(ra),isiOS:a("iOS"),isAndroid:a(Xs),isMacOS:a(mi),isLinux:a(Zs),isSolaris:a(Wr),isFreeBSD:a(rr),isChromeOS:a(Sr)}},Cs=()=>va({current:void 0,version:St.unknown()}),za=va,ws=t=>window.matchMedia(t).matches;let As=tt(()=>((t,o,n)=>{const a=Zt.browsers(),i=Zt.oses(),c=o.bind(f=>((y,v)=>zn(v.brands,k=>{const E=k.brand.toLowerCase();return Fe(y,B=>{var O;return E===((O=B.brand)===null||O===void 0?void 0:O.toLowerCase())}).map(B=>({current:B.name,version:St.nu(parseInt(k.version,10),0)}))}))(a,f)).orThunk(()=>((f,y)=>zr(f,y).map(v=>{const k=St.detect(v.versionRegexes,y);return{current:v.name,version:k}}))(a,t)).fold(Un,Ar),d=((f,y)=>zr(f,y).map(v=>{const k=St.detect(v.versionRegexes,y);return{current:v.name,version:k}}))(i,t).fold(Cs,za),u=((f,y,v,k)=>{const E=f.isiOS()&&/ipad/i.test(v)===!0,B=f.isiOS()&&!E,O=f.isiOS()||f.isAndroid(),P=O||k("(pointer:coarse)"),M=E||!B&&O&&k("(min-device-width:768px)"),j=B||O&&!M,q=y.isSafari()&&f.isiOS()&&/safari/i.test(v)===!1,K=!j&&!M&&!q;return{isiPad:Ct(E),isiPhone:Ct(B),isTablet:Ct(M),isPhone:Ct(j),isTouch:Ct(P),isAndroid:f.isAndroid,isiOS:f.isiOS,isWebView:Ct(q),isDesktop:Ct(K)}})(d,c,t,n);return{browser:c,os:d,deviceType:u}})(navigator.userAgent,V.from(navigator.userAgentData),ws));const Aa=()=>As(),Kn=navigator.userAgent,Os=Aa(),Ma=Os.browser,Ca=Os.os,ds=Os.deviceType,xa=Kn.indexOf("Windows Phone")!==-1,Rn={transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",documentMode:Ma.isIE()?document.documentMode||7:10,cacheSuffix:null,container:null,canHaveCSP:!Ma.isIE(),windowsPhone:xa,browser:{current:Ma.current,version:Ma.version,isChromium:Ma.isChromium,isEdge:Ma.isEdge,isFirefox:Ma.isFirefox,isIE:Ma.isIE,isOpera:Ma.isOpera,isSafari:Ma.isSafari},os:{current:Ca.current,version:Ca.version,isAndroid:Ca.isAndroid,isChromeOS:Ca.isChromeOS,isFreeBSD:Ca.isFreeBSD,isiOS:Ca.isiOS,isLinux:Ca.isLinux,isMacOS:Ca.isMacOS,isSolaris:Ca.isSolaris,isWindows:Ca.isWindows},deviceType:{isDesktop:ds.isDesktop,isiPad:ds.isiPad,isiPhone:ds.isiPhone,isPhone:ds.isPhone,isTablet:ds.isTablet,isTouch:ds.isTouch,isWebView:ds.isWebView}},Hi=/^\s*|\s*$/g,Bn=t=>me(t)?"":(""+t).replace(Hi,""),ji=function(t,o,n,a){a=a||this,t&&(n&&(t=t[n]),cs(t,(i,c)=>o.call(a,i,c,n)!==!1&&(ji(i,o,n,a),!0)))},go={trim:Bn,isArray:Pa,is:(t,o)=>o?!(o!=="array"||!Pa(t))||typeof t===o:t!==void 0,toArray:t=>{if(Pa(t))return t;{const o=[];for(let n=0,a=t.length;n<a;n++)o[n]=t[n];return o}},makeMap:(t,o,n={})=>{const a=Ue(t)?t.split(o||","):t||[];let i=a.length;for(;i--;)n[a[i]]={};return n},each:cs,map:Ha,grep:ja,inArray:(t,o)=>{if(t){for(let n=0,a=t.length;n<a;n++)if(t[n]===o)return n}return-1},hasOwn:ln,extend:(t,...o)=>{for(let n=0;n<o.length;n++){const a=o[n];for(const i in a)if(ln(a,i)){const c=a[i];c!==void 0&&(t[i]=c)}}return t},walk:ji,resolve:(t,o=window)=>{const n=t.split(".");for(let a=0,i=n.length;a<i&&(o=o[n[a]]);a++);return o},explode:(t,o)=>co(t)?t:t===""?[]:Ha(t.split(o||","),Bn),_addCacheSuffix:t=>{const o=Rn.cacheSuffix;return o&&(t+=(t.indexOf("?")===-1?"?":"&")+o),t}},aa=(t,o,n=qe)=>t.exists(a=>n(a,o)),Ss=(t,o,n=qe)=>Ir(t,o,n).getOr(t.isNone()&&o.isNone()),Ir=(t,o,n)=>t.isSome()&&o.isSome()?V.some(n(t.getOrDie(),o.getOrDie())):V.none(),gi=(t,o)=>t?V.some(o):V.none(),sc=typeof window<"u"?window:Function("return this;")(),Pr=(t,o)=>((n,a)=>{let i=a??sc;for(let c=0;c<n.length&&i!=null;++c)i=i[n[c]];return i})(t.split("."),o),ne=Object.getPrototypeOf,Be=t=>{const o=Pr("ownerDocument.defaultView",t);return it(t)&&((n=>((a,i)=>{const c=((d,u)=>Pr(d,u))(a,i);if(c==null)throw new Error(a+" not available on this browser");return c})("HTMLElement",n))(o).prototype.isPrototypeOf(t)||/^HTML\w*Element$/.test(ne(t).constructor.name))},Pe=t=>t.dom.nodeName.toLowerCase(),Nt=t=>t.dom.nodeType,ho=t=>o=>Nt(o)===t,bn=t=>kn(t)&&Be(t.dom),kn=ho(1),_r=ho(3),Or=ho(9),Sa=ho(11),ma=t=>o=>kn(o)&&Pe(o)===t,Ga=(t,o,n)=>{if(!(Ue(n)||Dt(n)||rt(n)))throw console.error("Invalid call to Attribute.set. Key ",o,":: Value ",n,":: Element ",t),new Error("Attribute value was not simple");t.setAttribute(o,n+"")},Q=(t,o,n)=>{Ga(t.dom,o,n)},Ee=(t,o)=>{const n=t.dom;Ft(o,(a,i)=>{Ga(n,i,a)})},bt=(t,o)=>{const n=t.dom.getAttribute(o);return n===null?void 0:n},wo=(t,o)=>V.from(bt(t,o)),Zn=(t,o)=>{const n=t.dom;return!(!n||!n.hasAttribute)&&n.hasAttribute(o)},U=(t,o)=>{t.dom.removeAttribute(o)},oe=t=>Oe(t.dom.attributes,(o,n)=>(o[n.name]=n.value,o),{}),xe=(t,o)=>{const n=bt(t,o);return n===void 0||n===""?[]:n.split(" ")},xt=t=>t.dom.classList!==void 0,po=t=>xe(t,"class"),Yn=(t,o)=>((n,a,i)=>{const c=xe(n,a).concat([i]);return Q(n,a,c.join(" ")),!0})(t,"class",o),ga=(t,o)=>((n,a,i)=>{const c=gt(xe(n,a),d=>d!==i);return c.length>0?Q(n,a,c.join(" ")):U(n,a),!1})(t,"class",o),ks=(t,o)=>{xt(t)?t.dom.classList.add(o):Yn(t,o)},_i=t=>{(xt(t)?t.dom.classList:po(t)).length===0&&U(t,"class")},Js=(t,o)=>{xt(t)?t.dom.classList.remove(o):ga(t,o),_i(t)},Vi=(t,o)=>xt(t)&&t.dom.classList.contains(o),Qs=t=>{if(t==null)throw new Error("Node cannot be null or undefined");return{dom:t}},ic=(t,o)=>{const n=(o||document).createElement("div");if(n.innerHTML=t,!n.hasChildNodes()||n.childNodes.length>1){const a="HTML does not have a single root node";throw console.error(a,t),new Error(a)}return Qs(n.childNodes[0])},_s=(t,o)=>{const n=(o||document).createElement(t);return Qs(n)},vc=(t,o)=>{const n=(o||document).createTextNode(t);return Qs(n)},je=Qs,Ll=(t,o,n)=>V.from(t.dom.elementFromPoint(o,n)).map(Qs),pd=(t,o)=>{const n=[],a=c=>(n.push(c),o(c));let i=o(t);do i=i.bind(a);while(i.isSome());return n},Ci=(t,o)=>{const n=t.dom;if(n.nodeType!==1)return!1;{const a=n;if(a.matches!==void 0)return a.matches(o);if(a.msMatchesSelector!==void 0)return a.msMatchesSelector(o);if(a.webkitMatchesSelector!==void 0)return a.webkitMatchesSelector(o);if(a.mozMatchesSelector!==void 0)return a.mozMatchesSelector(o);throw new Error("Browser lacks native selectors")}},bp=t=>t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11||t.childElementCount===0,sa=(t,o)=>t.dom===o.dom,lc=(t,o)=>{const n=t.dom,a=o.dom;return n!==a&&n.contains(a)},ag=t=>je(t.dom.ownerDocument),Si=t=>Or(t)?t:ag(t),Gc=t=>je(Si(t).dom.defaultView),Gi=t=>V.from(t.dom.parentNode).map(je),Il=t=>V.from(t.dom.parentElement).map(je),Yl=(t,o)=>{const n=de(o)?o:uo;let a=t.dom;const i=[];for(;a.parentNode!==null&&a.parentNode!==void 0;){const c=a.parentNode,d=je(c);if(i.push(d),n(d)===!0)break;a=c}return i},Ki=t=>V.from(t.dom.previousSibling).map(je),ie=t=>V.from(t.dom.nextSibling).map(je),ve=t=>Ge(pd(t,Ki)),yt=t=>pd(t,ie),Lt=t=>to(t.dom.childNodes,je),yn=(t,o)=>{const n=t.dom.childNodes;return V.from(n[o]).map(je)},ur=t=>yn(t,0),Ra=t=>yn(t,t.dom.childNodes.length-1),ei=t=>t.dom.childNodes.length,ia=t=>Sa(t)&&Ze(t.dom.host),pa=de(Element.prototype.attachShadow)&&de(Node.prototype.getRootNode),Ps=Ct(pa),ta=pa?t=>je(t.dom.getRootNode()):Si,cc=t=>ia(t)?t:(o=>{const n=o.dom.head;if(n==null)throw new Error("Head is not available yet");return je(n)})(Si(t)),Xl=t=>je(t.dom.host),Ei=t=>{if(Ps()&&Ze(t.target)){const o=je(t.target);if(kn(o)&&xc(o)&&t.composed&&t.composedPath){const n=t.composedPath();if(n)return Zo(n)}}return V.from(t.target)},xc=t=>Ze(t.dom.shadowRoot),Es=t=>{const o=_r(t)?t.dom.parentNode:t.dom;if(o==null||o.ownerDocument===null)return!1;const n=o.ownerDocument;return(a=>{const i=ta(a);return ia(i)?V.some(i):V.none()})(je(o)).fold(()=>n.body.contains(o),Bo(Es,Xl))};var Ba=(t,o,n,a,i)=>t(n,a)?V.some(n):de(i)&&i(n)?V.none():o(n,a,i);const Fa=(t,o,n)=>{let a=t.dom;const i=de(n)?n:uo;for(;a.parentNode;){a=a.parentNode;const c=je(a);if(o(c))return V.some(c);if(i(c))break}return V.none()},ts=(t,o,n)=>Ba((a,i)=>i(a),Fa,t,o,n),Kc=(t,o)=>{const n=a=>{for(let i=0;i<a.childNodes.length;i++){const c=je(a.childNodes[i]);if(o(c))return V.some(c);const d=n(a.childNodes[i]);if(d.isSome())return d}return V.none()};return n(t.dom)},Ua=(t,o,n)=>Fa(t,a=>Ci(a,o),n),fd=(t,o)=>((n,a)=>{const i=a===void 0?document:a.dom;return bp(i)?V.none():V.from(i.querySelector(n)).map(je)})(o,t),Yc=(t,o,n)=>Ba((a,i)=>Ci(a,i),Ua,t,o,n),nl=(t,o=!1)=>{return Es(t)?t.dom.isContentEditable:(n=t,Yc(n,"[contenteditable]")).fold(Ct(o),a=>Fr(a)==="true");var n},Fr=t=>t.dom.contentEditable,ti=t=>t.style!==void 0&&de(t.style.getPropertyValue),Zd=(t,o,n)=>{if(!Ue(n))throw console.error("Invalid call to CSS.set. Property ",o,":: Value ",n,":: Element ",t),new Error("CSS value must be a string: "+n);ti(t)&&t.style.setProperty(o,n)},hd=(t,o,n)=>{const a=t.dom;Zd(a,o,n)},qd=(t,o)=>{const n=t.dom;Ft(o,(a,i)=>{Zd(n,i,a)})},Yi=(t,o)=>{const n=t.dom,a=window.getComputedStyle(n).getPropertyValue(o);return a!==""||Es(t)?a:Mc(n,o)},Mc=(t,o)=>ti(t)?t.style.getPropertyValue(o):"",om=(t,o)=>{const n=t.dom,a=Mc(n,o);return V.from(a).filter(i=>i.length>0)},_u=t=>{const o={},n=t.dom;if(ti(n))for(let a=0;a<n.style.length;a++){const i=n.style.item(a);o[i]=n.style[i]}return o},Wd=(t,o)=>{((n,a)=>{ti(n)&&n.style.removeProperty(a)})(t.dom,o),aa(wo(t,"style").map(wt),"")&&U(t,"style")},rl=(t,o)=>{Gi(t).each(n=>{n.dom.insertBefore(o.dom,t.dom)})},Da=(t,o)=>{ie(t).fold(()=>{Gi(t).each(n=>{os(n,o)})},n=>{rl(n,o)})},Jl=(t,o)=>{ur(t).fold(()=>{os(t,o)},n=>{t.dom.insertBefore(o.dom,n.dom)})},os=(t,o)=>{t.dom.appendChild(o.dom)},Dc=(t,o)=>{rl(t,o),os(o,t)},dc=(t,o)=>{Se(o,n=>{os(t,n)})},bd=t=>{t.dom.textContent="",Se(Lt(t),o=>{Ea(o)})},Ea=t=>{const o=t.dom;o.parentNode!==null&&o.parentNode.removeChild(o)},_l=t=>{const o=Lt(t);var n,a;o.length>0&&(n=t,Se(a=o,(i,c)=>{const d=c===0?n:a[c-1];Da(d,i)})),Ea(t)},Xc=t=>to(t,je),yd=t=>t.dom.innerHTML,wc=(t,o)=>{const n=ag(t).dom,a=je(n.createDocumentFragment()),i=((c,d)=>{const u=(d||document).createElement("div");return u.innerHTML=c,Lt(je(u))})(o,n);dc(a,i),bd(t),os(t,a)},Jc=(t,o,n,a)=>((i,c,d,u,f)=>{const y=((v,k)=>E=>{v(E)&&k((B=>{const O=je(Ei(B).getOr(B.target)),P=()=>B.stopPropagation(),M=()=>B.preventDefault(),j=gn(M,P);return((q,K,re,ee,ke,et,st)=>({target:q,x:K,y:re,stop:ee,prevent:ke,kill:et,raw:st}))(O,B.clientX,B.clientY,P,M,j,B)})(E))})(d,u);return i.dom.addEventListener(c,y,!1),{unbind:Je(Gd,i,c,y,!1)}})(t,o,n,a),Gd=(t,o,n,a)=>{t.dom.removeEventListener(o,n,a)},vd=(t,o)=>({left:t,top:o,translate:(n,a)=>vd(t+n,o+a)}),pi=vd,Cn=(t,o)=>t!==void 0?t:o!==void 0?o:0,Ql=t=>{const o=t.dom,n=o.ownerDocument.body;return n===o?pi(n.offsetLeft,n.offsetTop):Es(t)?(a=>{const i=a.getBoundingClientRect();return pi(i.left,i.top)})(o):pi(0,0)},ec=t=>{const o=t!==void 0?t.dom:document,n=o.body.scrollLeft||o.documentElement.scrollLeft,a=o.body.scrollTop||o.documentElement.scrollTop;return pi(n,a)},yp=(t,o,n)=>{const a=(n!==void 0?n.dom:document).defaultView;a&&a.scrollTo(t,o)},Kd=(t,o)=>{Aa().browser.isSafari()&&de(t.dom.scrollIntoViewIfNeeded)?t.dom.scrollIntoViewIfNeeded(!1):t.dom.scrollIntoView(o)},Cl=(t,o,n,a)=>({x:t,y:o,width:n,height:a,right:t+n,bottom:o+a}),nm=t=>{const o=t===void 0?window:t,n=o.document,a=ec(je(n));return(i=>{const c=i===void 0?window:i;return Aa().browser.isFirefox()?V.none():V.from(c.visualViewport)})(o).fold(()=>{const i=o.document.documentElement,c=i.clientWidth,d=i.clientHeight;return Cl(a.left,a.top,c,d)},i=>Cl(Math.max(i.pageLeft,a.left),Math.max(i.pageTop,a.top),i.width,i.height))},rm=(t,o)=>{let n=[];return Se(Lt(t),a=>{o(a)&&(n=n.concat([a])),n=n.concat(rm(a,o))}),n},wa=(t,o)=>((n,a)=>{const i=a===void 0?document:a.dom;return bp(i)?[]:to(i.querySelectorAll(n),je)})(o,t),Qc=(t,o,n)=>Ua(t,o,n).isSome();class Ns{constructor(o,n){this.node=o,this.rootNode=n,this.current=this.current.bind(this),this.next=this.next.bind(this),this.prev=this.prev.bind(this),this.prev2=this.prev2.bind(this)}current(){return this.node}next(o){return this.node=this.findSibling(this.node,"firstChild","nextSibling",o),this.node}prev(o){return this.node=this.findSibling(this.node,"lastChild","previousSibling",o),this.node}prev2(o){return this.node=this.findPreviousNode(this.node,o),this.node}findSibling(o,n,a,i){if(o){if(!i&&o[n])return o[n];if(o!==this.rootNode){let c=o[a];if(c)return c;for(let d=o.parentNode;d&&d!==this.rootNode;d=d.parentNode)if(c=d[a],c)return c}}}findPreviousNode(o,n){if(o){const a=o.previousSibling;if(this.rootNode&&a===this.rootNode)return;if(a){if(!n){for(let c=a.lastChild;c;c=c.lastChild)if(!c.lastChild)return c}return a}const i=o.parentNode;if(i&&i!==this.rootNode)return i}}}const kc=t=>o=>!!o&&o.nodeType===t,Rm=t=>!!t&&!Object.getPrototypeOf(t),an=kc(1),Ti=t=>an(t)&&bn(je(t)),Cu=t=>{const o=t.toLowerCase();return n=>Ze(n)&&n.nodeName.toLowerCase()===o},ka=t=>{const o=t.map(n=>n.toLowerCase());return n=>{if(n&&n.nodeName){const a=n.nodeName.toLowerCase();return lo(o,a)}return!1}},Sl=(t,o)=>{const n=o.toLowerCase().split(" ");return a=>{if(an(a)){const i=a.ownerDocument.defaultView;if(i)for(let c=0;c<n.length;c++){const d=i.getComputedStyle(a,null);if((d?d.getPropertyValue(t):null)===n[c])return!0}}return!1}},fi=t=>o=>an(o)&&o.hasAttribute(t),El=t=>an(t)&&t.hasAttribute("data-mce-bogus"),Ms=t=>an(t)&&t.tagName==="TABLE",Su=t=>o=>!!(Ti(o)&&(o.contentEditable===t||o.getAttribute("data-mce-contenteditable")===t)),oi=ka(["textarea","input"]),ro=kc(3),Eu=kc(4),Yt=kc(7),ni=kc(8),xd=kc(9),us=kc(11),da=Cu("br"),ml=Cu("img"),zi=Su("true"),Oa=Su("false"),al=ka(["td","th"]),la=ka(["td","th","caption"]),$i=ka(["video","audio","object","embed"]),Yd=Cu("li"),Hs=Cu("details"),sg=Cu("summary"),Tl="\uFEFF",ns=" ",gl=t=>t===Tl,ft=((t,o)=>{const n=a=>t(a)?V.from(a.dom.nodeValue):V.none();return{get:a=>{if(!t(a))throw new Error("Can only get text value of a text node");return n(a).getOr("")},getOption:n,set:(a,i)=>{if(!t(a))throw new Error("Can only set raw text value of a text node");a.dom.nodeValue=i}}})(_r),Ai=t=>ft.get(t),wd=t=>ft.getOption(t),zl=t=>{let o;return n=>(o=o||Vt(t,Bt),ln(o,Pe(n)))},pl=t=>kn(t)&&Pe(t)==="br",ri=zl(["h1","h2","h3","h4","h5","h6","p","div","address","pre","form","blockquote","center","dir","fieldset","header","footer","article","section","hgroup","aside","nav","figure"]),hs=zl(["ul","ol","dl"]),uc=zl(["li","dd","dt"]),Bm=zl(["thead","tbody","tfoot"]),Sn=zl(["td","th"]),Ui=zl(["pre","script","textarea","style"]),Xi=()=>{const t=_s("br");return Q(t,"data-mce-bogus","1"),t},Oi=t=>{bd(t),os(t,Xi())},Za=Tl,_c=gl,qs=t=>t.replace(/\uFEFF/g,""),Tu=an,kd=ro,Pl=t=>(kd(t)&&(t=t.parentNode),Tu(t)&&t.hasAttribute("data-mce-caret")),bs=t=>kd(t)&&_c(t.data),Ws=t=>Pl(t)||bs(t),ed=t=>t.firstChild!==t.lastChild||!da(t.firstChild),Hl=t=>{const o=t.container();return!!ro(o)&&(o.data.charAt(t.offset())===Za||t.isAtStart()&&bs(o.previousSibling))},_d=t=>{const o=t.container();return!!ro(o)&&(o.data.charAt(t.offset()-1)===Za||t.isAtEnd()&&bs(o.nextSibling))},ai=t=>kd(t)&&t.data[0]===Za,z=t=>kd(t)&&t.data[t.data.length-1]===Za,H=t=>t&&t.hasAttribute("data-mce-caret")?((o=>{var n;const a=o.getElementsByTagName("br"),i=a[a.length-1];El(i)&&((n=i.parentNode)===null||n===void 0||n.removeChild(i))})(t),t.removeAttribute("data-mce-caret"),t.removeAttribute("data-mce-bogus"),t.removeAttribute("style"),t.removeAttribute("data-mce-style"),t.removeAttribute("_moz_abspos"),t):null,J=t=>Pl(t.startContainer),Te=zi,He=Oa,_o=da,fn=ro,ir=ka(["script","style","textarea"]),Hn=ka(["img","input","textarea","hr","iframe","video","audio","object","embed"]),Tn=ka(["table"]),fa=Ws,Ka=t=>!fa(t)&&(fn(t)?!ir(t.parentNode):Hn(t)||_o(t)||Tn(t)||Ni(t)),Ni=t=>!(o=>an(o)&&o.getAttribute("unselectable")==="true")(t)&&He(t),td=(t,o)=>Ka(t)&&((n,a)=>{for(let i=n.parentNode;i&&i!==a;i=i.parentNode){if(Ni(i))return!1;if(Te(i))return!0}return!0})(t,o),Bf=/^[ \t\r\n]*$/,ss=t=>Bf.test(t),xv=t=>{for(const o of t)if(!gl(o))return!1;return!0},Xd=t=>t===`
`||t==="\r",vp=(t,o=4,n=!0,a=!0)=>{const i=((u,f)=>f<=0?"":new Array(f+1).join(" "))(0,o),c=t.replace(/\t/g,i);return Oe(c,(u,f)=>(y=>" \f	\v".indexOf(y)!==-1)(f)||f===ns?u.pcIsSpace||u.str===""&&n||u.str.length===c.length-1&&a||((y,v)=>v<y.length&&v>=0&&Xd(y[v]))(c,u.str.length+1)?{pcIsSpace:!1,str:u.str+ns}:{pcIsSpace:!0,str:u.str+" "}:{pcIsSpace:Xd(f),str:u.str+f},{pcIsSpace:!1,str:""}).str},am=(t,o)=>Ka(t)&&!((n,a)=>ro(n)&&ss(n.data)&&!((i,c)=>{const d=je(c),u=je(i);return Qc(u,"pre,code",Je(sa,d))})(n,a))(t,o)||(n=>an(n)&&n.nodeName==="A"&&!n.hasAttribute("href")&&(n.hasAttribute("name")||n.hasAttribute("id")))(t)||Cd(t),Cd=fi("data-mce-bookmark"),fl=fi("data-mce-bogus"),Jd=t=>an(t)&&t.getAttribute("data-mce-bogus")==="all",Fm=t=>Il(je(t)).exists(o=>!nl(o)),ys=(t,o=!0)=>((n,a)=>{let i=0;if(am(n,n))return!1;{let c=n.firstChild;if(!c)return!0;const d=new Ns(c,n);do{if(a){if(Jd(c)){c=d.next(!0);continue}if(fl(c)){c=d.next();continue}}if(zi(c)&&Fm(c))return!1;if(da(c))i++,c=d.next();else{if(am(c,n))return!1;c=d.next()}}while(c);return i<=1}})(t.dom,o),Sd=t=>t.toLowerCase()==="svg",ig=t=>Sd(t.nodeName),Lm=t=>t?.nodeName==="svg"?"svg":"html",Ff=["svg"],Im="data-mce-block",zu=t=>to((o=>gt(ut(o),n=>!/[A-Z]/.test(n)))(t),o=>`${o}:`+to(Ff,n=>`not(${n} ${o})`).join(":")).join(","),Au=(t,o)=>Ze(o.querySelector(t))?(o.setAttribute(Im,"true"),o.getAttribute("data-mce-selected")==="inline-boundary"&&o.removeAttribute("data-mce-selected"),!0):(o.removeAttribute(Im),!1),Rc=(t,o)=>{const n=zu(t.getTransparentElements()),a=zu(t.getBlockElements());return gt(o.querySelectorAll(n),i=>Au(a,i))},sm=(t,o)=>{var n;const a=o?"lastChild":"firstChild";for(let i=t[a];i;i=i[a])if(ys(je(i)))return void((n=i.parentNode)===null||n===void 0||n.removeChild(i))},Ou=(t,o,n)=>{const a=t.getBlockElements(),i=je(o),c=u=>Pe(u)in a,d=u=>sa(u,i);Se(Xc(n),u=>{Fa(u,c,d).each(f=>{const y=((v,k)=>gt(Lt(v),E=>c(E)&&!t.isValidChild(Pe(f),Pe(E))))(u);if(y.length>0){const v=Il(f);Se(y,k=>{Fa(k,c,d).each(E=>{((B,O)=>{const P=document.createRange(),M=B.parentNode;if(M){P.setStartBefore(B),P.setEndBefore(O);const j=P.extractContents();sm(j,!0),P.setStartAfter(O),P.setEndAfter(B);const q=P.extractContents();sm(q,!1),ys(je(j))||M.insertBefore(j,B),ys(je(O))||M.insertBefore(O,B),ys(je(q))||M.insertBefore(q,B),M.removeChild(B)}})(E.dom,k.dom)})}),v.each(k=>Rc(t,k.dom))}})})},xp=(t,o)=>{const n=Rc(t,o);Ou(t,o,n),((a,i,c)=>{Se([...c,...Ed(a,i)?[i]:[]],d=>Se(wa(je(d),d.nodeName.toLowerCase()),u=>{dg(a,u.dom)&&_l(u)}))})(t,o,n)},lg=(t,o)=>{if(im(t,o)){const n=zu(t.getBlockElements());Au(n,o)}},cg=t=>t.hasAttribute(Im),wp=(t,o)=>ln(t.getTransparentElements(),o),im=(t,o)=>an(o)&&wp(t,o.nodeName),Ed=(t,o)=>im(t,o)&&cg(o),dg=(t,o)=>im(t,o)&&!cg(o),Pm=(t,o)=>o.type===1&&wp(t,o.name)&&Ue(o.attr(Im)),$r=Aa().browser,_n=t=>Fe(t,kn),Qd=(t,o)=>t.children&&lo(t.children,o),kp=(t,o={})=>{let n=0;const a={},i=je(t),c=Si(i),d=k=>{os(cc(i),k)},u=k=>{const E=cc(i);fd(E,"#"+k).each(Ea)},f=k=>Fn(a,k).getOrThunk(()=>({id:"mce-u"+n++,passed:[],failed:[],count:0})),y=k=>new Promise((E,B)=>{let O;const P=go._addCacheSuffix(k),M=f(P);a[P]=M,M.count++;const j=(ee,ke)=>{Se(ee,Rt),M.status=ke,M.passed=[],M.failed=[],O&&(O.onload=null,O.onerror=null,O=null)},q=()=>j(M.passed,2),K=()=>j(M.failed,3);if(E&&M.passed.push(E),B&&M.failed.push(B),M.status===1)return;if(M.status===2)return void q();if(M.status===3)return void K();M.status=1;const re=_s("link",c.dom);Ee(re,{rel:"stylesheet",type:"text/css",id:M.id}),o.contentCssCors&&Q(re,"crossOrigin","anonymous"),o.referrerPolicy&&Q(re,"referrerpolicy",o.referrerPolicy),O=re.dom,O.onload=q,O.onerror=K,d(re),Q(re,"href",P)}),v=k=>{const E=go._addCacheSuffix(k);Fn(a,E).each(B=>{--B.count==0&&(delete a[E],u(B.id))})};return{load:y,loadRawCss:(k,E)=>{const B=f(k);a[k]=B,B.count++;const O=_s("style",c.dom);Ee(O,{rel:"stylesheet",type:"text/css",id:B.id}),O.dom.innerHTML=E,d(O)},loadAll:k=>Promise.allSettled(to(k,E=>y(E).then(Ct(E)))).then(E=>{const B=ct(E,O=>O.status==="fulfilled");return B.fail.length>0?Promise.reject(to(B.fail,O=>O.reason)):to(B.pass,O=>O.value)}),unload:v,unloadRawCss:k=>{Fn(a,k).each(E=>{--E.count==0&&(delete a[k],u(E.id))})},unloadAll:k=>{Se(k,E=>{v(E)})},_setReferrerPolicy:k=>{o.referrerPolicy=k},_setContentCssCors:k=>{o.contentCssCors=k}}},Hm=(()=>{const t=new WeakMap;return{forElement:(o,n)=>{const a=ta(o).dom;return V.from(t.get(a)).getOrThunk(()=>{const i=kp(a,n);return t.set(a,i),i})}}})(),Bc=(t,o,n)=>Ze(t)&&(am(t,o)||n.isInline(t.nodeName.toLowerCase())),qa=t=>(o=>o.nodeName.toLowerCase()==="span")(t)&&t.getAttribute("data-mce-type")==="bookmark",Nu=(t,o,n,a)=>{var i;const c=a||o;if(an(o)&&qa(o))return o;const d=o.childNodes;for(let u=d.length-1;u>=0;u--)Nu(t,d[u],n,c);if(an(o)){const u=o.childNodes;u.length===1&&qa(u[0])&&((i=o.parentNode)===null||i===void 0||i.insertBefore(u[0],o))}return(u=>us(u)||xd(u))(o)||am(o,c)||(u=>!!an(u)&&u.childNodes.length>0)(o)||((u,f,y)=>ro(u)&&u.data.length>0&&((v,k,E)=>{const B=new Ns(v,k).prev(!1),O=new Ns(v,k).next(!1),P=fo(B)||Bc(B,k,E),M=fo(O)||Bc(O,k,E);return P&&M})(u,f,y))(o,c,n)||t.remove(o),o},_p=go.makeMap,Kt=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,lm=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,ug=/[<>&\"\']/g,jm=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,Lf={128:"€",130:"‚",131:"ƒ",132:"„",133:"…",134:"†",135:"‡",136:"ˆ",137:"‰",138:"Š",139:"‹",140:"Œ",142:"Ž",145:"‘",146:"’",147:"“",148:"”",149:"•",150:"–",151:"—",152:"˜",153:"™",154:"š",155:"›",156:"œ",158:"ž",159:"Ÿ"},jl={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"},sb={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"},Mu=(t,o)=>{const n={};if(t){const a=t.split(",");o=o||10;for(let i=0;i<a.length;i+=2){const c=String.fromCharCode(parseInt(a[i],o));if(!jl[c]){const d="&"+a[i+1]+";";n[c]=d,n[d]=c}}return n}},La=Mu("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32),od=(t,o)=>t.replace(o?Kt:lm,n=>jl[n]||n),If=(t,o)=>t.replace(o?Kt:lm,n=>n.length>1?"&#"+(1024*(n.charCodeAt(0)-55296)+(n.charCodeAt(1)-56320)+65536)+";":jl[n]||"&#"+n.charCodeAt(0)+";"),Cc=(t,o,n)=>{const a=n||La;return t.replace(o?Kt:lm,i=>jl[i]||a[i]||i)},Sc={encodeRaw:od,encodeAllRaw:t=>(""+t).replace(ug,o=>jl[o]||o),encodeNumeric:If,encodeNamed:Cc,getEncodeFunc:(t,o)=>{const n=Mu(o)||La,a=_p(t.replace(/\+/g,","));return a.named&&a.numeric?(i,c)=>i.replace(c?Kt:lm,d=>jl[d]!==void 0?jl[d]:n[d]!==void 0?n[d]:d.length>1?"&#"+(1024*(d.charCodeAt(0)-55296)+(d.charCodeAt(1)-56320)+65536)+";":"&#"+d.charCodeAt(0)+";"):a.named?o?(i,c)=>Cc(i,c,n):Cc:a.numeric?If:od},decode:t=>t.replace(jm,(o,n)=>n?(n=n.charAt(0).toLowerCase()==="x"?parseInt(n.substr(1),16):parseInt(n,10))>65535?(n-=65536,String.fromCharCode(55296+(n>>10),56320+(1023&n))):Lf[n]||String.fromCharCode(n):sb[o]||La[o]||(a=>{const i=_s("div").dom;return i.innerHTML=a,i.textContent||i.innerText||a})(o))},Ds=(t,o)=>(t=go.trim(t))?t.split(o||" "):[],Vm=t=>new RegExp("^"+t.replace(/([?+*])/g,".$1")+"$"),Fc={},eu=go.makeMap,Al=go.each,$m=go.extend,mg=go.explode,un=(t,o={})=>{const n=eu(t," ",eu(t.toUpperCase()," "));return $m(n,o)},gg=t=>un("td th li dt dd figcaption caption details summary",t.getTextBlockElements()),Cp=(t,o)=>{if(t){const n={};return Ue(t)&&(t={"*":t}),Al(t,(a,i)=>{n[i]=n[i.toUpperCase()]=o==="map"?eu(a,/[, ]/):mg(a,/[, ]/)}),n}},Du=(t={})=>{var o;const n={},a={};let i=[];const c={},d={},u=(En,Ur,Zr)=>{const Cr=t[En];if(Cr)return eu(Cr,/[, ]/,eu(Cr.toUpperCase(),/[, ]/));{let Kr=Fc[En];return Kr||(Kr=un(Ur,Zr),Fc[En]=Kr),Kr}},f=(o=t.schema)!==null&&o!==void 0?o:"html5",y=(En=>{const{globalAttributes:Ur,phrasingContent:Zr,flowContent:Cr}=(Fs=>{let dl,Dl,yc;dl="id accesskey class dir lang style tabindex title role",Dl="address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul",yc="a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment",Fs!=="html4"&&(dl+=" contenteditable contextmenu draggable dropzone hidden spellcheck translate",Dl+=" article aside details dialog figure main header footer hgroup section nav a ins del canvas map",yc+=" audio canvas command datalist mark meter output picture progress time wbr video ruby bdi keygen svg"),Fs!=="html5-strict"&&(dl+=" xml:lang",yc=[yc,"acronym applet basefont big font strike tt"].join(" "),Dl=[Dl,"center dir isindex noframes"].join(" "));const md=[Dl,yc].join(" ");return{globalAttributes:dl,blockContent:Dl,phrasingContent:yc,flowContent:md}})(En),Kr={},cl=(Fs,dl,Dl)=>{Kr[Fs]={attributes:Vt(dl,Ct({})),attributesOrder:dl,children:Vt(Dl,Ct({}))}},Vn=(Fs,dl="",Dl="")=>{const yc=Ds(Dl),md=Ds(Fs);let Rl=md.length;const gd=Ds([Ur,dl].join(" "));for(;Rl--;)cl(md[Rl],gd.slice(),yc)},qr=(Fs,dl)=>{const Dl=Ds(Fs),yc=Ds(dl);let md=Dl.length;for(;md--;){const Rl=Kr[Dl[md]];for(let gd=0,ul=yc.length;gd<ul;gd++)Rl.attributes[yc[gd]]={},Rl.attributesOrder.push(yc[gd])}};return En!=="html5-strict"&&(Se(Ds("acronym applet basefont big font strike tt"),Fs=>{Vn(Fs,"",Zr)}),Se(Ds("center dir isindex noframes"),Fs=>{Vn(Fs,"",Cr)})),Vn("html","manifest","head body"),Vn("head","","base command link meta noscript script style title"),Vn("title hr noscript br"),Vn("base","href target"),Vn("link","href rel media hreflang type sizes hreflang"),Vn("meta","name http-equiv content charset"),Vn("style","media type scoped"),Vn("script","src async defer type charset"),Vn("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",Cr),Vn("dd div","",Cr),Vn("address dt caption","",En==="html4"?Zr:Cr),Vn("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",Zr),Vn("blockquote","cite",Cr),Vn("ol","reversed start type","li"),Vn("ul","","li"),Vn("li","value",Cr),Vn("dl","","dt dd"),Vn("a","href target rel media hreflang type",En==="html4"?Zr:Cr),Vn("q","cite",Zr),Vn("ins del","cite datetime",Cr),Vn("img","src sizes srcset alt usemap ismap width height"),Vn("iframe","src name width height",Cr),Vn("embed","src type width height"),Vn("object","data type typemustmatch name usemap form width height",[Cr,"param"].join(" ")),Vn("param","name value"),Vn("map","name",[Cr,"area"].join(" ")),Vn("area","alt coords shape href target rel media hreflang type"),Vn("table","border","caption colgroup thead tfoot tbody tr"+(En==="html4"?" col":"")),Vn("colgroup","span","col"),Vn("col","span"),Vn("tbody thead tfoot","","tr"),Vn("tr","","td th"),Vn("td","colspan rowspan headers",Cr),Vn("th","colspan rowspan headers scope abbr",Cr),Vn("form","accept-charset action autocomplete enctype method name novalidate target",Cr),Vn("fieldset","disabled form name",[Cr,"legend"].join(" ")),Vn("label","form for",Zr),Vn("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),Vn("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value",En==="html4"?Cr:Zr),Vn("select","disabled form multiple name required size","option optgroup"),Vn("optgroup","disabled label","option"),Vn("option","disabled label selected value"),Vn("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),Vn("menu","type label",[Cr,"li"].join(" ")),Vn("noscript","",Cr),En!=="html4"&&(Vn("wbr"),Vn("ruby","",[Zr,"rt rp"].join(" ")),Vn("figcaption","",Cr),Vn("mark rt rp bdi","",Zr),Vn("summary","",[Zr,"h1 h2 h3 h4 h5 h6"].join(" ")),Vn("canvas","width height",Cr),Vn("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",[Cr,"track source"].join(" ")),Vn("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",[Cr,"track source"].join(" ")),Vn("picture","","img source"),Vn("source","src srcset type media sizes"),Vn("track","kind src srclang label default"),Vn("datalist","",[Zr,"option"].join(" ")),Vn("article section nav aside main header footer","",Cr),Vn("hgroup","","h1 h2 h3 h4 h5 h6"),Vn("figure","",[Cr,"figcaption"].join(" ")),Vn("time","datetime",Zr),Vn("dialog","open",Cr),Vn("command","type label icon disabled checked radiogroup command"),Vn("output","for form name",Zr),Vn("progress","value max",Zr),Vn("meter","value min max low high optimum",Zr),Vn("details","open",[Cr,"summary"].join(" ")),Vn("keygen","autofocus challenge disabled form keytype name"),cl("svg","id tabindex lang xml:space class style x y width height viewBox preserveAspectRatio zoomAndPan transform".split(" "),[])),En!=="html5-strict"&&(qr("script","language xml:space"),qr("style","xml:space"),qr("object","declare classid code codebase codetype archive standby align border hspace vspace"),qr("embed","align name hspace vspace"),qr("param","valuetype type"),qr("a","charset name rev shape coords"),qr("br","clear"),qr("applet","codebase archive code object alt name width height align hspace vspace"),qr("img","name longdesc align border hspace vspace"),qr("iframe","longdesc frameborder marginwidth marginheight scrolling align"),qr("font basefont","size color face"),qr("input","usemap align"),qr("select"),qr("textarea"),qr("h1 h2 h3 h4 h5 h6 div p legend caption","align"),qr("ul","type compact"),qr("li","type"),qr("ol dl menu dir","compact"),qr("pre","width xml:space"),qr("hr","align noshade size width"),qr("isindex","prompt"),qr("table","summary width frame rules cellspacing cellpadding align bgcolor"),qr("col","width align char charoff valign"),qr("colgroup","width align char charoff valign"),qr("thead","align char charoff valign"),qr("tr","align char charoff valign bgcolor"),qr("th","axis align char charoff valign nowrap bgcolor width height"),qr("form","accept"),qr("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),qr("tfoot","align char charoff valign"),qr("tbody","align char charoff valign"),qr("area","nohref"),qr("body","background bgcolor text link vlink alink")),En!=="html4"&&(qr("input button select textarea","autofocus"),qr("input textarea","placeholder"),qr("a","download"),qr("link script img","crossorigin"),qr("img","loading"),qr("iframe","sandbox seamless allow allowfullscreen loading")),En!=="html4"&&Se([Kr.video,Kr.audio],Fs=>{delete Fs.children.audio,delete Fs.children.video}),Se(Ds("a form meter progress dfn"),Fs=>{Kr[Fs]&&delete Kr[Fs].children[Fs]}),delete Kr.caption.children.table,delete Kr.script,Kr})(f);t.verify_html===!1&&(t.valid_elements="*[*]");const v=Cp(t.valid_styles),k=Cp(t.invalid_styles,"map"),E=Cp(t.valid_classes,"map"),B=u("whitespace_elements","pre script noscript style textarea video audio iframe object code"),O=u("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),P=u("void_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),M=u("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls allowfullscreen"),j="td th iframe video audio object script code",q=u("non_empty_elements",j+" pre svg",P),K=u("move_caret_before_on_enter_elements",j+" table",P),re="h1 h2 h3 h4 h5 h6",ee=u("text_block_elements",re+" p div address pre form blockquote center dir fieldset header footer article section hgroup aside main nav figure"),ke=u("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption details summary html body multicol listing",ee),et=u("text_inline_elements","span strong b em i font s strike u var cite dfn code mark q sup sub samp"),st=u("transparent_elements","a ins del canvas map"),mt=u("wrap_block_elements","pre "+re);Al("script noscript iframe noframes noembed title style textarea xmp plaintext".split(" "),En=>{d[En]=new RegExp("</"+En+"[^>]*>","gi")});const kt=En=>{const Ur=V.from(n["@"]),Zr=/[*?+]/;Se(((Cr,Kr)=>{const cl=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)])?$/;return at(Ds(Kr,","),Vn=>{const qr=cl.exec(Vn);if(qr){const Fs=qr[1],dl=qr[2],Dl=qr[3],yc=qr[4],md=qr[5],Rl={attributes:{},attributesOrder:[]};if(Cr.each(gd=>((ul,ng)=>{Ft(ul.attributes,(wu,tm)=>{ng.attributes[tm]=wu}),ng.attributesOrder.push(...ul.attributesOrder)})(gd,Rl)),Fs==="#"?Rl.paddEmpty=!0:Fs==="-"&&(Rl.removeEmpty=!0),yc==="!"&&(Rl.removeEmptyAttrs=!0),md&&((gd,ul)=>{const ng=/^([!\-])?(\w+[\\:]:\w+|[^=~<]+)?(?:([=~<])(.*))?$/,wu=/[*?+]/,{attributes:tm,attributesOrder:Nf}=ul;Se(Ds(gd,"|"),Yh=>{const Xh=ng.exec(Yh);if(Xh){const qc={},jk=Xh[1],Ks=Xh[2].replace(/[\\:]:/g,":"),Dm=Xh[3],Mf=Xh[4];if(jk==="!"&&(ul.attributesRequired=ul.attributesRequired||[],ul.attributesRequired.push(Ks),qc.required=!0),jk==="-")return delete tm[Ks],void Nf.splice(go.inArray(Nf,Ks),1);if(Dm&&(Dm==="="?(ul.attributesDefault=ul.attributesDefault||[],ul.attributesDefault.push({name:Ks,value:Mf}),qc.defaultValue=Mf):Dm==="~"?(ul.attributesForced=ul.attributesForced||[],ul.attributesForced.push({name:Ks,value:Mf}),qc.forcedValue=Mf):Dm==="<"&&(qc.validValues=go.makeMap(Mf,"?"))),wu.test(Ks)){const Zy=qc;ul.attributePatterns=ul.attributePatterns||[],Zy.pattern=Vm(Ks),ul.attributePatterns.push(Zy)}else tm[Ks]||Nf.push(Ks),tm[Ks]=qc}})})(md,Rl),Dl&&(Rl.outputName=dl),dl==="@"){if(!Cr.isNone())return[];Cr=V.some(Rl)}return[Dl?{name:dl,element:Rl,aliasName:Dl}:{name:dl,element:Rl}]}return[]})})(Ur,En??""),({name:Cr,element:Kr,aliasName:cl})=>{if(cl&&(n[cl]=Kr),Zr.test(Cr)){const Vn=Kr;Vn.pattern=Vm(Cr),i.push(Vn)}else n[Cr]=Kr})},Ve=En=>{i=[],Se(ut(n),Ur=>{delete n[Ur]}),kt(En)},ot=En=>{delete Fc.text_block_elements,delete Fc.block_elements,Se((Ur=>{const Zr=/^(~)?(.+)$/;return at(Ds(Ur,","),Cr=>{const Kr=Zr.exec(Cr);if(Kr){const cl=Kr[1]==="~";return[{inline:cl,cloneName:cl?"span":"div",name:Kr[2]}]}return[]})})(En??""),({inline:Ur,name:Zr,cloneName:Cr})=>{if(a[Zr]=a[Cr],c[Zr]=Cr,q[Zr.toUpperCase()]={},q[Zr]={},Ur||(ke[Zr.toUpperCase()]={},ke[Zr]={}),!n[Zr]){let Kr=n[Cr];Kr=$m({},Kr),delete Kr.removeEmptyAttrs,delete Kr.removeEmpty,n[Zr]=Kr}Ft(a,(Kr,cl)=>{Kr[Cr]&&(a[cl]=Kr=$m({},a[cl]),Kr[Zr]=Kr[Cr])})})},pt=En=>{Se((Ur=>{const Zr=/^([+\-]?)([A-Za-z0-9_\-.\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u037f-\u1fff\u200c-\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]+)\[([^\]]+)]$/;return at(Ds(Ur,","),Cr=>{const Kr=Zr.exec(Cr);if(Kr){const cl=Kr[1];return[{operation:cl?(qr=>qr==="-"?"remove":"add")(cl):"replace",name:Kr[2],validChildren:Ds(Kr[3],"|")}]}return[]})})(En??""),({operation:Ur,name:Zr,validChildren:Cr})=>{const Kr=Ur==="replace"?{"#comment":{}}:a[Zr];Se(Cr,cl=>{Ur==="remove"?delete Kr[cl]:Kr[cl]={}}),a[Zr]=Kr})},Jt=En=>{const Ur=n[En];if(Ur)return Ur;let Zr=i.length;for(;Zr--;){const Cr=i[Zr];if(Cr.pattern.test(En))return Cr}};t.valid_elements?(Ve(t.valid_elements),Al(y,(En,Ur)=>{a[Ur]=En.children})):(Al(y,(En,Ur)=>{n[Ur]={attributes:En.attributes,attributesOrder:En.attributesOrder},a[Ur]=En.children}),Al(Ds("strong/b em/i"),En=>{const Ur=Ds(En,"/");n[Ur[1]].outputName=Ur[0]}),Al(et,(En,Ur)=>{n[Ur]&&(t.padd_empty_block_inline_children&&(n[Ur].paddInEmptyBlock=!0),n[Ur].removeEmpty=!0)}),Al(Ds("ol ul blockquote a table tbody"),En=>{n[En]&&(n[En].removeEmpty=!0)}),Al(Ds("p h1 h2 h3 h4 h5 h6 th td pre div address caption li summary"),En=>{n[En]&&(n[En].paddEmpty=!0)}),Al(Ds("span"),En=>{n[En].removeEmptyAttrs=!0})),delete n.svg,ot(t.custom_elements),pt(t.valid_children),kt(t.extended_valid_elements),pt("+ol[ul|ol],+ul[ul|ol]"),Al({dd:"dl",dt:"dl",li:"ul ol",td:"tr",th:"tr",tr:"tbody thead tfoot",tbody:"table",thead:"table",tfoot:"table",legend:"fieldset",area:"map",param:"video audio object"},(En,Ur)=>{n[Ur]&&(n[Ur].parentsRequired=Ds(En))}),t.invalid_elements&&Al(mg(t.invalid_elements),En=>{n[En]&&delete n[En]}),Jt("span")||kt("span[!data-mce-type|*]");const en=Ct(v),Fo=Ct(k),Nn=Ct(E),An=Ct(M),Jn=Ct(ke),jn=Ct(ee),cn=Ct(et),vn=Ct(Object.seal(P)),cr=Ct(O),Qe=Ct(q),nt=Ct(K),so=Ct(B),mo=Ct(st),yo=Ct(mt),xn=Ct(Object.seal(d)),Wn=(En,Ur)=>{const Zr=Jt(En);if(Zr){if(!Ur)return!0;{if(Zr.attributes[Ur])return!0;const Cr=Zr.attributePatterns;if(Cr){let Kr=Cr.length;for(;Kr--;)if(Cr[Kr].pattern.test(Ur))return!0}}}return!1},hr=En=>ln(Jn(),En),tr=En=>!gr(En,"#")&&Wn(En)&&!hr(En),Qa=Ct(c);return{type:f,children:a,elements:n,getValidStyles:en,getValidClasses:Nn,getBlockElements:Jn,getInvalidStyles:Fo,getVoidElements:vn,getTextBlockElements:jn,getTextInlineElements:cn,getBoolAttrs:An,getElementRule:Jt,getSelfClosingElements:cr,getNonEmptyElements:Qe,getMoveCaretBeforeOnEnterElements:nt,getWhitespaceElements:so,getTransparentElements:mo,getSpecialElements:xn,isValidChild:(En,Ur)=>{const Zr=a[En.toLowerCase()];return!(!Zr||!Zr[Ur.toLowerCase()])},isValid:Wn,isBlock:hr,isInline:tr,isWrapper:En=>ln(yo(),En)||tr(En),getCustomElements:Qa,addValidElements:kt,setValidElements:Ve,addCustomElements:ot,addValidChildren:pt}},Sp=t=>{const o=t.toString(16);return(o.length===1?"0"+o:o).toUpperCase()},C=t=>(o=>{return{value:(n=o,Is(n,"#").toUpperCase())};var n})(Sp(t.red)+Sp(t.green)+Sp(t.blue)),D=/^\s*rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)\s*$/i,G=/^\s*rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d?(?:\.\d+)?)\s*\)\s*$/i,ce=(t,o,n,a)=>({red:t,green:o,blue:n,alpha:a}),Ke=(t,o,n,a)=>{const i=parseInt(t,10),c=parseInt(o,10),d=parseInt(n,10),u=parseFloat(a);return ce(i,c,d,u)},Ut=t=>{if(t==="transparent")return V.some(ce(0,0,0,0));const o=D.exec(t);if(o!==null)return V.some(Ke(o[1],o[2],o[3],"1"));const n=G.exec(t);return n!==null?V.some(Ke(n[1],n[2],n[3],n[4])):V.none()},Ao=t=>`rgba(${t.red},${t.green},${t.blue},${t.alpha})`,qo=t=>Ut(t).map(C).map(o=>"#"+o.value).getOr(t),Xn=(t={},o)=>{const n=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,a=/\s*([^:]+):\s*([^;]+);?/g,i=/\s+$/,c={};let d,u;const f=Tl;o&&(d=o.getValidStyles(),u=o.getInvalidStyles());const y=`\\" \\' \\; \\: ; : \uFEFF`.split(" ");for(let k=0;k<y.length;k++)c[y[k]]=f+k,c[f+k]=y[k];const v={parse:k=>{const E={};let B=!1;const O=t.url_converter,P=t.url_converter_scope||v,M=(kt,Ve,ot)=>{const pt=E[kt+"-top"+Ve];if(!pt)return;const Jt=E[kt+"-right"+Ve];if(!Jt)return;const en=E[kt+"-bottom"+Ve];if(!en)return;const Fo=E[kt+"-left"+Ve];if(!Fo)return;const Nn=[pt,Jt,en,Fo];let An=Nn.length-1;for(;An--&&Nn[An]===Nn[An+1];);An>-1&&ot||(E[kt+Ve]=An===-1?Nn[0]:Nn.join(" "),delete E[kt+"-top"+Ve],delete E[kt+"-right"+Ve],delete E[kt+"-bottom"+Ve],delete E[kt+"-left"+Ve])},j=kt=>{const Ve=E[kt];if(!Ve)return;const ot=Ve.indexOf(",")>-1?[Ve]:Ve.split(" ");let pt=ot.length;for(;pt--;)if(ot[pt]!==ot[0])return!1;return E[kt]=ot[0],!0},q=kt=>(B=!0,c[kt]),K=(kt,Ve)=>(B&&(kt=kt.replace(/\uFEFF[0-9]/g,ot=>c[ot])),Ve||(kt=kt.replace(/\\([\'\";:])/g,"$1")),kt),re=kt=>String.fromCharCode(parseInt(kt.slice(1),16)),ee=kt=>kt.replace(/\\[0-9a-f]+/gi,re),ke=(kt,Ve,ot,pt,Jt,en)=>{if(Jt=Jt||en)return"'"+(Jt=K(Jt)).replace(/\'/g,"\\'")+"'";if(Ve=K(Ve||ot||pt||""),!t.allow_script_urls){const Fo=Ve.replace(/[\s\r\n]+/g,"");if(/(java|vb)script:/i.test(Fo)||!t.allow_svg_data_urls&&/^data:image\/svg/i.test(Fo))return""}return O&&(Ve=O.call(P,Ve,"style")),"url('"+Ve.replace(/\'/g,"\\'")+"')"};if(k){let kt;for(k=(k=k.replace(/[\u0000-\u001F]/g,"")).replace(/\\[\"\';:\uFEFF]/g,q).replace(/\"[^\"]+\"|\'[^\']+\'/g,Ve=>Ve.replace(/[;:]/g,q));kt=a.exec(k);){a.lastIndex=kt.index+kt[0].length;let Ve=kt[1].replace(i,"").toLowerCase(),ot=kt[2].replace(i,"");if(Ve&&ot){if(Ve=ee(Ve),ot=ee(ot),Ve.indexOf(f)!==-1||Ve.indexOf('"')!==-1||!t.allow_script_urls&&(Ve==="behavior"||/expression\s*\(|\/\*|\*\//.test(ot)))continue;Ve==="font-weight"&&ot==="700"?ot="bold":Ve!=="color"&&Ve!=="background-color"||(ot=ot.toLowerCase()),Ue(t.force_hex_color)&&t.force_hex_color!=="off"&&Ut(ot).each(pt=>{t.force_hex_color!=="always"&&pt.alpha!==1||(ot=qo(Ao(pt)))}),ot=ot.replace(n,ke),E[Ve]=B?K(ot,!0):ot}}M("border","",!0),M("border","-width"),M("border","-color"),M("border","-style"),M("padding",""),M("margin",""),st="border-style",mt="border-color",j(et="border-width")&&j(st)&&j(mt)&&(E.border=E[et]+" "+E[st]+" "+E[mt],delete E[et],delete E[st],delete E[mt]),E.border==="medium none"&&delete E.border,E["border-image"]==="none"&&delete E["border-image"]}var et,st,mt;return E},serialize:(k,E)=>{let B="";const O=(P,M)=>{const j=M[P];if(j)for(let q=0,K=j.length;q<K;q++){const re=j[q],ee=k[re];ee&&(B+=(B.length>0?" ":"")+re+": "+ee+";")}};return E&&d?(O("*",d),O(E,d)):Ft(k,(P,M)=>{P&&((j,q)=>{if(!u||!q)return!0;let K=u["*"];return!(K&&K[j]||(K=u[q],K&&K[j]))})(M,E)&&(B+=(B.length>0?" ":"")+M+": "+P+";")}),B}};return v},pr={keyLocation:!0,layerX:!0,layerY:!0,returnValue:!0,webkitMovementX:!0,webkitMovementY:!0,keyIdentifier:!0,mozPressure:!0},is=(t,o)=>{const n=o??{};for(const a in t)ln(pr,a)||(n[a]=t[a]);return Ze(t.composedPath)&&(n.composedPath=()=>t.composedPath()),Ze(t.getModifierState)&&(n.getModifierState=a=>t.getModifierState(a)),Ze(t.getTargetRanges)&&(n.getTargetRanges=()=>t.getTargetRanges()),n},Nr=(t,o,n,a)=>{var i;const c=is(o,a);return c.type=t,me(c.target)&&(c.target=(i=c.srcElement)!==null&&i!==void 0?i:n),(d=>me(d.preventDefault)||(u=>u instanceof Event||de(u.initEvent))(d))(o)&&(c.preventDefault=()=>{c.defaultPrevented=!0,c.isDefaultPrevented=Bt,de(o.preventDefault)&&o.preventDefault()},c.stopPropagation=()=>{c.cancelBubble=!0,c.isPropagationStopped=Bt,de(o.stopPropagation)&&o.stopPropagation()},c.stopImmediatePropagation=()=>{c.isImmediatePropagationStopped=Bt,c.stopPropagation()},(d=>d.isDefaultPrevented===Bt||d.isDefaultPrevented===uo)(c)||(c.isDefaultPrevented=c.defaultPrevented===!0?Bt:uo,c.isPropagationStopped=c.cancelBubble===!0?Bt:uo,c.isImmediatePropagationStopped=uo)),c},ha=/^(?:mouse|contextmenu)|click/,Ia=(t,o,n,a)=>{t.addEventListener(o,n,a||!1)},Mi=(t,o,n,a)=>{t.removeEventListener(o,n,a||!1)},hi=(t,o)=>{const n=Nr(t.type,t,document,o);if((a=>Ze(a)&&ha.test(a.type))(t)&&fo(t.pageX)&&!fo(t.clientX)){const a=n.target.ownerDocument||document,i=a.documentElement,c=a.body,d=n;d.pageX=t.clientX+(i&&i.scrollLeft||c&&c.scrollLeft||0)-(i&&i.clientLeft||c&&c.clientLeft||0),d.pageY=t.clientY+(i&&i.scrollTop||c&&c.scrollTop||0)-(i&&i.clientTop||c&&c.clientTop||0)}return n},Td=(t,o,n)=>{const a=t.document,i={type:"ready"};if(n.domLoaded)return void o(i);const c=()=>{Mi(t,"DOMContentLoaded",c),Mi(t,"load",c),n.domLoaded||(n.domLoaded=!0,o(i)),t=null};a.readyState==="complete"||a.readyState==="interactive"&&a.body?c():Ia(t,"DOMContentLoaded",c),n.domLoaded||Ia(t,"load",c)};class zd{constructor(){this.domLoaded=!1,this.events={},this.count=1,this.expando="mce-data-"+(+new Date).toString(32),this.hasFocusIn="onfocusin"in document.documentElement,this.count=1}bind(o,n,a,i){const c=this;let d;const u=window,f=E=>{c.executeHandlers(hi(E||u.event),y)};if(!o||ro(o)||ni(o))return a;let y;o[c.expando]?y=o[c.expando]:(y=c.count++,o[c.expando]=y,c.events[y]={}),i=i||o;const v=n.split(" ");let k=v.length;for(;k--;){let E=v[k],B=f,O=!1,P=!1;E==="DOMContentLoaded"&&(E="ready"),c.domLoaded&&E==="ready"&&o.readyState==="complete"?a.call(i,hi({type:E})):(c.hasFocusIn||E!=="focusin"&&E!=="focusout"||(O=!0,P=E==="focusin"?"focus":"blur",B=M=>{const j=hi(M||u.event);j.type=j.type==="focus"?"focusin":"focusout",c.executeHandlers(j,y)}),d=c.events[y][E],d?E==="ready"&&c.domLoaded?a(hi({type:E})):d.push({func:a,scope:i}):(c.events[y][E]=d=[{func:a,scope:i}],d.fakeName=P,d.capture=O,d.nativeHandler=B,E==="ready"?Td(o,B,c):Ia(o,P||E,B,O)))}return o=d=null,a}unbind(o,n,a){if(!o||ro(o)||ni(o))return this;const i=o[this.expando];if(i){let c=this.events[i];if(n){const d=n.split(" ");let u=d.length;for(;u--;){const f=d[u],y=c[f];if(y){if(a){let v=y.length;for(;v--;)if(y[v].func===a){const k=y.nativeHandler,E=y.fakeName,B=y.capture,O=y.slice(0,v).concat(y.slice(v+1));O.nativeHandler=k,O.fakeName=E,O.capture=B,c[f]=O}}a&&y.length!==0||(delete c[f],Mi(o,y.fakeName||f,y.nativeHandler,y.capture))}}}else Ft(c,(d,u)=>{Mi(o,d.fakeName||u,d.nativeHandler,d.capture)}),c={};for(const d in c)if(ln(c,d))return this;delete this.events[i];try{delete o[this.expando]}catch{o[this.expando]=null}}return this}fire(o,n,a){return this.dispatch(o,n,a)}dispatch(o,n,a){if(!o||ro(o)||ni(o))return this;const i=hi({type:n,target:o},a);do{const c=o[this.expando];c&&this.executeHandlers(i,c),o=o.parentNode||o.ownerDocument||o.defaultView||o.parentWindow}while(o&&!i.isPropagationStopped());return this}clean(o){if(!o||ro(o)||ni(o))return this;if(o[this.expando]&&this.unbind(o),o.getElementsByTagName||(o=o.document),o&&o.getElementsByTagName){this.unbind(o);const n=o.getElementsByTagName("*");let a=n.length;for(;a--;)(o=n[a])[this.expando]&&this.unbind(o)}return this}destroy(){this.events={}}cancel(o){return o&&(o.preventDefault(),o.stopImmediatePropagation()),!1}executeHandlers(o,n){const a=this.events[n],i=a&&a[o.type];if(i)for(let c=0,d=i.length;c<d;c++){const u=i[c];if(u&&u.func.call(u.scope,o)===!1&&o.preventDefault(),o.isImmediatePropagationStopped())return}}}zd.Event=new zd;const cm=go.each,Ru=go.grep,Bu="data-mce-style",Ad=go.makeMap("fill-opacity font-weight line-height opacity orphans widows z-index zoom"," "),Od=(t,o,n)=>{me(n)||n===""?U(t,o):Q(t,o,n)},pg=t=>t.replace(/[A-Z]/g,o=>"-"+o.toLowerCase()),Fu=(t,o)=>{let n=0;if(t)for(let a=t.nodeType,i=t.previousSibling;i;i=i.previousSibling){const c=i.nodeType;(!o||!ro(i)||c!==a&&i.data.length)&&(n++,a=c)}return n},nd=(t,o)=>{const n=bt(o,"style"),a=t.serialize(t.parse(n),Pe(o));Od(o,Bu,a)},oa=(t,o,n)=>{const a=pg(o);me(n)||n===""?Wd(t,a):hd(t,a,((i,c)=>rt(i)?ln(Ad,c)?i+"":i+"px":i)(n,a))},wr=(t,o={})=>{const n={},a=window,i={};let c=0;const d=Hm.forElement(je(t),{contentCssCors:o.contentCssCors,referrerPolicy:o.referrerPolicy}),u=[],f=o.schema?o.schema:Du({}),y=Xn({url_converter:o.url_converter,url_converter_scope:o.url_converter_scope,force_hex_color:o.force_hex_color},o.schema),v=o.ownEvents?new zd:zd.Event,k=f.getBlockElements(),E=Qe=>Qe&&t&&Ue(Qe)?t.getElementById(Qe):Qe,B=Qe=>{const nt=E(Qe);return Ze(nt)?je(nt):null},O=(Qe,nt,so="")=>{let mo;const yo=B(Qe);if(Ze(yo)&&kn(yo)){const xn=cr[nt];mo=xn&&xn.get?xn.get(yo.dom,nt):bt(yo,nt)}return Ze(mo)?mo:so},P=Qe=>{const nt=E(Qe);return me(nt)?[]:nt.attributes},M=(Qe,nt,so)=>{st(Qe,mo=>{if(an(mo)){const yo=je(mo),xn=so===""?null:so,Wn=bt(yo,nt),hr=cr[nt];hr&&hr.set?hr.set(yo.dom,xn,nt):Od(yo,nt,xn),Wn!==xn&&o.onSetAttrib&&o.onSetAttrib({attrElm:yo.dom,attrName:nt,attrValue:xn})}})},j=()=>o.root_element||t.body,q=(Qe,nt)=>((so,mo,yo)=>{let xn=0,Wn=0;const hr=so.ownerDocument;if(yo=yo||so,mo){if(yo===so&&mo.getBoundingClientRect&&Yi(je(so),"position")==="static"){const Qa=mo.getBoundingClientRect();return xn=Qa.left+(hr.documentElement.scrollLeft||so.scrollLeft)-hr.documentElement.clientLeft,Wn=Qa.top+(hr.documentElement.scrollTop||so.scrollTop)-hr.documentElement.clientTop,{x:xn,y:Wn}}let tr=mo;for(;tr&&tr!==yo&&tr.nodeType&&!Qd(tr,yo);){const Qa=tr;xn+=Qa.offsetLeft||0,Wn+=Qa.offsetTop||0,tr=Qa.offsetParent}for(tr=mo.parentNode;tr&&tr!==yo&&tr.nodeType&&!Qd(tr,yo);)xn-=tr.scrollLeft||0,Wn-=tr.scrollTop||0,tr=tr.parentNode;Wn+=(Qa=>$r.isFirefox()&&Pe(Qa)==="table"?_n(Lt(Qa)).filter(En=>Pe(En)==="caption").bind(En=>_n(yt(En)).map(Ur=>{const Zr=Ur.dom.offsetTop,Cr=En.dom.offsetTop,Kr=En.dom.offsetHeight;return Zr<=Cr?-Kr:0})).getOr(0):0)(je(mo))}return{x:xn,y:Wn}})(t.body,E(Qe),nt),K=(Qe,nt,so)=>{const mo=E(Qe);var yo;if(!me(mo)&&(Ti(mo)||an(yo=mo)&&yo.namespaceURI==="http://www.w3.org/2000/svg"))return so?Yi(je(mo),pg(nt)):((nt=nt.replace(/-(\D)/g,(xn,Wn)=>Wn.toUpperCase()))==="float"&&(nt="cssFloat"),mo.style?mo.style[nt]:void 0)},re=Qe=>{const nt=E(Qe);if(!nt)return{w:0,h:0};let so=K(nt,"width"),mo=K(nt,"height");return so&&so.indexOf("px")!==-1||(so="0"),mo&&mo.indexOf("px")!==-1||(mo="0"),{w:parseInt(so,10)||nt.offsetWidth||nt.clientWidth,h:parseInt(mo,10)||nt.offsetHeight||nt.clientHeight}},ee=(Qe,nt)=>{if(!Qe)return!1;const so=co(Qe)?Qe:[Qe];return zo(so,mo=>Ci(je(mo),nt))},ke=(Qe,nt,so,mo)=>{const yo=[];let xn=E(Qe);mo=mo===void 0;const Wn=so||(j().nodeName!=="BODY"?j().parentNode:null);if(Ue(nt))if(nt==="*")nt=an;else{const hr=nt;nt=tr=>ee(tr,hr)}for(;xn&&!(xn===Wn||me(xn.nodeType)||xd(xn)||us(xn));){if(!nt||nt(xn)){if(!mo)return[xn];yo.push(xn)}xn=xn.parentNode}return mo?yo:null},et=(Qe,nt,so)=>{let mo=nt;if(Qe){Ue(nt)&&(mo=yo=>ee(yo,nt));for(let yo=Qe[so];yo;yo=yo[so])if(de(mo)&&mo(yo))return yo}return null},st=function(Qe,nt,so){const mo=so??this;if(co(Qe)){const yo=[];return cm(Qe,(xn,Wn)=>{const hr=E(xn);hr&&yo.push(nt.call(mo,hr,Wn))}),yo}{const yo=E(Qe);return!!yo&&nt.call(mo,yo)}},mt=(Qe,nt)=>{st(Qe,so=>{Ft(nt,(mo,yo)=>{M(so,yo,mo)})})},kt=(Qe,nt)=>{st(Qe,so=>{const mo=je(so);wc(mo,nt)})},Ve=(Qe,nt,so,mo,yo)=>st(Qe,xn=>{const Wn=Ue(nt)?t.createElement(nt):nt;return Ze(so)&&mt(Wn,so),mo&&(!Ue(mo)&&mo.nodeType?Wn.appendChild(mo):Ue(mo)&&kt(Wn,mo)),yo?Wn:xn.appendChild(Wn)}),ot=(Qe,nt,so)=>Ve(t.createElement(Qe),Qe,nt,so,!0),pt=Sc.encodeAllRaw,Jt=(Qe,nt)=>st(Qe,so=>{const mo=je(so);return nt&&Se(Lt(mo),yo=>{_r(yo)&&yo.dom.length===0?Ea(yo):rl(mo,yo)}),Ea(mo),mo.dom}),en=(Qe,nt,so)=>{st(Qe,mo=>{if(an(mo)){const yo=je(mo),xn=nt.split(" ");Se(xn,Wn=>{Ze(so)?(so?ks:Js)(yo,Wn):((hr,tr)=>{xt(hr)?hr.dom.classList.toggle(tr):((Qa,En)=>lo(po(Qa),En)?ga(Qa,En):Yn(Qa,En))(hr,tr),_i(hr)})(yo,Wn)})}})},Fo=(Qe,nt,so)=>st(nt,mo=>{var yo;const xn=co(nt)?Qe.cloneNode(!0):Qe;return so&&cm(Ru(mo.childNodes),Wn=>{xn.appendChild(Wn)}),(yo=mo.parentNode)===null||yo===void 0||yo.replaceChild(xn,mo),mo}),Nn=Qe=>{if(an(Qe)){const nt=Qe.nodeName.toLowerCase()==="a"&&!O(Qe,"href")&&O(Qe,"id");if(O(Qe,"name")||O(Qe,"data-mce-bookmark")||nt)return!0}return!1},An=()=>t.createRange(),Jn=(Qe,nt,so,mo)=>{if(co(Qe)){let yo=Qe.length;const xn=[];for(;yo--;)xn[yo]=Jn(Qe[yo],nt,so,mo);return xn}return!o.collect||Qe!==t&&Qe!==a||u.push([Qe,nt,so,mo]),v.bind(Qe,nt,so,mo||vn)},jn=(Qe,nt,so)=>{if(co(Qe)){let mo=Qe.length;const yo=[];for(;mo--;)yo[mo]=jn(Qe[mo],nt,so);return yo}if(u.length>0&&(Qe===t||Qe===a)){let mo=u.length;for(;mo--;){const[yo,xn,Wn]=u[mo];Qe!==yo||nt&&nt!==xn||so&&so!==Wn||v.unbind(yo,xn,Wn)}}return v.unbind(Qe,nt,so)},cn=Qe=>{if(Qe&&Ti(Qe)){const nt=Qe.getAttribute("data-mce-contenteditable");return nt&&nt!=="inherit"?nt:Qe.contentEditable!=="inherit"?Qe.contentEditable:null}return null},vn={doc:t,settings:o,win:a,files:i,stdMode:!0,boxModel:!0,styleSheetLoader:d,boundEvents:u,styles:y,schema:f,events:v,isBlock:Qe=>Ue(Qe)?ln(k,Qe):an(Qe)&&(ln(k,Qe.nodeName)||Ed(f,Qe)),root:null,clone:(Qe,nt)=>Qe.cloneNode(nt),getRoot:j,getViewPort:Qe=>{const nt=nm(Qe);return{x:nt.x,y:nt.y,w:nt.width,h:nt.height}},getRect:Qe=>{const nt=E(Qe),so=q(nt),mo=re(nt);return{x:so.x,y:so.y,w:mo.w,h:mo.h}},getSize:re,getParent:(Qe,nt,so)=>{const mo=ke(Qe,nt,so,!1);return mo&&mo.length>0?mo[0]:null},getParents:ke,get:E,getNext:(Qe,nt)=>et(Qe,nt,"nextSibling"),getPrev:(Qe,nt)=>et(Qe,nt,"previousSibling"),select:(Qe,nt)=>{var so,mo;const yo=(mo=(so=E(nt))!==null&&so!==void 0?so:o.root_element)!==null&&mo!==void 0?mo:t;return de(yo.querySelectorAll)?Pn(yo.querySelectorAll(Qe)):[]},is:ee,add:Ve,create:ot,createHTML:(Qe,nt,so="")=>{let mo="<"+Qe;for(const yo in nt)xr(nt,yo)&&(mo+=" "+yo+'="'+pt(nt[yo])+'"');return sr(so)&&ln(f.getVoidElements(),Qe)?mo+" />":mo+">"+so+"</"+Qe+">"},createFragment:Qe=>{const nt=t.createElement("div"),so=t.createDocumentFragment();let mo;for(so.appendChild(nt),Qe&&(nt.innerHTML=Qe);mo=nt.firstChild;)so.appendChild(mo);return so.removeChild(nt),so},remove:Jt,setStyle:(Qe,nt,so)=>{st(Qe,mo=>{const yo=je(mo);oa(yo,nt,so),o.update_styles&&nd(y,yo)})},getStyle:K,setStyles:(Qe,nt)=>{st(Qe,so=>{const mo=je(so);Ft(nt,(yo,xn)=>{oa(mo,xn,yo)}),o.update_styles&&nd(y,mo)})},removeAllAttribs:Qe=>st(Qe,nt=>{const so=nt.attributes;for(let mo=so.length-1;mo>=0;mo--)nt.removeAttributeNode(so.item(mo))}),setAttrib:M,setAttribs:mt,getAttrib:O,getPos:q,parseStyle:Qe=>y.parse(Qe),serializeStyle:(Qe,nt)=>y.serialize(Qe,nt),addStyle:Qe=>{if(vn!==wr.DOM&&t===document){if(n[Qe])return;n[Qe]=!0}let nt=t.getElementById("mceDefaultStyles");if(!nt){nt=t.createElement("style"),nt.id="mceDefaultStyles",nt.type="text/css";const so=t.head;so.firstChild?so.insertBefore(nt,so.firstChild):so.appendChild(nt)}nt.styleSheet?nt.styleSheet.cssText+=Qe:nt.appendChild(t.createTextNode(Qe))},loadCSS:Qe=>{Qe||(Qe=""),Se(Qe.split(","),nt=>{i[nt]=!0,d.load(nt).catch($t)})},addClass:(Qe,nt)=>{en(Qe,nt,!0)},removeClass:(Qe,nt)=>{en(Qe,nt,!1)},hasClass:(Qe,nt)=>{const so=B(Qe),mo=nt.split(" ");return Ze(so)&&ze(mo,yo=>Vi(so,yo))},toggleClass:en,show:Qe=>{st(Qe,nt=>Wd(je(nt),"display"))},hide:Qe=>{st(Qe,nt=>hd(je(nt),"display","none"))},isHidden:Qe=>{const nt=B(Qe);return Ze(nt)&&aa(om(nt,"display"),"none")},uniqueId:Qe=>(Qe||"mce_")+c++,setHTML:kt,getOuterHTML:Qe=>{const nt=B(Qe);return Ze(nt)?an(nt.dom)?nt.dom.outerHTML:(so=>{const mo=_s("div"),yo=je(so.dom.cloneNode(!0));return os(mo,yo),yd(mo)})(nt):""},setOuterHTML:(Qe,nt)=>{st(Qe,so=>{an(so)&&(so.outerHTML=nt)})},decode:Sc.decode,encode:pt,insertAfter:(Qe,nt)=>{const so=E(nt);return st(Qe,mo=>{const yo=so?.parentNode,xn=so?.nextSibling;return yo&&(xn?yo.insertBefore(mo,xn):yo.appendChild(mo)),mo})},replace:Fo,rename:(Qe,nt)=>{if(Qe.nodeName!==nt.toUpperCase()){const so=ot(nt);return cm(P(Qe),mo=>{M(so,mo.nodeName,O(Qe,mo.nodeName))}),Fo(so,Qe,!0),so}return Qe},findCommonAncestor:(Qe,nt)=>{let so=Qe;for(;so;){let mo=nt;for(;mo&&so!==mo;)mo=mo.parentNode;if(so===mo)break;so=so.parentNode}return!so&&Qe.ownerDocument?Qe.ownerDocument.documentElement:so},run:st,getAttribs:P,isEmpty:(Qe,nt,so)=>{let mo=0;if(Nn(Qe))return!1;const yo=Qe.firstChild;if(yo){const xn=new Ns(yo,Qe),Wn=f?f.getWhitespaceElements():{},hr=nt||(f?f.getNonEmptyElements():null);let tr=yo;do{if(an(tr)){const Qa=tr.getAttribute("data-mce-bogus");if(Qa){tr=xn.next(Qa==="all");continue}const En=tr.nodeName.toLowerCase();if(hr&&hr[En]){if(En==="br"){mo++,tr=xn.next();continue}return!1}if(Nn(tr))return!1}if(ni(tr)||ro(tr)&&!ss(tr.data)&&(!so?.includeZwsp||!xv(tr.data))||ro(tr)&&tr.parentNode&&Wn[tr.parentNode.nodeName]&&ss(tr.data))return!1;tr=xn.next()}while(tr)}return mo<=1},createRng:An,nodeIndex:Fu,split:(Qe,nt,so)=>{let mo,yo,xn=An();if(Qe&&nt&&Qe.parentNode&&nt.parentNode){const Wn=Qe.parentNode;return xn.setStart(Wn,Fu(Qe)),xn.setEnd(nt.parentNode,Fu(nt)),mo=xn.extractContents(),xn=An(),xn.setStart(nt.parentNode,Fu(nt)+1),xn.setEnd(Wn,Fu(Qe)+1),yo=xn.extractContents(),Wn.insertBefore(Nu(vn,mo,f),Qe),so?Wn.insertBefore(so,Qe):Wn.insertBefore(nt,Qe),Wn.insertBefore(Nu(vn,yo,f),Qe),Jt(Qe),so||nt}},bind:Jn,unbind:jn,fire:(Qe,nt,so)=>v.dispatch(Qe,nt,so),dispatch:(Qe,nt,so)=>v.dispatch(Qe,nt,so),getContentEditable:cn,getContentEditableParent:Qe=>{const nt=j();let so=null;for(let mo=Qe;mo&&mo!==nt&&(so=cn(mo),so===null);mo=mo.parentNode);return so},isEditable:Qe=>{if(Ze(Qe)){const nt=an(Qe)?Qe:Qe.parentElement;return Ze(nt)&&Ti(nt)&&nl(je(nt))}return!1},destroy:()=>{if(u.length>0){let Qe=u.length;for(;Qe--;){const[nt,so,mo]=u[Qe];v.unbind(nt,so,mo)}}Ft(i,(Qe,nt)=>{d.unload(nt),delete i[nt]})},isChildOf:(Qe,nt)=>Qe===nt||nt.contains(Qe),dumpRng:Qe=>"startContainer: "+Qe.startContainer.nodeName+", startOffset: "+Qe.startOffset+", endContainer: "+Qe.endContainer.nodeName+", endOffset: "+Qe.endOffset},cr=((Qe,nt,so)=>{const mo=nt.keep_values,yo={set:(Wn,hr,tr)=>{const Qa=je(Wn);de(nt.url_converter)&&Ze(hr)&&(hr=nt.url_converter.call(nt.url_converter_scope||so(),String(hr),tr,Wn)),Od(Qa,"data-mce-"+tr,hr),Od(Qa,tr,hr)},get:(Wn,hr)=>{const tr=je(Wn);return bt(tr,"data-mce-"+hr)||bt(tr,hr)}},xn={style:{set:(Wn,hr)=>{const tr=je(Wn);mo&&Od(tr,Bu,hr),U(tr,"style"),Ue(hr)&&qd(tr,Qe.parse(hr))},get:Wn=>{const hr=je(Wn),tr=bt(hr,Bu)||bt(hr,"style");return Qe.serialize(Qe.parse(tr),Pe(hr))}}};return mo&&(xn.href=xn.src=yo),xn})(y,o,Ct(vn));return vn};wr.DOM=wr(document),wr.nodeIndex=Fu;const hl=wr.DOM;class Jr{constructor(o={}){this.states={},this.queue=[],this.scriptLoadedCallbacks={},this.queueLoadedCallbacks=[],this.loading=!1,this.settings=o}_setReferrerPolicy(o){this.settings.referrerPolicy=o}loadScript(o){return new Promise((n,a)=>{const i=hl;let c;const d=()=>{i.remove(u),c&&(c.onerror=c.onload=c=null)},u=i.uniqueId();c=document.createElement("script"),c.id=u,c.type="text/javascript",c.src=go._addCacheSuffix(o),this.settings.referrerPolicy&&i.setAttrib(c,"referrerpolicy",this.settings.referrerPolicy),c.onload=()=>{d(),n()},c.onerror=()=>{d(),a("Failed to load script: "+o)},(document.getElementsByTagName("head")[0]||document.body).appendChild(c)})}isDone(o){return this.states[o]===2}markDone(o){this.states[o]=2}add(o){const n=this;return n.queue.push(o),n.states[o]===void 0&&(n.states[o]=0),new Promise((a,i)=>{n.scriptLoadedCallbacks[o]||(n.scriptLoadedCallbacks[o]=[]),n.scriptLoadedCallbacks[o].push({resolve:a,reject:i})})}load(o){return this.add(o)}remove(o){delete this.states[o],delete this.scriptLoadedCallbacks[o]}loadQueue(){const o=this.queue;return this.queue=[],this.loadScripts(o)}loadScripts(o){const n=this,a=(f,y)=>{Fn(n.scriptLoadedCallbacks,y).each(v=>{Se(v,k=>k[f](y))}),delete n.scriptLoadedCallbacks[y]},i=f=>{const y=gt(f,v=>v.status==="rejected");return y.length>0?Promise.reject(at(y,({reason:v})=>co(v)?v:[v])):Promise.resolve()},c=f=>Promise.allSettled(to(f,y=>n.states[y]===2?(a("resolve",y),Promise.resolve()):n.states[y]===3?(a("reject",y),Promise.reject(y)):(n.states[y]=1,n.loadScript(y).then(()=>{n.states[y]=2,a("resolve",y);const v=n.queue;return v.length>0?(n.queue=[],c(v).then(i)):Promise.resolve()},()=>(n.states[y]=3,a("reject",y),Promise.reject(y)))))),d=f=>(n.loading=!0,c(f).then(y=>{n.loading=!1;const v=n.queueLoadedCallbacks.shift();return V.from(v).each(Rt),i(y)})),u=Ys(o);return n.loading?new Promise((f,y)=>{n.queueLoadedCallbacks.push(()=>{d(u).then(f,y)})}):d(u)}}Jr.ScriptLoader=new Jr;const bi=t=>{let o=t;return{get:()=>o,set:n=>{o=n}}},rs={},Di=bi("en"),Lc=()=>Fn(rs,Di.get()),Zi={getData:()=>vo(rs,t=>({...t})),setCode:t=>{t&&Di.set(t)},getCode:()=>Di.get(),add:(t,o)=>{let n=rs[t];n||(rs[t]=n={});const a=to(ut(o),i=>i.toLowerCase());Ft(o,(i,c)=>{const d=c.toLowerCase();d!==c&&((u,f)=>{const y=u.indexOf(f);return y!==-1&&u.indexOf(f,y+1)>y})(a,d)?(ln(o,d)||(n[d]=i),n[c]=i):n[d]=i})},translate:t=>{const o=Lc().getOr({}),n=u=>de(u)?Object.prototype.toString.call(u):a(u)?"":""+u,a=u=>u===""||u==null,i=u=>{const f=n(u);return ln(o,f)?n(o[f]):Fn(o,f.toLowerCase()).map(n).getOr(f)},c=u=>u.replace(/{context:\w+}$/,"");if(a(t))return"";if(it(d=t)&&ln(d,"raw"))return n(t.raw);var d;if((u=>co(u)&&u.length>1)(t)){const u=t.slice(1);return c(i(t[0]).replace(/\{([0-9]+)\}/g,(f,y)=>ln(u,y)?n(u[y]):f))}return c(i(t))},isRtl:()=>Lc().bind(t=>Fn(t,"_dir")).exists(t=>t==="rtl"),hasCode:t=>ln(rs,t)},bl=()=>{const t=[],o={},n={},a=[],i=(f,y)=>{const v=gt(a,k=>k.name===f&&k.state===y);Se(v,k=>k.resolve())},c=f=>ln(o,f),d=(f,y)=>{const v=Zi.getCode();!v||y&&(","+(y||"")+",").indexOf(","+v+",")===-1||Jr.ScriptLoader.add(o[f]+"/langs/"+v+".js")},u=(f,y="added")=>y==="added"&&(v=>ln(n,v))(f)||y==="loaded"&&c(f)?Promise.resolve():new Promise(v=>{a.push({name:f,state:y,resolve:v})});return{items:t,urls:o,lookup:n,get:f=>{if(n[f])return n[f].instance},requireLangPack:(f,y)=>{bl.languageLoad!==!1&&(c(f)?d(f,y):u(f,"loaded").then(()=>d(f,y)))},add:(f,y)=>(t.push(y),n[f]={instance:y},i(f,"added"),y),remove:f=>{delete o[f],delete n[f]},createUrl:(f,y)=>Ue(y)?Ue(f)?{prefix:"",resource:y,suffix:""}:{prefix:f.prefix,resource:y,suffix:f.suffix}:y,load:(f,y)=>{if(o[f])return Promise.resolve();let v=Ue(y)?y:y.prefix+y.resource+y.suffix;v.indexOf("/")!==0&&v.indexOf("://")===-1&&(v=bl.baseURL+"/"+v),o[f]=v.substring(0,v.lastIndexOf("/"));const k=()=>(i(f,"loaded"),Promise.resolve());return n[f]?k():Jr.ScriptLoader.add(v).then(k)},waitFor:u}};bl.languageLoad=!0,bl.baseURL="",bl.PluginManager=bl(),bl.ThemeManager=bl(),bl.ModelManager=bl();const Lu=t=>{const o=bi(V.none()),n=()=>o.get().each(a=>clearInterval(a));return{clear:()=>{n(),o.set(V.none())},isSet:()=>o.get().isSome(),get:()=>o.get(),set:a=>{n(),o.set(V.some(setInterval(a,t)))}}},Ec=()=>{const t=(o=>{const n=bi(V.none()),a=()=>n.get().each(o);return{clear:()=>{a(),n.set(V.none())},isSet:()=>n.get().isSome(),get:()=>n.get(),set:i=>{a(),n.set(V.some(i))}}})($t);return{...t,on:o=>t.get().each(o)}},Ep=(t,o)=>{let n=null;return{cancel:()=>{he(n)||(clearTimeout(n),n=null)},throttle:(...a)=>{he(n)&&(n=setTimeout(()=>{n=null,t.apply(null,a)},o))}}},Iu=(t,o)=>{let n=null;const a=()=>{he(n)||(clearTimeout(n),n=null)};return{cancel:a,throttle:(...i)=>{a(),n=setTimeout(()=>{n=null,t.apply(null,i)},o)}}},tu=Ct("mce-annotation"),dm=Ct("data-mce-annotation"),Tp=Ct("data-mce-annotation-uid"),fg=Ct("data-mce-annotation-active"),zp=Ct("data-mce-annotation-classes"),Ya=Ct("data-mce-annotation-attrs"),ib=t=>o=>sa(o,t),Jy=(t,o)=>{const n=t.selection.getRng(),a=je(n.startContainer),i=je(t.getBody()),c=o.fold(()=>"."+tu(),u=>`[${dm()}="${u}"]`),d=yn(a,n.startOffset).getOr(a);return Yc(d,c,ib(i)).bind(u=>wo(u,`${Tp()}`).bind(f=>wo(u,`${dm()}`).map(y=>{const v=yl(t,f);return{uid:f,name:y,elements:v}})))},Pf=(t,o)=>Zn(t,"data-mce-bogus")||Qc(t,'[data-mce-bogus="all"]',ib(o)),yl=(t,o)=>{const n=je(t.getBody()),a=wa(n,`[${Tp()}="${o}"]`);return gt(a,i=>!Pf(i,n))},Tc=(t,o)=>{const n=je(t.getBody()),a=wa(n,`[${dm()}="${o}"]`),i={};return Se(a,c=>{if(!Pf(c,n)){const d=bt(c,Tp()),u=Fn(i,d).getOr([]);i[d]=u.concat([c])}}),i};let rd=0;const hg=t=>{const o=new Date().getTime(),n=Math.floor(1e9*Math.random());return rd++,t+"_"+n+rd+String(o)},lb=(t,o)=>je(t.dom.cloneNode(o)),Um=t=>lb(t,!1),Hf=t=>lb(t,!0),ou=(t,o,n=uo)=>{const a=new Ns(t,o),i=c=>{let d;do d=a[c]();while(d&&!ro(d)&&!n(d));return V.from(d).filter(ro)};return{current:()=>V.from(a.current()).filter(ro),next:()=>i("next"),prev:()=>i("prev"),prev2:()=>i("prev2")}},um=(t,o)=>{const n=o||(i=>t.isBlock(i)||da(i)||Oa(i)),a=(i,c,d,u)=>{if(ro(i)){const f=u(i,c,i.data);if(f!==-1)return V.some({container:i,offset:f})}return d().bind(f=>a(f.container,f.offset,d,u))};return{backwards:(i,c,d,u)=>{const f=ou(i,u??t.getRoot(),n);return a(i,c,()=>f.prev().map(y=>({container:y,offset:y.length})),d).getOrNull()},forwards:(i,c,d,u)=>{const f=ou(i,u??t.getRoot(),n);return a(i,c,()=>f.next().map(y=>({container:y,offset:0})),d).getOrNull()}}},vs=Math.round,Vl=t=>t?{left:vs(t.left),top:vs(t.top),bottom:vs(t.bottom),right:vs(t.right),width:vs(t.width),height:vs(t.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0},bg=(t,o)=>(t=Vl(t),o||(t.left=t.left+t.width),t.right=t.left,t.width=0,t),Ap=(t,o,n)=>t>=0&&t<=Math.min(o.height,n.height)/2,si=(t,o)=>{const n=Math.min(o.height/2,t.height/2);return t.bottom-n<o.top||!(t.top>o.bottom)&&Ap(o.top-t.bottom,t,o)},ad=(t,o)=>t.top>o.bottom||!(t.bottom<o.top)&&Ap(o.bottom-t.top,t,o),Op=(t,o,n)=>{const a=Math.max(Math.min(o,t.left+t.width),t.left),i=Math.max(Math.min(n,t.top+t.height),t.top);return Math.sqrt((o-a)*(o-a)+(n-i)*(n-i))},cb=t=>{const o=t.startContainer,n=t.startOffset;return o===t.endContainer&&o.hasChildNodes()&&t.endOffset===n+1?o.childNodes[n]:null},Pu=(t,o)=>{if(an(t)&&t.hasChildNodes()){const n=t.childNodes,a=((i,c,d)=>Math.min(Math.max(i,0),d))(o,0,n.length-1);return n[a]}return t},e_=new RegExp("[̀-ͯ҃-҇҈-҉֑-ֽֿׁ-ׂׄ-ׇׅؐ-ًؚ-ٰٟۖ-ۜ۟-ۤۧ-۪ۨ-ܑۭܰ-݊ަ-ް߫-߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛ࣣ-ंऺ़ु-ै्॑-ॗॢ-ॣঁ়াু-ৄ্ৗৢ-ৣਁ-ਂ਼ੁ-ੂੇ-ੈੋ-੍ੑੰ-ੱੵઁ-ં઼ુ-ૅે-ૈ્ૢ-ૣଁ଼ାିୁ-ୄ୍ୖୗୢ-ୣஂாீ்ௗఀా-ీె-ైొ-్ౕ-ౖౢ-ౣಁ಼ಿೂೆೌ-್ೕ-ೖೢ-ೣഁാു-ൄ്ൗൢ-ൣ්ාි-ුූෟัิ-ฺ็-๎ັິ-ູົ-ຼ່-ໍ༘-ཱ༹༙༵༷-ཾྀ-྄྆-྇ྍ-ྗྙ-ྼ࿆ိ-ူဲ-့္-်ွ-ှၘ-ၙၞ-ၠၱ-ၴႂႅ-ႆႍႝ፝-፟ᜒ-᜔ᜲ-᜴ᝒ-ᝓᝲ-ᝳ឴-឵ិ-ួំ៉-៓៝᠋-᠍ᢩᤠ-ᤢᤧ-ᤨᤲ᤹-᤻ᨗ-ᨘᨛᩖᩘ-ᩞ᩠ᩢᩥ-ᩬᩳ-᩿᩼᪰-᪽᪾ᬀ-ᬃ᬴ᬶ-ᬺᬼᭂ᭫-᭳ᮀ-ᮁᮢ-ᮥᮨ-ᮩ᮫-ᮭ᯦ᯨ-ᯩᯭᯯ-ᯱᰬ-ᰳᰶ-᰷᳐-᳔᳒-᳢᳠-᳨᳭᳴᳸-᳹᷀-᷵᷼-᷿‌-‍⃐-⃜⃝-⃠⃡⃢-⃤⃥-⃰⳯-⵿⳱ⷠ-〪ⷿ-〭〮-゙〯-゚꙯꙰-꙲ꙴ-꙽ꚞ-ꚟ꛰-꛱ꠂ꠆ꠋꠥ-ꠦ꣄꣠-꣱ꤦ-꤭ꥇ-ꥑꦀ-ꦂ꦳ꦶ-ꦹꦼꧥꨩ-ꨮꨱ-ꨲꨵ-ꨶꩃꩌꩼꪰꪲ-ꪴꪷ-ꪸꪾ-꪿꫁ꫬ-ꫭ꫶ꯥꯨ꯭ﬞ︀-️︠-︯ﾞ-ﾟ]"),Np=t=>Ue(t)&&t.charCodeAt(0)>=768&&e_.test(t),Mp=an,Qy=Ka,e1=Sl("display","block table"),jf=Sl("float","left right"),Nd=((...t)=>o=>{for(let n=0;n<t.length;n++)if(!t[n](o))return!1;return!0})(Mp,Qy,lt(jf)),Vf=lt(Sl("white-space","pre pre-line pre-wrap")),Hr=ro,Ol=da,nu=wr.nodeIndex,Dp=(t,o)=>o<0&&an(t)&&t.hasChildNodes()?void 0:Pu(t,o),as=t=>t?t.createRange():wr.DOM.createRng(),db=t=>Ue(t)&&/[\r\n\t ]/.test(t),t1=t=>!!t.setStart&&!!t.setEnd,Ji=t=>{const o=t.startContainer,n=t.startOffset;if(db(t.toString())&&Vf(o.parentNode)&&ro(o)){const a=o.data;if(db(a[n-1])||db(a[n+1]))return!0}return!1},mm=t=>t.left===0&&t.right===0&&t.top===0&&t.bottom===0,ru=t=>{var o;let n;const a=t.getClientRects();return n=a.length>0?Vl(a[0]):Vl(t.getBoundingClientRect()),!t1(t)&&Ol(t)&&mm(n)?(i=>{const c=i.ownerDocument,d=as(c),u=c.createTextNode(ns),f=i.parentNode;f.insertBefore(u,i),d.setStart(u,0),d.setEnd(u,1);const y=Vl(d.getBoundingClientRect());return f.removeChild(u),y})(t):mm(n)&&t1(t)&&(o=(i=>{const c=i.startContainer,d=i.endContainer,u=i.startOffset,f=i.endOffset;if(c===d&&ro(d)&&u===0&&f===1){const y=i.cloneRange();return y.setEndAfter(d),ru(y)}return null})(t))!==null&&o!==void 0?o:n},gm=(t,o)=>{const n=bg(t,o);return n.width=1,n.right=n.left+1,n},Ht=(t,o,n)=>{const a=()=>(n||(n=(i=>{const c=[],d=v=>{var k,E;v.height!==0&&(c.length>0&&(k=v,E=c[c.length-1],k.left===E.left&&k.top===E.top&&k.bottom===E.bottom&&k.right===E.right)||c.push(v))},u=(v,k)=>{const E=as(v.ownerDocument);if(k<v.data.length){if(Np(v.data[k]))return;if(Np(v.data[k-1])&&(E.setStart(v,k),E.setEnd(v,k+1),!Ji(E)))return void d(gm(ru(E),!1))}k>0&&(E.setStart(v,k-1),E.setEnd(v,k),Ji(E)||d(gm(ru(E),!1))),k<v.data.length&&(E.setStart(v,k),E.setEnd(v,k+1),Ji(E)||d(gm(ru(E),!0)))},f=i.container(),y=i.offset();if(Hr(f))return u(f,y),c;if(Mp(f))if(i.isAtEnd()){const v=Dp(f,y);Hr(v)&&u(v,v.data.length),Nd(v)&&!Ol(v)&&d(gm(ru(v),!1))}else{const v=Dp(f,y);if(Hr(v)&&u(v,0),Nd(v)&&i.isAtEnd())return d(gm(ru(v),!1)),c;const k=Dp(i.container(),i.offset()-1);Nd(k)&&!Ol(k)&&(e1(k)||e1(v)||!Nd(v))&&d(gm(ru(k),!1)),Nd(v)&&d(gm(ru(v),!0))}return c})(Ht(t,o))),n);return{container:Ct(t),offset:Ct(o),toRange:()=>{const i=as(t.ownerDocument);return i.setStart(t,o),i.setEnd(t,o),i},getClientRects:a,isVisible:()=>a().length>0,isAtStart:()=>(Hr(t),o===0),isAtEnd:()=>Hr(t)?o>=t.data.length:o>=t.childNodes.length,isEqual:i=>i&&t===i.container()&&o===i.offset(),getNode:i=>Dp(t,i?o-1:o)}};Ht.fromRangeStart=t=>Ht(t.startContainer,t.startOffset),Ht.fromRangeEnd=t=>Ht(t.endContainer,t.endOffset),Ht.after=t=>Ht(t.parentNode,nu(t)+1),Ht.before=t=>Ht(t.parentNode,nu(t)),Ht.isAbove=(t,o)=>Ir(Zo(o.getClientRects()),Gn(t.getClientRects()),si).getOr(!1),Ht.isBelow=(t,o)=>Ir(Gn(o.getClientRects()),Zo(t.getClientRects()),ad).getOr(!1),Ht.isAtStart=t=>!!t&&t.isAtStart(),Ht.isAtEnd=t=>!!t&&t.isAtEnd(),Ht.isTextPosition=t=>!!t&&ro(t.container()),Ht.isElementPosition=t=>!Ht.isTextPosition(t);const Rp=(t,o)=>{ro(o)&&o.data.length===0&&t.remove(o)},ub=(t,o,n)=>{us(n)?((a,i,c)=>{const d=V.from(c.firstChild),u=V.from(c.lastChild);i.insertNode(c),d.each(f=>Rp(a,f.previousSibling)),u.each(f=>Rp(a,f.nextSibling))})(t,o,n):((a,i,c)=>{i.insertNode(c),Rp(a,c.previousSibling),Rp(a,c.nextSibling)})(t,o,n)},Md=ro,o1=El,n1=wr.nodeIndex,yg=t=>{const o=t.parentNode;return o1(o)?yg(o):o},mc=t=>t?$s(t.childNodes,(o,n)=>(o1(n)&&n.nodeName!=="BR"?o=o.concat(mc(n)):o.push(n),o),[]):[],sl=t=>o=>t===o,pm=t=>(Md(t)?"text()":t.nodeName.toLowerCase())+"["+(o=>{let n,a;n=mc(yg(o)),a=Us(n,sl(o),o),n=n.slice(0,a+1);const i=$s(n,(c,d,u)=>(Md(d)&&Md(n[u-1])&&c++,c),0);return n=ja(n,ka([o.nodeName])),a=Us(n,sl(o),o),a-i})(t)+"]",r1=(t,o)=>{let n,a=[],i=o.container(),c=o.offset();if(Md(i))n=((u,f)=>{let y=u;for(;(y=y.previousSibling)&&Md(y);)f+=y.data.length;return f})(i,c);else{const u=i.childNodes;c>=u.length?(n="after",c=u.length-1):n="before",i=u[c]}a.push(pm(i));let d=((u,f,y)=>{const v=[];for(let k=f.parentNode;k&&k!==u;k=k.parentNode)v.push(k);return v})(t,i);return d=ja(d,lt(El)),a=a.concat(Ha(d,u=>pm(u))),a.reverse().join("/")+","+n},a1=(t,o)=>{if(!o)return null;const n=o.split(","),a=n[0].split("/"),i=n.length>1?n[1]:"before",c=$s(a,(d,u)=>{const f=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(u);return f?(f[1]==="text()"&&(f[1]="#text"),((y,v,k)=>{let E=mc(y);return E=ja(E,(B,O)=>!Md(B)||!Md(E[O-1])),E=ja(E,ka([v])),E[k]})(d,f[1],parseInt(f[2],10))):null},t);if(!c)return null;if(!Md(c)&&c.parentNode){let d;return d=i==="after"?n1(c)+1:n1(c),Ht(c.parentNode,d)}return((d,u)=>{let f=d,y=0;for(;Md(f);){const v=f.data.length;if(u>=y&&u<=y+v){d=f,u-=y;break}if(!Md(f.nextSibling)){d=f,u=v;break}y+=v,f=f.nextSibling}return Md(d)&&u>d.data.length&&(u=d.data.length),Ht(d,u)})(c,parseInt(i,10))},$f=Oa,mb=(t,o,n,a,i)=>{const c=i?a.startContainer:a.endContainer;let d=i?a.startOffset:a.endOffset;const u=[],f=t.getRoot();if(ro(c))u.push(n?((y,v,k)=>{let E=y(v.data.slice(0,k)).length;for(let B=v.previousSibling;B&&ro(B);B=B.previousSibling)E+=y(B.data).length;return E})(o,c,d):d);else{let y=0;const v=c.childNodes;d>=v.length&&v.length&&(y=1,d=Math.max(0,v.length-1)),u.push(t.nodeIndex(v[d],n)+y)}for(let y=c;y&&y!==f;y=y.parentNode)u.push(t.nodeIndex(y,n));return u},Uf=(t,o,n)=>{let a=0;return go.each(t.select(o),i=>i.getAttribute("data-mce-bogus")==="all"?void 0:i!==n&&void a++),a},gb=(t,o)=>{let n=o?t.startContainer:t.endContainer,a=o?t.startOffset:t.endOffset;if(an(n)&&n.nodeName==="TR"){const i=n.childNodes;n=i[Math.min(o?a:a-1,i.length-1)],n&&(a=o?0:n.childNodes.length,o?t.setStart(n,a):t.setEnd(n,a))}},Qi=t=>(gb(t,!0),gb(t,!1),t),Gs=(t,o)=>{if(an(t)&&(t=Pu(t,o),$f(t)))return t;if(Ws(t)){ro(t)&&Pl(t)&&(t=t.parentNode);let n=t.previousSibling;if($f(n)||(n=t.nextSibling,$f(n)))return n}},vl=(t,o,n)=>{const a=n.getNode(),i=n.getRng();if(a.nodeName==="IMG"||$f(a)){const d=a.nodeName;return{name:d,index:Uf(n.dom,d,a)}}const c=(d=>Gs(d.startContainer,d.startOffset)||Gs(d.endContainer,d.endOffset))(i);if(c){const d=c.tagName;return{name:d,index:Uf(n.dom,d,c)}}return((d,u,f,y)=>{const v=u.dom,k=mb(v,d,f,y,!0),E=u.isForward(),B=J(y)?{isFakeCaret:!0}:{};return u.isCollapsed()?{start:k,forward:E,...B}:{start:k,end:mb(v,d,f,y,!1),forward:E,...B}})(t,n,o,i)},Wa=(t,o,n)=>{const a={"data-mce-type":"bookmark",id:o,style:"overflow:hidden;line-height:0px"};return n?t.create("span",a,"&#xFEFF;"):t.create("span",a)},Nl=(t,o)=>{const n=t.dom;let a=t.getRng();const i=n.uniqueId(),c=t.isCollapsed(),d=t.getNode(),u=d.nodeName,f=t.isForward();if(u==="IMG")return{name:u,index:Uf(n,u,d)};const y=Qi(a.cloneRange());if(!c){y.collapse(!1);const k=Wa(n,i+"_end",o);ub(n,y,k)}a=Qi(a),a.collapse(!0);const v=Wa(n,i+"_start",o);return ub(n,a,v),t.moveToBookmark({id:i,keep:!0,forward:f}),{id:i,forward:f}},yi=Je(vl,R,!0),pb=t=>{const o=c=>c(t),n=Ct(t),a=()=>i,i={tag:!0,inner:t,fold:(c,d)=>d(t),isValue:Bt,isError:uo,map:c=>$l.value(c(t)),mapError:a,bind:o,exists:o,forall:o,getOr:n,or:a,getOrThunk:n,orThunk:a,getOrDie:n,each:c=>{c(t)},toOptional:()=>V.some(t)};return i},Zf=t=>{const o=()=>n,n={tag:!1,inner:t,fold:(a,i)=>a(t),isValue:uo,isError:Bt,map:o,mapError:a=>$l.error(a(t)),bind:o,exists:uo,forall:Bt,getOr:R,or:R,getOrThunk:ht,orThunk:ht,getOrDie:Mt(String(t)),each:$t,toOptional:V.none};return n},$l={value:pb,error:Zf,fromOption:(t,o)=>t.fold(()=>Zf(o),pb)},zc=t=>{if(!co(t))throw new Error("cases must be an array");if(t.length===0)throw new Error("there must be at least one case");const o=[],n={};return Se(t,(a,i)=>{const c=ut(a);if(c.length!==1)throw new Error("one and only one name per case");const d=c[0],u=a[d];if(n[d]!==void 0)throw new Error("duplicate key detected:"+d);if(d==="cata")throw new Error("cannot have a case named cata (sorry)");if(!co(u))throw new Error("case arguments must be an array");o.push(d),n[d]=(...f)=>{const y=f.length;if(y!==u.length)throw new Error("Wrong number of arguments to case "+d+". Expected "+u.length+" ("+u+"), got "+y);return{fold:(...v)=>{if(v.length!==t.length)throw new Error("Wrong number of arguments to fold. Expected "+t.length+", got "+v.length);return v[i].apply(null,f)},match:v=>{const k=ut(v);if(o.length!==k.length)throw new Error("Wrong number of arguments to match. Expected: "+o.join(",")+`
Actual: `+k.join(","));if(!ze(o,E=>lo(k,E)))throw new Error("Not all branches were specified when using match. Specified: "+k.join(", ")+`
Required: `+o.join(", "));return v[d].apply(null,f)},log:v=>{}}}}),n};zc([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);const s1=t=>t.type==="inline-command"||t.type==="inline-format",Zm=t=>t.type==="block-command"||t.type==="block-format",fb=t=>{const o=a=>$l.error({message:a,pattern:t}),n=(a,i,c)=>{if(t.format!==void 0){let d;if(co(t.format)){if(!ze(t.format,Ue))return o(a+" pattern has non-string items in the `format` array");d=t.format}else{if(!Ue(t.format))return o(a+" pattern has non-string `format` parameter");d=[t.format]}return $l.value(i(d))}return t.cmd!==void 0?Ue(t.cmd)?$l.value(c(t.cmd,t.value)):o(a+" pattern has non-string `cmd` parameter"):o(a+" pattern is missing both `format` and `cmd` parameters")};if(!it(t))return o("Raw pattern is not an object");if(!Ue(t.start))return o("Raw pattern is missing `start` parameter");if(t.end!==void 0){if(!Ue(t.end))return o("Inline pattern has non-string `end` parameter");if(t.start.length===0&&t.end.length===0)return o("Inline pattern has empty `start` and `end` parameters");let a=t.start,i=t.end;return i.length===0&&(i=a,a=""),n("Inline",c=>({type:"inline-format",start:a,end:i,format:c}),(c,d)=>({type:"inline-command",start:a,end:i,cmd:c,value:d}))}return t.replacement!==void 0?Ue(t.replacement)?t.start.length===0?o("Replacement pattern has empty `start` parameter"):$l.value({type:"inline-command",start:"",end:t.start,cmd:"mceInsertContent",value:t.replacement}):o("Replacement pattern has non-string `replacement` parameter"):t.start.length===0?o("Block pattern has empty `start` parameter"):n("Block",a=>({type:"block-format",start:t.start,format:a[0]}),(a,i)=>({type:"block-command",start:t.start,cmd:a,value:i}))},Bp=t=>gt(t,Zm),wv=t=>gt(t,s1),kv=t=>{const o=(n=>{const a=[],i=[];return Se(n,c=>{c.fold(d=>{a.push(d)},d=>{i.push(d)})}),{errors:a,values:i}})(to(t,fb));return Se(o.errors,n=>console.error(n.message,n.pattern)),o.values},qf=Aa().deviceType,_v=qf.isTouch(),i1=wr.DOM,Oo=t=>To(t,RegExp),sn=t=>o=>o.options.get(t),Ri=t=>Ue(t)||it(t),Wf=(t,o="")=>n=>{const a=Ue(n);if(a){if(n.indexOf("=")!==-1){const i=(c=>{const d=c.indexOf("=")>0?c.split(/[;,](?![^=;,]*(?:[;,]|$))/):c.split(",");return Oe(d,(u,f)=>{const y=f.split("="),v=y[0],k=y.length>1?y[1]:v;return u[wt(v)]=wt(k),u},{})})(n);return{value:Fn(i,t.id).getOr(o),valid:a}}return{value:n,valid:a}}return{valid:!1,message:"Must be a string."}},Fp=sn("iframe_attrs"),l1=sn("doctype"),tc=sn("document_base_url"),t_=sn("body_id"),sd=sn("body_class"),hb=sn("content_security_policy"),Gf=sn("br_in_pre"),Ts=sn("forced_root_block"),gc=sn("forced_root_block_attrs"),Kf=sn("newline_behavior"),Ic=sn("br_newline_selector"),c1=sn("no_newline_selector"),Yf=sn("keep_styles"),d1=sn("end_container_on_empty_block"),bb=sn("automatic_uploads"),Xf=sn("images_reuse_filename"),o_=sn("images_replace_blob_uris"),yb=sn("icons"),Cv=sn("icons_url"),n_=sn("images_upload_url"),Jf=sn("images_upload_base_path"),Sv=sn("images_upload_credentials"),Lp=sn("images_upload_handler"),oc=sn("content_css_cors"),Hu=sn("referrer_policy"),vg=sn("language"),ms=sn("language_url"),u1=sn("indent_use_margin"),Ul=sn("indentation"),Qf=sn("content_css"),Ev=sn("content_style"),xg=sn("font_css"),eh=sn("directionality"),Tv=sn("inline_boundaries_selector"),th=sn("object_resizing"),Ip=sn("resize_img_proportional"),wg=sn("placeholder"),vb=sn("event_root"),xb=sn("service_message"),kg=sn("theme"),au=sn("theme_url"),_g=sn("model"),fm=sn("model_url"),su=sn("inline_boundaries"),r_=sn("formats"),ju=sn("preview_styles"),oh=sn("format_empty_lines"),zv=sn("format_noneditable_selector"),hm=sn("custom_ui_selector"),Cg=sn("inline"),wb=sn("hidden_input"),Av=sn("submit_patch"),m1=sn("add_form_submit_trigger"),kb=sn("add_unload_trigger"),a_=sn("custom_undo_redo_levels"),Sg=sn("disable_nodechange"),nh=sn("readonly"),g1=sn("editable_root"),Ov=sn("content_css_cors"),qm=sn("plugins"),Pp=sn("external_plugins"),p1=sn("block_unsupported_drop"),_b=sn("visual"),Cb=sn("visual_table_class"),rh=sn("visual_anchor_class"),Nv=sn("iframe_aria_text"),iu=sn("setup"),Hp=sn("init_instance_callback"),Mv=sn("urlconverter_callback"),Sb=sn("auto_focus"),f1=sn("browser_spellcheck"),Eg=sn("protect"),Dv=sn("paste_block_drop"),Tg=sn("paste_data_images"),h1=sn("paste_preprocess"),Zl=sn("paste_postprocess"),Rv=sn("newdocument_content"),Bv=sn("paste_webkit_styles"),b1=sn("paste_remove_styles_if_webkit"),s_=sn("paste_merge_formats"),Eb=sn("smart_paste"),y1=sn("paste_as_text"),ah=sn("paste_tab_spaces"),sh=sn("allow_html_data_urls"),Fv=sn("text_patterns"),Tb=sn("text_patterns_lookup"),zb=sn("noneditable_class"),v1=sn("editable_class"),zg=sn("noneditable_regexp"),Ab=sn("preserve_cdata"),ih=sn("highlight_on_focus"),bm=sn("xss_sanitization"),Lv=sn("init_content_sync"),x1=t=>go.explode(t.options.get("images_file_types")),lh=sn("table_tab_navigation"),Ag=sn("details_initial_state"),i_=sn("details_serialized_state"),Ob=sn("force_hex_color"),jp=sn("sandbox_iframes"),Iv=an,Nb=ro,Mb=t=>{const o=t.parentNode;o&&o.removeChild(t)},w1=t=>{const o=qs(t);return{count:t.length-o.length,text:o}},xl=t=>{let o;for(;(o=t.data.lastIndexOf(Za))!==-1;)t.deleteData(o,1)},ch=(t,o)=>(Dd(t),o),dh=(t,o)=>Ht.isTextPosition(o)?((n,a)=>Nb(n)&&a.container()===n?((i,c)=>{const d=w1(i.data.substr(0,c.offset())),u=w1(i.data.substr(c.offset()));return(d.text+u.text).length>0?(xl(i),Ht(i,c.offset()-d.count)):c})(n,a):ch(n,a))(t,o):((n,a)=>a.container()===n.parentNode?((i,c)=>{const d=c.container(),u=((f,y)=>{const v=Pt(f,y);return v===-1?V.none():V.some(v)})(Pn(d.childNodes),i).map(f=>f<c.offset()?Ht(d,c.offset()-1):c).getOr(c);return Dd(i),u})(n,a):ch(n,a))(t,o),Dd=t=>{Iv(t)&&Ws(t)&&(ed(t)?t.removeAttribute("data-mce-caret"):Mb(t)),Nb(t)&&(xl(t),t.data.length===0&&Mb(t))},k1=Oa,uh=$i,Og=al,ym=(t,o,n)=>{const a=bg(o.getBoundingClientRect(),n);let i,c;if(t.tagName==="BODY"){const u=t.ownerDocument.documentElement;i=t.scrollLeft||u.scrollLeft,c=t.scrollTop||u.scrollTop}else{const u=t.getBoundingClientRect();i=t.scrollLeft-u.left,c=t.scrollTop-u.top}a.left+=i,a.right+=i,a.top+=c,a.bottom+=c,a.width=1;let d=o.offsetWidth-o.clientWidth;return d>0&&(n&&(d*=-1),a.left+=d,a.right+=d),a},Db=(t,o,n,a)=>{const i=Ec();let c,d;const u=Ts(t),f=t.dom,y=()=>{(v=>{var k,E;const B=wa(je(v),"*[contentEditable=false],video,audio,embed,object");for(let O=0;O<B.length;O++){const P=B[O].dom;let M=P.previousSibling;if(z(M)){const j=M.data;j.length===1?(k=M.parentNode)===null||k===void 0||k.removeChild(M):M.deleteData(j.length-1,1)}M=P.nextSibling,ai(M)&&(M.data.length===1?(E=M.parentNode)===null||E===void 0||E.removeChild(M):M.deleteData(0,1))}})(o),d&&(Dd(d),d=null),i.on(v=>{f.remove(v.caret),i.clear()}),c&&(clearInterval(c),c=void 0)};return{show:(v,k)=>{let E;if(y(),Og(k))return null;if(!n(k))return d=((B,O)=>{var P;const M=((P=B.ownerDocument)!==null&&P!==void 0?P:document).createTextNode(Za),j=B.parentNode;if(O){const q=B.previousSibling;if(kd(q)){if(Ws(q))return q;if(z(q))return q.splitText(q.data.length-1)}j?.insertBefore(M,B)}else{const q=B.nextSibling;if(kd(q)){if(Ws(q))return q;if(ai(q))return q.splitText(1),q}B.nextSibling?j?.insertBefore(M,B.nextSibling):j?.appendChild(M)}return M})(k,v),E=k.ownerDocument.createRange(),id(d.nextSibling)?(E.setStart(d,0),E.setEnd(d,0)):(E.setStart(d,1),E.setEnd(d,1)),E;{const B=((M,j,q)=>{var K;const re=((K=j.ownerDocument)!==null&&K!==void 0?K:document).createElement(M);re.setAttribute("data-mce-caret",q?"before":"after"),re.setAttribute("data-mce-bogus","all"),re.appendChild(Xi().dom);const ee=j.parentNode;return q?ee?.insertBefore(re,j):j.nextSibling?ee?.insertBefore(re,j.nextSibling):ee?.appendChild(re),re})(u,k,v),O=ym(o,k,v);f.setStyle(B,"top",O.top),d=B;const P=f.create("div",{class:"mce-visual-caret","data-mce-bogus":"all"});f.setStyles(P,{...O}),f.add(o,P),i.set({caret:P,element:k,before:v}),v&&f.addClass(P,"mce-visual-caret-before"),c=setInterval(()=>{i.on(M=>{a()?f.toggleClass(M.caret,"mce-visual-caret-hidden"):f.addClass(M.caret,"mce-visual-caret-hidden")})},500),E=k.ownerDocument.createRange(),E.setStart(B,0),E.setEnd(B,0)}return E},hide:y,getCss:()=>".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}",reposition:()=>{i.on(v=>{const k=ym(o,v.element,v.before);f.setStyles(v.caret,{...k})})},destroy:()=>clearInterval(c)}},Rb=()=>Rn.browser.isFirefox(),id=t=>k1(t)||uh(t),lu=t=>(id(t)||Ms(t)&&Rb())&&Il(je(t)).exists(nl),mh=zi,Vp=Oa,Pv=$i,Hv=Sl("display","block table table-cell table-caption list-item"),Bb=Ws,_1=Pl,jv=an,Ng=ro,$p=Ka,vm=t=>t>0,Mg=t=>t<0,Ac=(t,o)=>{let n;for(;n=t(o);)if(!_1(n))return n;return null},cu=(t,o,n,a,i)=>{const c=new Ns(t,a),d=Vp(t)||_1(t);let u;if(Mg(o)){if(d&&(u=Ac(c.prev.bind(c),!0),n(u)))return u;for(;u=Ac(c.prev.bind(c),i);)if(n(u))return u}if(vm(o)){if(d&&(u=Ac(c.next.bind(c),!0),n(u)))return u;for(;u=Ac(c.next.bind(c),i);)if(n(u))return u}return null},Rd=(t,o)=>{for(;t&&t!==o;){if(Hv(t))return t;t=t.parentNode}return null},Lr=(t,o,n)=>Rd(t.container(),n)===Rd(o.container(),n),Bd=(t,o)=>{if(!o)return V.none();const n=o.container(),a=o.offset();return jv(n)?V.from(n.childNodes[a+t]):V.none()},Dg=(t,o)=>{var n;const a=((n=o.ownerDocument)!==null&&n!==void 0?n:document).createRange();return t?(a.setStartBefore(o),a.setEndBefore(o)):(a.setStartAfter(o),a.setEndAfter(o)),a},C1=(t,o,n)=>Rd(o,t)===Rd(n,t),Vv=(t,o,n)=>{const a=t?"previousSibling":"nextSibling";let i=n;for(;i&&i!==o;){let c=i[a];if(c&&Bb(c)&&(c=c[a]),Vp(c)||Pv(c)){if(C1(o,c,i))return c;break}if($p(c))break;i=i.parentNode}return null},Rg=Je(Dg,!0),Up=Je(Dg,!1),Zp=(t,o,n)=>{let a;const i=Je(Vv,!0,o),c=Je(Vv,!1,o),d=n.startContainer,u=n.startOffset;if(Pl(d)){const f=Ng(d)?d.parentNode:d,y=f.getAttribute("data-mce-caret");if(y==="before"&&(a=f.nextSibling,lu(a)))return Rg(a);if(y==="after"&&(a=f.previousSibling,lu(a)))return Up(a)}if(!n.collapsed)return n;if(ro(d)){if(Bb(d)){if(t===1){if(a=c(d),a)return Rg(a);if(a=i(d),a)return Up(a)}if(t===-1){if(a=i(d),a)return Up(a);if(a=c(d),a)return Rg(a)}return n}if(z(d)&&u>=d.data.length-1)return t===1&&(a=c(d),a)?Rg(a):n;if(ai(d)&&u<=1)return t===-1&&(a=i(d),a)?Up(a):n;if(u===d.data.length)return a=c(d),a?Rg(a):n;if(u===0)return a=i(d),a?Up(a):n}return n},Fb=(t,o)=>Bd(t?0:-1,o).filter(Vp),xm=(t,o,n)=>{const a=Zp(t,o,n);return t===-1?Ht.fromRangeStart(a):Ht.fromRangeEnd(a)},qp=t=>V.from(t.getNode()).map(je),Lb=(t,o)=>{let n=o;for(;n=t(n);)if(n.isVisible())return n;return n},Wp=(t,o)=>{const n=Lr(t,o);return!(n||!da(t.getNode()))||n};var Bi;(function(t){t[t.Backwards=-1]="Backwards",t[t.Forwards=1]="Forwards"})(Bi||(Bi={}));const $v=Oa,du=ro,Ib=an,Pb=da,Gp=Ka,Uv=t=>Hn(t)||(o=>!!Ni(o)&&!Oe(Pn(o.getElementsByTagName("*")),(n,a)=>n||Te(a),!1))(t),Wo=td,qi=(t,o)=>t.hasChildNodes()&&o<t.childNodes.length?t.childNodes[o]:null,Hb=(t,o)=>{if(vm(t)){if(Gp(o.previousSibling)&&!du(o.previousSibling))return Ht.before(o);if(du(o))return Ht(o,0)}if(Mg(t)){if(Gp(o.nextSibling)&&!du(o.nextSibling))return Ht.after(o);if(du(o))return Ht(o,o.data.length)}return Mg(t)?Pb(o)?Ht.before(o):Ht.after(o):Ht.before(o)},Fi=(t,o,n)=>{let a,i,c,d;if(!Ib(n)||!o)return null;if(o.isEqual(Ht.after(n))&&n.lastChild){if(d=Ht.after(n.lastChild),Mg(t)&&Gp(n.lastChild)&&Ib(n.lastChild))return Pb(n.lastChild)?Ht.before(n.lastChild):d}else d=o;const u=d.container();let f=d.offset();if(du(u)){if(Mg(t)&&f>0)return Ht(u,--f);if(vm(t)&&f<u.length)return Ht(u,++f);a=u}else{if(Mg(t)&&f>0&&(i=qi(u,f-1),Gp(i)))return!Uv(i)&&(c=cu(i,t,Wo,i),c)?du(c)?Ht(c,c.data.length):Ht.after(c):du(i)?Ht(i,i.data.length):Ht.before(i);if(vm(t)&&f<u.childNodes.length&&(i=qi(u,f),Gp(i)))return Pb(i)?((v,k)=>{const E=k.nextSibling;return E&&Gp(E)?du(E)?Ht(E,0):Ht.before(E):Fi(Bi.Forwards,Ht.after(k),v)})(n,i):!Uv(i)&&(c=cu(i,t,Wo,i),c)?du(c)?Ht(c,0):Ht.before(c):du(i)?Ht(i,0):Ht.after(i);a=i||d.getNode()}if(a&&(vm(t)&&d.isAtEnd()||Mg(t)&&d.isAtStart())&&(a=cu(a,t,Bt,n,!0),Wo(a,n)))return Hb(t,a);i=a&&cu(a,t,Wo,n);const y=_a(gt(((v,k)=>{const E=[];let B=v;for(;B&&B!==k;)E.push(B),B=B.parentNode;return E})(u,n),$v));return!y||i&&y.contains(i)?i?Hb(t,i):null:(d=vm(t)?Ht.after(y):Ht.before(y),d)},nc=t=>({next:o=>Fi(Bi.Forwards,o,t),prev:o=>Fi(Bi.Backwards,o,t)}),Bg=t=>Ht.isTextPosition(t)?t.offset()===0:Ka(t.getNode()),S1=t=>{if(Ht.isTextPosition(t)){const o=t.container();return t.offset()===o.data.length}return Ka(t.getNode(!0))},gh=(t,o)=>!Ht.isTextPosition(t)&&!Ht.isTextPosition(o)&&t.getNode()===o.getNode(!0),p=(t,o,n)=>{const a=nc(o);return V.from(t?a.next(n):a.prev(n))},b=(t,o,n)=>p(t,o,n).bind(a=>Lr(n,a,o)&&((i,c,d)=>{return i?!gh(c,d)&&(u=c,!(!Ht.isTextPosition(u)&&da(u.getNode())))&&S1(c)&&Bg(d):!gh(d,c)&&Bg(c)&&S1(d);var u})(t,n,a)?p(t,o,a):V.some(a)),_=(t,o,n,a)=>b(t,o,n).bind(i=>a(i)?_(t,o,i,a):V.some(i)),T=(t,o)=>{const n=t?o.firstChild:o.lastChild;return ro(n)?V.some(Ht(n,t?0:n.data.length)):n?Ka(n)?V.some(t?Ht.before(n):da(a=n)?Ht.before(a):Ht.after(a)):((i,c,d)=>{const u=i?Ht.before(d):Ht.after(d);return p(i,c,u)})(t,o,n):V.none();var a},L=Je(p,!0),I=Je(p,!1),Z=Je(T,!0),Y=Je(T,!1),ae="_mce_caret",be=t=>an(t)&&t.id===ae,Le=(t,o)=>{let n=o;for(;n&&n!==t;){if(be(n))return n;n=n.parentNode}return null},_e=t=>ln(t,"name"),Re=t=>go.isArray(t.start),Xe=t=>!(!_e(t)&&Dt(t.forward))||t.forward,Et=(t,o)=>(an(o)&&t.isBlock(o)&&!o.innerHTML&&(o.innerHTML='<br data-mce-bogus="1" />'),o),vt=(t,o)=>Y(t).fold(uo,n=>(o.setStart(n.container(),n.offset()),o.setEnd(n.container(),n.offset()),!0)),qt=(t,o,n)=>!(!(a=>!a.hasChildNodes())(o)||!Le(t,o)||(((a,i)=>{var c;const d=((c=a.ownerDocument)!==null&&c!==void 0?c:document).createTextNode(Za);a.appendChild(d),i.setStart(d,0),i.setEnd(d,0)})(o,n),0)),eo=(t,o,n,a)=>{const i=n[o?"start":"end"],c=t.getRoot();if(i){let d=c,u=i[0];for(let f=i.length-1;d&&f>=1;f--){const y=d.childNodes;if(qt(c,d,a))return!0;if(i[f]>y.length-1)return!!qt(c,d,a)||vt(d,a);d=y[i[f]]}ro(d)&&(u=Math.min(i[0],d.data.length)),an(d)&&(u=Math.min(i[0],d.childNodes.length)),o?a.setStart(d,u):a.setEnd(d,u)}return!0},bo=t=>ro(t)&&t.data.length>0,ao=(t,o,n)=>{const a=t.get(n.id+"_"+o),i=a?.parentNode,c=n.keep;if(a&&i){let d,u;if(o==="start"?c?a.hasChildNodes()?(d=a.firstChild,u=1):bo(a.nextSibling)?(d=a.nextSibling,u=0):bo(a.previousSibling)?(d=a.previousSibling,u=a.previousSibling.data.length):(d=i,u=t.nodeIndex(a)+1):(d=i,u=t.nodeIndex(a)):c?a.hasChildNodes()?(d=a.firstChild,u=1):bo(a.previousSibling)?(d=a.previousSibling,u=a.previousSibling.data.length):(d=i,u=t.nodeIndex(a)):(d=i,u=t.nodeIndex(a)),!c){const f=a.previousSibling,y=a.nextSibling;let v;for(go.each(go.grep(a.childNodes),k=>{ro(k)&&(k.data=k.data.replace(/\uFEFF/g,""))});v=t.get(n.id+"_"+o);)t.remove(v,!0);if(ro(y)&&ro(f)&&!Rn.browser.isOpera()){const k=f.data.length;f.appendData(y.data),t.remove(y),d=f,u=k}}return V.some(Ht(d,u))}return V.none()},Eo=(t,o,n)=>((a,i,c=!1)=>i===2?vl(qs,c,a):i===3?(d=>{const u=d.getRng();return{start:r1(d.dom.getRoot(),Ht.fromRangeStart(u)),end:r1(d.dom.getRoot(),Ht.fromRangeEnd(u)),forward:d.isForward()}})(a):i?(d=>({rng:d.getRng(),forward:d.isForward()}))(a):Nl(a,!1))(t,o,n),Ro=(t,o)=>{((n,a)=>{const i=n.dom;if(a){if(Re(a))return((c,d)=>{const u=c.createRng();return eo(c,!0,d,u)&&eo(c,!1,d,u)?V.some({range:u,forward:Xe(d)}):V.none()})(i,a);if((c=>Ue(c.start))(a))return((c,d)=>{const u=V.from(a1(c.getRoot(),d.start)),f=V.from(a1(c.getRoot(),d.end));return Ir(u,f,(y,v)=>{const k=c.createRng();return k.setStart(y.container(),y.offset()),k.setEnd(v.container(),v.offset()),{range:k,forward:Xe(d)}})})(i,a);if((c=>ln(c,"id"))(a))return((c,d)=>{const u=ao(c,"start",d),f=ao(c,"end",d);return Ir(u,f.or(u),(y,v)=>{const k=c.createRng();return k.setStart(Et(c,y.container()),y.offset()),k.setEnd(Et(c,v.container()),v.offset()),{range:k,forward:Xe(d)}})})(i,a);if(_e(a))return((c,d)=>V.from(c.select(d.name)[d.index]).map(u=>{const f=c.createRng();return f.selectNode(u),{range:f,forward:!0}}))(i,a);if((c=>ln(c,"rng"))(a))return V.some({range:a.rng,forward:Xe(a)})}return V.none()})(t,o).each(({range:n,forward:a})=>{t.setRng(n,a)})},No=t=>an(t)&&t.tagName==="SPAN"&&t.getAttribute("data-mce-type")==="bookmark",Ln=(qn=ns,t=>qn===t);var qn;const Qr=t=>t!==""&&` \f
\r	\v`.indexOf(t)!==-1,or=t=>!Qr(t)&&!Ln(t)&&!gl(t),Mr=t=>{const o=[];if(t)for(let n=0;n<t.rangeCount;n++)o.push(t.getRangeAt(n));return o},Er=(t,o)=>{const n=wa(o,"td[data-mce-selected],th[data-mce-selected]");return n.length>0?n:(a=>gt((i=>at(i,c=>{const d=cb(c);return d?[je(d)]:[]}))(a),Sn))(t)},ca=t=>Er(Mr(t.selection.getSel()),je(t.getBody())),zs=(t,o)=>Ua(t,"table",o),il=t=>ur(t).fold(Ct([t]),o=>[t].concat(il(o))),ii=t=>Ra(t).fold(Ct([t]),o=>Pe(o)==="br"?Ki(o).map(n=>[t].concat(ii(n))).getOr([]):[t].concat(ii(o))),ql=(t,o)=>Ir((n=>{const a=n.startContainer,i=n.startOffset;return ro(a)?i===0?V.some(je(a)):V.none():V.from(a.childNodes[i]).map(je)})(o),(n=>{const a=n.endContainer,i=n.endOffset;return ro(a)?i===a.data.length?V.some(je(a)):V.none():V.from(a.childNodes[i-1]).map(je)})(o),(n,a)=>{const i=Fe(il(t),Je(sa,n)),c=Fe(ii(t),Je(sa,a));return i.isSome()&&c.isSome()}).getOr(!1),ua=(t,o,n,a)=>{const i=n,c=new Ns(n,i),d=Rr(t.schema.getMoveCaretBeforeOnEnterElements(),(f,y)=>!lo(["td","th","table"],y.toLowerCase()));let u=n;do{if(ro(u)&&go.trim(u.data).length!==0)return void(a?o.setStart(u,0):o.setEnd(u,u.data.length));if(d[u.nodeName])return void(a?o.setStartBefore(u):u.nodeName==="BR"?o.setEndBefore(u):o.setEndAfter(u))}while(u=a?c.next():c.prev());i.nodeName==="BODY"&&(a?o.setStart(i,0):o.setEnd(i,i.childNodes.length))},li=t=>{const o=t.selection.getSel();return Ze(o)&&o.rangeCount>0},Vu=(t,o)=>{const n=ca(t);n.length>0?Se(n,a=>{const i=a.dom,c=t.dom.createRng();c.setStartBefore(i),c.setEndAfter(i),o(c,!0)}):o(t.selection.getRng(),!1)},Kp=(t,o,n)=>{const a=Nl(t,o);n(a),t.moveToBookmark(a)},wm=t=>rt(t?.nodeType),Fg=t=>an(t)&&!No(t)&&!be(t)&&!El(t),Yp=(t,o,n)=>{const{selection:a,dom:i}=t,c=a.getNode(),d=Oa(c);Kp(a,!0,()=>{o()}),d&&Oa(c)&&i.isChildOf(c,t.getBody())?t.selection.select(c):n(a.getStart())&&Xp(i,a)},Xp=(t,o)=>{var n,a;const i=o.getRng(),{startContainer:c,startOffset:d}=i;if(!((u,f)=>{if(Fg(f)&&!/^(TD|TH)$/.test(f.nodeName)){const y=u.getAttrib(f,"data-mce-selected"),v=parseInt(y,10);return!isNaN(v)&&v>0}return!1})(t,o.getNode())&&an(c)){const u=c.childNodes,f=t.getRoot();let y;if(d<u.length){const v=u[d];y=new Ns(v,(n=t.getParent(v,t.isBlock))!==null&&n!==void 0?n:f)}else{const v=u[u.length-1];y=new Ns(v,(a=t.getParent(v,t.isBlock))!==null&&a!==void 0?a:f),y.next(!0)}for(let v=y.current();v;v=y.next()){if(t.getContentEditable(v)==="false")return;if(ro(v)&&!qv(v))return i.setStart(v,0),void o.setRng(i)}}},O3=(t,o,n)=>{if(t){const a=o?"nextSibling":"previousSibling";for(t=n?t:t[a];t;t=t[a])if(an(t)||!qv(t))return t}},Zv=(t,o)=>!!t.getTextBlockElements()[o.nodeName.toLowerCase()]||Ed(t,o),Jp=(t,o,n)=>t.schema.isValidChild(o,n),qv=(t,o=!1)=>{if(Ze(t)&&ro(t)){const n=o?t.data.replace(/ /g," "):t.data;return ss(n)}return!1},N3=(t,o)=>{const n=t.dom;return Fg(o)&&n.getContentEditable(o)==="false"&&((a,i)=>{const c="[data-mce-cef-wrappable]",d=zv(a),u=sr(d)?c:`${c},${d}`;return Ci(je(i),u)})(t,o)&&n.select('[contenteditable="true"]',o).length===0},Qp=(t,o)=>de(t)?t(o):(Ze(o)&&(t=t.replace(/%(\w+)/g,(n,a)=>o[a]||n)),t),Pc=(t,o)=>(o=o||"",t=""+((t=t||"").nodeName||t),o=""+(o.nodeName||o),t.toLowerCase()===o.toLowerCase()),Wl=(t,o)=>{if(me(t))return null;{let n=String(t);return o!=="color"&&o!=="backgroundColor"||(n=qo(n)),o==="fontWeight"&&t===700&&(n="bold"),o==="fontFamily"&&(n=n.replace(/[\'\"]/g,"").replace(/,\s+/g,",")),n}},Lg=(t,o,n)=>{const a=t.getStyle(o,n);return Wl(a,n)},M3=(t,o)=>{let n;return t.getParent(o,a=>!!an(a)&&(n=t.getStyle(a,"text-decoration"),!!n&&n!=="none")),n},Wv=(t,o,n)=>t.getParents(o,n,t.getRoot()),Gr=(t,o,n)=>{const a=t.formatter.get(o);return Ze(a)&&zo(a,n)},Wm=t=>xr(t,"block"),Fd=t=>xr(t,"selector"),el=t=>xr(t,"inline"),l_=t=>Fd(t)&&t.expand!==!1&&!el(t),D3=t=>(o=>{const n=[];let a=o;for(;a;){if(ro(a)&&a.data!==Za||a.childNodes.length>1)return[];an(a)&&n.push(a),a=a.firstChild}return n})(t).length>0,c_=t=>be(t.dom)&&D3(t.dom),jb=No,Gv=Wv,Kv=qv,R3=Zv,B3=(t,o)=>{let n=o;for(;n;){if(an(n)&&t.getContentEditable(n))return t.getContentEditable(n)==="false"?n:o;n=n.parentNode}return o},F3=(t,o,n,a)=>{const i=o.data;if(t){for(let c=n;c>0;c--)if(a(i.charAt(c-1)))return c}else for(let c=n;c<i.length;c++)if(a(i.charAt(c)))return c;return-1},CA=(t,o,n)=>F3(t,o,n,a=>Ln(a)||Qr(a)),Qn=(t,o,n)=>F3(t,o,n,or),d_=(t,o,n,a,i,c)=>{let d;const u=t.getParent(n,t.isBlock)||o,f=(y,v,k)=>{const E=um(t),B=i?E.backwards:E.forwards;return V.from(B(y,v,(O,P)=>jb(O.parentNode)?-1:(d=O,k(i,O,P)),u))};return f(n,a,CA).bind(y=>c?f(y.container,y.offset+(i?-1:0),Qn):V.some(y)).orThunk(()=>d?V.some({container:d,offset:i?0:d.length}):V.none())},Vb=(t,o,n,a,i)=>{const c=a[i];ro(a)&&sr(a.data)&&c&&(a=c);const d=Gv(t,a);for(let u=0;u<d.length;u++)for(let f=0;f<o.length;f++){const y=o[f];if((!Ze(y.collapsed)||y.collapsed===n.collapsed)&&Fd(y)&&t.is(d[u],y.selector))return d[u]}return a},Yv=(t,o,n,a)=>{var i;let c=n;const d=t.getRoot(),u=o[0];if(Wm(u)&&(c=u.wrapper?null:t.getParent(n,u.block,d)),!c){const f=(i=t.getParent(n,"LI,TD,TH,SUMMARY"))!==null&&i!==void 0?i:d;c=t.getParent(ro(n)?n.parentNode:n,y=>y!==d&&R3(t.schema,y),f)}if(c&&Wm(u)&&u.wrapper&&(c=Gv(t,c,"ul,ol").reverse()[0]||c),!c)for(c=n;c&&c[a]&&!t.isBlock(c[a])&&(c=c[a],!Pc(c,"br")););return c||n},u_=(t,o,n,a)=>{const i=n.parentNode;return!Ze(n[a])&&(!(i!==o&&!me(i)&&!t.isBlock(i))||u_(t,o,i,a))},E1=(t,o,n,a,i)=>{let c=n;const d=i?"previousSibling":"nextSibling",u=t.getRoot();if(ro(n)&&!Kv(n)&&(i?a>0:a<n.data.length))return n;for(;c;){if(!o[0].block_expand&&t.isBlock(c))return c;for(let y=c[d];y;y=y[d]){const v=ro(y)&&!u_(t,u,y,d);if(!jb(y)&&(!da(f=y)||!f.getAttribute("data-mce-bogus")||f.nextSibling)&&!Kv(y,v))return c}if(c===u||c.parentNode===u){n=c;break}c=c.parentNode}var f;return n},m_=t=>jb(t.parentNode)||jb(t),ef=(t,o,n,a=!1)=>{let{startContainer:i,startOffset:c,endContainer:d,endOffset:u}=o;const f=n[0];return an(i)&&i.hasChildNodes()&&(i=Pu(i,c),ro(i)&&(c=0)),an(d)&&d.hasChildNodes()&&(d=Pu(d,o.collapsed?u:u-1),ro(d)&&(u=d.data.length)),i=B3(t,i),d=B3(t,d),m_(i)&&(i=jb(i)?i:i.parentNode,i=o.collapsed?i.previousSibling||i:i.nextSibling||i,ro(i)&&(c=o.collapsed?i.length:0)),m_(d)&&(d=jb(d)?d:d.parentNode,d=o.collapsed?d.nextSibling||d:d.previousSibling||d,ro(d)&&(u=o.collapsed?0:d.length)),o.collapsed&&(d_(t,t.getRoot(),i,c,!0,a).each(({container:y,offset:v})=>{i=y,c=v}),d_(t,t.getRoot(),d,u,!1,a).each(({container:y,offset:v})=>{d=y,u=v})),(el(f)||f.block_expand)&&(el(f)&&ro(i)&&c!==0||(i=E1(t,n,i,c,!0)),el(f)&&ro(d)&&u!==d.data.length||(d=E1(t,n,d,u,!1))),l_(f)&&(i=Vb(t,n,o,i,"previousSibling"),d=Vb(t,n,o,d,"nextSibling")),(Wm(f)||Fd(f))&&(i=Yv(t,n,i,"previousSibling"),d=Yv(t,n,d,"nextSibling"),Wm(f)&&(t.isBlock(i)||(i=E1(t,n,i,c,!0)),t.isBlock(d)||(d=E1(t,n,d,u,!1)))),an(i)&&i.parentNode&&(c=t.nodeIndex(i),i=i.parentNode),an(d)&&d.parentNode&&(u=t.nodeIndex(d)+1,d=d.parentNode),{startContainer:i,startOffset:c,endContainer:d,endOffset:u}},T1=(t,o,n)=>{var a;const i=o.startOffset,c=Pu(o.startContainer,i),d=o.endOffset,u=Pu(o.endContainer,d-1),f=M=>{const j=M[0];ro(j)&&j===c&&i>=j.data.length&&M.splice(0,1);const q=M[M.length-1];return d===0&&M.length>0&&q===u&&ro(q)&&M.splice(M.length-1,1),M},y=(M,j,q)=>{const K=[];for(;M&&M!==q;M=M[j])K.push(M);return K},v=(M,j)=>t.getParent(M,q=>q.parentNode===j,j),k=(M,j,q)=>{const K=q?"nextSibling":"previousSibling";for(let re=M,ee=re.parentNode;re&&re!==j;re=ee){ee=re.parentNode;const ke=y(re===M?re:re[K],K);ke.length&&(q||ke.reverse(),n(f(ke)))}};if(c===u)return n(f([c]));const E=(a=t.findCommonAncestor(c,u))!==null&&a!==void 0?a:t.getRoot();if(t.isChildOf(c,u))return k(c,E,!0);if(t.isChildOf(u,c))return k(u,E);const B=v(c,E)||c,O=v(u,E)||u;k(c,B,!0);const P=y(B===c?B:B.nextSibling,"nextSibling",O===u?O.nextSibling:O);P.length&&n(f(P)),k(u,O)},SA=['pre[class*=language-][contenteditable="false"]',"figure.image","div[data-ephox-embed-iri]","div.tiny-pageembed","div.mce-toc","div[data-mce-toc]"],ba=(t,o,n,a,i,c)=>{const{uid:d=o,...u}=n;ks(t,tu()),Q(t,`${Tp()}`,d),Q(t,`${dm()}`,a);const{attributes:f={},classes:y=[]}=i(d,u);if(Ee(t,f),((v,k)=>{Se(k,E=>{ks(v,E)})})(t,y),c){y.length>0&&Q(t,`${zp()}`,y.join(","));const v=ut(f);v.length>0&&Q(t,`${Ya()}`,v.join(","))}},L3=(t,o,n,a,i)=>{const c=_s("span",t);return ba(c,o,n,a,i,!1),c},Ig=(t,o,n,a,i,c)=>{const d=[],u=L3(t.getDoc(),n,c,a,i),f=Ec(),y=()=>{f.clear()},v=E=>{Se(E,k)},k=E=>{switch(((B,O,P,M)=>Gi(O).fold(()=>"skipping",j=>M==="br"||(q=>_r(q)&&Ai(q)===Za)(O)?"valid":(q=>kn(q)&&Vi(q,tu()))(O)?"existing":be(O.dom)?"caret":zo(SA,q=>Ci(O,q))?"valid-block":Jp(B,P,M)&&Jp(B,Pe(j),P)?"valid":"invalid-child"))(t,E,"span",Pe(E))){case"invalid-child":{y();const B=Lt(E);v(B),y();break}case"valid-block":y(),ba(E,n,c,a,i,!0);break;case"valid":{const B=f.get().getOrThunk(()=>{const O=Um(u);return d.push(O),f.set(O),O});Dc(E,B);break}}};return T1(t.dom,o,E=>{y(),(B=>{const O=to(B,je);v(O)})(E)}),d},km=t=>{const o=(()=>{const c={};return{register:(d,u)=>{c[d]={name:d,settings:u}},lookup:d=>Fn(c,d).map(u=>u.settings),getNames:()=>ut(c)}})();((c,d)=>{const u=dm(),f=v=>V.from(v.attr(u)).bind(d.lookup),y=v=>{var k,E;v.attr(Tp(),null),v.attr(dm(),null),v.attr(fg(),null);const B=V.from(v.attr(Ya())).map(j=>j.split(",")).getOr([]),O=V.from(v.attr(zp())).map(j=>j.split(",")).getOr([]);Se(B,j=>v.attr(j,null));const P=(E=(k=v.attr("class"))===null||k===void 0?void 0:k.split(" "))!==null&&E!==void 0?E:[],M=Gt(P,[tu()].concat(O));v.attr("class",M.length>0?M.join(" "):null),v.attr(zp(),null),v.attr(Ya(),null)};c.serializer.addTempAttr(fg()),c.serializer.addAttributeFilter(u,v=>{for(const k of v)f(k).each(E=>{E.persistent===!1&&(k.name==="span"?k.unwrap():y(k))})})})(t,o);const n=((c,d)=>{const u=bi({}),f=()=>({listeners:[],previous:Ec()}),y=(B,O)=>{v(B,P=>(O(P),P))},v=(B,O)=>{const P=u.get(),M=O(Fn(P,B).getOrThunk(f));P[B]=M,u.set(P)},k=(B,O)=>{Se(yl(c,B),P=>{O?Q(P,fg(),"true"):U(P,fg())})},E=Iu(()=>{const B=Xo(d.getNames());Se(B,O=>{v(O,P=>{const M=P.previous.get();return Jy(c,V.some(O)).fold(()=>{M.each(j=>{(q=>{y(q,K=>{Se(K.listeners,re=>re(!1,q))})})(O),P.previous.clear(),k(j,!1)})},({uid:j,name:q,elements:K})=>{aa(M,j)||(M.each(re=>k(re,!1)),((re,ee,ke)=>{y(re,et=>{Se(et.listeners,st=>st(!0,re,{uid:ee,nodes:to(ke,mt=>mt.dom)}))})})(q,j,K),P.previous.set(j),k(j,!0))}),{previous:P.previous,listeners:P.listeners}})})},30);return c.on("remove",()=>{E.cancel()}),c.on("NodeChange",()=>{E.throttle()}),{addListener:(B,O)=>{v(B,P=>({previous:P.previous,listeners:P.listeners.concat([O])}))}}})(t,o),a=ma("span"),i=c=>{Se(c,d=>{a(d)?_l(d):(u=>{Js(u,tu()),U(u,`${Tp()}`),U(u,`${dm()}`),U(u,`${fg()}`);const f=wo(u,`${Ya()}`).map(k=>k.split(",")).getOr([]),y=wo(u,`${zp()}`).map(k=>k.split(",")).getOr([]);var v;Se(f,k=>U(u,k)),v=u,Se(y,k=>{Js(v,k)}),U(u,`${zp()}`),U(u,`${Ya()}`)})(d)})};return{register:(c,d)=>{o.register(c,d)},annotate:(c,d)=>{o.lookup(c).each(u=>{((f,y,v,k)=>{f.undoManager.transact(()=>{const E=f.selection,B=E.getRng(),O=ca(f).length>0,P=hg("mce-annotation");if(B.collapsed&&!O&&((M,j)=>{const q=ef(M.dom,j,[{inline:"span"}]);j.setStart(q.startContainer,q.startOffset),j.setEnd(q.endContainer,q.endOffset),M.selection.setRng(j)})(f,B),E.getRng().collapsed&&!O){const M=L3(f.getDoc(),P,k,y,v.decorate);wc(M,ns),E.getRng().insertNode(M.dom),E.select(M.dom)}else Kp(E,!1,()=>{Vu(f,M=>{Ig(f,M,P,y,v.decorate,k)})})})})(t,c,u,d)})},annotationChanged:(c,d)=>{n.addListener(c,d)},remove:c=>{Jy(t,V.some(c)).each(({elements:d})=>{const u=t.selection.getBookmark();i(d),t.selection.moveToBookmark(u)})},removeAll:c=>{const d=t.selection.getBookmark();Ft(Tc(t,c),(u,f)=>{i(u)}),t.selection.moveToBookmark(d)},getAll:c=>{const d=Tc(t,c);return vo(d,u=>to(u,f=>f.dom))}}},tf=t=>({getBookmark:Je(Eo,t),moveToBookmark:Je(Ro,t)});tf.isBookmarkNode=No;const Hc=(t,o,n)=>!n.collapsed&&zo(n.getClientRects(),a=>((i,c,d)=>c>=i.left&&c<=i.right&&d>=i.top&&d<=i.bottom)(a,t,o)),z1=(t,o,n)=>{t.dispatch(o,n)},$b=(t,o,n,a)=>{t.dispatch("FormatApply",{format:o,node:n,vars:a})},A1=(t,o,n,a)=>{t.dispatch("FormatRemove",{format:o,node:n,vars:a})},ph=(t,o)=>t.dispatch("SetContent",o),I3=(t,o)=>t.dispatch("GetContent",o),P3=(t,o)=>t.dispatch("PastePlainTextToggle",{state:o}),mn={BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,ESC:27,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,modifierPressed:t=>t.shiftKey||t.ctrlKey||t.altKey||mn.metaKeyPressed(t),metaKeyPressed:t=>Rn.os.isMacOS()||Rn.os.isiOS()?t.metaKey:t.ctrlKey&&!t.altKey},fh="data-mce-selected",ea=Math.abs,Ld=Math.round,Pg={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]},H3=(t,o)=>{const n=o.dom,a=o.getDoc(),i=document,c=o.getBody();let d,u,f,y,v,k,E,B,O,P,M,j,q,K,re;const ee=cn=>Ze(cn)&&(ml(cn)||n.is(cn,"figure.image")),ke=cn=>$i(cn)||n.hasClass(cn,"mce-preview-object"),et=cn=>{const vn=cn.target;((cr,Qe)=>{if((nt=>nt.type==="longpress"||nt.type.indexOf("touch")===0)(cr)){const nt=cr.touches[0];return ee(cr.target)&&!Hc(nt.clientX,nt.clientY,Qe)}return ee(cr.target)&&!Hc(cr.clientX,cr.clientY,Qe)})(cn,o.selection.getRng())&&!cn.isDefaultPrevented()&&o.selection.select(vn)},st=cn=>n.hasClass(cn,"mce-preview-object")&&Ze(cn.firstElementChild)?[cn,cn.firstElementChild]:n.is(cn,"figure.image")?[cn.querySelector("img")]:[cn],mt=cn=>{const vn=th(o);return!!vn&&cn.getAttribute("data-mce-resize")!=="false"&&cn!==o.getBody()&&(n.hasClass(cn,"mce-preview-object")&&Ze(cn.firstElementChild)?Ci(je(cn.firstElementChild),vn):Ci(je(cn),vn))},kt=(cn,vn,cr)=>{if(Ze(cr)){const Qe=st(cn);Se(Qe,nt=>{nt.style[vn]||!o.schema.isValid(nt.nodeName.toLowerCase(),vn)?n.setStyle(nt,vn,cr):n.setAttrib(nt,vn,""+cr)})}},Ve=(cn,vn,cr)=>{kt(cn,"width",vn),kt(cn,"height",cr)},ot=cn=>{let vn,cr,Qe,nt,so;vn=cn.screenX-k,cr=cn.screenY-E,j=vn*y[2]+B,q=cr*y[3]+O,j=j<5?5:j,q=q<5?5:q,Qe=(ee(d)||ke(d))&&Ip(o)!==!1?!mn.modifierPressed(cn):mn.modifierPressed(cn),Qe&&(ea(vn)>ea(cr)?(q=Ld(j*P),j=Ld(q/P)):(j=Ld(q/P),q=Ld(j*P))),Ve(u,j,q),nt=y.startPos.x+vn,so=y.startPos.y+cr,nt=nt>0?nt:0,so=so>0?so:0,n.setStyles(f,{left:nt,top:so,display:"block"}),f.innerHTML=j+" &times; "+q,y[2]<0&&u.clientWidth<=j&&n.setStyle(u,"left",void 0+(B-j)),y[3]<0&&u.clientHeight<=q&&n.setStyle(u,"top",void 0+(O-q)),vn=c.scrollWidth-K,cr=c.scrollHeight-re,vn+cr!==0&&n.setStyles(f,{left:nt-vn,top:so-cr}),M||(((mo,yo,xn,Wn,hr)=>{mo.dispatch("ObjectResizeStart",{target:yo,width:xn,height:Wn,origin:hr})})(o,d,B,O,"corner-"+y.name),M=!0)},pt=()=>{const cn=M;M=!1,cn&&(kt(d,"width",j),kt(d,"height",q)),n.unbind(a,"mousemove",ot),n.unbind(a,"mouseup",pt),i!==a&&(n.unbind(i,"mousemove",ot),n.unbind(i,"mouseup",pt)),n.remove(u),n.remove(f),n.remove(v),Jt(d),cn&&(((vn,cr,Qe,nt,so)=>{vn.dispatch("ObjectResized",{target:cr,width:Qe,height:nt,origin:so})})(o,d,j,q,"corner-"+y.name),n.setAttrib(d,"style",n.getAttrib(d,"style"))),o.nodeChanged()},Jt=cn=>{Jn();const vn=n.getPos(cn,c),cr=vn.x,Qe=vn.y,nt=cn.getBoundingClientRect(),so=nt.width||nt.right-nt.left,mo=nt.height||nt.bottom-nt.top;d!==cn&&(Fo(),d=cn,j=q=0);const yo=o.dispatch("ObjectSelected",{target:cn});mt(cn)&&!yo.isDefaultPrevented()?Ft(Pg,(xn,Wn)=>{let hr=n.get("mceResizeHandle"+Wn);hr&&n.remove(hr),hr=n.add(c,"div",{id:"mceResizeHandle"+Wn,"data-mce-bogus":"all",class:"mce-resizehandle",unselectable:!0,style:"cursor:"+Wn+"-resize; margin:0; padding:0"}),n.bind(hr,"mousedown",tr=>{tr.stopImmediatePropagation(),tr.preventDefault(),(Qa=>{const En=st(d)[0];var Ur;k=Qa.screenX,E=Qa.screenY,B=En.clientWidth,O=En.clientHeight,P=O/B,y=xn,y.name=Wn,y.startPos={x:so*xn[0]+cr,y:mo*xn[1]+Qe},K=c.scrollWidth,re=c.scrollHeight,v=n.add(c,"div",{class:"mce-resize-backdrop","data-mce-bogus":"all"}),n.setStyles(v,{position:"fixed",left:"0",top:"0",width:"100%",height:"100%"}),u=ke(Ur=d)?n.create("img",{src:Rn.transparentSrc}):Ur.cloneNode(!0),n.addClass(u,"mce-clonedresizable"),n.setAttrib(u,"data-mce-bogus","all"),u.contentEditable="false",n.setStyles(u,{left:cr,top:Qe,margin:0}),Ve(u,so,mo),u.removeAttribute(fh),c.appendChild(u),n.bind(a,"mousemove",ot),n.bind(a,"mouseup",pt),i!==a&&(n.bind(i,"mousemove",ot),n.bind(i,"mouseup",pt)),f=n.add(c,"div",{class:"mce-resize-helper","data-mce-bogus":"all"},B+" &times; "+O)})(tr)}),xn.elm=hr,n.setStyles(hr,{left:so*xn[0]+cr-hr.offsetWidth/2,top:mo*xn[1]+Qe-hr.offsetHeight/2})}):Fo(!1)},en=Ep(Jt,0),Fo=(cn=!0)=>{en.cancel(),Jn(),d&&cn&&d.removeAttribute(fh),Ft(Pg,(vn,cr)=>{const Qe=n.get("mceResizeHandle"+cr);Qe&&(n.unbind(Qe),n.remove(Qe))})},Nn=(cn,vn)=>n.isChildOf(cn,vn),An=cn=>{if(M||o.removed||o.composing)return;const vn=cn.type==="mousedown"?cn.target:t.getNode(),cr=Yc(je(vn),"table,img,figure.image,hr,video,span.mce-preview-object,details").map(nt=>nt.dom).filter(nt=>n.isEditable(nt.parentElement)||nt.nodeName==="IMG"&&n.isEditable(nt)).getOrUndefined(),Qe=Ze(cr)?n.getAttrib(cr,fh,"1"):"1";if(Se(n.select(`img[${fh}],hr[${fh}]`),nt=>{nt.removeAttribute(fh)}),Ze(cr)&&Nn(cr,c)&&o.hasFocus()){jn();const nt=t.getStart(!0);if(Nn(nt,cr)&&Nn(t.getEnd(!0),cr))return n.setAttrib(cr,fh,Qe),void en.throttle(cr)}Fo()},Jn=()=>{Ft(Pg,cn=>{cn.elm&&(n.unbind(cn.elm),delete cn.elm)})},jn=()=>{try{o.getDoc().execCommand("enableObjectResizing",!1,"false")}catch{}};return o.on("init",()=>{jn(),o.on("NodeChange ResizeEditor ResizeWindow ResizeContent drop",An),o.on("keyup compositionend",cn=>{d&&d.nodeName==="TABLE"&&An(cn)}),o.on("hide blur",Fo),o.on("contextmenu longpress",et,!0)}),o.on("remove",Jn),{isResizable:mt,showResizeRect:Jt,hideResizeRect:Fo,updateResizeRect:An,destroy:()=>{en.cancel(),d=u=v=null}}},Ub=(t,o,n)=>{const a=t.document.createRange();var i;return i=a,o.fold(c=>{i.setStartBefore(c.dom)},(c,d)=>{i.setStart(c.dom,d)},c=>{i.setStartAfter(c.dom)}),((c,d)=>{d.fold(u=>{c.setEndBefore(u.dom)},(u,f)=>{c.setEnd(u.dom,f)},u=>{c.setEndAfter(u.dom)})})(a,n),a},na=(t,o,n,a,i)=>{const c=t.document.createRange();return c.setStart(o.dom,n),c.setEnd(a.dom,i),c},Zb=zc([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),Xv=(t,o,n)=>o(je(n.startContainer),n.startOffset,je(n.endContainer),n.endOffset);Zb.ltr,Zb.rtl;const j3=(t,o,n,a)=>({start:t,soffset:o,finish:n,foffset:a}),qb=document.caretPositionFromPoint?(t,o,n)=>{var a,i;return V.from((i=(a=t.dom).caretPositionFromPoint)===null||i===void 0?void 0:i.call(a,o,n)).bind(c=>{if(c.offsetNode===null)return V.none();const d=t.dom.createRange();return d.setStart(c.offsetNode,c.offset),d.collapse(),V.some(d)})}:document.caretRangeFromPoint?(t,o,n)=>{var a,i;return V.from((i=(a=t.dom).caretRangeFromPoint)===null||i===void 0?void 0:i.call(a,o,n))}:V.none,Hg=zc([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),Gm={before:Hg.before,on:Hg.on,after:Hg.after,cata:(t,o,n,a)=>t.fold(o,n,a),getStart:t=>t.fold(R,R,R)},Jv=zc([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),Wb={domRange:Jv.domRange,relative:Jv.relative,exact:Jv.exact,exactFromRange:t=>Jv.exact(t.start,t.soffset,t.finish,t.foffset),getWin:t=>{const o=(n=>n.match({domRange:a=>je(a.startContainer),relative:(a,i)=>Gm.getStart(a),exact:(a,i,c,d)=>a}))(t);return Gc(o)},range:j3},of=(t,o)=>{const n=Pe(t);return n==="input"?Gm.after(t):lo(["br","img"],n)?o===0?Gm.before(t):Gm.after(t):Gm.on(t,o)},Gb=(t,o)=>{const n=t.fold(Gm.before,of,Gm.after),a=o.fold(Gm.before,of,Gm.after);return Wb.relative(n,a)},V3=(t,o,n,a)=>{const i=of(t,o),c=of(n,a);return Wb.relative(i,c)},Qv=(t,o)=>{const n=(o||document).createDocumentFragment();return Se(t,a=>{n.appendChild(a.dom)}),je(n)},EA=t=>{const o=Wb.getWin(t).dom,n=(i,c,d,u)=>na(o,i,c,d,u),a=(i=>i.match({domRange:c=>{const d=je(c.startContainer),u=je(c.endContainer);return V3(d,c.startOffset,u,c.endOffset)},relative:Gb,exact:V3}))(t);return((i,c)=>{const d=((u,f)=>f.match({domRange:y=>({ltr:Ct(y),rtl:V.none}),relative:(y,v)=>({ltr:tt(()=>Ub(u,y,v)),rtl:tt(()=>V.some(Ub(u,v,y)))}),exact:(y,v,k,E)=>({ltr:tt(()=>na(u,y,v,k,E)),rtl:tt(()=>V.some(na(u,k,E,y,v)))})}))(i,c);return((u,f)=>{const y=f.ltr();return y.collapsed?f.rtl().filter(v=>v.collapsed===!1).map(v=>Zb.rtl(je(v.endContainer),v.endOffset,je(v.startContainer),v.startOffset)).getOrThunk(()=>Xv(0,Zb.ltr,y)):Xv(0,Zb.ltr,y)})(0,d)})(o,a).match({ltr:n,rtl:n})},g_=(t,o,n)=>((a,i,c)=>((d,u,f)=>{const y=je(d.document);return qb(y,u,f).map(v=>j3(je(v.startContainer),v.startOffset,je(v.endContainer),v.endOffset))})(a,i,c))(Gc(je(n)).dom,t,o).map(a=>{const i=n.createRange();return i.setStart(a.start.dom,a.soffset),i.setEnd(a.finish.dom,a.foffset),i}).getOrUndefined(),p_=(t,o)=>Ze(t)&&Ze(o)&&t.startContainer===o.startContainer&&t.startOffset===o.startOffset&&t.endContainer===o.endContainer&&t.endOffset===o.endOffset,f_=(t,o,n)=>((a,i,c)=>{let d=a;for(;d&&d!==i;){if(c(d))return d;d=d.parentNode}return null})(t,o,n)!==null,h_=(t,o,n)=>f_(t,o,a=>a.nodeName===n),b_=(t,o)=>Ws(t)&&!f_(t,o,be),ex=(t,o,n)=>{const a=o.parentNode;if(a){const i=new Ns(o,t.getParent(a,t.isBlock)||t.getRoot());let c;for(;c=i[n?"prev":"next"]();)if(da(c))return!0}return!1},tx=(t,o,n,a,i)=>{const c=t.getRoot(),d=t.schema.getNonEmptyElements(),u=i.parentNode;let f,y;if(!u)return V.none();const v=t.getParent(u,t.isBlock)||c;if(a&&da(i)&&o&&t.isEmpty(v))return V.some(Ht(u,t.nodeIndex(i)));const k=new Ns(i,v);for(;y=k[a?"prev":"next"]();){if(t.getContentEditableParent(y)==="false"||b_(y,c))return V.none();if(ro(y)&&y.data.length>0)return h_(y,c,"A")?V.none():V.some(Ht(y,a?y.data.length:0));if(t.isBlock(y)||d[y.nodeName.toLowerCase()])return V.none();f=y}return ni(f)?V.none():n&&f?V.some(Ht(f,0)):V.none()},y_=(t,o,n,a)=>{const i=t.getRoot();let c,d=!1,u=n?a.startContainer:a.endContainer,f=n?a.startOffset:a.endOffset;const y=an(u)&&f===u.childNodes.length,v=t.schema.getNonEmptyElements();let k=n;if(Ws(u))return V.none();if(an(u)&&f>u.childNodes.length-1&&(k=!1),xd(u)&&(u=i,f=0),u===i){if(k&&(c=u.childNodes[f>0?f-1:0],c)&&(Ws(c)||v[c.nodeName]||Ms(c)))return V.none();if(u.hasChildNodes()){if(f=Math.min(!k&&f>0?f-1:f,u.childNodes.length-1),u=u.childNodes[f],f=ro(u)&&y?u.data.length:0,!o&&u===i.lastChild&&Ms(u)||((E,B)=>{let O=B;for(;O&&O!==E;){if(Oa(O))return!0;O=O.parentNode}return!1})(i,u)||Ws(u)||Hs(u))return V.none();if(u.hasChildNodes()&&!Ms(u)){c=u;const E=new Ns(u,i);do{if(Oa(c)||Ws(c)){d=!1;break}if(ro(c)&&c.data.length>0){f=k?0:c.data.length,u=c,d=!0;break}if(v[c.nodeName.toLowerCase()]&&!la(c)){f=t.nodeIndex(c),u=c.parentNode,k||f++,d=!0;break}}while(c=k?E.next():E.prev())}}}return o&&(ro(u)&&f===0&&tx(t,y,o,!0,u).each(E=>{u=E.container(),f=E.offset(),d=!0}),an(u)&&(c=u.childNodes[f],c||(c=u.childNodes[f-1]),!c||!da(c)||((E,B)=>{var O;return((O=E.previousSibling)===null||O===void 0?void 0:O.nodeName)==="A"})(c)||ex(t,c,!1)||ex(t,c,!0)||tx(t,y,o,!0,c).each(E=>{u=E.container(),f=E.offset(),d=!0}))),k&&!o&&ro(u)&&f===u.data.length&&tx(t,y,o,!1,u).each(E=>{u=E.container(),f=E.offset(),d=!0}),d&&u?V.some(Ht(u,f)):V.none()},O1=(t,o)=>{const n=o.collapsed,a=o.cloneRange(),i=Ht.fromRangeStart(o);return y_(t,n,!0,a).each(c=>{n&&Ht.isAbove(i,c)||a.setStart(c.container(),c.offset())}),n||y_(t,n,!1,a).each(c=>{a.setEnd(c.container(),c.offset())}),n&&a.collapse(!0),p_(o,a)?V.none():V.some(a)},hh=(t,o)=>t.splitText(o),N1=t=>{let o=t.startContainer,n=t.startOffset,a=t.endContainer,i=t.endOffset;if(o===a&&ro(o)){if(n>0&&n<o.data.length)if(a=hh(o,n),o=a.previousSibling,i>n){i-=n;const c=hh(a,i).previousSibling;o=a=c,i=c.data.length,n=0}else i=0}else if(ro(o)&&n>0&&n<o.data.length&&(o=hh(o,n),n=0),ro(a)&&i>0&&i<a.data.length){const c=hh(a,i).previousSibling;a=c,i=c.data.length}return{startContainer:o,startOffset:n,endContainer:a,endOffset:i}},nf=t=>({walk:(o,n)=>T1(t,o,n),split:N1,expand:(o,n={type:"word"})=>{if(n.type==="word"){const a=ef(t,o,[{inline:"span"}]),i=t.createRng();return i.setStart(a.startContainer,a.startOffset),i.setEnd(a.endContainer,a.endOffset),i}return o},normalize:o=>O1(t,o).fold(uo,n=>(o.setStart(n.startContainer,n.startOffset),o.setEnd(n.endContainer,n.endOffset),!0))});nf.compareRanges=p_,nf.getCaretRangeFromPoint=g_,nf.getSelectedNode=cb,nf.getNode=Pu;const $3=((t,o)=>{const n=i=>{const c=(d=>{const u=d.dom;return Es(d)?u.getBoundingClientRect().height:u.offsetHeight})(i);if(c<=0||c===null){const d=Yi(i,t);return parseFloat(d)||0}return c},a=(i,c)=>Oe(c,(d,u)=>{const f=Yi(i,u),y=f===void 0?0:parseInt(f,10);return isNaN(y)?d:d+y},0);return{set:(i,c)=>{if(!rt(c)&&!c.match(/^[0-9]+$/))throw new Error(t+".set accepts only positive integer values. Value was "+c);const d=i.dom;ti(d)&&(d.style[t]=c+"px")},get:n,getOuter:n,aggregate:a,max:(i,c,d)=>{const u=a(i,d);return c>u?c-u:0}}})("height"),v_=()=>je(document),x_=(t,o)=>t.view(o).fold(Ct([]),n=>{const a=t.owner(n),i=x_(t,a);return[n].concat(i)});var U3=Object.freeze({__proto__:null,view:t=>{var o;return(t.dom===document?V.none():V.from((o=t.dom.defaultView)===null||o===void 0?void 0:o.frameElement)).map(je)},owner:t=>Si(t)});const w_=t=>Pe(t)==="textarea",Z3=(t,o)=>{const n=(i=>{const c=i.dom.ownerDocument,d=c.body,u=c.defaultView,f=c.documentElement;if(d===i.dom)return pi(d.offsetLeft,d.offsetTop);const y=Cn(u?.pageYOffset,f.scrollTop),v=Cn(u?.pageXOffset,f.scrollLeft),k=Cn(f.clientTop,d.clientTop),E=Cn(f.clientLeft,d.clientLeft);return Ql(i).translate(v-E,y-k)})(t),a=(i=>$3.get(i))(t);return{element:t,bottom:n.top+a,height:a,pos:n,cleanup:o}},M1=(t,o,n,a)=>{TA(t,(i,c)=>q3(t,o,n,a),n)},k_=(t,o,n,a,i)=>{const c={elm:a.element.dom,alignToTop:i};((d,u)=>d.dispatch("ScrollIntoView",u).isDefaultPrevented())(t,c)||(n(t,o,ec(o).top,a,i),((d,u)=>{d.dispatch("AfterScrollIntoView",u)})(t,c))},q3=(t,o,n,a)=>{const i=je(t.getBody()),c=je(t.getDoc());i.dom.offsetWidth;const d=((u,f)=>{const y=((k,E)=>{const B=Lt(k);if(B.length===0||w_(k))return{element:k,offset:E};if(E<B.length&&!w_(B[E]))return{element:B[E],offset:0};{const O=B[B.length-1];return w_(O)?{element:k,offset:E}:Pe(O)==="img"?{element:O,offset:1}:_r(O)?{element:O,offset:Ai(O).length}:{element:O,offset:Lt(O).length}}})(u,f),v=ic('<span data-mce-bogus="all" style="display: inline-block;">\uFEFF</span>');return rl(y.element,v),Z3(v,()=>Ea(v))})(je(n.startContainer),n.startOffset);k_(t,c,o,d,a),d.cleanup()},__=(t,o,n,a)=>{const i=je(t.getDoc());k_(t,i,n,(c=>Z3(je(c),$t))(o),a)},TA=(t,o,n)=>{const a=n.startContainer,i=n.startOffset,c=n.endContainer,d=n.endOffset;o(je(a),je(c));const u=t.dom.createRng();u.setStart(a,i),u.setEnd(c,d),t.selection.setRng(n)},C_=(t,o,n,a,i)=>{const c=o.pos;if(a)yp(c.left,c.top,i);else{const d=c.top-n+o.height;yp(-t.getBody().getBoundingClientRect().left,d,i)}},W3=(t,o,n,a,i,c)=>{const d=a+n,u=i.pos.top,f=i.bottom,y=f-u>=a;u<n?C_(t,i,a,c!==!1,o):u>d?C_(t,i,a,y?c!==!1:c===!0,o):f>d&&!y&&C_(t,i,a,c===!0,o)},G3=(t,o,n,a,i)=>{const c=Gc(o).dom.innerHeight;W3(t,o,n,c,a,i)},K3=(t,o,n,a,i)=>{const c=Gc(o).dom.innerHeight;W3(t,o,n,c,a,i);const d=(f=>{const y=v_(),v=ec(y),k=((O,P)=>{const M=P.owner(O);return x_(P,M)})(f,U3),E=Ql(f),B=pe(k,(O,P)=>{const M=Ql(P);return{left:O.left+M.left,top:O.top+M.top}},{left:0,top:0});return pi(B.left+E.left+v.left,B.top+E.top+v.top)})(a.element),u=nm(window);d.top<u.y?Kd(a.element,i!==!1):d.top>u.bottom&&Kd(a.element,i===!0)},Y3=(t,o,n)=>M1(t,G3,o,n),X3=(t,o,n)=>__(t,o,G3,n),ox=(t,o,n)=>M1(t,K3,o,n),zA=(t,o,n)=>__(t,o,K3,n),bh=(t,o,n)=>{(t.inline?Y3:ox)(t,o,n)},J3=(t,o=!1)=>t.dom.focus({preventScroll:o}),S_=t=>{const o=ta(t).dom;return t.dom===o.activeElement},nx=(t=v_())=>V.from(t.dom.activeElement).map(je),E_=(t,o)=>{const n=_r(o)?Ai(o).length:Lt(o).length+1;return t>n?n:t<0?0:t},AA=t=>Wb.range(t.start,E_(t.soffset,t.start),t.finish,E_(t.foffset,t.finish)),Q3=(t,o)=>!Rm(o.dom)&&(lc(t,o)||sa(t,o)),D1=t=>o=>Q3(t,o.start)&&Q3(t,o.finish),e4=t=>Wb.range(je(t.startContainer),t.startOffset,je(t.endContainer),t.endOffset),t4=t=>{const o=document.createRange();try{return o.setStart(t.start.dom,t.soffset),o.setEnd(t.finish.dom,t.foffset),V.some(o)}catch{return V.none()}},rx=t=>{const o=(a=>a.inline||Rn.browser.isFirefox())(t)?(n=je(t.getBody()),(a=>{const i=a.getSelection();return(i&&i.rangeCount!==0?V.from(i.getRangeAt(0)):V.none()).map(e4)})(Gc(n).dom).filter(D1(n))):V.none();var n;t.bookmark=o.isSome()?o:t.bookmark},ax=t=>(t.bookmark?t.bookmark:V.none()).bind(o=>{return n=je(t.getBody()),a=o,V.from(a).filter(D1(n)).map(AA);var n,a}).bind(t4),o4={isEditorUIElement:t=>{const o=t.className.toString();return o.indexOf("tox-")!==-1||o.indexOf("mce-")!==-1}},uu={setEditorTimeout:(t,o,n)=>((a,i)=>(rt(i)||(i=0),setTimeout(a,i)))(()=>{t.removed||o()},n),setEditorInterval:(t,o,n)=>{const a=((i,c)=>(rt(c)||(c=0),setInterval(i,c)))(()=>{t.removed?clearInterval(a):o()},n);return a}};let jg;const sx=wr.DOM,ix=t=>{const o=t.classList;return o!==void 0&&(o.contains("tox-edit-area")||o.contains("tox-edit-area__iframe")||o.contains("mce-content-body"))},lx=(t,o)=>{const n=hm(t);return sx.getParent(o,i=>(c=>an(c)&&o4.isEditorUIElement(c))(i)||!!n&&t.dom.is(i,n))!==null},T_=t=>{try{const o=ta(je(t.getElement()));return nx(o).fold(()=>document.body,n=>n.dom)}catch{return document.body}},OA=(t,o)=>{const n=o.editor;(i=>{const c=Ep(()=>{rx(i)},0);i.on("init",()=>{i.inline&&((d,u)=>{const f=()=>{u.throttle()};wr.DOM.bind(document,"mouseup",f),d.on("remove",()=>{wr.DOM.unbind(document,"mouseup",f)})})(i,c),((d,u)=>{((f,y)=>{f.on("mouseup touchend",v=>{y.throttle()})})(d,u),d.on("keyup NodeChange AfterSetSelectionRange",f=>{(y=>y.type==="nodechange"&&y.selectionChange)(f)||rx(d)})})(i,c)}),i.on("remove",()=>{c.cancel()})})(n);const a=(i,c)=>{ih(i)&&i.inline!==!0&&c(je(i.getContainer()),"tox-edit-focus")};n.on("focusin",()=>{const i=t.focusedEditor;ix(T_(n))&&a(n,ks),i!==n&&(i&&i.dispatch("blur",{focusedEditor:n}),t.setActive(n),t.focusedEditor=n,n.dispatch("focus",{blurredEditor:i}),n.focus(!0))}),n.on("focusout",()=>{uu.setEditorTimeout(n,()=>{const i=t.focusedEditor;ix(T_(n))&&i===n||a(n,Js),lx(n,T_(n))||i!==n||(n.dispatch("blur",{focusedEditor:null}),t.focusedEditor=null)})}),jg||(jg=i=>{const c=t.activeEditor;c&&Ei(i).each(d=>{const u=d;u.ownerDocument===document&&(u===document.body||lx(c,u)||t.focusedEditor!==c||(c.dispatch("blur",{focusedEditor:null}),t.focusedEditor=null))})},sx.bind(document,"focusin",jg))},NA=(t,o)=>{t.focusedEditor===o.editor&&(t.focusedEditor=null),!t.activeEditor&&jg&&(sx.unbind(document,"focusin",jg),jg=null)},n4=(t,o)=>{((n,a)=>(i=>i.collapsed?V.from(Pu(i.startContainer,i.startOffset)).map(je):V.none())(a).bind(i=>Bm(i)?V.some(i):lc(n,i)?V.none():V.some(n)))(je(t.getBody()),o).bind(n=>Z(n.dom)).fold(()=>{t.selection.normalize()},n=>t.selection.setRng(n.toRange()))},z_=t=>{if(t.setActive)try{t.setActive()}catch{t.focus()}else t.focus()},rf=t=>t.inline?(o=>{const n=o.getBody();return n&&(a=je(n),S_(a)||(i=a,nx(ta(i)).filter(c=>i.dom.contains(c.dom))).isSome());var a,i})(t):(o=>Ze(o.iframeElement)&&S_(je(o.iframeElement)))(t),r4=t=>rf(t)||(o=>{const n=ta(je(o.getElement()));return nx(n).filter(a=>!ix(a.dom)&&lx(o,a.dom)).isSome()})(t),cx=t=>t.editorManager.setActive(t),A_=(t,o)=>o.collapsed?t.isEditable(o.startContainer):t.isEditable(o.startContainer)&&t.isEditable(o.endContainer),a4=(t,o,n,a,i)=>{const c=n?o.startContainer:o.endContainer,d=n?o.startOffset:o.endOffset;return V.from(c).map(je).map(u=>a&&o.collapsed?u:yn(u,i(u,d)).getOr(u)).bind(u=>kn(u)?V.some(u):Gi(u).filter(kn)).map(u=>u.dom).getOr(t)},s4=(t,o,n=!1)=>a4(t,o,!0,n,(a,i)=>Math.min(ei(a),i)),i4=(t,o,n=!1)=>a4(t,o,!1,n,(a,i)=>i>0?i-1:i),l4=(t,o)=>{const n=t;for(;t&&ro(t)&&t.length===0;)t=o?t.nextSibling:t.previousSibling;return t||n},O_=(t,o)=>to(o,n=>{const a=t.dispatch("GetSelectionRange",{range:n});return a.range!==n?a.range:n}),MA=["img","br"],c4=t=>wd(t).filter(n=>n.trim().length!==0||n.indexOf(ns)>-1).isSome()||lo(MA,Pe(t))||(n=>bn(n)&&bt(n,"contenteditable")==="false")(t),d4="[data-mce-autocompleter]",DA=(t,o)=>{if(u4(je(t.getBody())).isNone()){const a=ic('<span data-mce-autocompleter="1" data-mce-bogus="1"></span>',t.getDoc());os(a,je(o.extractContents())),o.insertNode(a.dom),Gi(a).each(i=>i.dom.normalize()),(n=a,((i,c)=>{const d=u=>{const f=Lt(u);for(let y=f.length-1;y>=0;y--){const v=f[y];if(c(v))return V.some(v);const k=d(v);if(k.isSome())return k}return V.none()};return d(i)})(n,c4)).map(i=>{t.selection.setCursorLocation(i.dom,(c=>Pe(c)==="img"?1:wd(c).fold(()=>Lt(c).length,d=>d.length))(i))})}var n},u4=t=>fd(t,d4),RA={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11},dx=(t,o,n)=>{const a=n?"lastChild":"firstChild",i=n?"prev":"next";if(t[a])return t[a];if(t!==o){let c=t[i];if(c)return c;for(let d=t.parent;d&&d!==o;d=d.parent)if(c=d[i],c)return c}},BA=t=>{var o;const n=(o=t.value)!==null&&o!==void 0?o:"";if(!ss(n))return!1;const a=t.parent;return!a||a.name==="span"&&!a.attr("style")||!/^[ ]+$/.test(n)},Dn=t=>{const o=t.name==="a"&&!t.attr("href")&&t.attr("id");return t.attr("name")||t.attr("id")&&!t.firstChild||t.attr("data-mce-bookmark")||o};class pc{static create(o,n){const a=new pc(o,RA[o]||1);return n&&Ft(n,(i,c)=>{a.attr(c,i)}),a}constructor(o,n){this.name=o,this.type=n,n===1&&(this.attributes=[],this.attributes.map={})}replace(o){const n=this;return o.parent&&o.remove(),n.insert(o,n),n.remove(),n}attr(o,n){const a=this;if(!Ue(o))return Ze(o)&&Ft(o,(c,d)=>{a.attr(d,c)}),a;const i=a.attributes;if(i){if(n!==void 0){if(n===null){if(o in i.map){delete i.map[o];let c=i.length;for(;c--;)if(i[c].name===o)return i.splice(c,1),a}return a}if(o in i.map){let c=i.length;for(;c--;)if(i[c].name===o){i[c].value=n;break}}else i.push({name:o,value:n});return i.map[o]=n,a}return i.map[o]}}clone(){const o=this,n=new pc(o.name,o.type),a=o.attributes;if(a){const i=[];i.map={};for(let c=0,d=a.length;c<d;c++){const u=a[c];u.name!=="id"&&(i[i.length]={name:u.name,value:u.value},i.map[u.name]=u.value)}n.attributes=i}return n.value=o.value,n}wrap(o){const n=this;return n.parent&&(n.parent.insert(o,n),o.append(n)),n}unwrap(){const o=this;for(let n=o.firstChild;n;){const a=n.next;o.insert(n,o,!0),n=a}o.remove()}remove(){const o=this,n=o.parent,a=o.next,i=o.prev;return n&&(n.firstChild===o?(n.firstChild=a,a&&(a.prev=null)):i&&(i.next=a),n.lastChild===o?(n.lastChild=i,i&&(i.next=null)):a&&(a.prev=i),o.parent=o.next=o.prev=null),o}append(o){const n=this;o.parent&&o.remove();const a=n.lastChild;return a?(a.next=o,o.prev=a,n.lastChild=o):n.lastChild=n.firstChild=o,o.parent=n,o}insert(o,n,a){o.parent&&o.remove();const i=n.parent||this;return a?(n===i.firstChild?i.firstChild=o:n.prev&&(n.prev.next=o),o.prev=n.prev,o.next=n,n.prev=o):(n===i.lastChild?i.lastChild=o:n.next&&(n.next.prev=o),o.next=n.next,o.prev=n,n.next=o),o.parent=i,o}getAll(o){const n=this,a=[];for(let i=n.firstChild;i;i=dx(i,n))i.name===o&&a.push(i);return a}children(){const o=[];for(let n=this.firstChild;n;n=n.next)o.push(n);return o}empty(){const o=this;if(o.firstChild){const n=[];for(let i=o.firstChild;i;i=dx(i,o))n.push(i);let a=n.length;for(;a--;){const i=n[a];i.parent=i.firstChild=i.lastChild=i.next=i.prev=null}}return o.firstChild=o.lastChild=null,o}isEmpty(o,n={},a){var i;const c=this;let d=c.firstChild;if(Dn(c))return!1;if(d)do{if(d.type===1){if(d.attr("data-mce-bogus"))continue;if(o[d.name]||Dn(d))return!1}if(d.type===8||d.type===3&&!BA(d)||d.type===3&&d.parent&&n[d.parent.name]&&ss((i=d.value)!==null&&i!==void 0?i:"")||a&&a(d))return!1}while(d=dx(d,c));return!0}walk(o){return dx(this,null,o)}}const m4=go.makeMap("NOSCRIPT STYLE SCRIPT XMP IFRAME NOEMBED NOFRAMES PLAINTEXT"," "),g4=t=>Ue(t.nodeValue)&&t.nodeValue.includes(Za),ux=t=>(t.length===0?"":`${to(t,o=>`[${o}]`).join(",")},`)+'[data-mce-bogus="all"]',p4=t=>document.createTreeWalker(t,NodeFilter.SHOW_COMMENT,o=>g4(o)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP),R1=t=>document.createTreeWalker(t,NodeFilter.SHOW_TEXT,o=>{if(g4(o)){const n=o.parentNode;return n&&ln(m4,n.nodeName)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}return NodeFilter.FILTER_SKIP}),f4=t=>p4(t).nextNode()!==null,FA=t=>R1(t).nextNode()!==null,fr=(t,o)=>o.querySelector(ux(t))!==null,Tr=(t,o)=>{Se(((n,a)=>a.querySelectorAll(ux(n)))(t,o),n=>{const a=je(n);bt(a,"data-mce-bogus")==="all"?Ea(a):Se(t,i=>{Zn(a,i)&&U(a,i)})})},N_=t=>{let o=t.nextNode();for(;o!==null;)o.nodeValue=null,o=t.nextNode()},LA=gn(N_,p4),IA=gn(N_,R1),h4=(t,o)=>{const n=[{condition:Je(fr,o),action:Je(Tr,o)},{condition:f4,action:LA},{condition:FA,action:IA}];let a=t,i=!1;return Se(n,({condition:c,action:d})=>{c(a)&&(i||(a=t.cloneNode(!0),i=!0),d(a))}),a},er=t=>{const o=wa(t,"[data-mce-bogus]");Se(o,n=>{bt(n,"data-mce-bogus")==="all"?Ea(n):pl(n)?(rl(n,vc(Tl)),Ea(n)):_l(n)})},Kb=t=>{const o=wa(t,"input");Se(o,n=>{U(n,"name")})},b4=(t,o,n)=>{let a;return a=o.format==="raw"?go.trim(qs(h4(n,t.serializer.getTempAttrs()).innerHTML)):o.format==="text"?((i,c)=>{const d=i.getDoc(),u=ta(je(i.getBody())),f=_s("div",d);Q(f,"data-mce-bogus","all"),qd(f,{position:"fixed",left:"-9999999px",top:"0"}),wc(f,c.innerHTML),er(f),Kb(f);const y=(k=>ia(k)?k:je(Si(k).dom.body))(u);os(y,f);const v=qs(f.dom.innerText);return Ea(f),v})(t,n):o.format==="tree"?t.serializer.serialize(n,o):((i,c)=>{const d=Ts(i),u=new RegExp(`^(<${d}[^>]*>(&nbsp;|&#160;|\\s| |<br \\/>|)<\\/${d}>[\r
]*|<br \\/>[\r
]*)$`);return c.replace(u,"")})(t,t.serializer.serialize(n,o)),o.format!=="text"&&!Ui(je(n))&&Ue(a)?go.trim(a):a},M_=go.makeMap,y4=t=>{const o=[],n=(t=t||{}).indent,a=M_(t.indent_before||""),i=M_(t.indent_after||""),c=Sc.getEncodeFunc(t.entity_encoding||"raw",t.entities),d=t.element_format!=="xhtml";return{start:(u,f,y)=>{if(n&&a[u]&&o.length>0){const v=o[o.length-1];v.length>0&&v!==`
`&&o.push(`
`)}if(o.push("<",u),f)for(let v=0,k=f.length;v<k;v++){const E=f[v];o.push(" ",E.name,'="',c(E.value,!0),'"')}if(o[o.length]=!y||d?">":" />",y&&n&&i[u]&&o.length>0){const v=o[o.length-1];v.length>0&&v!==`
`&&o.push(`
`)}},end:u=>{let f;o.push("</",u,">"),n&&i[u]&&o.length>0&&(f=o[o.length-1],f.length>0&&f!==`
`&&o.push(`
`))},text:(u,f)=>{u.length>0&&(o[o.length]=f?u:c(u))},cdata:u=>{o.push("<![CDATA[",u,"]]>")},comment:u=>{o.push("<!--",u,"-->")},pi:(u,f)=>{f?o.push("<?",u," ",c(f),"?>"):o.push("<?",u,"?>"),n&&o.push(`
`)},doctype:u=>{o.push("<!DOCTYPE",u,">",n?`
`:"")},reset:()=>{o.length=0},getContent:()=>o.join("").replace(/\n$/,"")}},af=(t={},o=Du())=>{const n=y4(t);return t.validate=!("validate"in t)||t.validate,{serialize:a=>{const i=t.validate,c={3:u=>{var f;n.text((f=u.value)!==null&&f!==void 0?f:"",u.raw)},8:u=>{var f;n.comment((f=u.value)!==null&&f!==void 0?f:"")},7:u=>{n.pi(u.name,u.value)},10:u=>{var f;n.doctype((f=u.value)!==null&&f!==void 0?f:"")},4:u=>{var f;n.cdata((f=u.value)!==null&&f!==void 0?f:"")},11:u=>{let f=u;if(f=f.firstChild)do d(f);while(f=f.next)}};n.reset();const d=u=>{var f;const y=c[u.type];if(y)y(u);else{const v=u.name,k=v in o.getVoidElements();let E=u.attributes;if(i&&E&&E.length>1){const B=[];B.map={};const O=o.getElementRule(u.name);if(O){for(let P=0,M=O.attributesOrder.length;P<M;P++){const j=O.attributesOrder[P];if(j in E.map){const q=E.map[j];B.map[j]=q,B.push({name:j,value:q})}}for(let P=0,M=E.length;P<M;P++){const j=E[P].name;if(!(j in B.map)){const q=E.map[j];B.map[j]=q,B.push({name:j,value:q})}}E=B}}if(n.start(v,E,k),Sd(v))Ue(u.value)&&n.text(u.value,!0),n.end(v);else if(!k){let B=u.firstChild;if(B){v!=="pre"&&v!=="textarea"||B.type!==3||((f=B.value)===null||f===void 0?void 0:f[0])!==`
`||n.text(`
`,!0);do d(B);while(B=B.next)}n.end(v)}}};return a.type!==1||t.inner?a.type===3?c[3](a):c[11](a):d(a),n.getContent()}}},D_=new Set;Se(["margin","margin-left","margin-right","margin-top","margin-bottom","padding","padding-left","padding-right","padding-top","padding-bottom","border","border-width","border-style","border-color","background","background-attachment","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","float","position","left","right","top","bottom","z-index","display","transform","width","max-width","min-width","height","max-height","min-height","overflow","overflow-x","overflow-y","text-overflow","vertical-align","transition","transition-delay","transition-duration","transition-property","transition-timing-function"],t=>{D_.add(t)});const v4=["font","text-decoration","text-emphasis"],Dr=(t,o)=>ut(t.parseStyle(t.getAttrib(o,"style"))),x4=(t,o,n)=>{const a=Dr(t,o),i=Dr(t,n),c=d=>{var u,f;const y=(u=t.getStyle(o,d))!==null&&u!==void 0?u:"",v=(f=t.getStyle(n,d))!==null&&f!==void 0?f:"";return nn(y)&&nn(v)&&y!==v};return zo(a,d=>{const u=f=>zo(f,y=>y===d);if(!u(i)&&u(v4)){const f=gt(i,y=>zo(v4,v=>gr(y,v)));return zo(f,c)}return c(d)})},B1=(t,o,n)=>V.from(n.container()).filter(ro).exists(a=>{const i=t?0:-1;return o(a.data.charAt(n.offset()+i))}),mx=Je(B1,!0,Qr),gx=Je(B1,!1,Qr),w4=t=>{const o=t.container();return ro(o)&&(o.data.length===0||_c(o.data)&&tf.isBookmarkNode(o.parentNode))},Vg=(t,o)=>n=>Bd(t?0:-1,n).filter(o).isSome(),R_=t=>ml(t)&&Yi(je(t),"display")==="block",B_=t=>Oa(t)&&!(o=>an(o)&&o.getAttribute("data-mce-bogus")==="all")(t),PA=Vg(!0,R_),HA=Vg(!1,R_),F1=Vg(!0,$i),L1=Vg(!1,$i),k4=Vg(!0,Ms),px=Vg(!1,Ms),Km=Vg(!0,B_),sf=Vg(!1,B_),_4=(t,o)=>((n,a,i)=>lc(a,n)?Yl(n,c=>i(c)||sa(c,a)).slice(0,-1):[])(t,o,uo),$g=(t,o)=>[t].concat(_4(t,o)),F_=(t,o,n)=>_(t,o,n,w4),L_=(t,o,n)=>Fe($g(je(o.container()),t),(a=>i=>a.isBlock(Pe(i)))(n)),lf=(t,o,n,a)=>F_(t,o.dom,n).forall(i=>L_(o,n,a).fold(()=>!Lr(i,n,o.dom),c=>!Lr(i,n,o.dom)&&lc(c,je(i.container())))),I_=(t,o,n,a)=>L_(o,n,a).fold(()=>F_(t,o.dom,n).forall(i=>!Lr(i,n,o.dom)),i=>F_(t,i.dom,n).isNone()),fx=Je(I_,!1),C4=Je(I_,!0),jA=Je(lf,!1),S4=Je(lf,!0),E4=t=>qp(t).exists(pl),Gl=(t,o,n,a)=>{const i=gt($g(je(n.container()),o),d=>a.isBlock(Pe(d))),c=Zo(i).getOr(o);return p(t,c.dom,n).filter(E4)},P_=(t,o,n)=>qp(o).exists(pl)||Gl(!0,t,o,n).isSome(),Ug=(t,o,n)=>(a=>V.from(a.getNode(!0)).map(je))(o).exists(pl)||Gl(!1,t,o,n).isSome(),Rs=Je(Gl,!1),hx=Je(Gl,!0),wl=t=>Ht.isTextPosition(t)&&!t.isAtStart()&&!t.isAtEnd(),Ym=(t,o,n)=>{const a=gt($g(je(o.container()),t),i=>n.isBlock(Pe(i)));return Zo(a).getOr(t)},Ta=(t,o,n)=>wl(o)?gx(o):gx(o)||I(Ym(t,o,n).dom,o).exists(gx),H_=(t,o,n)=>wl(o)?mx(o):mx(o)||L(Ym(t,o,n).dom,o).exists(mx),bx=t=>qp(t).bind(o=>ts(o,kn)).exists(o=>(n=>lo(["pre","pre-wrap"],n))(Yi(o,"white-space"))),T4=(t,o)=>n=>{return a=new Ns(n,t)[o](),Ze(a)&&Oa(a)&&Hv(a);var a},z4=(t,o,n)=>!bx(o)&&(((a,i,c)=>((d,u)=>I(d.dom,u).isNone())(a,i)||((d,u)=>L(d.dom,u).isNone())(a,i)||fx(a,i,c)||C4(a,i,c)||Ug(a,i,c)||P_(a,i,c))(t,o,n)||Ta(t,o,n)||H_(t,o,n)),I1=(t,o,n)=>!bx(o)&&(fx(t,o,n)||jA(t,o,n)||Ug(t,o,n)||Ta(t,o,n)||((a,i)=>{const c=I(a.dom,i).getOr(i),d=T4(a.dom,"prev");return i.isAtStart()&&(d(i.container())||d(c.container()))})(t,o)),rc=(t,o,n)=>!bx(o)&&(C4(t,o,n)||S4(t,o,n)||P_(t,o,n)||H_(t,o,n)||((a,i)=>{const c=L(a.dom,i).getOr(i),d=T4(a.dom,"next");return i.isAtEnd()&&(d(i.container())||d(c.container()))})(t,o)),mu=(t,o,n)=>I1(t,o,n)||rc(t,(a=>{const i=a.container(),c=a.offset();return ro(i)&&c<i.data.length?Ht(i,c+1):a})(o),n),A4=(t,o)=>Ln(t.charAt(o)),yx=(t,o)=>Qr(t.charAt(o)),vx=(t,o,n,a)=>{const i=o.data,c=Ht(o,0);return n||!A4(i,0)||mu(t,c,a)?!!(n&&yx(i,0)&&I1(t,c,a))&&(o.data=ns+i.slice(1),!0):(o.data=" "+i.slice(1),!0)},O4=(t,o,n,a)=>{const i=o.data,c=Ht(o,i.length-1);return n||!A4(i,i.length-1)||mu(t,c,a)?!!(n&&yx(i,i.length-1)&&rc(t,c,a))&&(o.data=i.slice(0,-1)+ns,!0):(o.data=i.slice(0,-1)+" ",!0)},VA=(t,o,n)=>{const a=o.container();if(!ro(a))return V.none();if((i=>{const c=i.container();return ro(c)&&Xr(c.data,ns)})(o)){const i=vx(t,a,!1,n)||(c=>{const d=c.data,u=(f=>{const y=f.split("");return to(y,(v,k)=>Ln(v)&&k>0&&k<y.length-1&&or(y[k-1])&&or(y[k+1])?" ":v).join("")})(d);return u!==d&&(c.data=u,!0)})(a)||O4(t,a,!1,n);return gi(i,o)}if(mu(t,o,n)){const i=vx(t,a,!0,n)||O4(t,a,!0,n);return gi(i,o)}return V.none()},Yb=(t,o,n,a)=>{if(n===0)return;const i=je(t),c=Fa(i,y=>a.isBlock(Pe(y))).getOr(i),d=t.data.slice(o,o+n),u=o+n>=t.data.length&&rc(c,Ht(t,t.data.length),a),f=o===0&&I1(c,Ht(t,0),a);t.replaceData(o,n,vp(d,4,f,u))},yh=(t,o,n)=>{const a=t.data.slice(o),i=a.length-It(a).length;Yb(t,o,i,n)},P1=(t,o,n)=>{const a=t.data.slice(0,o),i=a.length-dn(a).length;Yb(t,o-i,i,n)},j_=(t,o,n,a,i=!0)=>{const c=dn(t.data).length,d=i?t:o,u=i?o:t;return i?d.appendData(u.data):d.insertData(0,u.data),Ea(je(u)),a&&yh(d,c,n),d},_m=(t,o)=>((n,a)=>{const i=n.container(),c=n.offset();return!Ht.isTextPosition(n)&&i===a.parentNode&&c>Ht.before(a).offset()})(o,t)?Ht(o.container(),o.offset()-1):o,N4=t=>{return Ka(t.previousSibling)?V.some((o=t.previousSibling,ro(o)?Ht(o,o.data.length):Ht.after(o))):t.previousSibling?Y(t.previousSibling):V.none();var o},M4=t=>{return Ka(t.nextSibling)?V.some((o=t.nextSibling,ro(o)?Ht(o,0):Ht.before(o))):t.nextSibling?Z(t.nextSibling):V.none();var o},gu=(t,o,n)=>((a,i,c)=>a?((d,u)=>M4(u).orThunk(()=>N4(u)).orThunk(()=>((f,y)=>L(f,Ht.after(y)).orThunk(()=>I(f,Ht.before(y))))(d,u)))(i,c):((d,u)=>N4(u).orThunk(()=>M4(u)).orThunk(()=>((f,y)=>V.from(y.previousSibling?y.previousSibling:y.parentNode).bind(v=>I(f,Ht.before(v))).orThunk(()=>L(f,Ht.after(y))))(d,u)))(i,c))(t,o,n).map(Je(_m,n)),Xb=(t,o,n)=>{n.fold(()=>{t.focus()},a=>{t.selection.setRng(a.toRange(),o)})},D4=(t,o)=>o&&ln(t.schema.getBlockElements(),Pe(o)),fc=(t,o,n,a=!0,i=!1)=>{const c=gu(o,t.getBody(),n.dom),d=Fa(n,Je(D4,t),(u=t.getBody(),y=>y.dom===u));var u;const f=((y,v,k,E)=>{const B=Ki(y).filter(_r),O=ie(y).filter(_r);return Ea(y),(P=B,M=O,j=v,q=(K,re,ee)=>{const ke=K.dom,et=re.dom,st=ke.data.length;return j_(ke,et,k,E),ee.container()===et?Ht(ke,st):ee},P.isSome()&&M.isSome()&&j.isSome()?V.some(q(P.getOrDie(),M.getOrDie(),j.getOrDie())):V.none()).orThunk(()=>(E&&(B.each(K=>P1(K.dom,K.dom.length,k)),O.each(K=>yh(K.dom,0,k))),v));var P,M,j,q})(n,c,t.schema,((y,v)=>ln(y.schema.getTextInlineElements(),Pe(v)))(t,n));t.dom.isEmpty(t.getBody())?(t.setContent(""),t.selection.setCursorLocation()):d.bind(y=>((v,k)=>{if(ys(v)){const E=ic('<br data-mce-bogus="1">');return k?Se(Lt(v),B=>{c_(B)||Ea(B)}):bd(v),os(v,E),V.some(Ht.before(E.dom))}return V.none()})(y,i)).fold(()=>{a&&Xb(t,o,f)},y=>{a&&Xb(t,o,V.some(y))})},Va=/[\u0591-\u07FF\uFB1D-\uFDFF\uFE70-\uFEFC]/,$u=(t,o)=>Ci(je(o),Tv(t))&&!Ed(t.schema,o)&&t.dom.isEditable(o),H1=t=>{var o;return wr.DOM.getStyle(t,"direction",!0)==="rtl"||(n=>Va.test(n))((o=t.textContent)!==null&&o!==void 0?o:"")},Zg=(t,o,n)=>{const a=((i,c,d)=>gt(wr.DOM.getParents(d.container(),"*",c),i))(t,o,n);return V.from(a[a.length-1])},ld=(t,o)=>{const n=o.container(),a=o.offset();return t?bs(n)?ro(n.nextSibling)?Ht(n.nextSibling,0):Ht.after(n):Hl(o)?Ht(n,a+1):o:bs(n)?ro(n.previousSibling)?Ht(n.previousSibling,n.previousSibling.data.length):Ht.before(n):_d(o)?Ht(n,a-1):o},xx=Je(ld,!0),R4=Je(ld,!1),wx=(t,o)=>{const n=a=>a.stopImmediatePropagation();t.on("beforeinput input",n,!0),t.getDoc().execCommand(o),t.off("beforeinput input",n)},V_=t=>wx(t,"Delete"),B4=t=>ri(t)||uc(t),j1=(t,o)=>lc(t,o)?ts(o,B4,(n=>a=>aa(Gi(a),n,sa))(t)):V.none(),V1=(t,o=!0)=>{t.dom.isEmpty(t.getBody())&&t.setContent("",{no_selection:!o})},$_=(t,o,n)=>Ir(Z(n),Y(n),(a,i)=>{const c=ld(!0,a),d=ld(!1,i),u=ld(!1,o);return t?L(n,u).exists(f=>f.isEqual(d)&&o.isEqual(c)):I(n,u).exists(f=>f.isEqual(c)&&o.isEqual(d))}).getOr(!0),$1=t=>{var o;return(Nt(o=t)===8||Pe(o)==="#comment"?Ki(t):Ra(t)).bind($1).orThunk(()=>V.some(t))},F4=(t,o,n,a=!0)=>{var i;o.deleteContents();const c=$1(n).getOr(n),d=je((i=t.dom.getParent(c.dom,t.dom.isBlock))!==null&&i!==void 0?i:n.dom);if(d.dom===t.getBody()?V1(t,a):ys(d)&&(Oi(d),a&&t.selection.setCursorLocation(d.dom,0)),!sa(n,d)){const f=aa(Gi(d),n)?[]:Gi(u=d).map(Lt).map(y=>gt(y,v=>!sa(u,v))).getOr([]);Se(f.concat(Lt(n)),y=>{sa(y,d)||lc(y,d)||!ys(y)||Ea(y)})}var u},$A=(t,o)=>((n,a)=>{const i=n.dom;return i.parentNode?((c,d)=>Fe(c.dom.childNodes,u=>d(je(u))).map(je))(je(i.parentNode),c=>!sa(n,c)&&a(c)):V.none()})(t,o).isSome(),L4=(t,o)=>Kc(t,o).isSome(),U_=t=>wa(t,"td,th"),I4=(t,o)=>zs(je(t),o),kx=(t,o)=>({start:t,end:o}),U1=zc([{singleCellTable:["rng","cell"]},{fullTable:["table"]},{partialTable:["cells","outsideDetails"]},{multiTable:["startTableCells","endTableCells","betweenRng"]}]),_x=(t,o)=>Yc(je(t),"td,th",o),Z_=t=>!sa(t.start,t.end),q_=(t,o)=>zs(t.start,o).bind(n=>zs(t.end,o).bind(a=>gi(sa(n,a),n))),W_=t=>o=>q_(o,t).map(n=>((a,i,c)=>({rng:a,table:i,cells:c}))(o,n,U_(n))),P4=(t,o,n,a)=>{if(n.collapsed||!t.forall(Z_))return V.none();if(o.isSameTable){const i=t.bind(W_(a));return V.some({start:i,end:i})}{const i=_x(n.startContainer,a),c=_x(n.endContainer,a),d=i.bind((f=>y=>zs(y,f).bind(v=>Gn(U_(v)).map(k=>kx(y,k))))(a)).bind(W_(a)),u=c.bind((f=>y=>zs(y,f).bind(v=>Zo(U_(v)).map(k=>kx(k,y))))(a)).bind(W_(a));return V.some({start:d,end:u})}},G_=(t,o)=>ge(t,n=>sa(n,o)),jc=t=>Ir(G_(t.cells,t.rng.start),G_(t.cells,t.rng.end),(o,n)=>t.cells.slice(o,n+1)),H4=(t,o)=>{const{startTable:n,endTable:a}=o,i=t.cloneRange();return n.each(c=>i.setStartAfter(c.dom)),a.each(c=>i.setEndBefore(c.dom)),i},j4=(t,o)=>{const n=(c=>d=>sa(c,d))(t),a=((c,d)=>{const u=_x(c.startContainer,d),f=_x(c.endContainer,d);return Ir(u,f,kx)})(o,n),i=((c,d)=>{const u=I4(c.startContainer,d),f=I4(c.endContainer,d),y=u.isSome(),v=f.isSome(),k=Ir(u,f,sa).getOr(!1);return(E=>Ir(E.startTable,E.endTable,(B,O)=>{const P=L4(B,j=>sa(j,O)),M=L4(O,j=>sa(j,B));return P||M?{...E,startTable:P?V.none():E.startTable,endTable:M?V.none():E.endTable,isSameTable:!1,isMultiTable:!1}:E}).getOr(E))({startTable:u,endTable:f,isStartInTable:y,isEndInTable:v,isSameTable:k,isMultiTable:!k&&y&&v})})(o,n);return((c,d,u)=>c.exists(f=>((y,v)=>!Z_(y)&&q_(y,v).exists(k=>{const E=k.dom.rows;return E.length===1&&E[0].cells.length===1}))(f,u)&&ql(f.start,d)))(a,o,n)?a.map(c=>U1.singleCellTable(o,c.start)):i.isMultiTable?((c,d,u,f)=>P4(c,d,u,f).bind(({start:y,end:v})=>{const k=y.bind(jc).getOr([]),E=v.bind(jc).getOr([]);if(k.length>0&&E.length>0){const B=H4(u,d);return V.some(U1.multiTable(k,E,B))}return V.none()}))(a,i,o,n):((c,d,u,f)=>P4(c,d,u,f).bind(({start:y,end:v})=>y.or(v)).bind(y=>{const{isSameTable:v}=d,k=jc(y).getOr([]);if(v&&y.cells.length===k.length)return V.some(U1.fullTable(y.table));if(k.length>0){if(v)return V.some(U1.partialTable(k,V.none()));{const E=H4(u,d);return V.some(U1.partialTable(k,V.some({...d,rng:E})))}}return V.none()}))(a,i,o,n)},Cx=t=>Se(t,o=>{U(o,"contenteditable"),Oi(o)}),Z1=(t,o,n,a)=>{const i=n.cloneRange();a?(i.setStart(n.startContainer,n.startOffset),i.setEndAfter(o.dom.lastChild)):(i.setStartBefore(o.dom.firstChild),i.setEnd(n.endContainer,n.endOffset)),Sx(t,i,o,!1).each(c=>c())},K_=t=>{const o=ca(t),n=je(t.selection.getNode());al(n.dom)&&ys(n)?t.selection.setCursorLocation(n.dom,0):t.selection.collapse(!0),o.length>1&&zo(o,a=>sa(a,n))&&Q(n,"data-mce-selected","1")},Y_=(t,o,n)=>V.some(()=>{const a=t.selection.getRng(),i=n.bind(({rng:c,isStartInTable:d})=>{const u=((y,v)=>V.from(y.dom.getParent(v,y.dom.isBlock)).map(je))(t,d?c.endContainer:c.startContainer);c.deleteContents(),((y,v,k)=>{k.each(E=>{v?Ea(E):(Oi(E),y.selection.setCursorLocation(E.dom,0))})})(t,d,u.filter(ys));const f=d?o[0]:o[o.length-1];return Z1(t,f,a,d),ys(f)?V.none():V.some(d?o.slice(1):o.slice(0,-1))}).getOr(o);Cx(i),K_(t)}),X_=(t,o,n,a)=>V.some(()=>{const i=t.selection.getRng(),c=o[0],d=n[n.length-1];Z1(t,c,i,!0),Z1(t,d,i,!1);const u=ys(c)?o:o.slice(1),f=ys(d)?n:n.slice(0,-1);Cx(u.concat(f)),a.deleteContents(),K_(t)}),Sx=(t,o,n,a=!0)=>V.some(()=>{F4(t,o,n,a)}),Uu=(t,o)=>V.some(()=>fc(t,!1,o)),V4=(t,o)=>Fe($g(o,t),Sn),q1=(t,o)=>Fe($g(o,t),ma("caption")),Vc=(t,o)=>V.some(()=>{Oi(o),t.selection.setCursorLocation(o.dom,0)}),Jb=(t,o)=>t?k4(o):px(o),Qb=(t,o,n)=>{const a=je(t.getBody());return q1(a,n).fold(()=>((i,c,d,u)=>{const f=Ht.fromRangeStart(i.selection.getRng());return V4(d,u).bind(y=>ys(y)?Vc(i,y):((v,k,E,B,O)=>b(E,v.getBody(),O).bind(P=>V4(k,je(P.getNode())).bind(M=>sa(M,B)?V.none():V.some($t))))(i,d,c,y,f))})(t,o,a,n).orThunk(()=>gi(((i,c)=>{const d=Ht.fromRangeStart(i.selection.getRng());return Jb(c,d)||p(c,i.getBody(),d).exists(u=>Jb(c,u))})(t,o),$t)),i=>((c,d,u,f)=>{const y=Ht.fromRangeStart(c.selection.getRng());return ys(f)?Vc(c,f):((v,k,E,B,O)=>b(E,v.getBody(),O).fold(()=>V.some($t),P=>((M,j,q,K)=>Z(M.dom).bind(re=>Y(M.dom).map(ee=>j?q.isEqual(re)&&K.isEqual(ee):q.isEqual(ee)&&K.isEqual(re))).getOr(!0))(B,E,O,P)?((M,j)=>Vc(M,j))(v,B):((M,j,q)=>q1(M,je(q.getNode())).fold(()=>V.some($t),K=>gi(!sa(K,j),$t)))(k,B,P)))(c,u,d,f,y)})(t,o,a,i))},J_=(t,o)=>{const n=je(t.selection.getStart(!0)),a=ca(t);return t.selection.isCollapsed()&&a.length===0?Qb(t,o,n):((i,c,d)=>{const u=je(i.getBody()),f=i.selection.getRng();return d.length!==0?Y_(i,d,V.none()):((y,v,k,E)=>q1(v,E).fold(()=>((B,O,P)=>j4(O,P).bind(M=>M.fold(Je(Sx,B),Je(Uu,B),Je(Y_,B),Je(X_,B))))(y,v,k),B=>((O,P)=>Vc(O,P))(y,B)))(i,u,f,c)})(t,n,a)},Zu=(t,o)=>{let n=o;for(;n&&n!==t;){if(zi(n)||Oa(n))return n;n=n.parentNode}return null},Xa=["data-ephox-","data-mce-","data-alloy-","data-snooker-","_"],W1=go.each,Ex=t=>{const o=t.dom,n=new Set(t.serializer.getTempAttrs()),a=i=>zo(Xa,c=>gr(i,c))||n.has(i);return{compare:(i,c)=>{if(i.nodeName!==c.nodeName||i.nodeType!==c.nodeType)return!1;const d=f=>{const y={};return W1(o.getAttribs(f),v=>{const k=v.nodeName.toLowerCase();k==="style"||a(k)||(y[k]=o.getAttrib(f,k))}),y},u=(f,y)=>{for(const v in f)if(ln(f,v)){const k=y[v];if(fo(k)||f[v]!==k)return!1;delete y[v]}for(const v in y)if(ln(y,v))return!1;return!0};return an(i)&&an(c)&&(!u(d(i),d(c))||!u(o.parseStyle(o.getAttrib(i,"style")),o.parseStyle(o.getAttrib(c,"style"))))?!1:!No(i)&&!No(c)},isAttributeInternal:a}},Q_=t=>["h1","h2","h3","h4","h5","h6"].includes(t.name),Tx=(t,o,n,a)=>{const i=n.name;for(let c=0,d=t.length;c<d;c++){const u=t[c];if(u.name===i){const f=a.nodes[i];f?f.nodes.push(n):a.nodes[i]={filter:u,nodes:[n]}}}if(n.attributes)for(let c=0,d=o.length;c<d;c++){const u=o[c],f=u.name;if(f in n.attributes.map){const y=a.attributes[f];y?y.nodes.push(n):a.attributes[f]={filter:u,nodes:[n]}}}},zx=(t,o)=>{const n=(a,i)=>{Ft(a,c=>{const d=Pn(c.nodes);Se(c.filter.callbacks,u=>{for(let f=d.length-1;f>=0;f--){const y=d[f];(i?y.attr(c.filter.name)!==void 0:y.name===c.filter.name)&&!me(y.parent)||d.splice(f,1)}d.length>0&&u(d,c.filter.name,o)})})};n(t.nodes,!1),n(t.attributes,!0)},Ax=(t,o,n,a={})=>{const i=((c,d,u)=>{const f={nodes:{},attributes:{}};return u.firstChild&&((y,v)=>{let k=y;for(;k=k.walk();)Tx(c,d,k,f)})(u),f})(t,o,n);zx(i,a)},G1=(t,o,n,a)=>{if((t.pad_empty_with_br||o.insert)&&n(a)){const i=new pc("br",1);o.insert&&i.attr("data-mce-bogus","1"),a.empty().append(i)}else a.empty().append(new pc("#text",3)).value=ns},K1=(t,o)=>{const n=t?.firstChild;return Ze(n)&&n===t.lastChild&&n.name===o},vh=(t,o,n,a)=>a.isEmpty(o,n,i=>((c,d)=>{const u=c.getElementRule(d.name);return u?.paddEmpty===!0})(t,i)),$4=t=>{let o;for(let n=t;n;n=n.parent){const a=n.attr("contenteditable");if(a==="false")break;a==="true"&&(o=n)}return V.from(o)},Ox=(t,o,n=t.parent)=>{if(o.getSpecialElements()[t.name])t.empty().remove();else{const a=t.children();for(const i of a)n&&!o.isValidChild(n.name,i.name)&&Ox(i,o,n);t.unwrap()}},Nx=(t,o,n,a=$t)=>{const i=o.getTextBlockElements(),c=o.getNonEmptyElements(),d=o.getWhitespaceElements(),u=go.makeMap("tr,td,th,tbody,thead,tfoot,table,summary"),f=new Set,y=v=>v!==n&&!u[v.name];for(let v=0;v<t.length;v++){const k=t[v];let E,B,O;if(!k.parent||f.has(k))continue;if(i[k.name]&&k.parent.name==="li"){let M=k.next;for(;M&&i[M.name];)M.name="li",f.add(M),k.parent.insert(M,k.parent),M=M.next;k.unwrap();continue}const P=[k];for(E=k.parent;E&&!o.isValidChild(E.name,k.name)&&y(E);E=E.parent)P.push(E);if(E&&P.length>1)if(Mx(o,k,E))Ox(k,o);else{P.reverse(),B=P[0].clone(),a(B);let M=B;for(let j=0;j<P.length-1;j++){o.isValidChild(M.name,P[j].name)&&j>0?(O=P[j].clone(),a(O),M.append(O)):O=M;for(let q=P[j].firstChild;q&&q!==P[j+1];){const K=q.next;O.append(q),q=K}M=O}vh(o,c,d,B)?E.insert(k,P[0],!0):(E.insert(B,P[0],!0),E.insert(k,B)),E=P[0],(vh(o,c,d,E)||K1(E,"br"))&&E.empty().remove()}else if(k.parent){if(k.name==="li"){let M=k.prev;if(M&&(M.name==="ul"||M.name==="ol")){M.append(k);continue}if(M=k.next,M&&(M.name==="ul"||M.name==="ol")&&M.firstChild){M.insert(k,M.firstChild,!0);continue}const j=new pc("ul",1);a(j),k.wrap(j);continue}if(o.isValidChild(k.parent.name,"div")&&o.isValidChild("div",k.name)){const M=new pc("div",1);a(M),k.wrap(M)}else Ox(k,o)}}},Mx=(t,o,n=o.parent)=>!(!n||(!t.children[o.name]||t.isValidChild(n.name,o.name))&&(o.name!=="a"||!((a,i)=>{let c=a;for(;c;){if(c.name==="a")return!0;c=c.parent}return!1})(n))&&(!(a=>a.name==="summary")(n)||!Q_(o)||n?.firstChild===o&&n?.lastChild===o)),Dx=t=>t.collapsed?t:(o=>{const n=Ht.fromRangeStart(o),a=Ht.fromRangeEnd(o),i=o.commonAncestorContainer;return p(!1,i,a).map(c=>!Lr(n,a,i)&&Lr(n,c,i)?((d,u,f,y)=>{const v=document.createRange();return v.setStart(d,u),v.setEnd(f,y),v})(n.container(),n.offset(),c.container(),c.offset()):o).getOr(o)})(t),ey=(t,o)=>{let n=o.firstChild,a=o.lastChild;return n&&n.name==="meta"&&(n=n.next),a&&a.attr("id")==="mce_marker"&&(a=a.prev),((i,c)=>{const d=i.getNonEmptyElements();return Ze(c)&&(c.isEmpty(d)||((u,f)=>u.getBlockElements()[f.name]&&(y=>Ze(y.firstChild)&&y.firstChild===y.lastChild)(f)&&(y=>y.name==="br"||y.value===ns)(f.firstChild))(i,c))})(t,a)&&(a=a?.prev),!(!n||n!==a||n.name!=="ul"&&n.name!=="ol")},U4=t=>{return t.length>0&&(!(n=t[t.length-1]).firstChild||Ze((o=n)==null?void 0:o.firstChild)&&o.firstChild===o.lastChild&&(a=>a.data===ns||da(a))(o.firstChild))?t.slice(0,-1):t;var o,n},Y1=(t,o)=>{const n=t.getParent(o,t.isBlock);return n&&n.nodeName==="LI"?n:null},Z4=(t,o)=>{const n=Ht.after(t),a=nc(o).prev(n);return a?a.toRange():null},UA=(t,o,n,a)=>{const i=((k,E,B)=>{const O=E.serialize(B);return(P=>{var M,j;const q=P.firstChild,K=P.lastChild;return q&&q.nodeName==="META"&&((M=q.parentNode)===null||M===void 0||M.removeChild(q)),K&&K.id==="mce_marker"&&((j=K.parentNode)===null||j===void 0||j.removeChild(K)),P})(k.createFragment(O))})(o,t,a),c=Y1(o,n.startContainer),d=U4((u=i.firstChild,gt((f=u?.childNodes)!==null&&f!==void 0?f:[],k=>k.nodeName==="LI")));var u,f;const y=o.getRoot(),v=k=>{const E=Ht.fromRangeStart(n),B=nc(o.getRoot()),O=k===1?B.prev(E):B.next(E),P=O?.getNode();return!P||Y1(o,P)!==c};return c?v(1)?((k,E,B)=>{const O=k.parentNode;return O&&go.each(E,P=>{O.insertBefore(P,k)}),((P,M)=>{const j=Ht.before(P),q=nc(M).next(j);return q?q.toRange():null})(k,B)})(c,d,y):v(2)?((k,E,B,O)=>(O.insertAfter(E.reverse(),k),Z4(E[0],B)))(c,d,y,o):((k,E,B,O)=>{const P=((j,q)=>{const K=q.cloneRange(),re=q.cloneRange();return K.setStartBefore(j),re.setEndAfter(j),[K.cloneContents(),re.cloneContents()]})(k,O),M=k.parentNode;return M&&(M.insertBefore(P[0],k),go.each(E,j=>{M.insertBefore(j,k)}),M.insertBefore(P[1],k),M.removeChild(k)),Z4(E[E.length-1],B)})(c,d,y,n):null},q4=["pre"],Rx=al,W4=(t,o,n)=>{var a,i;const c=t.selection,d=t.dom,u=t.parser,f=n.merge,y=af({validate:!0},t.schema),v='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;</span>';n.preserve_zwsp||(o=qs(o)),o.indexOf("{$caret}")===-1&&(o+="{$caret}"),o=o.replace(/\{\$caret\}/,v);let k=c.getRng();const E=k.startContainer,B=t.getBody();E===B&&c.isCollapsed()&&d.isBlock(B.firstChild)&&((K,re)=>Ze(re)&&!K.schema.getVoidElements()[re.nodeName])(t,B.firstChild)&&d.isEmpty(B.firstChild)&&(k=d.createRng(),k.setStart(B.firstChild,0),k.setEnd(B.firstChild,0),c.setRng(k)),c.isCollapsed()||(K=>{const re=K.dom,ee=Dx(K.selection.getRng());K.selection.setRng(ee);const ke=re.getParent(ee.startContainer,Rx);((et,st,mt)=>!!Ze(mt)&&mt===et.getParent(st.endContainer,Rx)&&ql(je(mt),st))(re,ee,ke)?Sx(K,ee,je(ke)):ee.startContainer===ee.endContainer&&ee.endOffset-ee.startOffset==1&&ro(ee.startContainer.childNodes[ee.startOffset])?ee.deleteContents():K.getDoc().execCommand("Delete",!1)})(t);const O=c.getNode(),P={context:O.nodeName.toLowerCase(),data:n.data,insert:!0},M=u.parse(o,P);if(n.paste===!0&&ey(t.schema,M)&&((K,re)=>!!Y1(K,re))(d,O))return k=UA(y,d,c.getRng(),M),k&&c.setRng(k),o;n.paste===!0&&((K,re,ee,ke)=>{var et;const st=re.firstChild,mt=re.lastChild,kt=st===(mt.attr("data-mce-type")==="bookmark"?mt.prev:mt),Ve=lo(q4,st.name);if(kt&&Ve){const ot=st.attr("contenteditable")!=="false",pt=((et=K.getParent(ee,K.isBlock))===null||et===void 0?void 0:et.nodeName.toLowerCase())===st.name,Jt=V.from(Zu(ke,ee)).forall(zi);return ot&&pt&&Jt}return!1})(d,M,O,t.getBody())&&((a=M.firstChild)===null||a===void 0||a.unwrap()),(K=>{let re=K;for(;re=re.walk();)re.type===1&&re.attr("data-mce-fragment","1")})(M);let j=M.lastChild;if(j&&j.attr("id")==="mce_marker"){const K=j;for(j=j.prev;j;j=j.walk(!0))if(j.type===3||!d.isBlock(j.name)){j.parent&&t.schema.isValidChild(j.parent.name,"span")&&j.parent.insert(K,j,j.name==="br");break}}if(t._selectionOverrides.showBlockCaretContainer(O),P.invalid||((K,re,ee)=>{var ke;return zo(ee.children(),Q_)&&((ke=K.getParent(re,K.isBlock))===null||ke===void 0?void 0:ke.nodeName)==="SUMMARY"})(d,O,M)){t.selection.setContent(v);let K,re=c.getNode();const ee=t.getBody();for(xd(re)?re=K=ee:K=re;K&&K!==ee;)re=K,K=K.parentNode;o=re===ee?ee.innerHTML:d.getOuterHTML(re);const ke=u.parse(o),et=(ot=>{for(let pt=ot;pt;pt=pt.walk())if(pt.attr("id")==="mce_marker")return V.some(pt);return V.none()})(ke),st=et.bind($4).getOr(ke);et.each(ot=>ot.replace(M));const mt=M.children(),kt=(i=M.parent)!==null&&i!==void 0?i:ke;M.unwrap();const Ve=gt(mt,ot=>Mx(t.schema,ot,kt));Nx(Ve,t.schema,st),Ax(u.getNodeFilters(),u.getAttributeFilters(),ke),o=y.serialize(ke),re===ee?d.setHTML(ee,o):d.setOuterHTML(re,o)}else o=y.serialize(M),((K,re,ee)=>{var ke;if(ee.getAttribute("data-mce-bogus")==="all")(ke=ee.parentNode)===null||ke===void 0||ke.insertBefore(K.dom.createFragment(re),ee);else{const et=ee.firstChild,st=ee.lastChild;!et||et===st&&et.nodeName==="BR"?K.dom.setHTML(ee,re):K.selection.setContent(re,{no_events:!0})}})(t,o,O);var q;return((K,re)=>{const ee=K.schema.getTextInlineElements(),ke=K.dom;if(re){const et=K.getBody(),st=Ex(K);go.each(ke.select("*[data-mce-fragment]"),mt=>{if(Ze(ee[mt.nodeName.toLowerCase()])&&((kt,Ve)=>ze(Dr(kt,Ve),ot=>!(pt=>D_.has(pt))(ot)))(ke,mt)){for(let kt=mt.parentElement;Ze(kt)&&kt!==et&&!x4(ke,mt,kt);kt=kt.parentElement)if(st.compare(kt,mt)){ke.remove(mt,!0);break}}})}})(t,f),((K,re)=>{var ee,ke,et;let st;const mt=K.dom,kt=K.selection;if(!re)return;kt.scrollIntoView(re);const Ve=Zu(K.getBody(),re);if(Ve&&mt.getContentEditable(Ve)==="false")return mt.remove(re),void kt.select(Ve);let ot=mt.createRng();const pt=re.previousSibling;if(ro(pt)){ot.setStart(pt,(ke=(ee=pt.nodeValue)===null||ee===void 0?void 0:ee.length)!==null&&ke!==void 0?ke:0);const en=re.nextSibling;ro(en)&&(pt.appendData(en.data),(et=en.parentNode)===null||et===void 0||et.removeChild(en))}else ot.setStartBefore(re),ot.setEndBefore(re);const Jt=mt.getParent(re,mt.isBlock);if(mt.remove(re),Jt&&mt.isEmpty(Jt)){const en=Rx(Jt);bd(je(Jt)),ot.setStart(Jt,0),ot.setEnd(Jt,0),en||(Fo=>!!Fo.getAttribute("data-mce-fragment"))(Jt)||!(st=(Fo=>{let Nn=Ht.fromRangeStart(Fo);return Nn=nc(K.getBody()).next(Nn),Nn?.toRange()})(ot))?mt.add(Jt,mt.create("br",en?{}:{"data-mce-bogus":"1"})):(ot=st,mt.remove(Jt))}kt.setRng(ot)})(t,d.get("mce_marker")),q=t.getBody(),go.each(q.getElementsByTagName("*"),K=>{K.removeAttribute("data-mce-fragment")}),((K,re,ee)=>{V.from(K.getParent(re,"td,th")).map(je).each(ke=>((et,st)=>{Ra(et).each(mt=>{Ki(mt).each(kt=>{st.isBlock(Pe(et))&&pl(mt)&&st.isBlock(Pe(kt))&&Ea(mt)})})})(ke,ee))})(d,c.getStart(),t.schema),((K,re,ee)=>{const ke=Yl(je(ee),et=>sa(et,je(re)));$o(ke,ke.length-2).filter(kn).fold(()=>xp(K,re),et=>xp(K,et.dom))})(t.schema,t.getBody(),c.getStart()),o},xh=t=>t instanceof pc,Bx=(t,o,n)=>{t.dom.setHTML(t.getBody(),o),n!==!0&&(a=>{rf(a)&&Z(a.getBody()).each(i=>{const c=i.getNode(),d=Ms(c)?Z(c).getOr(i):i;a.selection.setRng(d.toRange())})})(t)},e2=t=>de(t)?t:uo,Fx=(t,o,n)=>{const a=o(t),i=e2(n);return a.orThunk(()=>i(t)?V.none():((c,d,u)=>{let f=c.dom;const y=e2(u);for(;f.parentNode;){f=f.parentNode;const v=je(f),k=d(v);if(k.isSome())return k;if(y(v))break}return V.none()})(t,o,i))},Lx=Pc,t2=(t,o,n)=>{const a=t.formatter.get(n);if(a)for(let i=0;i<a.length;i++){const c=a[i];if(Fd(c)&&c.inherit===!1&&t.dom.is(o,c.selector))return!0}return!1},Ix=(t,o,n,a,i)=>{const c=t.dom.getRoot();if(o===c)return!1;const d=t.dom.getParent(o,u=>!!t2(t,u,n)||u.parentNode===c||!!Cm(t,u,n,a,!0));return!!Cm(t,d,n,a,i)},X1=(t,o,n)=>!(!el(n)||!Lx(o,n.inline))||!(!Wm(n)||!Lx(o,n.block))||!!Fd(n)&&an(o)&&t.is(o,n.selector),o2=(t,o,n,a,i,c)=>{const d=n[a],u=a==="attributes";if(de(n.onmatch))return n.onmatch(o,n,a);if(d){if(Yr(d)){for(let f=0;f<d.length;f++)if(u?t.getAttrib(o,d[f]):Lg(t,o,d[f]))return!0}else for(const f in d)if(ln(d,f)){const y=u?t.getAttrib(o,f):Lg(t,o,f),v=Qp(d[f],c),k=me(y)||sr(y);if(k&&me(v))continue;if(i&&k&&!n.exact||(!i||n.exact)&&!Lx(y,Wl(v,f)))return!1}}return!0},Cm=(t,o,n,a,i)=>{const c=t.formatter.get(n),d=t.dom;if(c&&an(o))for(let u=0;u<c.length;u++){const f=c[u];if(X1(t.dom,o,f)&&o2(d,o,f,"attributes",i,a)&&o2(d,o,f,"styles",i,a)){const y=f.classes;if(y){for(let v=0;v<y.length;v++)if(!t.dom.hasClass(o,Qp(y[v],a)))return}return f}}},Px=(t,o,n,a,i)=>{if(a)return Ix(t,a,o,n,i);if(a=t.selection.getNode(),Ix(t,a,o,n,i))return!0;const c=t.selection.getStart();return!(c===a||!Ix(t,c,o,n,i))},wh=Za,n2=t=>{if(t){const o=new Ns(t,t);for(let n=o.current();n;n=o.next())if(ro(n))return n}return null},Hx=t=>{const o=_s("span");return Ee(o,{id:ae,"data-mce-bogus":"1","data-mce-type":"format-caret"}),t&&os(o,vc(wh)),o},jx=(t,o,n)=>{const a=t.dom,i=t.selection;if(D3(o))fc(t,!1,je(o),n,!0);else{const c=i.getRng(),d=a.getParent(o,a.isBlock),u=c.startContainer,f=c.startOffset,y=c.endContainer,v=c.endOffset,k=(E=>{const B=n2(E);return B&&B.data.charAt(0)===wh&&B.deleteData(0,1),B})(o);a.remove(o,!0),u===k&&f>0&&c.setStart(k,f-1),y===k&&v>0&&c.setEnd(k,v-1),d&&a.isEmpty(d)&&Oi(je(d)),i.setRng(c)}},Vx=(t,o,n)=>{const a=t.dom,i=t.selection;if(o)jx(t,o,n);else if(!(o=Le(t.getBody(),i.getStart())))for(;o=a.get(ae);)jx(t,o,n)},r2=(t,o)=>(t.appendChild(o),o),a2=(t,o)=>{var n;const a=pe(t,(c,d)=>r2(c,d.cloneNode(!1)),o),i=(n=a.ownerDocument)!==null&&n!==void 0?n:document;return r2(a,i.createTextNode(wh))},s2=(t,o,n,a)=>{const i=t.dom,c=t.selection;let d=!1;const u=t.formatter.get(o);if(!u)return;const f=c.getRng(),y=f.startContainer,v=f.startOffset;let k=y;ro(y)&&(v!==y.data.length&&(d=!0),k=k.parentNode);const E=[];let B;for(;k;){if(Cm(t,k,o,n,a)){B=k;break}k.nextSibling&&(d=!0),E.push(k),k=k.parentNode}if(B)if(d){const O=c.getBookmark();f.collapse(!0);let P=ef(i,f,u,!0);P=N1(P),t.formatter.remove(o,n,P,a),c.moveToBookmark(O)}else{const O=Le(t.getBody(),B),P=Ze(O)?i.getParents(B.parentNode,Bt,O):[],M=Hx(!1).dom;((K,re,ee)=>{var ke,et;const st=K.dom,mt=st.getParent(ee,Je(Zv,K.schema));mt&&st.isEmpty(mt)?(ke=ee.parentNode)===null||ke===void 0||ke.replaceChild(re,ee):((kt=>{const Ve=wa(kt,"br"),ot=gt((pt=>{const Jt=[];let en=pt.dom;for(;en;)Jt.push(je(en)),en=en.lastChild;return Jt})(kt).slice(-1),pl);Ve.length===ot.length&&Se(ot,Ea)})(je(ee)),st.isEmpty(ee)?(et=ee.parentNode)===null||et===void 0||et.replaceChild(re,ee):st.insertAfter(re,ee))})(t,M,O??B);const j=((K,re,ee,ke,et,st)=>{const mt=K.formatter,kt=K.dom,Ve=gt(ut(mt.get()),pt=>pt!==ke&&!Xr(pt,"removeformat")),ot=((pt,Jt,en)=>Oe(en,(Fo,Nn)=>{const An=((Jn,jn)=>Gr(Jn,jn,cn=>{const vn=cr=>de(cr)||cr.length>1&&cr.charAt(0)==="%";return zo(["styles","attributes"],cr=>Fn(cn,cr).exists(Qe=>{const nt=co(Qe)?Qe:vr(Qe);return zo(nt,vn)}))}))(pt,Nn);return pt.formatter.matchNode(Jt,Nn,{},An)?Fo.concat([Nn]):Fo},[]))(K,ee,Ve);if(gt(ot,pt=>!((Jt,en,Fo)=>{const Nn=["inline","block","selector","attributes","styles","classes"],An=Jn=>Rr(Jn,(jn,cn)=>zo(Nn,vn=>vn===cn));return Gr(Jt,en,Jn=>{const jn=An(Jn);return Gr(Jt,Fo,cn=>{const vn=An(cn);return((cr,Qe,nt=Po)=>io(nt).eq(cr,Qe))(jn,vn)})})})(K,pt,ke)).length>0){const pt=ee.cloneNode(!1);return kt.add(re,pt),mt.remove(ke,et,pt,st),kt.remove(pt),V.some(pt)}return V.none()})(t,M,B,o,n,a),q=a2([...E,...j.toArray(),...P],M);O&&jx(t,O,Ze(O)),c.setCursorLocation(q,1),i.isEmpty(B)&&i.remove(B)}},J1=t=>{const o=Hx(!1),n=a2(t,o.dom);return{caretContainer:o,caretPosition:Ht(n,0)}},Q1=(t,o)=>{const{caretContainer:n,caretPosition:a}=J1(o);return rl(je(t),n),Ea(je(t)),a},e0=(t,o)=>{if(be(o.dom))return!1;const n=t.schema.getTextInlineElements();return ln(n,Pe(o))&&!be(o.dom)&&!El(o.dom)},ty={},t0=ka(["pre"]);((t,o)=>{ty[t]||(ty[t]=[]),ty[t].push(n=>{if(!n.selection.getRng().collapsed){const a=n.selection.getSelectedBlocks(),i=gt(gt(a,t0),(c=>d=>{const u=d.previousSibling;return t0(u)&&lo(c,u)})(a));Se(i,c=>{((d,u)=>{const f=je(u),y=Si(f).dom;Ea(f),dc(je(d),[_s("br",y),_s("br",y),...Lt(f)])})(c.previousSibling,c)})}})})("pre");const $x=["fontWeight","fontStyle","color","fontSize","fontFamily"],oy=(t,o)=>{const n=t.get(o);return co(n)?Fe(n,a=>el(a)&&a.inline==="span"&&(i=>it(i.styles)&&zo(ut(i.styles),c=>lo($x,c)))(a)):V.none()},Ux=(t,o)=>I(o,Ht.fromRangeStart(t)).isNone(),i2=(t,o)=>L(o,Ht.fromRangeEnd(t)).exists(n=>!da(n.getNode())||L(o,n).isSome())===!1,kh=t=>o=>Yd(o)&&t.isEditable(o),Zx=t=>gt(t.getSelectedBlocks(),kh(t.dom)),o0=go.each,_h=t=>an(t)&&!No(t)&&!be(t)&&!El(t),qg=(t,o)=>{for(let n=t;n;n=n[o]){if(ro(n)&&nn(n.data))return t;if(an(n)&&!No(n))return n}return t},l2=(t,o,n)=>{const a=Ex(t),i=Ti(o)&&t.dom.isEditable(o),c=Ti(n)&&t.dom.isEditable(n);if(i&&c){const d=qg(o,"previousSibling"),u=qg(n,"nextSibling");if(a.compare(d,u)){for(let f=d.nextSibling;f&&f!==u;){const y=f;f=f.nextSibling,d.appendChild(y)}return t.dom.remove(u),go.each(go.grep(u.childNodes),f=>{d.appendChild(f)}),d}}return n},G4=(t,o,n,a)=>{var i;if(a&&o.merge_siblings!==!1){const c=(i=l2(t,O3(a),a))!==null&&i!==void 0?i:a;l2(t,c,O3(c,!0))}},qx=(t,o,n)=>{o0(t.childNodes,a=>{_h(a)&&(o(a)&&n(a),a.hasChildNodes()&&qx(a,o,n))})},c2=(t,o)=>n=>!(!n||!Lg(t,n,o)),Wx=(t,o,n)=>a=>{t.setStyle(a,o,n),a.getAttribute("style")===""&&a.removeAttribute("style"),((i,c)=>{c.nodeName==="SPAN"&&i.getAttribs(c).length===0&&i.remove(c,!0)})(t,a)},Oc=zc([{keep:[]},{rename:["name"]},{removed:[]}]),d2=/^(src|href|style)$/,ny=go.each,n0=Pc,K4=(t,o,n)=>t.isChildOf(o,n)&&o!==n&&!t.isBlock(n),u2=(t,o,n)=>{let a=o[n?"startContainer":"endContainer"],i=o[n?"startOffset":"endOffset"];if(an(a)){const c=a.childNodes.length-1;!n&&i&&i--,a=a.childNodes[i>c?c:i]}return ro(a)&&n&&i>=a.data.length&&(a=new Ns(a,t.getBody()).next()||a),ro(a)&&!n&&i===0&&(a=new Ns(a,t.getBody()).prev()||a),a},m2=(t,o)=>{const n=o?"firstChild":"lastChild",a=t[n];return(i=>/^(TR|TH|TD)$/.test(i.nodeName))(t)&&a?t.nodeName==="TR"&&a[n]||a:t},r0=(t,o,n,a)=>{var i;const c=t.create(n,a);return(i=o.parentNode)===null||i===void 0||i.insertBefore(c,o),c.appendChild(o),c},g2=(t,o,n,a,i)=>{const c=je(o),d=je(t.create(a,i)),u=n?yt(c):ve(c);return dc(d,u),n?(rl(c,d),Jl(d,c)):(Da(c,d),os(d,c)),d.dom},ry=(t,o,n)=>{const a=o.parentNode;let i;const c=t.dom,d=Ts(t);Wm(n)&&a===c.getRoot()&&(n.list_block&&n0(o,n.list_block)||Se(Pn(o.childNodes),u=>{Jp(t,d,u.nodeName.toLowerCase())?i?i.appendChild(u):(i=r0(c,u,d),c.setAttribs(i,gc(t))):i=null})),(u=>Fd(u)&&el(u)&&aa(Fn(u,"mixed"),!0))(n)&&!n0(n.inline,o)||c.remove(o,!0)},p2=(t,o,n)=>rt(t)?{name:o,value:null}:{name:t,value:Qp(o,n)},f2=(t,o)=>{t.getAttrib(o,"style")===""&&(o.removeAttribute("style"),o.removeAttribute("data-mce-style"))},h2=(t,o,n,a,i)=>{let c=!1;ny(n.styles,(d,u)=>{const{name:f,value:y}=p2(u,d,a),v=Wl(y,f);(n.remove_similar||he(y)||!an(i)||n0(Lg(t,i,f),v))&&t.setStyle(o,f,""),c=!0}),c&&f2(t,o)},Y4=(t,o,n,a,i)=>{const c=t.dom,d=Ex(t),u=t.schema;if(el(o)&&wp(u,o.inline)&&Ed(u,a)&&a.parentElement===t.getBody())return ry(t,a,o),Oc.removed();if(!o.ceFalseOverride&&a&&c.getContentEditableParent(a)==="false"||a&&!X1(c,a,o)&&!((v,k)=>k.links&&v.nodeName==="A")(a,o))return Oc.keep();const f=a,y=o.preserve_attributes;if(el(o)&&o.remove==="all"&&co(y)){const v=gt(c.getAttribs(f),k=>lo(y,k.name.toLowerCase()));if(c.removeAllAttribs(f),Se(v,k=>c.setAttrib(f,k.name,k.value)),v.length>0)return Oc.rename("span")}if(o.remove!=="all"){h2(c,f,o,n,i),ny(o.attributes,(k,E)=>{const{name:B,value:O}=p2(E,k,n);if(o.remove_similar||he(O)||!an(i)||n0(c.getAttrib(i,B),O)){if(B==="class"){const P=c.getAttrib(f,B);if(P){let M="";if(Se(P.split(/\s+/),j=>{/mce\-\w+/.test(j)&&(M+=(M?" ":"")+j)}),M)return void c.setAttrib(f,B,M)}}if(d2.test(B)&&f.removeAttribute("data-mce-"+B),B==="style"&&ka(["li"])(f)&&c.getStyle(f,"list-style-type")==="none")return f.removeAttribute(B),void c.setStyle(f,"list-style-type","none");B==="class"&&f.removeAttribute("className"),f.removeAttribute(B)}}),ny(o.classes,k=>{k=Qp(k,n),an(i)&&!c.hasClass(i,k)||c.removeClass(f,k)});const v=c.getAttribs(f);for(let k=0;k<v.length;k++){const E=v[k].nodeName;if(!d.isAttributeInternal(E))return Oc.keep()}}return o.remove!=="none"?(ry(t,f,o),Oc.removed()):Oc.keep()},b2=(t,o,n,a)=>Y4(t,o,n,a,a).fold(Ct(a),i=>(t.dom.createFragment().appendChild(a),t.dom.rename(a,i)),Ct(null)),cf=(t,o,n,a,i)=>{(a||t.selection.isEditable())&&((c,d,u,f,y)=>{const v=c.formatter.get(d),k=v[0],E=c.dom,B=c.selection,O=K=>{const re=((ee,ke,et,st,mt)=>{let kt;return ke.parentNode&&Se(Wv(ee.dom,ke.parentNode).reverse(),Ve=>{if(!kt&&an(Ve)&&Ve.id!=="_start"&&Ve.id!=="_end"){const ot=Cm(ee,Ve,et,st,mt);ot&&ot.split!==!1&&(kt=Ve)}}),kt})(c,K,d,u,y);return((ee,ke,et,st,mt,kt,Ve,ot)=>{var pt,Jt;let en,Fo;const Nn=ee.dom;if(et){const An=et.parentNode;for(let Jn=st.parentNode;Jn&&Jn!==An;Jn=Jn.parentNode){let jn=Nn.clone(Jn,!1);for(let cn=0;cn<ke.length&&(jn=b2(ee,ke[cn],ot,jn),jn!==null);cn++);jn&&(en&&jn.appendChild(en),Fo||(Fo=jn),en=jn)}Ve.mixed&&Nn.isBlock(et)||(st=(pt=Nn.split(et,st))!==null&&pt!==void 0?pt:st),en&&Fo&&((Jt=mt.parentNode)===null||Jt===void 0||Jt.insertBefore(en,mt),Fo.appendChild(mt),el(Ve)&&G4(ee,Ve,0,en))}return st})(c,v,re,K,K,0,k,u)},P=K=>zo(v,re=>a0(c,re,u,K,K)),M=K=>{const re=Pn(K.childNodes),ee=P(K)||zo(v,et=>X1(E,K,et)),ke=K.parentNode;if(!ee&&Ze(ke)&&l_(k)&&P(ke),k.deep&&re.length)for(let et=0;et<re.length;et++)M(re[et]);Se(["underline","line-through","overline"],et=>{an(K)&&c.dom.getStyle(K,"text-decoration")===et&&K.parentNode&&M3(E,K.parentNode)===et&&a0(c,{deep:!1,exact:!0,inline:"span",styles:{textDecoration:et}},void 0,K)})},j=K=>{const re=E.get(K?"_start":"_end");if(re){let ee=re[K?"firstChild":"lastChild"];return(ke=>No(ke)&&an(ke)&&(ke.id==="_start"||ke.id==="_end"))(ee)&&(ee=ee[K?"firstChild":"lastChild"]),ro(ee)&&ee.data.length===0&&(ee=K?re.previousSibling||re.nextSibling:re.nextSibling||re.previousSibling),E.remove(re,!0),ee}return null},q=K=>{let re,ee,ke=ef(E,K,v,K.collapsed);if(k.split){if(ke=N1(ke),re=u2(c,ke,!0),ee=u2(c,ke),re!==ee){if(re=m2(re,!0),ee=m2(ee,!1),K4(E,re,ee)){const st=V.from(re.firstChild).getOr(re);return O(g2(E,st,!0,"span",{id:"_start","data-mce-type":"bookmark"})),void j(!0)}if(K4(E,ee,re)){const st=V.from(ee.lastChild).getOr(ee);return O(g2(E,st,!1,"span",{id:"_end","data-mce-type":"bookmark"})),void j(!1)}re=r0(E,re,"span",{id:"_start","data-mce-type":"bookmark"}),ee=r0(E,ee,"span",{id:"_end","data-mce-type":"bookmark"});const et=E.createRng();et.setStartAfter(re),et.setEndBefore(ee),T1(E,et,st=>{Se(st,mt=>{No(mt)||No(mt.parentNode)||O(mt)})}),O(re),O(ee),re=j(!0),ee=j()}else re=ee=O(re);ke.startContainer=re.parentNode?re.parentNode:re,ke.startOffset=E.nodeIndex(re),ke.endContainer=ee.parentNode?ee.parentNode:ee,ke.endOffset=E.nodeIndex(ee)+1}T1(E,ke,et=>{Se(et,M)})};if(f){if(wm(f)){const K=E.createRng();K.setStartBefore(f),K.setEndAfter(f),q(K)}else q(f);A1(c,d,f,u)}else B.isCollapsed()&&el(k)&&!ca(c).length?s2(c,d,u,y):(Yp(c,()=>Vu(c,q),K=>el(k)&&Px(c,d,u,K)),c.nodeChanged()),((K,re,ee)=>{re==="removeformat"?Se(Zx(K.selection),ke=>{Se($x,et=>K.dom.setStyle(ke,et,"")),f2(K.dom,ke)}):oy(K.formatter,re).each(ke=>{Se(Zx(K.selection),et=>h2(K.dom,et,ke,ee,null))})})(c,d,u),A1(c,d,f,u)})(t,o,n,a,i)},a0=(t,o,n,a,i)=>Y4(t,o,n,a,i).fold(uo,c=>(t.dom.rename(a,c),!0),Bt),X4=go.each,Ch=go.each,y2=(t,o,n,a)=>{if(Ch(n.styles,(i,c)=>{t.setStyle(o,c,Qp(i,a))}),n.styles){const i=t.getAttrib(o,"style");i&&t.setAttrib(o,"data-mce-style",i)}},J4=(t,o,n,a)=>{const i=t.formatter.get(o),c=i[0],d=!a&&t.selection.isCollapsed(),u=t.dom,f=t.selection,y=(O,P=c)=>{de(P.onformat)&&P.onformat(O,P,n,a),y2(u,O,P,n),Ch(P.attributes,(M,j)=>{u.setAttrib(O,j,Qp(M,n))}),Ch(P.classes,M=>{const j=Qp(M,n);u.hasClass(O,j)||u.addClass(O,j)})},v=(O,P)=>{let M=!1;return Ch(O,j=>!(!Fd(j)||(u.getContentEditable(P)!=="false"||j.ceFalseOverride)&&(!Ze(j.collapsed)||j.collapsed===d)&&u.is(P,j.selector)&&!be(P)&&(y(P,j),M=!0,1))),M},k=O=>{if(Ue(O)){const P=u.create(O);return y(P),P}return null},E=(O,P,M)=>{const j=[];let q=!0;const K=c.inline||c.block,re=k(K);T1(O,P,ee=>{let ke;const et=st=>{let mt=!1,kt=q,Ve=!1;const ot=st.parentNode,pt=ot.nodeName.toLowerCase(),Jt=O.getContentEditable(st);Ze(Jt)&&(kt=q,q=Jt==="true",mt=!0,Ve=N3(t,st));const en=q&&!mt;if(da(st)&&!((Fo,Nn,An,Jn)=>{if(oh(Fo)&&el(Nn)&&An.parentNode){const jn=gg(Fo.schema),cn=$A(je(An),vn=>be(vn.dom));return xr(jn,Jn)&&ys(je(An.parentNode),!1)&&!cn}return!1})(t,c,st,pt))return ke=null,void(Wm(c)&&O.remove(st));if((Fo=>(Nn=>Wm(Nn)&&Nn.wrapper===!0)(c)&&Cm(t,Fo,o,n))(st))ke=null;else{if(((Fo,Nn,An)=>{const Jn=(jn=>Wm(jn)&&jn.wrapper!==!0)(c)&&Zv(t.schema,Fo)&&Jp(t,Nn,K);return An&&Jn})(st,pt,en)){const Fo=O.rename(st,K);return y(Fo),j.push(Fo),void(ke=null)}if(Fd(c)){let Fo=v(i,st);if(!Fo&&Ze(ot)&&l_(c)&&(Fo=v(i,ot)),!el(c)||Fo)return void(ke=null)}Ze(re)&&((Fo,Nn,An,Jn)=>{const jn=Fo.nodeName.toLowerCase(),cn=Jp(t,K,jn)&&Jp(t,Nn,K),vn=!M&&ro(Fo)&&_c(Fo.data),cr=be(Fo),Qe=!el(c)||!O.isBlock(Fo);return(An||Jn)&&cn&&!vn&&!cr&&Qe})(st,pt,en,Ve)?(ke||(ke=O.clone(re,!1),ot.insertBefore(ke,st),j.push(ke)),Ve&&mt&&(q=kt),ke.appendChild(st)):(ke=null,Se(Pn(st.childNodes),et),mt&&(q=kt),ke=null)}};Se(ee,et)}),c.links===!0&&Se(j,ee=>{const ke=et=>{et.nodeName==="A"&&y(et,c),Se(Pn(et.childNodes),ke)};ke(ee)}),Se(j,ee=>{const ke=(et=>{let st=0;return Se(et.childNodes,mt=>{(kt=>Ze(kt)&&ro(kt)&&kt.length===0)(mt)||No(mt)||st++}),st})(ee);!(j.length>1)&&O.isBlock(ee)||ke!==0?(el(c)||Wm(c)&&c.wrapper)&&(c.exact||ke!==1||(ee=(et=>Fe(et.childNodes,Fg).filter(mt=>O.getContentEditable(mt)!=="false"&&X1(O,mt,c)).map(mt=>{const kt=O.clone(mt,!1);return y(kt),O.replace(kt,et,!0),O.remove(mt,!0),kt}).getOr(et))(ee)),((et,st,mt,kt)=>{X4(st,Ve=>{el(Ve)&&X4(et.dom.select(Ve.inline,kt),ot=>{_h(ot)&&a0(et,Ve,mt,ot,Ve.exact?ot:null)}),((ot,pt,Jt)=>{if(pt.clear_child_styles){const en=pt.links?"*:not(a)":"*";o0(ot.select(en,Jt),Fo=>{_h(Fo)&&ot.isEditable(Fo)&&o0(pt.styles,(Nn,An)=>{ot.setStyle(Fo,An,"")})})}})(et.dom,Ve,kt)})})(t,i,n,ee),((et,st,mt,kt,Ve)=>{const ot=Ve.parentNode;Cm(et,ot,mt,kt)&&a0(et,st,kt,Ve)||st.merge_with_parents&&ot&&et.dom.getParent(ot,pt=>!!Cm(et,pt,mt,kt)&&(a0(et,st,kt,Ve),!0))})(t,c,o,n,ee),((et,st,mt,kt)=>{if(st.styles&&st.styles.backgroundColor){const Ve=c2(et,"fontSize");qx(kt,ot=>Ve(ot)&&et.isEditable(ot),Wx(et,"backgroundColor",Qp(st.styles.backgroundColor,mt)))}})(O,c,n,ee),((et,st,mt,kt)=>{const Ve=ot=>{if(Ti(ot)&&an(ot.parentNode)&&et.isEditable(ot)){const pt=M3(et,ot.parentNode);et.getStyle(ot,"color")&&pt?et.setStyle(ot,"text-decoration",pt):et.getStyle(ot,"text-decoration")===pt&&et.setStyle(ot,"text-decoration",null)}};st.styles&&(st.styles.color||st.styles.textDecoration)&&(go.walk(kt,Ve,"childNodes"),Ve(kt))})(O,c,0,ee),((et,st,mt,kt)=>{if(el(st)&&(st.inline==="sub"||st.inline==="sup")){const Ve=c2(et,"fontSize");qx(kt,pt=>Ve(pt)&&et.isEditable(pt),Wx(et,"fontSize",""));const ot=gt(et.select(st.inline==="sup"?"sub":"sup",kt),et.isEditable);et.remove(ot,!0)}})(O,c,0,ee),G4(t,c,0,ee)):O.remove(ee,!0)})},B=wm(a)?a:f.getNode();if(u.getContentEditable(B)==="false"&&!N3(t,B))return v(i,a=B),void $b(t,o,a,n);if(c){if(a)if(wm(a)){if(!v(i,a)){const O=u.createRng();O.setStartBefore(a),O.setEndAfter(a),E(u,ef(u,O,i),!0)}}else E(u,a,!0);else d&&el(c)&&!ca(t).length?((O,P,M)=>{let j;const q=O.selection,K=O.formatter.get(P);if(!K)return;const re=q.getRng();let ee=re.startOffset;const ke=re.startContainer.nodeValue;j=Le(O.getBody(),q.getStart());const et=/[^\s\u00a0\u00ad\u200b\ufeff]/;if(ke&&ee>0&&ee<ke.length&&et.test(ke.charAt(ee))&&et.test(ke.charAt(ee-1))){const kt=q.getBookmark();re.collapse(!0);let Ve=ef(O.dom,re,K);Ve=N1(Ve),O.formatter.apply(P,M,Ve),q.moveToBookmark(kt)}else{let kt=j?n2(j):null;j&&kt?.data===wh||(st=O.getDoc(),mt=Hx(!0).dom,j=st.importNode(mt,!0),kt=j.firstChild,re.insertNode(j),ee=1),O.formatter.apply(P,M,j),q.setCursorLocation(kt,ee)}var st,mt})(t,o,n):(f.setRng(Dx(f.getRng())),Yp(t,()=>{Vu(t,(O,P)=>{const M=P?O:ef(u,O,i);E(u,M,!1)})},Bt),t.nodeChanged()),oy(t.formatter,o).each(O=>{Se((P=>gt((M=>{const j=M.getSelectedBlocks(),q=M.getRng();if(M.isCollapsed())return[];if(j.length===1)return Ux(q,j[0])&&i2(q,j[0])?j:[];{const K=Zo(j).filter(ke=>Ux(q,ke)).toArray(),re=Gn(j).filter(ke=>i2(q,ke)).toArray(),ee=j.slice(1,-1);return K.concat(ee).concat(re)}})(P),kh(P.dom)))(t.selection),P=>y2(u,P,O,n))});((O,P)=>{ln(ty,O)&&Se(ty[O],M=>{M(P)})})(o,t)}$b(t,o,a,n)},Q4=(t,o,n,a)=>{(a||t.selection.isEditable())&&J4(t,o,n,a)},v2=t=>ln(t,"vars"),df=t=>t.selection.getStart(),x2=(t,o,n,a,i)=>We(o,c=>{const d=t.formatter.matchNode(c,n,i??{},a);return!fo(d)},c=>!!t2(t,c,n)||!a&&Ze(t.formatter.matchNode(c,n,i,!0))),w2=(t,o)=>{const n=o??df(t);return gt(Wv(t.dom,n),a=>an(a)&&!El(a))},k2=(t,o,n)=>{const a=w2(t,o);Ft(n,(i,c)=>{const d=u=>{const f=x2(t,a,c,u.similar,v2(u)?u.vars:void 0),y=f.isSome();if(u.state.get()!==y){u.state.set(y);const v=f.getOr(o);v2(u)?u.callback(y,{node:v,format:c,parents:a}):Se(u.callbacks,k=>k(y,{node:v,format:c,parents:a}))}};Se([i.withSimilar,i.withoutSimilar],d),Se(i.withVars,d)})},s0=go.explode,_2=()=>{const t={};return{addFilter:(o,n)=>{Se(s0(o),a=>{ln(t,a)||(t[a]={name:a,callbacks:[]}),t[a].callbacks.push(n)})},getFilters:()=>vr(t),removeFilter:(o,n)=>{Se(s0(o),a=>{if(ln(t,a))if(Ze(n)){const i=t[a],c=gt(i.callbacks,d=>d!==n);c.length>0?i.callbacks=c:delete t[a]}else delete t[a]})}}},eE=(t,o,n)=>{var a;const i=Xn();o.convert_fonts_to_spans&&((c,d,u)=>{c.addNodeFilter("font",f=>{Se(f,y=>{const v=d.parse(y.attr("style")),k=y.attr("color"),E=y.attr("face"),B=y.attr("size");k&&(v.color=k),E&&(v["font-family"]=E),B&&Vr(B).each(O=>{v["font-size"]=u[O-1]}),y.name="span",y.attr("style",d.serialize(v)),((O,P)=>{Se(["color","face","size"],M=>{O.attr(M,null)})})(y)})})})(t,i,go.explode((a=o.font_size_legacy_values)!==null&&a!==void 0?a:"")),((c,d,u)=>{c.addNodeFilter("strike",f=>{const y=d.type!=="html4";Se(f,v=>{if(y)v.name="s";else{const k=u.parse(v.attr("style"));k["text-decoration"]="line-through",v.name="span",v.attr("style",u.serialize(k))}})})})(t,n,i)},tE=(t,o,n)=>{o.addNodeFilter("br",(a,i,c)=>{const d=go.extend({},n.getBlockElements()),u=n.getNonEmptyElements(),f=n.getWhitespaceElements();d.body=1;const y=v=>v.name in d||Pm(n,v);for(let v=0,k=a.length;v<k;v++){let E=a[v],B=E.parent;if(B&&y(B)&&E===B.lastChild){let O=E.prev;for(;O;){const P=O.name;if(P!=="span"||O.attr("data-mce-type")!=="bookmark"){P==="br"&&(E=null);break}O=O.prev}if(E&&(E.remove(),vh(n,u,f,B))){const P=n.getElementRule(B.name);P&&(P.removeEmpty?B.remove():P.paddEmpty&&G1(t,c,y,B))}}else{let O=E;for(;B&&B.firstChild===O&&B.lastChild===O&&(O=B,!d[B.name]);)B=B.parent;if(O===B){const P=new pc("#text",3);P.value=ns,E.replace(P)}}}})},ay=t=>{const[o,...n]=t.split(","),a=n.join(","),i=/data:([^/]+\/[^;]+)(;.+)?/.exec(o);if(i){const c=i[2]===";base64",d=c?(u=>{const f=/([a-z0-9+\/=\s]+)/i.exec(u);return f?f[1]:""})(a):decodeURIComponent(a);return V.some({type:i[1],data:d,base64Encoded:c})}return V.none()},C2=(t,o,n=!0)=>{let a=o;if(n)try{a=atob(o)}catch{return V.none()}const i=new Uint8Array(a.length);for(let c=0;c<i.length;c++)i[c]=a.charCodeAt(c);return V.some(new Blob([i],{type:t}))},Gx=t=>new Promise((o,n)=>{const a=new FileReader;a.onloadend=()=>{o(a.result)},a.onerror=()=>{var i;n((i=a.error)===null||i===void 0?void 0:i.message)},a.readAsDataURL(t)});let oE=0;const Kx=(t,o,n)=>ay(t).bind(({data:a,type:i,base64Encoded:c})=>{if(o&&!c)return V.none();{const d=c?a:btoa(a);return n(d,i)}}),S2=(t,o,n)=>{const a=t.create("blobid"+oE++,o,n);return t.add(a),a},i0=(t,o,n=!1)=>Kx(o,n,(a,i)=>V.from(t.getByData(a,i)).orThunk(()=>C2(i,a).map(c=>S2(t,c,a)))),Sm=(t,o)=>gr(t,`${o}/`),ZA=(t,o)=>{const n=t.schema;o.remove_trailing_brs&&tE(o,t,n),t.addAttributeFilter("href",i=>{let c=i.length;const d=u=>{const f=u?go.trim(u):"";return/\b(noopener)\b/g.test(f)?f:(y=>y.split(" ").filter(v=>v.length>0).concat(["noopener"]).sort().join(" "))(f)};if(!o.allow_unsafe_link_target)for(;c--;){const u=i[c];u.name==="a"&&u.attr("target")==="_blank"&&u.attr("rel",d(u.attr("rel")))}}),o.allow_html_in_named_anchor||t.addAttributeFilter("id,name",i=>{let c,d,u,f,y=i.length;for(;y--;)if(f=i[y],f.name==="a"&&f.firstChild&&!f.attr("href"))for(u=f.parent,c=f.lastChild;c&&u;)d=c.prev,u.insert(c,f),c=d}),o.fix_list_elements&&t.addNodeFilter("ul,ol",i=>{let c,d,u=i.length;for(;u--;)if(c=i[u],d=c.parent,d&&(d.name==="ul"||d.name==="ol"))if(c.prev&&c.prev.name==="li")c.prev.append(c);else{const f=new pc("li",1);f.attr("style","list-style-type: none"),c.wrap(f)}});const a=n.getValidClasses();o.validate&&a&&t.addAttributeFilter("class",i=>{var c;let d=i.length;for(;d--;){const u=i[d],f=(c=u.attr("class"))!==null&&c!==void 0?c:"",y=go.explode(f," ");let v="";for(let k=0;k<y.length;k++){const E=y[k];let B=!1,O=a["*"];O&&O[E]&&(B=!0),O=a[u.name],!B&&O&&O[E]&&(B=!0),B&&(v&&(v+=" "),v+=E)}v.length||(v=null),u.attr("class",v)}}),((i,c)=>{const{blob_cache:d}=c;if(d){const u=f=>{const y=f.attr("src");(v=>v.attr("src")===Rn.transparentSrc||Ze(v.attr("data-mce-placeholder")))(f)||(v=>Ze(v.attr("data-mce-bogus")))(f)||me(y)||i0(d,y,!0).each(v=>{f.attr("src",v.blobUri())})};i.addAttributeFilter("src",f=>Se(f,u))}})(t,o),o.convert_unsafe_embeds&&t.addNodeFilter("object,embed",i=>Se(i,c=>{c.replace(((d,u,f,y,v)=>{let k;k=fo(d)?"iframe":Sm(d,"image")?"img":Sm(d,"video")?"video":Sm(d,"audio")?"audio":"iframe";const E=new pc(k,1);return E.attr(k==="audio"?{src:u}:{src:u,width:f,height:y}),k!=="audio"&&k!=="video"||E.attr("controls",""),k==="iframe"&&v&&E.attr("sandbox",""),E})(c.attr("type"),c.name==="object"?c.attr("data"):c.attr("src"),c.attr("width"),c.attr("height"),o.sandbox_iframes))})),o.sandbox_iframes&&t.addNodeFilter("iframe",i=>Se(i,c=>c.attr("sandbox","")))},{entries:Yx,setPrototypeOf:ci,isFrozen:E2,getPrototypeOf:T2,getOwnPropertyDescriptor:Wg}=Object;let{freeze:$c,seal:qu,create:l0}=Object,{apply:z2,construct:A2}=typeof Reflect<"u"&&Reflect;z2||(z2=function(t,o,n){return t.apply(o,n)}),$c||($c=function(t){return t}),qu||(qu=function(t){return t}),A2||(A2=function(t,o){return new t(...o)});const sy=ll(Array.prototype.forEach),qA=ll(Array.prototype.pop),Em=ll(Array.prototype.push),Xx=ll(String.prototype.toLowerCase),Xm=ll(String.prototype.toString),pu=ll(String.prototype.match),Id=ll(String.prototype.replace),O2=ll(String.prototype.indexOf),WA=ll(String.prototype.trim),fu=ll(RegExp.prototype.test),uf=(nE=TypeError,function(){for(var t=arguments.length,o=new Array(t),n=0;n<t;n++)o[n]=arguments[n];return A2(nE,o)});var nE;function ll(t){return function(o){for(var n=arguments.length,a=new Array(n>1?n-1:0),i=1;i<n;i++)a[i-1]=arguments[i];return z2(t,o,a)}}function Na(t,o,n){var a;n=(a=n)!==null&&a!==void 0?a:Xx,ci&&ci(t,null);let i=o.length;for(;i--;){let c=o[i];if(typeof c=="string"){const d=n(c);d!==c&&(E2(o)||(o[i]=d),c=d)}t[c]=!0}return t}function Sh(t){const o=l0(null);for(const[n,a]of Yx(t))o[n]=a;return o}function iy(t,o){for(;t!==null;){const n=Wg(t,o);if(n){if(n.get)return ll(n.get);if(typeof n.value=="function")return ll(n.value)}t=T2(t)}return function(n){return console.warn("fallback value for",n),null}}const Jx=$c(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Gg=$c(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),c0=$c(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),rE=$c(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),N2=$c(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),d0=$c(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),aE=$c(["#text"]),M2=$c(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),u0=$c(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),sE=$c(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),m0=$c(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),iE=qu(/\{\{[\w\W]*|[\w\W]*\}\}/gm),GA=qu(/<%[\w\W]*|[\w\W]*%>/gm),KA=qu(/\${[\w\W]*}/gm),YA=qu(/^data-[\-\w.\u00B7-\uFFFF]/),XA=qu(/^aria-[\-\w]+$/),lE=qu(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),JA=qu(/^(?:\w+script|data):/i),QA=qu(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),cE=qu(/^html$/i);var dE=Object.freeze({__proto__:null,MUSTACHE_EXPR:iE,ERB_EXPR:GA,TMPLIT_EXPR:KA,DATA_ATTR:YA,ARIA_ATTR:XA,IS_ALLOWED_URI:lE,IS_SCRIPT_OR_DATA:JA,ATTR_WHITESPACE:QA,DOCTYPE_NAME:cE});const eO=()=>typeof window>"u"?null:window;var uE=function t(){let o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:eO();const n=At=>t(At);if(n.version="3.0.5",n.removed=[],!o||!o.document||o.document.nodeType!==9)return n.isSupported=!1,n;const a=o.document,i=a.currentScript;let{document:c}=o;const{DocumentFragment:d,HTMLTemplateElement:u,Node:f,Element:y,NodeFilter:v,NamedNodeMap:k=o.NamedNodeMap||o.MozNamedAttrMap,HTMLFormElement:E,DOMParser:B,trustedTypes:O}=o,P=y.prototype,M=iy(P,"cloneNode"),j=iy(P,"nextSibling"),q=iy(P,"childNodes"),K=iy(P,"parentNode");if(typeof u=="function"){const At=c.createElement("template");At.content&&At.content.ownerDocument&&(c=At.content.ownerDocument)}let re,ee="";const{implementation:ke,createNodeIterator:et,createDocumentFragment:st,getElementsByTagName:mt}=c,{importNode:kt}=a;let Ve={};n.isSupported=typeof Yx=="function"&&typeof K=="function"&&ke&&ke.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:ot,ERB_EXPR:pt,TMPLIT_EXPR:Jt,DATA_ATTR:en,ARIA_ATTR:Fo,IS_SCRIPT_OR_DATA:Nn,ATTR_WHITESPACE:An}=dE;let{IS_ALLOWED_URI:Jn}=dE,jn=null;const cn=Na({},[...Jx,...Gg,...c0,...N2,...aE]);let vn=null;const cr=Na({},[...M2,...u0,...sE,...m0]);let Qe=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),nt=null,so=null,mo=!0,yo=!0,xn=!1,Wn=!0,hr=!1,tr=!1,Qa=!1,En=!1,Ur=!1,Zr=!1,Cr=!1,Kr=!0,cl=!1,Vn=!0,qr=!1,Fs={},dl=null;const Dl=Na({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let yc=null;const md=Na({},["audio","video","img","source","image","track"]);let Rl=null;const gd=Na({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),ul="http://www.w3.org/1998/Math/MathML",ng="http://www.w3.org/2000/svg",wu="http://www.w3.org/1999/xhtml";let tm=wu,Nf=!1,Yh=null;const Xh=Na({},[ul,ng,wu],Xm);let qc;const jk=["application/xhtml+xml","text/html"];let Ks,Dm=null;const Mf=c.createElement("form"),Zy=function(At){return At instanceof RegExp||At instanceof Function},v3=function(At){if(!Dm||Dm!==At){if(At&&typeof At=="object"||(At={}),At=Sh(At),qc=qc=jk.indexOf(At.PARSER_MEDIA_TYPE)===-1?"text/html":At.PARSER_MEDIA_TYPE,Ks=qc==="application/xhtml+xml"?Xm:Xx,jn="ALLOWED_TAGS"in At?Na({},At.ALLOWED_TAGS,Ks):cn,vn="ALLOWED_ATTR"in At?Na({},At.ALLOWED_ATTR,Ks):cr,Yh="ALLOWED_NAMESPACES"in At?Na({},At.ALLOWED_NAMESPACES,Xm):Xh,Rl="ADD_URI_SAFE_ATTR"in At?Na(Sh(gd),At.ADD_URI_SAFE_ATTR,Ks):gd,yc="ADD_DATA_URI_TAGS"in At?Na(Sh(md),At.ADD_DATA_URI_TAGS,Ks):md,dl="FORBID_CONTENTS"in At?Na({},At.FORBID_CONTENTS,Ks):Dl,nt="FORBID_TAGS"in At?Na({},At.FORBID_TAGS,Ks):{},so="FORBID_ATTR"in At?Na({},At.FORBID_ATTR,Ks):{},Fs="USE_PROFILES"in At&&At.USE_PROFILES,mo=At.ALLOW_ARIA_ATTR!==!1,yo=At.ALLOW_DATA_ATTR!==!1,xn=At.ALLOW_UNKNOWN_PROTOCOLS||!1,Wn=At.ALLOW_SELF_CLOSE_IN_ATTR!==!1,hr=At.SAFE_FOR_TEMPLATES||!1,tr=At.WHOLE_DOCUMENT||!1,Ur=At.RETURN_DOM||!1,Zr=At.RETURN_DOM_FRAGMENT||!1,Cr=At.RETURN_TRUSTED_TYPE||!1,En=At.FORCE_BODY||!1,Kr=At.SANITIZE_DOM!==!1,cl=At.SANITIZE_NAMED_PROPS||!1,Vn=At.KEEP_CONTENT!==!1,qr=At.IN_PLACE||!1,Jn=At.ALLOWED_URI_REGEXP||lE,tm=At.NAMESPACE||wu,Qe=At.CUSTOM_ELEMENT_HANDLING||{},At.CUSTOM_ELEMENT_HANDLING&&Zy(At.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Qe.tagNameCheck=At.CUSTOM_ELEMENT_HANDLING.tagNameCheck),At.CUSTOM_ELEMENT_HANDLING&&Zy(At.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Qe.attributeNameCheck=At.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),At.CUSTOM_ELEMENT_HANDLING&&typeof At.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(Qe.allowCustomizedBuiltInElements=At.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),hr&&(yo=!1),Zr&&(Ur=!0),Fs&&(jn=Na({},[...aE]),vn=[],Fs.html===!0&&(Na(jn,Jx),Na(vn,M2)),Fs.svg===!0&&(Na(jn,Gg),Na(vn,u0),Na(vn,m0)),Fs.svgFilters===!0&&(Na(jn,c0),Na(vn,u0),Na(vn,m0)),Fs.mathMl===!0&&(Na(jn,N2),Na(vn,sE),Na(vn,m0))),At.ADD_TAGS&&(jn===cn&&(jn=Sh(jn)),Na(jn,At.ADD_TAGS,Ks)),At.ADD_ATTR&&(vn===cr&&(vn=Sh(vn)),Na(vn,At.ADD_ATTR,Ks)),At.ADD_URI_SAFE_ATTR&&Na(Rl,At.ADD_URI_SAFE_ATTR,Ks),At.FORBID_CONTENTS&&(dl===Dl&&(dl=Sh(dl)),Na(dl,At.FORBID_CONTENTS,Ks)),Vn&&(jn["#text"]=!0),tr&&Na(jn,["html","head","body"]),jn.table&&(Na(jn,["tbody"]),delete nt.tbody),At.TRUSTED_TYPES_POLICY){if(typeof At.TRUSTED_TYPES_POLICY.createHTML!="function")throw uf('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof At.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw uf('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');re=At.TRUSTED_TYPES_POLICY,ee=re.createHTML("")}else re===void 0&&(re=function(On,nr){if(typeof On!="object"||typeof On.createPolicy!="function")return null;let $a=null;const es="data-tt-policy-suffix";nr&&nr.hasAttribute(es)&&($a=nr.getAttribute(es));const Ls="dompurify"+($a?"#"+$a:"");try{return On.createPolicy(Ls,{createHTML:xs=>xs,createScriptURL:xs=>xs})}catch{return console.warn("TrustedTypes policy "+Ls+" could not be created."),null}}(O,i)),re!==null&&typeof ee=="string"&&(ee=re.createHTML(""));$c&&$c(At),Dm=At}},x3=Na({},["mi","mo","mn","ms","mtext"]),qy=Na({},["foreignobject","desc","title","annotation-xml"]),uA=Na({},["title","style","font","a","script"]),Vk=Na({},Gg);Na(Vk,c0),Na(Vk,rE);const $k=Na({},N2);Na($k,d0);const Df=function(At){Em(n.removed,{element:At});try{At.parentNode.removeChild(At)}catch{At.remove()}},uv=function(At,On){try{Em(n.removed,{attribute:On.getAttributeNode(At),from:On})}catch{Em(n.removed,{attribute:null,from:On})}if(On.removeAttribute(At),At==="is"&&!vn[At])if(Ur||Zr)try{Df(On)}catch{}else try{On.setAttribute(At,"")}catch{}},mA=function(At){let On,nr;if(En)At="<remove></remove>"+At;else{const Ls=pu(At,/^[\r\n\t ]+/);nr=Ls&&Ls[0]}qc==="application/xhtml+xml"&&tm===wu&&(At='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+At+"</body></html>");const $a=re?re.createHTML(At):At;if(tm===wu)try{On=new B().parseFromString($a,qc)}catch{}if(!On||!On.documentElement){On=ke.createDocument(tm,"template",null);try{On.documentElement.innerHTML=Nf?ee:$a}catch{}}const es=On.body||On.documentElement;return At&&nr&&es.insertBefore(c.createTextNode(nr),es.childNodes[0]||null),tm===wu?mt.call(On,tr?"html":"body")[0]:tr?On.documentElement:es},gA=function(At){return et.call(At.ownerDocument||At,At,v.SHOW_ELEMENT|v.SHOW_COMMENT|v.SHOW_TEXT,null,!1)},Uk=function(At){return typeof f=="object"?At instanceof f:At&&typeof At=="object"&&typeof At.nodeType=="number"&&typeof At.nodeName=="string"},rg=function(At,On,nr){Ve[At]&&sy(Ve[At],$a=>{$a.call(n,On,nr,Dm)})},Zk=function(At){let On;if(rg("beforeSanitizeElements",At,null),(nr=At)instanceof E&&(typeof nr.nodeName!="string"||typeof nr.textContent!="string"||typeof nr.removeChild!="function"||!(nr.attributes instanceof k)||typeof nr.removeAttribute!="function"||typeof nr.setAttribute!="function"||typeof nr.namespaceURI!="string"||typeof nr.insertBefore!="function"||typeof nr.hasChildNodes!="function"))return Df(At),!0;var nr;const $a=Ks(At.nodeName);if(rg("uponSanitizeElement",At,{tagName:$a,allowedTags:jn}),At.hasChildNodes()&&!Uk(At.firstElementChild)&&(!Uk(At.content)||!Uk(At.content.firstElementChild))&&fu(/<[/\w]/g,At.innerHTML)&&fu(/<[/\w]/g,At.textContent))return Df(At),!0;if(!jn[$a]||nt[$a]){if(!nt[$a]&&k3($a)&&(Qe.tagNameCheck instanceof RegExp&&fu(Qe.tagNameCheck,$a)||Qe.tagNameCheck instanceof Function&&Qe.tagNameCheck($a)))return!1;if(Vn&&!dl[$a]){const es=K(At)||At.parentNode,Ls=q(At)||At.childNodes;if(Ls&&es)for(let xs=Ls.length-1;xs>=0;--xs)es.insertBefore(M(Ls[xs],!0),j(At))}return Df(At),!0}return At instanceof y&&!function(es){let Ls=K(es);Ls&&Ls.tagName||(Ls={namespaceURI:tm,tagName:"template"});const xs=Xx(es.tagName),xi=Xx(Ls.tagName);return!!Yh[es.namespaceURI]&&(es.namespaceURI===ng?Ls.namespaceURI===wu?xs==="svg":Ls.namespaceURI===ul?xs==="svg"&&(xi==="annotation-xml"||x3[xi]):!!Vk[xs]:es.namespaceURI===ul?Ls.namespaceURI===wu?xs==="math":Ls.namespaceURI===ng?xs==="math"&&qy[xi]:!!$k[xs]:es.namespaceURI===wu?!(Ls.namespaceURI===ng&&!qy[xi])&&!(Ls.namespaceURI===ul&&!x3[xi])&&!$k[xs]&&(uA[xs]||!Vk[xs]):!(qc!=="application/xhtml+xml"||!Yh[es.namespaceURI]))}(At)?(Df(At),!0):$a!=="noscript"&&$a!=="noembed"&&$a!=="noframes"||!fu(/<\/no(script|embed|frames)/i,At.innerHTML)?(hr&&At.nodeType===3&&(On=At.textContent,On=Id(On,ot," "),On=Id(On,pt," "),On=Id(On,Jt," "),At.textContent!==On&&(Em(n.removed,{element:At.cloneNode()}),At.textContent=On)),rg("afterSanitizeElements",At,null),!1):(Df(At),!0)},w3=function(At,On,nr){if(Kr&&(On==="id"||On==="name")&&(nr in c||nr in Mf))return!1;if(!(yo&&!so[On]&&fu(en,On))){if(!(mo&&fu(Fo,On))){if(!vn[On]||so[On]){if(!(k3(At)&&(Qe.tagNameCheck instanceof RegExp&&fu(Qe.tagNameCheck,At)||Qe.tagNameCheck instanceof Function&&Qe.tagNameCheck(At))&&(Qe.attributeNameCheck instanceof RegExp&&fu(Qe.attributeNameCheck,On)||Qe.attributeNameCheck instanceof Function&&Qe.attributeNameCheck(On))||On==="is"&&Qe.allowCustomizedBuiltInElements&&(Qe.tagNameCheck instanceof RegExp&&fu(Qe.tagNameCheck,nr)||Qe.tagNameCheck instanceof Function&&Qe.tagNameCheck(nr))))return!1}else if(!Rl[On]){if(!fu(Jn,Id(nr,An,""))){if((On!=="src"&&On!=="xlink:href"&&On!=="href"||At==="script"||O2(nr,"data:")!==0||!yc[At])&&!(xn&&!fu(Nn,Id(nr,An,"")))){if(nr)return!1}}}}}return!0},k3=function(At){return At.indexOf("-")>0},_3=function(At){let On,nr,$a,es;rg("beforeSanitizeAttributes",At,null);const{attributes:Ls}=At;if(!Ls)return;const xs={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:vn};for(es=Ls.length;es--;){On=Ls[es];const{name:xi,namespaceURI:Jh}=On;nr=xi==="value"?On.value:WA(On.value);const C3=nr;if($a=Ks(xi),xs.attrName=$a,xs.attrValue=nr,xs.keepAttr=!0,xs.forceKeepAttr=void 0,rg("uponSanitizeAttribute",At,xs),nr=xs.attrValue,xs.forceKeepAttr)continue;if(!xs.keepAttr){uv(xi,At);continue}if(!Wn&&fu(/\/>/i,nr)){uv(xi,At);continue}hr&&(nr=Id(nr,ot," "),nr=Id(nr,pt," "),nr=Id(nr,Jt," "));const mv=Ks(At.nodeName);if(w3(mv,$a,nr)){if(!cl||$a!=="id"&&$a!=="name"||(uv(xi,At),nr="user-content-"+nr),re&&typeof O=="object"&&typeof O.getAttributeType=="function"&&!Jh)switch(O.getAttributeType(mv,$a)){case"TrustedHTML":nr=re.createHTML(nr);break;case"TrustedScriptURL":nr=re.createScriptURL(nr)}if(nr!==C3)try{Jh?At.setAttributeNS(Jh,xi,nr):At.setAttribute(xi,nr)}catch{uv(xi,At)}}else uv(xi,At)}rg("afterSanitizeAttributes",At,null)},pA=function At(On){let nr;const $a=gA(On);for(rg("beforeSanitizeShadowDOM",On,null);nr=$a.nextNode();)rg("uponSanitizeShadowNode",nr,null),Zk(nr)||(nr.content instanceof d&&At(nr.content),_3(nr));rg("afterSanitizeShadowDOM",On,null)};return n.sanitize=function(At){let On,nr,$a,es,Ls=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(Nf=!At,Nf&&(At="<!-->"),typeof At!="string"&&!Uk(At)){if(typeof At.toString!="function")throw uf("toString is not a function");if(typeof(At=At.toString())!="string")throw uf("dirty is not a string, aborting")}if(!n.isSupported)return At;if(Qa||v3(Ls),n.removed=[],typeof At=="string"&&(qr=!1),qr){if(At.nodeName){const Jh=Ks(At.nodeName);if(!jn[Jh]||nt[Jh])throw uf("root node is forbidden and cannot be sanitized in-place")}}else if(At instanceof f)On=mA("<!---->"),nr=On.ownerDocument.importNode(At,!0),nr.nodeType===1&&nr.nodeName==="BODY"||nr.nodeName==="HTML"?On=nr:On.appendChild(nr);else{if(!Ur&&!hr&&!tr&&At.indexOf("<")===-1)return re&&Cr?re.createHTML(At):At;if(On=mA(At),!On)return Ur?null:Cr?ee:""}On&&En&&Df(On.firstChild);const xs=gA(qr?At:On);for(;$a=xs.nextNode();)Zk($a)||($a.content instanceof d&&pA($a.content),_3($a));if(qr)return At;if(Ur){if(Zr)for(es=st.call(On.ownerDocument);On.firstChild;)es.appendChild(On.firstChild);else es=On;return(vn.shadowroot||vn.shadowrootmode)&&(es=kt.call(a,es,!0)),es}let xi=tr?On.outerHTML:On.innerHTML;return tr&&jn["!doctype"]&&On.ownerDocument&&On.ownerDocument.doctype&&On.ownerDocument.doctype.name&&fu(cE,On.ownerDocument.doctype.name)&&(xi="<!DOCTYPE "+On.ownerDocument.doctype.name+`>
`+xi),hr&&(xi=Id(xi,ot," "),xi=Id(xi,pt," "),xi=Id(xi,Jt," ")),re&&Cr?re.createHTML(xi):xi},n.setConfig=function(At){v3(At),Qa=!0},n.clearConfig=function(){Dm=null,Qa=!1},n.isValidAttribute=function(At,On,nr){Dm||v3({});const $a=Ks(At),es=Ks(On);return w3($a,es,nr)},n.addHook=function(At,On){typeof On=="function"&&(Ve[At]=Ve[At]||[],Em(Ve[At],On))},n.removeHook=function(At){if(Ve[At])return qA(Ve[At])},n.removeHooks=function(At){Ve[At]&&(Ve[At]=[])},n.removeAllHooks=function(){Ve={}},n}();const D2=go.each,tO=go.trim,ly=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],oO={ftp:21,http:80,https:443,mailto:25},nO=["img","video"],R2=(t,o,n)=>{const a=(i=>{try{return decodeURIComponent(i)}catch{return unescape(i)}})(o).replace(/\s/g,"");return!t.allow_script_urls&&(!!/((java|vb)script|mhtml):/i.test(a)||!t.allow_html_data_urls&&(/^data:image\//i.test(a)?((i,c)=>Ze(i)?!i:!Ze(c)||!lo(nO,c))(t.allow_svg_data_urls,n)&&/^data:image\/svg\+xml/i.test(a):/^data:/i.test(a)))};class Wu{static parseDataUri(o){let n;const a=decodeURIComponent(o).split(","),i=/data:([^;]+)/.exec(a[0]);return i&&(n=i[1]),{type:n,data:a[1]}}static isDomSafe(o,n,a={}){if(a.allow_script_urls)return!0;{const i=Sc.decode(o).replace(/[\s\u0000-\u001F]+/g,"");return!R2(a,i,n)}}static getDocumentBaseUrl(o){var n;let a;return a=o.protocol.indexOf("http")!==0&&o.protocol!=="file:"?(n=o.href)!==null&&n!==void 0?n:"":o.protocol+"//"+o.host+o.pathname,/^[^:]+:\/\/\/?[^\/]+\//.test(a)&&(a=a.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(a)||(a+="/")),a}constructor(o,n={}){this.path="",this.directory="",o=tO(o),this.settings=n;const a=n.base_uri,i=this;if(/^([\w\-]+):([^\/]{2})/i.test(o)||/^\s*#/.test(o))return void(i.source=o);const c=o.indexOf("//")===0;if(o.indexOf("/")!==0||c||(o=(a&&a.protocol||"http")+"://mce_host"+o),!/^[\w\-]*:?\/\//.test(o)){const u=a?a.path:new Wu(document.location.href).directory;if(a?.protocol==="")o="//mce_host"+i.toAbsPath(u,o);else{const f=/([^#?]*)([#?]?.*)/.exec(o);f&&(o=(a&&a.protocol||"http")+"://mce_host"+i.toAbsPath(u,f[1])+f[2])}}o=o.replace(/@@/g,"(mce_at)");const d=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?(\[[a-zA-Z0-9:.%]+\]|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(o);d&&D2(ly,(u,f)=>{let y=d[f];y&&(y=y.replace(/\(mce_at\)/g,"@@")),i[u]=y}),a&&(i.protocol||(i.protocol=a.protocol),i.userInfo||(i.userInfo=a.userInfo),i.port||i.host!=="mce_host"||(i.port=a.port),i.host&&i.host!=="mce_host"||(i.host=a.host),i.source=""),c&&(i.protocol="")}setPath(o){const n=/^(.*?)\/?(\w+)?$/.exec(o);n&&(this.path=n[0],this.directory=n[1],this.file=n[2]),this.source="",this.getURI()}toRelative(o){if(o==="./")return o;const n=new Wu(o,{base_uri:this});if(n.host!=="mce_host"&&this.host!==n.host&&n.host||this.port!==n.port||this.protocol!==n.protocol&&n.protocol!=="")return n.getURI();const a=this.getURI(),i=n.getURI();if(a===i||a.charAt(a.length-1)==="/"&&a.substr(0,a.length-1)===i)return a;let c=this.toRelPath(this.path,n.path);return n.query&&(c+="?"+n.query),n.anchor&&(c+="#"+n.anchor),c}toAbsolute(o,n){const a=new Wu(o,{base_uri:this});return a.getURI(n&&this.isSameOrigin(a))}isSameOrigin(o){if(this.host==o.host&&this.protocol==o.protocol){if(this.port==o.port)return!0;const n=this.protocol?oO[this.protocol]:null;if(n&&(this.port||n)==(o.port||n))return!0}return!1}toRelPath(o,n){let a,i,c=0,d="";const u=o.substring(0,o.lastIndexOf("/")).split("/"),f=n.split("/");if(u.length>=f.length){for(a=0,i=u.length;a<i;a++)if(a>=f.length||u[a]!==f[a]){c=a+1;break}}if(u.length<f.length){for(a=0,i=f.length;a<i;a++)if(a>=u.length||u[a]!==f[a]){c=a+1;break}}if(c===1)return n;for(a=0,i=u.length-(c-1);a<i;a++)d+="../";for(a=c-1,i=f.length;a<i;a++)d+=a!==c-1?"/"+f[a]:f[a];return d}toAbsPath(o,n){let a=0;const i=/\/$/.test(n)?"/":"",c=o.split("/"),d=n.split("/"),u=[];D2(c,k=>{k&&u.push(k)});const f=[];for(let k=d.length-1;k>=0;k--)d[k].length!==0&&d[k]!=="."&&(d[k]!==".."?a>0?a--:f.push(d[k]):a++);const y=u.length-a;let v;return v=y<=0?Ge(f).join("/"):u.slice(0,y).join("/")+"/"+Ge(f).join("/"),v.indexOf("/")!==0&&(v="/"+v),i&&v.lastIndexOf("/")!==v.length-1&&(v+=i),v}getURI(o=!1){let n;return this.source&&!o||(n="",o||(this.protocol?n+=this.protocol+"://":n+="//",this.userInfo&&(n+=this.userInfo+"@"),this.host&&(n+=this.host),this.port&&(n+=":"+this.port)),this.path&&(n+=this.path),this.query&&(n+="?"+this.query),this.anchor&&(n+="#"+this.anchor),this.source=n),this.source}}const rO=go.makeMap("src,href,data,background,action,formaction,poster,xlink:href"),B2="data-mce-type";let mE=0;const gE=(t,o,n,a,i)=>{var c,d,u,f;const y=o.validate,v=n.getSpecialElements();t.nodeType===8&&!o.allow_conditional_comments&&/^\[if/i.test((c=t.nodeValue)!==null&&c!==void 0?c:"")&&(t.nodeValue=" "+t.nodeValue);const k=(d=i?.tagName)!==null&&d!==void 0?d:t.nodeName.toLowerCase();if(a!=="html"&&n.isValid(a))return void(Ze(i)&&(i.allowedTags[k]=!0));if(t.nodeType!==1||k==="body")return;const E=je(t),B=Zn(E,B2),O=bt(E,"data-mce-bogus");if(!B&&Ue(O))return void(O==="all"?Ea(E):_l(E));const P=n.getElementRule(k);if(!y||P){if(Ze(i)&&(i.allowedTags[k]=!0),y&&P&&!B){if(Se((u=P.attributesForced)!==null&&u!==void 0?u:[],M=>{Q(E,M.name,M.value==="{$uid}"?"mce_"+mE++:M.value)}),Se((f=P.attributesDefault)!==null&&f!==void 0?f:[],M=>{Zn(E,M.name)||Q(E,M.name,M.value==="{$uid}"?"mce_"+mE++:M.value)}),P.attributesRequired&&!zo(P.attributesRequired,M=>Zn(E,M))||P.removeEmptyAttrs&&(M=>{const j=M.dom.attributes;return j==null||j.length===0})(E))return void _l(E);P.outputName&&P.outputName!==k&&((M,j)=>{const q=((re,ee)=>{const ke=_s(ee),et=oe(re);return Ee(ke,et),ke})(M,j);Da(M,q);const K=Lt(M);dc(q,K),Ea(M)})(E,P.outputName)}}else ln(v,k)?Ea(E):_l(E)},pE=(t,o,n,a,i,c)=>n!=="html"&&!Sd(a)||!(i in rO&&R2(t,c,a))&&(!t.validate||o.isValid(a,i)||gr(i,"data-")||gr(i,"aria-")),Qx=(t,o)=>t.hasAttribute(B2)&&(o==="id"||o==="class"||o==="style"),cy=(t,o)=>t in o.getBoolAttrs(),fE=(t,o,n,a)=>{const{attributes:i}=t;for(let c=i.length-1;c>=0;c--){const d=i[c],u=d.name,f=d.value;pE(o,n,a,t.tagName.toLowerCase(),u,f)||Qx(t,u)?cy(u,n)&&t.setAttribute(u,u):t.removeAttribute(u)}},g0=(t,o,n)=>{const a=uE();return a.addHook("uponSanitizeElement",(i,c)=>{gE(i,t,o,n.track(i),c)}),a.addHook("uponSanitizeAttribute",(i,c)=>{((d,u,f,y,v)=>{const k=d.tagName.toLowerCase(),{attrName:E,attrValue:B}=v;v.keepAttr=pE(u,f,y,k,E,B),v.keepAttr?(v.allowedAttributes[E]=!0,cy(E,f)&&(v.attrValue=E),u.allow_svg_data_urls&&gr(B,"data:image/svg+xml")&&(v.forceKeepAttr=!0)):Qx(d,E)&&(v.forceKeepAttr=!0)})(i,t,o,n.current(),c)}),a},p0=t=>{const o=["type","href","role","arcrole","title","show","actuate","label","from","to"].map(a=>`xlink:${a}`),n={IN_PLACE:!0,USE_PROFILES:{html:!0,svg:!0,svgFilters:!0},ALLOWED_ATTR:o};return uE().sanitize(t,n),t.innerHTML},F2=go.makeMap,hE=go.extend,bE=(t,o,n,a)=>{const i=t.name,c=i in n&&i!=="title"&&i!=="textarea",d=o.childNodes;for(let u=0,f=d.length;u<f;u++){const y=d[u],v=new pc(y.nodeName.toLowerCase(),y.nodeType);if(an(y)){const k=y.attributes;for(let E=0,B=k.length;E<B;E++){const O=k[E];v.attr(O.name,O.value)}Sd(v.name)&&(a(y),v.value=y.innerHTML)}else ro(y)?(v.value=y.data,c&&(v.raw=!0)):(ni(y)||Eu(y)||Yt(y))&&(v.value=y.data);Sd(v.name)||bE(v,y,n,a),t.append(v)}},dy=(t={},o=Du())=>{const n=_2(),a=_2(),i={validate:!0,root_name:"body",sanitize:!0,...t},c=new DOMParser,d=((P,M)=>{const j=(()=>{let q=[];const K=()=>q[q.length-1];return{track:re=>{ig(re)&&q.push(re);let ee=K();return ee&&!ee.contains(re)&&(q.pop(),ee=K()),Lm(ee)},current:()=>Lm(K()),reset:()=>{q=[]}}})();if(P.sanitize){const q=g0(P,M,j);return{sanitizeHtmlElement:(re,ee)=>{q.sanitize(re,((ke,et)=>{const st={IN_PLACE:!0,ALLOW_UNKNOWN_PROTOCOLS:!0,ALLOWED_TAGS:["#comment","#cdata-section","body"],ALLOWED_ATTR:[]};return st.PARSER_MEDIA_TYPE=et,ke.allow_script_urls?st.ALLOWED_URI_REGEXP=/.*/:ke.allow_html_data_urls&&(st.ALLOWED_URI_REGEXP=/^(?!(\w+script|mhtml):)/i),st})(P,ee)),q.removed=[],j.reset()},sanitizeNamespaceElement:p0}}return{sanitizeHtmlElement:(q,K)=>{const re=document.createNodeIterator(q,NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_COMMENT|NodeFilter.SHOW_TEXT);let ee;for(;ee=re.nextNode();){const ke=j.track(ee);gE(ee,P,M,ke),an(ee)&&fE(ee,P,M,ke)}j.reset()},sanitizeNamespaceElement:$t}})(i,o),u=n.addFilter,f=n.getFilters,y=n.removeFilter,v=a.addFilter,k=a.getFilters,E=a.removeFilter,B=(P,M)=>{const j=Ue(M.attr(B2)),q=M.type===1&&!ln(P,M.name)&&!Pm(o,M)&&!Sd(M.name);return M.type===3||q&&!j},O={schema:o,addAttributeFilter:v,getAttributeFilters:k,removeAttributeFilter:E,addNodeFilter:u,getNodeFilters:f,removeNodeFilter:y,parse:(P,M={})=>{var j;const q=i.validate,K=(j=M.context)!==null&&j!==void 0?j:i.root_name,re=((pt,Jt,en="html")=>{const Fo=en==="xhtml"?"application/xhtml+xml":"text/html",Nn=ln(o.getSpecialElements(),Jt.toLowerCase()),An=Nn?`<${Jt}>${pt}</${Jt}>`:pt,Jn=en==="xhtml"?`<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>${An}</body></html>`:`<body>${An}</body>`,jn=c.parseFromString(Jn,Fo).body;return d.sanitizeHtmlElement(jn,Fo),Nn?jn.firstChild:jn})(P,K,M.format);xp(o,re);const ee=new pc(K,11);bE(ee,re,o.getSpecialElements(),d.sanitizeNamespaceElement),re.innerHTML="";const[ke,et]=((pt,Jt,en,Fo)=>{const Nn=en.validate,An=Jt.getNonEmptyElements(),Jn=Jt.getWhitespaceElements(),jn=hE(F2("script,style,head,html,body,title,meta,param"),Jt.getBlockElements()),cn=gg(Jt),vn=/[ \t\r\n]+/g,cr=/^[ \t\r\n]+/,Qe=/[ \t\r\n]+$/,nt=yo=>{let xn=yo.parent;for(;Ze(xn);){if(xn.name in Jn)return!0;xn=xn.parent}return!1},so=yo=>yo.name in jn||Pm(Jt,yo)||Sd(yo.name)&&yo.parent===pt,mo=(yo,xn)=>{const Wn=xn?yo.prev:yo.next;return!Ze(Wn)&&!me(yo.parent)&&so(yo.parent)&&(yo.parent!==pt||Fo.isRootContent===!0)};return[yo=>{var xn;if(yo.type===3&&!nt(yo)){let Wn=(xn=yo.value)!==null&&xn!==void 0?xn:"";Wn=Wn.replace(vn," "),(((hr,tr)=>Ze(hr)&&(tr(hr)||hr.name==="br"))(yo.prev,so)||mo(yo,!0))&&(Wn=Wn.replace(cr,"")),Wn.length===0?yo.remove():yo.value=Wn}},yo=>{var xn;if(yo.type===1){const Wn=Jt.getElementRule(yo.name);if(Nn&&Wn){const hr=vh(Jt,An,Jn,yo);Wn.paddInEmptyBlock&&hr&&(tr=>{let Qa=tr;for(;Ze(Qa);){if(Qa.name in cn)return vh(Jt,An,Jn,Qa);Qa=Qa.parent}return!1})(yo)?G1(en,Fo,so,yo):Wn.removeEmpty&&hr?so(yo)?yo.remove():yo.unwrap():Wn.paddEmpty&&(hr||(tr=>{var Qa;return K1(tr,"#text")&&((Qa=tr?.firstChild)===null||Qa===void 0?void 0:Qa.value)===ns})(yo))&&G1(en,Fo,so,yo)}}else if(yo.type===3&&!nt(yo)){let Wn=(xn=yo.value)!==null&&xn!==void 0?xn:"";(yo.next&&so(yo.next)||mo(yo,!1))&&(Wn=Wn.replace(Qe,"")),Wn.length===0?yo.remove():yo.value=Wn}}]})(ee,o,i,M),st=[],mt=q?pt=>((Jt,en)=>{Mx(o,Jt)&&en.push(Jt)})(pt,st):$t,kt={nodes:{},attributes:{}},Ve=pt=>Tx(f(),k(),pt,kt);if(((pt,Jt,en)=>{const Fo=[];for(let Nn=pt,An=Nn;Nn;An=Nn,Nn=Nn.walk()){const Jn=Nn;Se(Jt,jn=>jn(Jn)),me(Jn.parent)&&Jn!==pt?Nn=An:Fo.push(Jn)}for(let Nn=Fo.length-1;Nn>=0;Nn--){const An=Fo[Nn];Se(en,Jn=>Jn(An))}})(ee,[ke,Ve],[et,mt]),st.reverse(),q&&st.length>0)if(M.context){const{pass:pt,fail:Jt}=ct(st,en=>en.parent===ee);Nx(Jt,o,ee,Ve),M.invalid=pt.length>0}else Nx(st,o,ee,Ve);const ot=((pt,Jt)=>{var en;const Fo=(en=Jt.forced_root_block)!==null&&en!==void 0?en:pt.forced_root_block;return Fo===!1?"":Fo===!0?"p":Fo})(i,M);return ot&&(ee.name==="body"||M.isRootContent)&&((pt,Jt)=>{const en=hE(F2("script,style,head,html,body,title,meta,param"),o.getBlockElements()),Fo=/^[ \t\r\n]+/,Nn=/[ \t\r\n]+$/;let An=pt.firstChild,Jn=null;const jn=cn=>{var vn,cr;cn&&(An=cn.firstChild,An&&An.type===3&&(An.value=(vn=An.value)===null||vn===void 0?void 0:vn.replace(Fo,"")),An=cn.lastChild,An&&An.type===3&&(An.value=(cr=An.value)===null||cr===void 0?void 0:cr.replace(Nn,"")))};if(o.isValidChild(pt.name,Jt.toLowerCase())){for(;An;){const cn=An.next;B(en,An)?(Jn||(Jn=new pc(Jt,1),Jn.attr(i.forced_root_block_attrs),pt.insert(Jn,An)),Jn.append(An)):(jn(Jn),Jn=null),An=cn}jn(Jn)}})(ee,ot),M.invalid||zx(kt,M),ee}};return ZA(O,i),((P,M,j)=>{M.inline_styles&&eE(P,M,j)})(O,i,o),O},yE=(t,o,n)=>{const a=(c=>xh(c)?af({validate:!1}).serialize(c):c)(t),i=o(a);if(i.isDefaultPrevented())return i;if(xh(t)){if(i.content!==a){const c=dy({validate:!1,forced_root_block:!1,...n}).parse(i.content,{context:t.name});return{...i,content:c}}return{...i,content:t}}return i},L2=(t,o)=>{if(o.no_events)return $l.value(o);{const n=((a,i)=>a.dispatch("BeforeGetContent",i))(t,o);return n.isDefaultPrevented()?$l.error(I3(t,{content:"",...n}).content):$l.value(n)}},I2=(t,o,n)=>n.no_events?o:yE(o,i=>I3(t,{...n,content:i}),{sanitize:bm(t),sandbox_iframes:jp(t)}).content,P2=(t,o)=>{if(o.no_events)return $l.value(o);{const n=yE(o.content,a=>((i,c)=>i.dispatch("BeforeSetContent",c))(t,{...o,content:a}),{sanitize:bm(t),sandbox_iframes:jp(t)});return n.isDefaultPrevented()?(ph(t,n),$l.error(void 0)):$l.value(n)}},uy=(t,o,n)=>{n.no_events||ph(t,{...n,content:o})},ew=(t,o,n)=>({element:t,width:o,rows:n}),Wi=(t,o)=>({element:t,cells:o}),my=(t,o)=>({x:t,y:o}),H2=(t,o)=>wo(t,o).bind(Vr).getOr(1),j2=(t,o,n)=>{const a=t.rows;return!!(a[n]?a[n].cells:[])[o]},f0=t=>Oe(t,(o,n)=>n.cells.length>o?n.cells.length:o,0),Kg=(t,o)=>{const n=t.rows;for(let a=0;a<n.length;a++){const i=n[a].cells;for(let c=0;c<i.length;c++)if(sa(i[c],o))return V.some(my(c,a))}return V.none()},Yg=(t,o,n,a,i)=>{const c=[],d=t.rows;for(let u=n;u<=i;u++){const f=d[u].cells,y=o<a?f.slice(o,a+1):f.slice(a,o+1);c.push(Wi(d[u].element,y))}return c},aO=t=>((o,n)=>{const a=Um(o.element),i=_s("tbody");return dc(i,n),os(a,i),a})(t,(o=>to(o.rows,n=>{const a=to(n.cells,c=>{const d=Hf(c);return U(d,"colspan"),U(d,"rowspan"),d}),i=Um(n.element);return dc(i,a),i}))(t)),sO=(t,o,n)=>{const a=je(o.commonAncestorContainer),i=$g(a,t),c=gt(i,f=>n.isWrapper(Pe(f))),d=((f,y)=>Fe(f,v=>Pe(v)==="li"&&ql(v,y)).fold(Ct([]),v=>(k=>Fe(k,E=>Pe(E)==="ul"||Pe(E)==="ol"))(f).map(k=>{const E=_s(Pe(k)),B=Rr(_u(k),(O,P)=>gr(P,"list-style"));return qd(E,B),[_s("li"),E]}).getOr([])))(i,o),u=c.concat(d.length?d:(f=>uc(f)?Gi(f).filter(hs).fold(Ct([]),y=>[f,y]):hs(f)?[f]:[])(a));return to(u,Um)},Eh=()=>Qv([]),gy=(t,o)=>((n,a)=>Ua(a,"table",Je(sa,n)))(t,o[0]).bind(n=>{const a=o[0],i=o[o.length-1],c=(d=>{const u=ew(Um(d),0,[]);return Se(wa(d,"tr"),(f,y)=>{Se(wa(f,"td,th"),(v,k)=>{((E,B,O,P,M)=>{const j=H2(M,"rowspan"),q=H2(M,"colspan"),K=E.rows;for(let re=O;re<O+j;re++){K[re]||(K[re]=Wi(Hf(P),[]));for(let ee=B;ee<B+q;ee++)K[re].cells[ee]=re===O&&ee===B?M:Um(M)}})(u,((E,B,O)=>{for(;j2(E,B,O);)B++;return B})(u,k,y),y,f,v)})}),ew(u.element,f0(u.rows),u.rows)})(n);return((d,u,f)=>Kg(d,u).bind(y=>Kg(d,f).map(v=>((k,E,B)=>{const O=E.x,P=E.y,M=B.x,j=B.y,q=P<j?Yg(k,O,P,M,j):Yg(k,O,j,M,P);return ew(k.element,f0(q),q)})(d,y,v))))(c,a,i).map(d=>Qv([aO(d)]))}).getOrThunk(Eh),py=(t,o,n)=>{const a=Er(o,t);return a.length>0?gy(t,a):((i,c,d)=>c.length>0&&c[0].collapsed?Eh():((u,f,y)=>((v,k)=>{const E=Oe(k,(B,O)=>(os(O,B),O),v);return k.length>0?Qv([E]):E})(je(f.cloneContents()),sO(u,f,y)))(i,c[0],d))(t,o,n)},h0=(t,o)=>o>=0&&o<t.length&&Qr(t.charAt(o)),tw=t=>qs(t.innerText),V2=t=>an(t)?t.outerHTML:ro(t)?Sc.encodeRaw(t.data,!1):ni(t)?"<!--"+t.data+"-->":"",vE=(t,o)=>(((n,a)=>{let i=0;Se(n,c=>{c[0]===0?i++:c[0]===1?(((d,u,f)=>{const y=(v=>{let k;const E=document.createElement("div"),B=document.createDocumentFragment();for(v&&(E.innerHTML=v);k=E.firstChild;)B.appendChild(k);return B})(u);if(d.hasChildNodes()&&f<d.childNodes.length){const v=d.childNodes[f];d.insertBefore(y,v)}else d.appendChild(y)})(a,c[1],i),i++):c[0]===2&&((d,u)=>{if(d.hasChildNodes()&&u<d.childNodes.length){const f=d.childNodes[u];d.removeChild(f)}})(a,i)})})(((n,a)=>{const i=n.length+a.length+2,c=new Array(i),d=new Array(i),u=(k,E,B,O,P)=>{const M=y(k,E,B,O);if(M===null||M.start===E&&M.diag===E-O||M.end===k&&M.diag===k-B){let j=k,q=B;for(;j<E||q<O;)j<E&&q<O&&n[j]===a[q]?(P.push([0,n[j]]),++j,++q):E-k>O-B?(P.push([2,n[j]]),++j):(P.push([1,a[q]]),++q)}else{u(k,M.start,B,M.start-M.diag,P);for(let j=M.start;j<M.end;++j)P.push([0,n[j]]);u(M.end,E,M.end-M.diag,O,P)}},f=(k,E,B,O)=>{let P=k;for(;P-E<O&&P<B&&n[P]===a[P-E];)++P;return((M,j,q)=>({start:M,end:j,diag:q}))(k,P,E)},y=(k,E,B,O)=>{const P=E-k,M=O-B;if(P===0||M===0)return null;const j=P-M,q=M+P,K=(q%2==0?q:q+1)/2;let re,ee,ke,et,st;for(c[1+K]=k,d[1+K]=E+1,re=0;re<=K;++re){for(ee=-re;ee<=re;ee+=2){for(ke=ee+K,ee===-re||ee!==re&&c[ke-1]<c[ke+1]?c[ke]=c[ke+1]:c[ke]=c[ke-1]+1,et=c[ke],st=et-k+B-ee;et<E&&st<O&&n[et]===a[st];)c[ke]=++et,++st;if(j%2!=0&&j-re<=ee&&ee<=j+re&&d[ke-j]<=c[ke])return f(d[ke-j],ee+k-B,E,O)}for(ee=j-re;ee<=j+re;ee+=2){for(ke=ee+K-j,ee===j-re||ee!==j+re&&d[ke+1]<=d[ke-1]?d[ke]=d[ke+1]-1:d[ke]=d[ke-1],et=d[ke]-1,st=et-k+B-ee;et>=k&&st>=B&&n[et]===a[st];)d[ke]=et--,st--;if(j%2==0&&-re<=ee&&ee<=re&&d[ke]<=c[ke+j])return f(d[ke],ee+k-B,E,O)}}return null},v=[];return u(0,n.length,0,a.length,v),v})(to(Pn(o.childNodes),V2),t),o),o),iO=tt(()=>document.implementation.createHTMLDocument("undo")),ow=t=>{const o=t.serializer.getTempAttrs(),n=h4(t.getBody(),o);return(a=>a.querySelector("iframe")!==null)(n)?{type:"fragmented",fragments:gt(to(Pn(n.childNodes),gn(qs,V2)),a=>a.length>0),content:"",bookmark:null,beforeBookmark:null}:{type:"complete",fragments:null,content:qs(n.innerHTML),bookmark:null,beforeBookmark:null}},nw=(t,o,n)=>{const a=n?o.beforeBookmark:o.bookmark;o.type==="fragmented"?vE(o.fragments,t.getBody()):t.setContent(o.content,{format:"raw",no_selection:!Ze(a)||!Re(a)||!a.isFakeCaret}),a&&(t.selection.moveToBookmark(a),t.selection.scrollIntoView())},rw=t=>t.type==="fragmented"?t.fragments.join(""):t.content,fy=t=>{const o=_s("body",iO());return wc(o,rw(t)),Se(wa(o,"*[data-mce-bogus]"),_l),yd(o)},aw=(t,o)=>!(!t||!o)&&(!!((n,a)=>rw(n)===rw(a))(t,o)||((n,a)=>fy(n)===fy(a))(t,o)),sw=t=>t.get()===0,b0=(t,o,n)=>{sw(n)&&(t.typing=o)},$2=(t,o)=>{t.typing&&(b0(t,!1,o),t.add())},U2=t=>({init:{bindEvents:$t},undoManager:{beforeChange:(o,n)=>((a,i,c)=>{sw(i)&&c.set(yi(a.selection))})(t,o,n),add:(o,n,a,i,c,d)=>((u,f,y,v,k,E,B)=>{const O=ow(u),P=go.extend(E||{},O);if(!sw(v)||u.removed)return null;const M=f.data[y.get()];if(u.dispatch("BeforeAddUndo",{level:P,lastLevel:M,originalEvent:B}).isDefaultPrevented()||M&&aw(M,P))return null;f.data[y.get()]&&k.get().each(K=>{f.data[y.get()].beforeBookmark=K});const j=a_(u);if(j&&f.data.length>j){for(let K=0;K<f.data.length-1;K++)f.data[K]=f.data[K+1];f.data.length--,y.set(f.data.length)}P.bookmark=yi(u.selection),y.get()<f.data.length-1&&(f.data.length=y.get()+1),f.data.push(P),y.set(f.data.length-1);const q={level:P,lastLevel:M,originalEvent:B};return y.get()>0?(u.setDirty(!0),u.dispatch("AddUndo",q),u.dispatch("change",q)):u.dispatch("AddUndo",q),P})(t,o,n,a,i,c,d),undo:(o,n,a)=>((i,c,d,u)=>{let f;return c.typing&&(c.add(),c.typing=!1,b0(c,!1,d)),u.get()>0&&(u.set(u.get()-1),f=c.data[u.get()],nw(i,f,!0),i.setDirty(!0),i.dispatch("Undo",{level:f})),f})(t,o,n,a),redo:(o,n)=>((a,i,c)=>{let d;return i.get()<c.length-1&&(i.set(i.get()+1),d=c[i.get()],nw(a,d,!1),a.setDirty(!0),a.dispatch("Redo",{level:d})),d})(t,o,n),clear:(o,n)=>((a,i,c)=>{i.data=[],c.set(0),i.typing=!1,a.dispatch("ClearUndos")})(t,o,n),reset:o=>(n=>{n.clear(),n.add()})(o),hasUndo:(o,n)=>((a,i,c)=>c.get()>0||i.typing&&i.data[0]&&!aw(ow(a),i.data[0]))(t,o,n),hasRedo:(o,n)=>((a,i)=>i.get()<a.data.length-1&&!a.typing)(o,n),transact:(o,n,a)=>((i,c,d)=>($2(i,c),i.beforeChange(),i.ignore(d),i.add()))(o,n,a),ignore:(o,n)=>((a,i)=>{try{a.set(a.get()+1),i()}finally{a.set(a.get()-1)}})(o,n),extra:(o,n,a,i)=>((c,d,u,f,y)=>{if(d.transact(f)){const v=d.data[u.get()].bookmark,k=d.data[u.get()-1];nw(c,k,!0),d.transact(y)&&(d.data[u.get()-1].beforeBookmark=v)}})(t,o,n,a,i)},formatter:{match:(o,n,a,i)=>Px(t,o,n,a,i),matchAll:(o,n)=>((a,i,c)=>{const d=[],u={},f=a.selection.getStart();return a.dom.getParent(f,y=>{for(let v=0;v<i.length;v++){const k=i[v];!u[k]&&Cm(a,y,k,c)&&(u[k]=!0,d.push(k))}},a.dom.getRoot()),d})(t,o,n),matchNode:(o,n,a,i)=>Cm(t,o,n,a,i),canApply:o=>((n,a)=>{const i=n.formatter.get(a),c=n.dom;if(i&&n.selection.isEditable()){const d=n.selection.getStart(),u=Wv(c,d);for(let f=i.length-1;f>=0;f--){const y=i[f];if(!Fd(y))return!0;for(let v=u.length-1;v>=0;v--)if(c.is(u[v],y.selector))return!0}}return!1})(t,o),closest:o=>((n,a)=>{const i=c=>sa(c,je(n.getBody()));return V.from(n.selection.getStart(!0)).bind(c=>Fx(je(c),d=>zn(a,u=>((f,y)=>Cm(n,f.dom,y)?V.some(y):V.none())(d,u)),i)).getOrNull()})(t,o),apply:(o,n,a)=>Q4(t,o,n,a),remove:(o,n,a,i)=>cf(t,o,n,a,i),toggle:(o,n,a)=>((i,c,d,u)=>{const f=i.formatter.get(c);f&&(!Px(i,c,d,u)||"toggle"in f[0]&&!f[0].toggle?Q4(i,c,d,u):cf(i,c,d,u))})(t,o,n,a),formatChanged:(o,n,a,i,c)=>((d,u,f,y,v,k)=>(((E,B,O,P,M,j)=>{const q=B.get();Se(O.split(","),K=>{const re=Fn(q,K).getOrThunk(()=>{const ke={withSimilar:{state:bi(!1),similar:!0,callbacks:[]},withoutSimilar:{state:bi(!1),similar:!1,callbacks:[]},withVars:[]};return q[K]=ke,ke}),ee=()=>{const ke=w2(E);return x2(E,ke,K,M,j).isSome()};if(fo(j)){const ke=M?re.withSimilar:re.withoutSimilar;ke.callbacks.push(P),ke.callbacks.length===1&&ke.state.set(ee())}else re.withVars.push({state:bi(ee()),similar:M,vars:j,callback:P})}),B.set(q)})(d,u,f,y,v,k),{unbind:()=>((E,B,O)=>{const P=E.get();Se(B.split(","),M=>Fn(P,M).each(j=>{P[M]={withSimilar:{...j.withSimilar,callbacks:gt(j.withSimilar.callbacks,q=>q!==O)},withoutSimilar:{...j.withoutSimilar,callbacks:gt(j.withoutSimilar.callbacks,q=>q!==O)},withVars:gt(j.withVars,q=>q.callback!==O)}})),E.set(P)})(u,f,y)}))(t,o,n,a,i,c)},editor:{getContent:o=>((n,a)=>V.from(n.getBody()).fold(Ct(a.format==="tree"?new pc("body",11):""),i=>b4(n,a,i)))(t,o),setContent:(o,n)=>((a,i,c)=>V.from(a.getBody()).map(d=>xh(i)?((u,f,y,v)=>{Ax(u.parser.getNodeFilters(),u.parser.getAttributeFilters(),y);const k=af({validate:!1},u.schema).serialize(y),E=qs(Ui(je(f))?k:go.trim(k));return Bx(u,E,v.no_selection),{content:y,html:E}})(a,d,i,c):((u,f,y,v)=>{if((y=qs(y)).length===0||/^\s+$/.test(y)){const k='<br data-mce-bogus="1">';f.nodeName==="TABLE"?y="<tr><td>"+k+"</td></tr>":/^(UL|OL)$/.test(f.nodeName)&&(y="<li>"+k+"</li>");const E=Ts(u);return u.schema.isValidChild(f.nodeName.toLowerCase(),E.toLowerCase())?(y=k,y=u.dom.createHTML(E,gc(u),y)):y||(y=k),Bx(u,y,v.no_selection),{content:y,html:y}}{v.format!=="raw"&&(y=af({validate:!1},u.schema).serialize(u.parser.parse(y,{isRootContent:!0,insert:!0})));const k=Ui(je(f))?y:go.trim(y);return Bx(u,k,v.no_selection),{content:k,html:k}}})(a,d,i,c)).getOr({content:i,html:xh(c.content)?"":c.content}))(t,o,n),insertContent:(o,n)=>W4(t,o,n),addVisual:o=>((n,a)=>{const i=n.dom,c=Ze(a)?a:n.getBody();Se(i.select("table,a",c),d=>{switch(d.nodeName){case"TABLE":const u=Cb(n),f=i.getAttrib(d,"border");f&&f!=="0"||!n.hasVisual?i.removeClass(d,u):i.addClass(d,u);break;case"A":if(!i.getAttrib(d,"href")){const y=i.getAttrib(d,"name")||d.id,v=rh(n);y&&n.hasVisual?i.addClass(d,v):i.removeClass(d,v)}}}),n.dispatch("VisualAid",{element:a,hasVisual:n.hasVisual})})(t,o)},selection:{getContent:(o,n)=>((a,i,c={})=>{const d=((u,f)=>({...u,format:f,get:!0,selection:!0,getInner:!0}))(c,i);return L2(a,d).fold(R,u=>{const f=((y,v)=>{if(v.format==="text")return(k=>V.from(k.selection.getRng()).map(E=>{var B;const O=V.from(k.dom.getParent(E.commonAncestorContainer,k.dom.isBlock)),P=k.getBody(),M=(ee=>ee.map(ke=>ke.nodeName).getOr("div").toLowerCase())(O),j=je(E.cloneContents());er(j),Kb(j);const q=k.dom.add(P,M,{"data-mce-bogus":"all",style:"overflow: hidden; opacity: 0;"},j.dom),K=tw(q),re=qs((B=q.textContent)!==null&&B!==void 0?B:"");if(k.dom.remove(q),h0(re,0)||h0(re,re.length-1)){const ee=O.getOr(P),ke=tw(ee),et=ke.indexOf(K);return et===-1?K:(h0(ke,et-1)?" ":"")+K+(h0(ke,et+K.length)?" ":"")}return K}).getOr(""))(y);{const k=((E,B)=>{const O=E.selection.getRng(),P=E.dom.create("body"),M=E.selection.getSel(),j=O_(E,Mr(M)),q=B.contextual?py(je(E.getBody()),j,E.schema).dom:O.cloneContents();return q&&P.appendChild(q),E.selection.serializer.serialize(P,B)})(y,v);return v.format==="tree"?k:y.selection.isCollapsed()?"":k}})(a,u);return I2(a,f,u)})})(t,o,n)},autocompleter:{addDecoration:o=>DA(t,o),removeDecoration:()=>((o,n)=>u4(n).each(a=>{const i=o.selection.getBookmark();_l(a),o.selection.moveToBookmark(i)}))(t,je(t.getBody()))},raw:{getModel:()=>V.none()}}),Tm=t=>ln(t.plugins,"rtc"),iw=t=>t.rtcInstance?t.rtcInstance:U2(t),Li=t=>{const o=t.rtcInstance;if(o)return o;throw new Error("Failed to get RTC instance not yet initialized.")},Z2=t=>Li(t).init.bindEvents(),lw=t=>t.dom.length===0?(Ea(t),V.none()):V.some(t),hy=(t,o,n,a,i)=>{t.bind(c=>((a?P1:yh)(c.dom,a?c.dom.length:0,i),o.filter(_r).map(d=>((u,f,y,v,k)=>{const E=u.dom,B=f.dom,O=v?E.length:B.length;v?(j_(E,B,k,!1,!v),y.setStart(B,O)):(j_(B,E,k,!1,!v),y.setEnd(B,O))})(c,d,n,a,i)))).orThunk(()=>((d,u)=>d.filter(f=>tf.isBookmarkNode(f.dom)).bind(u?ie:Ki))(o,a).or(o).filter(_r).map(d=>((u,f,y)=>{Gi(u).each(v=>{const k=u.dom;f&&I1(v,Ht(k,0),y)?yh(k,0,y):!f&&rc(v,Ht(k,k.length),y)&&P1(k,k.length,y)})})(d,a,i)))},q2=(t,o,n)=>{if(ln(t,o)){const a=gt(t[o],i=>i!==n);a.length===0?delete t[o]:t[o]=a}},W2=t=>!(!t||!t.ownerDocument)&&lc(je(t.ownerDocument),je(t)),y0=(t,o,n,a)=>{let i,c;const{selectorChangedWithUnbind:d}=((M,j)=>{let q,K;const re=(ke,et)=>Fe(et,st=>M.is(st,ke)),ee=ke=>M.getParents(ke,void 0,M.getRoot());return{selectorChangedWithUnbind:(ke,et)=>(q||(q={},K={},j.on("NodeChange",st=>{const mt=st.element,kt=ee(mt),Ve={};Ft(q,(ot,pt)=>{re(pt,kt).each(Jt=>{K[pt]||(Se(ot,en=>{en(!0,{node:Jt,selector:pt,parents:kt})}),K[pt]=ot),Ve[pt]=ot})}),Ft(K,(ot,pt)=>{Ve[pt]||(delete K[pt],Se(ot,Jt=>{Jt(!1,{node:mt,selector:pt,parents:kt})}))})})),q[ke]||(q[ke]=[]),q[ke].push(et),re(ke,ee(j.selection.getStart())).each(()=>{K[ke]=q[ke]}),{unbind:()=>{q2(q,ke,et),q2(K,ke,et)}})}})(t,a),u=(M,j)=>((q,K,re={})=>{const ee=((ke,et)=>({format:"html",...ke,set:!0,selection:!0,content:et}))(re,K);P2(q,ee).each(ke=>{const et=((mt,kt)=>{if(kt.format!=="raw"){const Ve=mt.selection.getRng(),ot=mt.dom.getParent(Ve.commonAncestorContainer,mt.dom.isBlock),pt=ot?{context:ot.nodeName.toLowerCase()}:{},Jt=mt.parser.parse(kt.content,{forced_root_block:!1,...pt,...kt});return af({validate:!1},mt.schema).serialize(Jt)}return kt.content})(q,ke),st=q.selection.getRng();((mt,kt,Ve)=>{const ot=V.from(kt.firstChild).map(je),pt=V.from(kt.lastChild).map(je);mt.deleteContents(),mt.insertNode(kt);const Jt=ot.bind(Ki).filter(_r).bind(lw),en=pt.bind(ie).filter(_r).bind(lw);hy(Jt,ot,mt,!0,Ve),hy(en,pt,mt,!1,Ve),mt.collapse(!1)})(st,st.createContextualFragment(et),q.schema),q.selection.setRng(st),bh(q,st),uy(q,et,ke)})})(a,M,j),f=M=>{const j=v();j.collapse(!!M),k(j)},y=()=>o.getSelection?o.getSelection():o.document.selection,v=()=>{let M;const j=(K,re,ee)=>{try{return re.compareBoundaryPoints(K,ee)}catch{return-1}},q=o.document;if(Ze(a.bookmark)&&!rf(a)){const K=ax(a);if(K.isSome())return K.map(re=>O_(a,[re])[0]).getOr(q.createRange())}try{const K=y();K&&!Rm(K.anchorNode)&&(M=K.rangeCount>0?K.getRangeAt(0):q.createRange(),M=O_(a,[M])[0])}catch{}if(M||(M=q.createRange()),xd(M.startContainer)&&M.collapsed){const K=t.getRoot();M.setStart(K,0),M.setEnd(K,0)}return i&&c&&(j(M.START_TO_START,M,i)===0&&j(M.END_TO_END,M,i)===0?M=c:(i=null,c=null)),M},k=(M,j)=>{if(!(K=>!!K&&W2(K.startContainer)&&W2(K.endContainer))(M))return;const q=y();if(M=a.dispatch("SetSelectionRange",{range:M,forward:j}).range,q){c=M;try{q.removeAllRanges(),q.addRange(M)}catch{}j===!1&&q.extend&&(q.collapse(M.endContainer,M.endOffset),q.extend(M.startContainer,M.startOffset)),i=q.rangeCount>0?q.getRangeAt(0):null}if(!M.collapsed&&M.startContainer===M.endContainer&&q?.setBaseAndExtent&&M.endOffset-M.startOffset<2&&M.startContainer.hasChildNodes()){const K=M.startContainer.childNodes[M.startOffset];K&&K.nodeName==="IMG"&&(q.setBaseAndExtent(M.startContainer,M.startOffset,M.endContainer,M.endOffset),q.anchorNode===M.startContainer&&q.focusNode===M.endContainer||q.setBaseAndExtent(K,0,K,1))}a.dispatch("AfterSetSelectionRange",{range:M,forward:j})},E=()=>{const M=y(),j=M?.anchorNode,q=M?.focusNode;if(!M||!j||!q||Rm(j)||Rm(q))return!0;const K=t.createRng(),re=t.createRng();try{K.setStart(j,M.anchorOffset),K.collapse(!0),re.setStart(q,M.focusOffset),re.collapse(!0)}catch{return!0}return K.compareBoundaryPoints(K.START_TO_START,re)<=0},B={dom:t,win:o,serializer:n,editor:a,expand:(M={type:"word"})=>k(nf(t).expand(v(),M)),collapse:f,setCursorLocation:(M,j)=>{const q=t.createRng();Ze(M)&&Ze(j)?(q.setStart(M,j),q.setEnd(M,j),k(q),f(!1)):(ua(t,q,a.getBody(),!0),k(q))},getContent:M=>((j,q={})=>((K,re,ee)=>Li(K).selection.getContent(re,ee))(j,q.format?q.format:"html",q))(a,M),setContent:u,getBookmark:(M,j)=>O.getBookmark(M,j),moveToBookmark:M=>O.moveToBookmark(M),select:(M,j)=>(((q,K,re)=>V.from(K).bind(ee=>V.from(ee.parentNode).map(ke=>{const et=q.nodeIndex(ee),st=q.createRng();return st.setStart(ke,et),st.setEnd(ke,et+1),re&&(ua(q,st,ee,!0),ua(q,st,ee,!1)),st})))(t,M,j).each(k),M),isCollapsed:()=>{const M=v(),j=y();return!(!M||M.item)&&(M.compareEndPoints?M.compareEndPoints("StartToEnd",M)===0:!j||M.collapsed)},isEditable:()=>{const M=v(),j=a.getBody().querySelectorAll('[data-mce-selected="1"]');return j.length>0?ze(j,q=>t.isEditable(q.parentElement)):A_(t,M)},isForward:E,setNode:M=>(u(t.getOuterHTML(M)),M),getNode:()=>((M,j)=>{if(!j)return M;let q=j.startContainer,K=j.endContainer;const re=j.startOffset,ee=j.endOffset;let ke=j.commonAncestorContainer;j.collapsed||(q===K&&ee-re<2&&q.hasChildNodes()&&(ke=q.childNodes[re]),ro(q)&&ro(K)&&(q=q.length===re?l4(q.nextSibling,!0):q.parentNode,K=ee===0?l4(K.previousSibling,!1):K.parentNode,q&&q===K&&(ke=q)));const et=ro(ke)?ke.parentNode:ke;return Ti(et)?et:M})(a.getBody(),v()),getSel:y,setRng:k,getRng:v,getStart:M=>s4(a.getBody(),v(),M),getEnd:M=>i4(a.getBody(),v(),M),getSelectedBlocks:(M,j)=>((q,K,re,ee)=>{const ke=[],et=q.getRoot(),st=q.getParent(re||s4(et,K,K.collapsed),q.isBlock),mt=q.getParent(ee||i4(et,K,K.collapsed),q.isBlock);if(st&&st!==et&&ke.push(st),st&&mt&&st!==mt){let kt;const Ve=new Ns(st,et);for(;(kt=Ve.next())&&kt!==mt;)q.isBlock(kt)&&ke.push(kt)}return mt&&st!==mt&&mt!==et&&ke.push(mt),ke})(t,v(),M,j),normalize:()=>{const M=v(),j=y();if(!(Mr(j).length>1)&&li(a)){const q=O1(t,M);return q.each(K=>{k(K,E())}),q.getOr(M)}return M},selectorChanged:(M,j)=>(d(M,j),B),selectorChangedWithUnbind:d,getScrollContainer:()=>{let M,j=t.getRoot();for(;j&&j.nodeName!=="BODY";){if(j.scrollHeight>j.clientHeight){M=j;break}j=j.parentNode}return M},scrollIntoView:(M,j)=>{Ze(M)?((q,K,re)=>{(q.inline?X3:zA)(q,K,re)})(a,M,j):bh(a,v(),j)},placeCaretAt:(M,j)=>k(g_(M,j,a.getDoc())),getBoundingClientRect:()=>{const M=v();return M.collapsed?Ht.fromRangeStart(M).getClientRects()[0]:M.getBoundingClientRect()},destroy:()=>{o=i=c=null,P.destroy()}},O=tf(B),P=H3(B,a);return B.bookmarkManager=O,B.controlSelection=P,B},lO=(t,o,n)=>{go.inArray(o,n)===-1&&(t.addAttributeFilter(n,(a,i)=>{let c=a.length;for(;c--;)a[c].attr(i,null)}),o.push(n))},cO=(t,o)=>{const n=["data-mce-selected"],a={entity_encoding:"named",remove_trailing_brs:!0,pad_empty_with_br:!1,...t},i=o&&o.dom?o.dom:wr.DOM,c=o&&o.schema?o.schema:Du(a),d=dy(a,c);return((u,f,y)=>{u.addAttributeFilter("data-mce-tabindex",(v,k)=>{let E=v.length;for(;E--;){const B=v[E];B.attr("tabindex",B.attr("data-mce-tabindex")),B.attr(k,null)}}),u.addAttributeFilter("src,href,style",(v,k)=>{const E="data-mce-"+k,B=f.url_converter,O=f.url_converter_scope;let P=v.length;for(;P--;){const M=v[P];let j=M.attr(E);j!==void 0?(M.attr(k,j.length>0?j:null),M.attr(E,null)):(j=M.attr(k),k==="style"?j=y.serializeStyle(y.parseStyle(j),M.name):B&&(j=B.call(O,j,k,M.name)),M.attr(k,j.length>0?j:null))}}),u.addAttributeFilter("class",v=>{let k=v.length;for(;k--;){const E=v[k];let B=E.attr("class");B&&(B=B.replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),E.attr("class",B.length>0?B:null))}}),u.addAttributeFilter("data-mce-type",(v,k,E)=>{let B=v.length;for(;B--;){const O=v[B];O.attr("data-mce-type")==="bookmark"&&!E.cleanup&&(V.from(O.firstChild).exists(M=>{var j;return!_c((j=M.value)!==null&&j!==void 0?j:"")})?O.unwrap():O.remove())}}),u.addNodeFilter("noscript",v=>{var k;let E=v.length;for(;E--;){const B=v[E].firstChild;B&&(B.value=Sc.decode((k=B.value)!==null&&k!==void 0?k:""))}}),u.addNodeFilter("script,style",(v,k)=>{var E;const B=P=>P.replace(/(<!--\[CDATA\[|\]\]-->)/g,`
`).replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"");let O=v.length;for(;O--;){const P=v[O],M=P.firstChild,j=(E=M?.value)!==null&&E!==void 0?E:"";if(k==="script"){const q=P.attr("type");q&&P.attr("type",q==="mce-no/type"?null:q.replace(/^mce\-/,"")),f.element_format==="xhtml"&&M&&j.length>0&&(M.value=`// <![CDATA[
`+B(j)+`
// ]]>`)}else f.element_format==="xhtml"&&M&&j.length>0&&(M.value=`<!--
`+B(j)+`
-->`)}}),u.addNodeFilter("#comment",v=>{let k=v.length;for(;k--;){const E=v[k],B=E.value;f.preserve_cdata&&B?.indexOf("[CDATA[")===0?(E.name="#cdata",E.type=4,E.value=y.decode(B.replace(/^\[CDATA\[|\]\]$/g,""))):B?.indexOf("mce:protected ")===0&&(E.name="#text",E.type=3,E.raw=!0,E.value=unescape(B).substr(14))}}),u.addNodeFilter("xml:namespace,input",(v,k)=>{let E=v.length;for(;E--;){const B=v[E];B.type===7?B.remove():B.type===1&&(k!=="input"||B.attr("type")||B.attr("type","text"))}}),u.addAttributeFilter("data-mce-type",v=>{Se(v,k=>{k.attr("data-mce-type")==="format-caret"&&(k.isEmpty(u.schema.getNonEmptyElements())?k.remove():k.unwrap())})}),u.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-block,data-mce-type,data-mce-resize,data-mce-placeholder",(v,k)=>{let E=v.length;for(;E--;)v[E].attr(k,null)}),f.remove_trailing_brs&&tE(f,u,u.schema)})(d,a,i),{schema:c,addNodeFilter:d.addNodeFilter,addAttributeFilter:d.addAttributeFilter,serialize:(u,f={})=>{const y={format:"html",...f},v=((B,O,P)=>((M,j)=>Ze(M)&&M.hasEventListeners("PreProcess")&&!j.no_events)(B,P)?((M,j,q)=>{let K;const re=M.dom;let ee=j.cloneNode(!0);const ke=document.implementation;if(ke.createHTMLDocument){const et=ke.createHTMLDocument("");go.each(ee.nodeName==="BODY"?ee.childNodes:[ee],st=>{et.body.appendChild(et.importNode(st,!0))}),ee=ee.nodeName!=="BODY"?et.body.firstChild:et.body,K=re.doc,re.doc=et}return((et,st)=>{et.dispatch("PreProcess",st)})(M,{...q,node:ee}),K&&(re.doc=K),ee})(B,O,P):O)(o,u,y),k=((B,O,P)=>{const M=qs(P.getInner?O.innerHTML:B.getOuterHTML(O));return P.selection||Ui(je(O))?M:go.trim(M)})(i,v,y),E=((B,O,P)=>{const M=P.selection?{forced_root_block:!1,...P}:P,j=B.parse(O,M);return(q=>{const K=ee=>ee?.name==="br",re=q.lastChild;if(K(re)){const ee=re.prev;K(ee)&&(re.remove(),ee.remove())}})(j),j})(d,k,y);return y.format==="tree"?E:((B,O,P,M,j)=>{const q=((K,re,ee)=>af(K,re).serialize(ee))(O,P,M);return((K,re,ee)=>!re.no_events&&K?((et,st)=>et.dispatch("PostProcess",st))(K,{...re,content:ee}).content:ee)(B,j,q)})(o,a,c,E,y)},addRules:c.addValidElements,setRules:c.setValidElements,addTempAttr:Je(lO,d,n),getTempAttrs:Ct(n),getNodeFilters:d.getNodeFilters,getAttributeFilters:d.getAttributeFilters,removeNodeFilter:d.removeNodeFilter,removeAttributeFilter:d.removeAttributeFilter}},Xg=(t,o)=>{const n=cO(t,o);return{schema:n.schema,addNodeFilter:n.addNodeFilter,addAttributeFilter:n.addAttributeFilter,serialize:n.serialize,addRules:n.addRules,setRules:n.setRules,addTempAttr:n.addTempAttr,getTempAttrs:n.getTempAttrs,getNodeFilters:n.getNodeFilters,getAttributeFilters:n.getAttributeFilters,removeNodeFilter:n.removeNodeFilter,removeAttributeFilter:n.removeAttributeFilter}},v0=(t,o,n={})=>{const a=((i,c)=>({format:"html",...i,set:!0,content:c}))(n,o);return P2(t,a).map(i=>{const c=((d,u,f)=>iw(d).editor.setContent(u,f))(t,i.content,i);return uy(t,c.html,i),c.content}).getOr(o)},xE="autoresize_on_init,content_editable_state,padd_empty_with_br,block_elements,boolean_attributes,editor_deselector,editor_selector,elements,file_browser_callback_types,filepicker_validator_handler,force_hex_style_colors,force_p_newlines,gecko_spellcheck,images_dataimg_filter,media_scripts,mode,move_caret_before_on_enter_elements,non_empty_elements,self_closing_elements,short_ended_elements,special,spellchecker_select_languages,spellchecker_whitelist,tab_focus,tabfocus_elements,table_responsive_width,text_block_elements,text_inline_elements,toolbar_drawer,types,validate,whitespace_elements,paste_enable_default_filters,paste_filter_drop,paste_word_valid_elements,paste_retain_style_properties,paste_convert_word_fake_lists".split(","),x0="template_cdate_classes,template_mdate_classes,template_selected_content_classes,template_preview_replace_values,template_replace_values,templates,template_cdate_format,template_mdate_format".split(","),wE="bbcode,colorpicker,contextmenu,fullpage,legacyoutput,spellchecker,textcolor".split(","),cw=[{name:"template",replacedWith:"Advanced Template"},{name:"rtc"}],G2=(t,o)=>{const n=gt(o,a=>ln(t,a));return Xo(n)},kE=t=>{const o=G2(t,xE),n=t.forced_root_block;return n!==!1&&n!==""||o.push("forced_root_block (false only)"),Xo(o)},K2=t=>G2(t,x0),Y2=(t,o)=>{const n=go.makeMap(t.plugins," "),a=gt(o,i=>ln(n,i));return Xo(a)},dO=t=>Y2(t,wE),dw=t=>Y2(t,cw.map(o=>o.name)),hc=t=>Fe(cw,o=>o.name===t).fold(()=>t,o=>o.replacedWith?`${t}, replaced by ${o.replacedWith}`:t),Th=wr.DOM,Jm=t=>V.from(t).each(o=>o.destroy()),w0=(()=>{const t={};return{add:(o,n)=>{t[o]=n},get:o=>t[o]?t[o]:{icons:{}},has:o=>ln(t,o)}})(),Kl=bl.ModelManager,mf=(t,o)=>o.dom[t],X2=(t,o)=>parseInt(Yi(o,t),10),_E=Je(mf,"clientWidth"),CE=Je(mf,"clientHeight"),k0=Je(X2,"margin-top"),J2=Je(X2,"margin-left"),Q2=t=>{const o=[],n=()=>{const f=t.theme;return f&&f.getNotificationManagerImpl?f.getNotificationManagerImpl():(()=>{const y=()=>{throw new Error("Theme did not provide a NotificationManager implementation.")};return{open:y,close:y,getArgs:y}})()},a=()=>V.from(o[0]),i=()=>{Se(o,f=>{f.reposition()})},c=f=>{ge(o,y=>y===f).each(y=>{o.splice(y,1)})},d=(f,y=!0)=>t.removed||!(v=>{return(k=v.inline?v.getBody():v.getContentAreaContainer(),V.from(k).map(je)).map(Es).getOr(!1);var k})(t)?{}:(y&&t.dispatch("BeforeOpenNotification",{notification:f}),Fe(o,v=>{return k=n().getArgs(v),E=f,!(k.type!==E.type||k.text!==E.text||k.progressBar||k.timeout||E.progressBar||E.timeout);var k,E}).getOrThunk(()=>{t.editorManager.setActive(t);const v=n().open(f,()=>{c(v),i(),r4(t)&&a().fold(()=>t.focus(),k=>J3(je(k.getEl())))});return(k=>{o.push(k)})(v),i(),t.dispatch("OpenNotification",{notification:{...v}}),v})),u=Ct(o);return(f=>{f.on("SkinLoaded",()=>{const y=xb(f);y&&d({text:y,type:"warning",timeout:0},!1),i()}),f.on("show ResizeEditor ResizeWindow NodeChange",()=>{requestAnimationFrame(i)}),f.on("remove",()=>{Se(o.slice(),y=>{n().close(y)})})})(t),{open:d,close:()=>{a().each(f=>{n().close(f),c(f),i()})},getNotifications:u}},by=bl.PluginManager,Jg=bl.ThemeManager,uw=t=>{let o=[];const n=()=>{const d=t.theme;return d&&d.getWindowManagerImpl?d.getWindowManagerImpl():(()=>{const u=()=>{throw new Error("Theme did not provide a WindowManager implementation.")};return{open:u,openUrl:u,alert:u,confirm:u,close:u}})()},a=(d,u)=>(...f)=>u?u.apply(d,f):void 0,i=d=>{(u=>{t.dispatch("CloseWindow",{dialog:u})})(d),o=gt(o,u=>u!==d),o.length===0&&t.focus()},c=d=>{t.editorManager.setActive(t),rx(t),t.ui.show();const u=d();return(f=>{o.push(f),(y=>{t.dispatch("OpenWindow",{dialog:y})})(f)})(u),u};return t.on("remove",()=>{Se(o,d=>{n().close(d)})}),{open:(d,u)=>c(()=>n().open(d,u,i)),openUrl:d=>c(()=>n().openUrl(d,i)),alert:(d,u,f)=>{const y=n();y.alert(d,a(f||y,u))},confirm:(d,u,f)=>{const y=n();y.confirm(d,a(f||y,u))},close:()=>{V.from(o[o.length-1]).each(d=>{n().close(d),i(d)})}}},SE=(t,o)=>{t.notificationManager.open({type:"error",text:o})},hu=(t,o)=>{t._skinLoaded?SE(t,o):t.on("SkinLoaded",()=>{SE(t,o)})},zh=(t,o,n)=>{z1(t,o,{message:n}),console.error(n)},gf=(t,o,n)=>n?`Failed to load ${t}: ${n} from url ${o}`:`Failed to load ${t} url: ${o}`,yy=(t,...o)=>{const n=window.console;n&&(n.error?n.error(t,...o):n.log(t,...o))},mw=t=>"content/"+t+"/content.css",eC=(t,o)=>{const n=t.editorManager.baseURL+"/skins/content",a=`content${t.editorManager.suffix}.css`;return to(o,i=>(c=>tinymce.Resource.has(mw(c)))(i)?i:(c=>/^[a-z0-9\-]+$/i.test(c))(i)&&!t.inline?`${n}/${i}/${a}`:t.documentBaseURI.toAbsolute(i))},EE=(t,o)=>{const n={};return{findAll:(a,i=Bt)=>{const c=gt((u=>u?Pn(u.getElementsByTagName("img")):[])(a),u=>{const f=u.src;return!u.hasAttribute("data-mce-bogus")&&!u.hasAttribute("data-mce-placeholder")&&!(!f||f===Rn.transparentSrc)&&(gr(f,"blob:")?!t.isUploaded(f)&&i(u):!!gr(f,"data:")&&i(u))}),d=to(c,u=>{const f=u.src;if(ln(n,f))return n[f].then(y=>Ue(y)?y:{image:u,blobInfo:y.blobInfo});{const y=((v,k)=>{const E=()=>Promise.reject("Invalid data URI");if(gr(k,"blob:")){const P=v.getByUri(k);return Ze(P)?Promise.resolve(P):(B=k,gr(B,"blob:")?(M=>fetch(M).then(j=>j.ok?j.blob():Promise.reject()).catch(()=>Promise.reject({message:`Cannot convert ${M} to Blob. Resource might not exist or is inaccessible.`,uriType:"blob"})))(B):gr(B,"data:")?(O=B,new Promise((M,j)=>{ay(O).bind(({type:q,data:K,base64Encoded:re})=>C2(q,K,re)).fold(()=>j("Invalid data URI"),M)})):Promise.reject("Unknown URI format")).then(M=>Gx(M).then(j=>Kx(j,!1,q=>V.some(S2(v,M,q))).getOrThunk(E)))}var B,O;return gr(k,"data:")?i0(v,k).fold(E,P=>Promise.resolve(P)):Promise.reject("Unknown image data format")})(o,f).then(v=>(delete n[f],{image:u,blobInfo:v})).catch(v=>(delete n[f],v));return n[f]=y,y}});return Promise.all(d)}}},TE=()=>{let t={};const o=(a,i)=>({status:a,resultUri:i}),n=a=>a in t;return{hasBlobUri:n,getResultUri:a=>{const i=t[a];return i?i.resultUri:null},isPending:a=>!!n(a)&&t[a].status===1,isUploaded:a=>!!n(a)&&t[a].status===2,markPending:a=>{t[a]=o(1,null)},markUploaded:(a,i)=>{t[a]=o(2,i)},removeFailed:a=>{delete t[a]},destroy:()=>{t={}}}};let uO=0;const zE=(t,o)=>{const n={},a=(f,y)=>new Promise((v,k)=>{const E=new XMLHttpRequest;E.open("POST",o.url),E.withCredentials=o.credentials,E.upload.onprogress=O=>{y(O.loaded/O.total*100)},E.onerror=()=>{k("Image upload failed due to a XHR Transport error. Code: "+E.status)},E.onload=()=>{if(E.status<200||E.status>=300)return void k("HTTP Error: "+E.status);const O=JSON.parse(E.responseText);var P,M;O&&Ue(O.location)?v((P=o.basePath,M=O.location,P?P.replace(/\/$/,"")+"/"+M.replace(/^\//,""):M)):k("Invalid JSON: "+E.responseText)};const B=new FormData;B.append("file",f.blob(),f.filename()),E.send(B)}),i=de(o.handler)?o.handler:a,c=(f,y)=>({url:y,blobInfo:f,status:!0}),d=(f,y)=>({url:"",blobInfo:f,status:!1,error:y}),u=(f,y)=>{go.each(n[f],v=>{v(y)}),delete n[f]};return{upload:(f,y)=>o.url||i!==a?((v,k)=>(v=go.grep(v,E=>!t.isUploaded(E.blobUri())),Promise.all(go.map(v,E=>t.isPending(E.blobUri())?(B=>{const O=B.blobUri();return new Promise(P=>{n[O]=n[O]||[],n[O].push(P)})})(E):((B,O,P)=>(t.markPending(B.blobUri()),new Promise(M=>{let j,q;try{const K=()=>{j&&(j.close(),q=$t)},re=ke=>{K(),t.markUploaded(B.blobUri(),ke),u(B.blobUri(),c(B,ke)),M(c(B,ke))},ee=ke=>{K(),t.removeFailed(B.blobUri()),u(B.blobUri(),d(B,ke)),M(d(B,ke))};q=ke=>{ke<0||ke>100||V.from(j).orThunk(()=>V.from(P).map(ht)).each(et=>{j=et,et.progressBar.value(ke)})},O(B,q).then(re,ke=>{ee(Ue(ke)?{message:ke}:ke)})}catch(K){M(d(B,K))}})))(E,i,k)))))(f,y):new Promise(v=>{v([])})}},tC=t=>()=>t.notificationManager.open({text:t.translate("Image uploading..."),type:"info",timeout:-1,progressBar:!0}),gw=(t,o)=>zE(o,{url:n_(t),basePath:Jf(t),credentials:Sv(t),handler:Lp(t)}),oC=t=>{const o=(()=>{let P=[];const M=K=>{if(!K.blob||!K.base64)throw new Error("blob and base64 representations of the image are required for BlobInfo to be created");const re=K.id||"blobid"+uO+++(()=>{const st=()=>Math.round(4294967295*Math.random()).toString(36);return"s"+new Date().getTime().toString(36)+st()+st()+st()})(),ee=K.name||re,ke=K.blob;var et;return{id:Ct(re),name:Ct(ee),filename:Ct(K.filename||ee+"."+(et=ke.type,{"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png","image/apng":"apng","image/avif":"avif","image/svg+xml":"svg","image/webp":"webp","image/bmp":"bmp","image/tiff":"tiff"}[et.toLowerCase()]||"dat")),blob:Ct(ke),base64:Ct(K.base64),blobUri:Ct(K.blobUri||URL.createObjectURL(ke)),uri:Ct(K.uri)}},j=K=>Fe(P,K).getOrUndefined(),q=K=>j(re=>re.id()===K);return{create:(K,re,ee,ke,et)=>{if(Ue(K))return M({id:K,name:ke,filename:et,blob:re,base64:ee});if(it(K))return M(K);throw new Error("Unknown input type")},add:K=>{q(K.id())||P.push(K)},get:q,getByUri:K=>j(re=>re.blobUri()===K),getByData:(K,re)=>j(ee=>ee.base64()===K&&ee.blob().type===re),findFirst:j,removeByUri:K=>{P=gt(P,re=>re.blobUri()!==K||(URL.revokeObjectURL(re.blobUri()),!1))},destroy:()=>{Se(P,K=>{URL.revokeObjectURL(K.blobUri())}),P=[]}}})();let n,a;const i=TE(),c=[],d=P=>M=>t.selection?P(M):[],u=(P,M,j)=>{let q=0;do q=P.indexOf(M,q),q!==-1&&(P=P.substring(0,q)+j+P.substr(q+M.length),q+=j.length-M.length+1);while(q!==-1);return P},f=(P,M,j)=>{const q=`src="${j}"${j===Rn.transparentSrc?' data-mce-placeholder="1"':""}`;return P=u(P,`src="${M}"`,q),u(P,'data-mce-src="'+M+'"','data-mce-src="'+j+'"')},y=(P,M)=>{Se(t.undoManager.data,j=>{j.type==="fragmented"?j.fragments=to(j.fragments,q=>f(q,P,M)):j.content=f(j.content,P,M)})},v=()=>(n||(n=gw(t,i)),B().then(d(P=>{const M=to(P,j=>j.blobInfo);return n.upload(M,tC(t)).then(d(j=>{const q=[];let K=!1;const re=to(j,(ee,ke)=>{const{blobInfo:et,image:st}=P[ke];let mt=!1;return ee.status&&o_(t)?(ee.url&&!Xr(st.src,ee.url)&&(K=!0),o.removeByUri(st.src),Tm(t)||((kt,Ve)=>{const ot=t.convertURL(Ve,"src");var pt;y(kt.src,Ve),Ee(je(kt),{src:Xf(t)?(pt=Ve,pt+(pt.indexOf("?")===-1?"?":"&")+new Date().getTime()):Ve,"data-mce-src":ot})})(st,ee.url)):ee.error&&(ee.error.remove&&(y(st.src,Rn.transparentSrc),q.push(st),mt=!0),((kt,Ve)=>{hu(kt,Zi.translate(["Failed to upload image: {0}",Ve]))})(t,ee.error.message)),{element:st,status:ee.status,uploadUri:ee.url,blobInfo:et,removed:mt}});return q.length>0&&!Tm(t)?t.undoManager.transact(()=>{Se(Xc(q),ee=>{const ke=Gi(ee);Ea(ee),ke.each((et=>st=>{((mt,kt)=>mt.dom.isEmpty(kt.dom)&&Ze(mt.schema.getTextBlockElements()[Pe(kt)]))(et,st)&&os(st,ic('<br data-mce-bogus="1" />'))})(t)),o.removeByUri(ee.dom.src)})}):K&&t.undoManager.dispatchChange(),re}))}))),k=()=>bb(t)?v():Promise.resolve([]),E=P=>ze(c,M=>M(P)),B=()=>(a||(a=EE(i,o)),a.findAll(t.getBody(),E).then(d(P=>{const M=gt(P,j=>Ue(j)?(hu(t,j),!1):j.uriType!=="blob");return Tm(t)||Se(M,j=>{y(j.image.src,j.blobInfo.blobUri()),j.image.src=j.blobInfo.blobUri(),j.image.removeAttribute("data-mce-src")}),M}))),O=P=>P.replace(/src="(blob:[^"]+)"/g,(M,j)=>{const q=i.getResultUri(j);if(q)return'src="'+q+'"';let K=o.getByUri(j);return K||(K=Oe(t.editorManager.get(),(re,ee)=>re||ee.editorUpload&&ee.editorUpload.blobCache.getByUri(j),void 0)),K?'src="data:'+K.blob().type+";base64,"+K.base64()+'"':M});return t.on("SetContent",()=>{bb(t)?k():B()}),t.on("RawSaveContent",P=>{P.content=O(P.content)}),t.on("GetContent",P=>{P.source_view||P.format==="raw"||P.format==="tree"||(P.content=O(P.content))}),t.on("PostRender",()=>{t.parser.addNodeFilter("img",P=>{Se(P,M=>{const j=M.attr("src");if(!j||o.getByUri(j))return;const q=i.getResultUri(j);q&&M.attr("src",q)})})}),{blobCache:o,addFilter:P=>{c.push(P)},uploadImages:v,uploadImagesAuto:k,scanForImages:B,destroy:()=>{o.destroy(),i.destroy(),a=n=null}}},nC={remove_similar:!0,inherit:!1},pf={selector:"td,th",...nC},AE={tablecellbackgroundcolor:{styles:{backgroundColor:"%value"},...pf},tablecellverticalalign:{styles:{"vertical-align":"%value"},...pf},tablecellbordercolor:{styles:{borderColor:"%value"},...pf},tablecellclass:{classes:["%value"],...pf},tableclass:{selector:"table",classes:["%value"],...nC},tablecellborderstyle:{styles:{borderStyle:"%value"},...pf},tablecellborderwidth:{styles:{borderWidth:"%value"},...pf}},OE=Ct(AE),vy=go.each,Pd=wr.DOM,pw=t=>Ze(t)&&it(t),rC=(t,o)=>{const n=o&&o.schema||Du({}),a=d=>{const u=Ue(d)?{name:d,classes:[],attrs:{}}:d,f=Pd.create(u.name);return((y,v)=>{v.classes.length>0&&Pd.addClass(y,v.classes.join(" ")),Pd.setAttribs(y,v.attrs)})(f,u),f},i=(d,u,f)=>{let y;const v=u[0],k=pw(v)?v.name:void 0,E=((P,M)=>{const j=n.getElementRule(P.nodeName.toLowerCase()),q=j?.parentsRequired;return!(!q||!q.length)&&(M&&lo(q,M)?M:q[0])})(d,k);if(E)k===E?(y=v,u=u.slice(1)):y=E;else if(v)y=v,u=u.slice(1);else if(!f)return d;const B=y?a(y):Pd.create("div");B.appendChild(d),f&&go.each(f,P=>{const M=a(P);B.insertBefore(M,d)});const O=pw(y)?y.siblings:void 0;return i(B,u,O)},c=Pd.create("div");if(t.length>0){const d=t[0],u=a(d),f=pw(d)?d.siblings:void 0;c.appendChild(i(u,t.slice(1),f))}return c},aC=t=>{let o="div";const n={name:o,classes:[],attrs:{},selector:t=go.trim(t)};return t!=="*"&&(o=t.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,(a,i,c,d,u)=>{switch(i){case"#":n.attrs.id=c;break;case".":n.classes.push(c);break;case":":go.inArray("checked disabled enabled read-only required".split(" "),c)!==-1&&(n.attrs[c]=c)}if(d==="["){const f=u.match(/([\w\-]+)(?:\=\"([^\"]+))?/);f&&(n.attrs[f[1]]=f[2])}return""})),n.name=o||"div",n},mO=(t,o)=>{let n="",a=ju(t);if(a==="")return"";const i=B=>Ue(B)?B.replace(/%(\w+)/g,""):"",c=(B,O)=>Pd.getStyle(O??t.getBody(),B,!0);if(Ue(o)){const B=t.formatter.get(o);if(!B)return"";o=B[0]}if("preview"in o){const B=o.preview;if(B===!1)return"";a=B||a}let d,u=o.block||o.inline||"span";const f=(y=o.selector,Ue(y)?(y=(y=y.split(/\s*,\s*/)[0]).replace(/\s*(~\+|~|\+|>)\s*/g,"$1"),go.map(y.split(/(?:>|\s+(?![^\[\]]+\]))/),B=>{const O=go.map(B.split(/(?:~\+|~|\+)/),aC),P=O.pop();return O.length&&(P.siblings=O),P}).reverse()):[]);var y;f.length>0?(f[0].name||(f[0].name=u),u=o.selector,d=rC(f,t)):d=rC([u],t);const v=Pd.select(u,d)[0]||d.firstChild;vy(o.styles,(B,O)=>{const P=i(B);P&&Pd.setStyle(v,O,P)}),vy(o.attributes,(B,O)=>{const P=i(B);P&&Pd.setAttrib(v,O,P)}),vy(o.classes,B=>{const O=i(B);Pd.hasClass(v,O)||Pd.addClass(v,O)}),t.dispatch("PreviewFormats"),Pd.setStyles(d,{position:"absolute",left:-65535}),t.getBody().appendChild(d);const k=c("fontSize"),E=/px$/.test(k)?parseInt(k,10):0;return vy(a.split(" "),B=>{let O=c(B,v);if(!(B==="background-color"&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(O)&&(O=c(B),qo(O).toLowerCase()==="#ffffff")||B==="color"&&qo(O).toLowerCase()==="#000000")){if(B==="font-size"&&/em|%$/.test(O)){if(E===0)return;O=parseFloat(O)/(/%$/.test(O)?100:1)*E+"px"}B==="border"&&O&&(n+="padding:0 2px;"),n+=B+":"+O+";"}}),t.dispatch("AfterPreviewFormats"),Pd.remove(d),n},_0=t=>{const o=(a=>{const i={},c=(d,u)=>{d&&(Ue(d)?(co(u)||(u=[u]),Se(u,f=>{fo(f.deep)&&(f.deep=!Fd(f)),fo(f.split)&&(f.split=!Fd(f)||el(f)),fo(f.remove)&&Fd(f)&&!el(f)&&(f.remove="none"),Fd(f)&&el(f)&&(f.mixed=!0,f.block_expand=!0),Ue(f.classes)&&(f.classes=f.classes.split(/\s+/))}),i[d]=u):Ft(d,(f,y)=>{c(y,f)}))};return c((d=>{const u=d.dom,f=d.schema.type,y={valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:!1,classes:"align-left",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"left"},inherit:!1,preview:!1},{selector:"img,audio,video",collapsed:!1,styles:{float:"left"},preview:"font-family font-size"},{selector:"table",collapsed:!1,styles:{marginLeft:"0px",marginRight:"auto"},onformat:v=>{u.setStyle(v,"float",null)},preview:"font-family font-size"},{selector:".mce-preview-object,[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{float:"left"}}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"center"},inherit:!1,preview:"font-family font-size"},{selector:"figure.image",collapsed:!1,classes:"align-center",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"},preview:"font-family font-size"},{selector:".mce-preview-object",ceFalseOverride:!0,styles:{display:"table",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{marginLeft:"auto",marginRight:"auto"},preview:!1}],alignright:[{selector:"figure.image",collapsed:!1,classes:"align-right",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"right"},inherit:!1,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{float:"right"},preview:"font-family font-size"},{selector:"table",collapsed:!1,styles:{marginRight:"0px",marginLeft:"auto"},onformat:v=>{u.setStyle(v,"float",null)},preview:"font-family font-size"},{selector:".mce-preview-object,[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{float:"right"},preview:!1}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"justify"},inherit:!1,preview:"font-family font-size"}],bold:[{inline:"strong",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all",preserve_attributes:["class","style"]}],italic:[{inline:"em",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all",preserve_attributes:["class","style"]}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all",preserve_attributes:["class","style"]}],strikethrough:(()=>{const v={inline:"span",styles:{textDecoration:"line-through"},exact:!0},k={inline:"strike",remove:"all",preserve_attributes:["class","style"]},E={inline:"s",remove:"all",preserve_attributes:["class","style"]};return f!=="html4"?[E,v,k]:[v,E,k]})(),forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},fontname:{inline:"span",toggle:!1,styles:{fontFamily:"%value"},clear_child_styles:!0},fontsize:{inline:"span",toggle:!1,styles:{fontSize:"%value"},clear_child_styles:!0},lineheight:{selector:"h1,h2,h3,h4,h5,h6,p,li,td,th,div",styles:{lineHeight:"%value"}},fontsize_class:{inline:"span",attributes:{class:"%value"}},blockquote:{block:"blockquote",wrapper:!0,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:(v,k,E)=>an(v)&&v.hasAttribute("href"),onformat:(v,k,E)=>{go.each(E,(B,O)=>{u.setAttrib(v,O,B)})}},lang:{inline:"span",clear_child_styles:!0,remove_similar:!0,attributes:{lang:"%value","data-mce-lang":v=>{var k;return(k=v?.customValue)!==null&&k!==void 0?k:null}}},removeformat:[{selector:"b,strong,em,i,font,u,strike,s,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins,small",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]};return go.each("p h1 h2 h3 h4 h5 h6 div address pre dt dd samp".split(/\s/),v=>{y[v]={block:v,remove:"all"}}),y})(a)),c(OE()),c(r_(a)),{get:d=>Ze(d)?i[d]:i,has:d=>ln(i,d),register:c,unregister:d=>(d&&i[d]&&delete i[d],i)}})(t),n=bi({});return(a=>{a.addShortcut("meta+b","","Bold"),a.addShortcut("meta+i","","Italic"),a.addShortcut("meta+u","","Underline");for(let i=1;i<=6;i++)a.addShortcut("access+"+i,"",["FormatBlock",!1,"h"+i]);a.addShortcut("access+7","",["FormatBlock",!1,"p"]),a.addShortcut("access+8","",["FormatBlock",!1,"div"]),a.addShortcut("access+9","",["FormatBlock",!1,"address"])})(t),(a=>{a.on("mouseup keydown",i=>{var c;((d,u,f)=>{const y=d.selection,v=d.getBody();Vx(d,null,f),u!==8&&u!==46||!y.isCollapsed()||y.getStart().innerHTML!==wh||Vx(d,Le(v,y.getStart()),!0),u!==37&&u!==39||Vx(d,Le(v,y.getStart()),!0)})(a,i.keyCode,(c=a.selection.getRng().endContainer,ro(c)&&De(c.data,ns)))})})(t),Tm(t)||((a,i)=>{a.set({}),i.on("NodeChange",c=>{k2(i,c.element,a.get())}),i.on("FormatApply FormatRemove",c=>{const d=V.from(c.node).map(u=>wm(u)?u:u.startContainer).bind(u=>an(u)?V.some(u):V.from(u.parentElement)).getOrThunk(()=>df(i));k2(i,d,a.get())})})(n,t),{get:o.get,has:o.has,register:o.register,unregister:o.unregister,apply:(a,i,c)=>{((d,u,f,y)=>{Li(d).formatter.apply(u,f,y)})(t,a,i,c)},remove:(a,i,c,d)=>{((u,f,y,v,k)=>{Li(u).formatter.remove(f,y,v,k)})(t,a,i,c,d)},toggle:(a,i,c)=>{((d,u,f,y)=>{Li(d).formatter.toggle(u,f,y)})(t,a,i,c)},match:(a,i,c,d)=>((u,f,y,v,k)=>Li(u).formatter.match(f,y,v,k))(t,a,i,c,d),closest:a=>((i,c)=>Li(i).formatter.closest(c))(t,a),matchAll:(a,i)=>((c,d,u)=>Li(c).formatter.matchAll(d,u))(t,a,i),matchNode:(a,i,c,d)=>((u,f,y,v,k)=>Li(u).formatter.matchNode(f,y,v,k))(t,a,i,c,d),canApply:a=>((i,c)=>Li(i).formatter.canApply(c))(t,a),formatChanged:(a,i,c,d)=>((u,f,y,v,k,E)=>Li(u).formatter.formatChanged(f,y,v,k,E))(t,n,a,i,c,d),getCssText:Je(mO,t)}},sC=t=>{switch(t.toLowerCase()){case"undo":case"redo":case"mcefocus":return!0;default:return!1}},iC=t=>{const o=Ec(),n=bi(0),a=bi(0),i={data:[],typing:!1,beforeChange:()=>{((c,d,u)=>{Li(c).undoManager.beforeChange(d,u)})(t,n,o)},add:(c,d)=>((u,f,y,v,k,E,B)=>Li(u).undoManager.add(f,y,v,k,E,B))(t,i,a,n,o,c,d),dispatchChange:()=>{t.setDirty(!0);const c=ow(t);c.bookmark=yi(t.selection),t.dispatch("change",{level:c,lastLevel:$o(i.data,a.get()).getOrUndefined()})},undo:()=>((c,d,u,f)=>Li(c).undoManager.undo(d,u,f))(t,i,n,a),redo:()=>((c,d,u)=>Li(c).undoManager.redo(d,u))(t,a,i.data),clear:()=>{((c,d,u)=>{Li(c).undoManager.clear(d,u)})(t,i,a)},reset:()=>{((c,d)=>{Li(c).undoManager.reset(d)})(t,i)},hasUndo:()=>((c,d,u)=>Li(c).undoManager.hasUndo(d,u))(t,i,a),hasRedo:()=>((c,d,u)=>Li(c).undoManager.hasRedo(d,u))(t,i,a),transact:c=>((d,u,f,y)=>Li(d).undoManager.transact(u,f,y))(t,i,n,c),ignore:c=>{((d,u,f)=>{Li(d).undoManager.ignore(u,f)})(t,n,c)},extra:(c,d)=>{((u,f,y,v,k)=>{Li(u).undoManager.extra(f,y,v,k)})(t,i,a,c,d)}};return Tm(t)||((c,d,u)=>{const f=bi(!1),y=v=>{b0(d,!1,u),d.add({},v)};c.on("init",()=>{d.add()}),c.on("BeforeExecCommand",v=>{const k=v.command;sC(k)||($2(d,u),d.beforeChange())}),c.on("ExecCommand",v=>{const k=v.command;sC(k)||y(v)}),c.on("ObjectResizeStart cut",()=>{d.beforeChange()}),c.on("SaveContent ObjectResized blur",y),c.on("dragend",y),c.on("keyup",v=>{const k=v.keyCode;if(v.isDefaultPrevented())return;const E=Rn.os.isMacOS()&&v.key==="Meta";(k>=33&&k<=36||k>=37&&k<=40||k===45||v.ctrlKey||E)&&(y(),c.nodeChanged()),k!==46&&k!==8||c.nodeChanged(),f.get()&&d.typing&&!aw(ow(c),d.data[0])&&(c.isDirty()||c.setDirty(!0),c.dispatch("TypingUndo"),f.set(!1),c.nodeChanged())}),c.on("keydown",v=>{const k=v.keyCode;if(v.isDefaultPrevented())return;if(k>=33&&k<=36||k>=37&&k<=40||k===45)return void(d.typing&&y(v));const E=v.ctrlKey&&!v.altKey||v.metaKey;if((k<16||k>20)&&k!==224&&k!==91&&!d.typing&&!E)return d.beforeChange(),b0(d,!0,u),d.add({},v),void f.set(!0);(Rn.os.isMacOS()?v.metaKey:v.ctrlKey&&!v.altKey)&&d.beforeChange()}),c.on("mousedown",v=>{d.typing&&y(v)}),c.on("input",v=>{var k;v.inputType&&(v.inputType==="insertReplacementText"||(k=v).inputType==="insertText"&&k.data===null||(E=>E.inputType==="insertFromPaste"||E.inputType==="insertFromDrop")(v))&&y(v)}),c.on("AddUndo Undo Redo ClearUndos",v=>{v.isDefaultPrevented()||c.nodeChanged()})})(t,i,n),(c=>{c.addShortcut("meta+z","","Undo"),c.addShortcut("meta+y,meta+shift+z","","Redo")})(t),i},gO=[9,27,mn.HOME,mn.END,19,20,44,144,145,33,34,45,16,17,18,91,92,93,mn.DOWN,mn.UP,mn.LEFT,mn.RIGHT].concat(Rn.browser.isFirefox()?[224]:[]),NE="data-mce-placeholder",lC=t=>t.type==="keydown"||t.type==="keyup",ME=t=>{const o=t.keyCode;return o===mn.BACKSPACE||o===mn.DELETE},DE=(t,o)=>({from:t,to:o}),cC=(t,o)=>{const n=je(t),a=je(o.container());return j1(n,a).map(i=>((c,d)=>({block:c,position:d}))(i,o))},RE=(t,o)=>ts(o,n=>Sn(n)||zi(n.dom),n=>sa(n,t)).filter(kn).getOr(t),BE=(t,o)=>{const n=((a,i)=>{const c=Lt(a);return ge(c,d=>i.isBlock(Pe(d))).fold(Ct(c),d=>c.slice(0,d))})(t,o);return Se(n,Ea),n},js=(t,o)=>{const n=$g(o,t);return Fe(n.reverse(),a=>ys(a)).each(Ea)},dC=(t,o,n,a,i)=>{if(ys(n))return Oi(n),Z(n.dom);gt(ve(i),d=>!ys(d)).length===0&&ys(o)&&rl(i,_s("br"));const c=I(n.dom,Ht.before(i.dom));return Se(BE(o,a),d=>{rl(i,d)}),js(t,o),c},pO=(t,o,n,a)=>{if(ys(n)){if(ys(o)){const c=u=>{const f=(y,v)=>ur(y).fold(()=>v,k=>((E,B)=>E.isInline(Pe(B)))(a,k)?f(k,v.concat(Um(k))):v);return f(u,[])},d=pe(c(n),(u,f)=>(Dc(u,f),f),Xi());bd(o),os(o,d)}return Ea(n),Z(o.dom)}const i=Y(n.dom);return Se(BE(o,a),c=>{os(n,c)}),js(t,o),i},FE=(t,o)=>{T(t,o.dom).bind(n=>V.from(n.getNode())).map(je).filter(pl).each(Ea)},Ah=(t,o,n,a)=>(FE(!0,o),FE(!1,n),((i,c)=>lc(c,i)?((d,u)=>{const f=$g(u,d);return V.from(f[f.length-1])})(c,i):V.none())(o,n).fold(Je(pO,t,o,n,a),Je(dC,t,o,n,a))),Qg=(t,o,n,a,i)=>o?Ah(t,a,n,i):Ah(t,n,a,i),zm=(t,o)=>{const n=je(t.getBody());return((i,c,d)=>d.collapsed?((u,f,y)=>{const v=cC(u,Ht.fromRangeStart(y)),k=v.bind(E=>p(f,u,E.position).bind(B=>cC(u,B).map(O=>((P,M,j)=>da(j.position.getNode())&&!ys(j.block)?T(!1,j.block.dom).bind(q=>q.isEqual(j.position)?p(M,P,q).bind(K=>cC(P,K)):V.some(j)).getOr(j):j)(u,f,O))));return Ir(v,k,DE).filter(E=>(B=>!sa(B.from.block,B.to.block))(E)&&((B,O)=>{const P=je(B);return sa(RE(P,O.from.block),RE(P,O.to.block))})(u,E)&&(B=>Oa(B.from.block.dom)===!1&&Oa(B.to.block.dom)===!1)(E)&&(B=>{const O=P=>ri(P)||cg(P.dom);return O(B.from.block)&&O(B.to.block)})(E))})(i,c,d):V.none())(n.dom,o,t.selection.getRng()).map(i=>()=>{Qg(n,o,i.from.block,i.to.block,t.schema).each(c=>{t.selection.setRng(c.toRange())})})},uC=(t,o)=>{const n=je(o),a=Je(sa,t);return Fa(n,Sn,a).isSome()},LE=t=>{const o=je(t.getBody());return((n,a)=>{const i=I(n.dom,Ht.fromRangeStart(a)).isNone(),c=L(n.dom,Ht.fromRangeEnd(a)).isNone();return!((d,u)=>uC(d,u.startContainer)||uC(d,u.endContainer))(n,a)&&i&&c})(o,t.selection.getRng())?(n=>V.some(()=>{n.setContent(""),n.selection.setCursorLocation()}))(t):((n,a,i)=>{const c=a.getRng();return Ir(j1(n,je(c.startContainer)),j1(n,je(c.endContainer)),(d,u)=>sa(d,u)?V.none():V.some(()=>{c.deleteContents(),Qg(n,!0,d,u,i).each(f=>{a.setRng(f.toRange())})})).getOr(V.none())})(o,t.selection,t.schema)},fw=(t,o)=>t.selection.isCollapsed()?V.none():LE(t),Gu=(t,o,n,a,i)=>V.from(o._selectionOverrides.showCaret(t,n,a,i)),C0=(t,o)=>t.dispatch("BeforeObjectSelected",{target:o}).isDefaultPrevented()?V.none():V.some((n=>{const a=n.ownerDocument.createRange();return a.selectNode(n),a})(o)),S0=(t,o,n)=>o.collapsed?((a,i,c)=>{const d=Zp(1,a.getBody(),i),u=Ht.fromRangeStart(d),f=u.getNode();if(id(f))return Gu(1,a,f,!u.isAtEnd(),!1);const y=u.getNode(!0);if(id(y))return Gu(1,a,y,!1,!1);const v=Zu(a.dom.getRoot(),u.getNode());return id(v)?Gu(1,a,v,!1,c):V.none()})(t,o,n).getOr(o):o,IE=t=>Km(t)||F1(t),PE=t=>sf(t)||L1(t),hw=(t,o,n,a,i,c)=>{Gu(a,t,c.getNode(!i),i,!0).each(d=>{if(o.collapsed){const u=o.cloneRange();i?u.setEnd(d.startContainer,d.startOffset):u.setStart(d.endContainer,d.endOffset),u.deleteContents()}else o.deleteContents();t.selection.setRng(d)}),((d,u)=>{ro(u)&&u.data.length===0&&d.remove(u)})(t.dom,n)},bw=(t,o)=>((n,a)=>{const i=n.selection.getRng();if(!ro(i.commonAncestorContainer))return V.none();const c=a?Bi.Forwards:Bi.Backwards,d=nc(n.getBody()),u=Je(Lb,a?d.next:d.prev),f=a?IE:PE,y=xm(c,n.getBody(),i),v=u(y),k=v&&ld(a,v);if(!k||!Wp(y,k))return V.none();if(f(k))return V.some(()=>hw(n,i,y.getNode(),c,a,k));const E=u(k);return E&&f(E)&&Wp(k,E)?V.some(()=>hw(n,i,y.getNode(),c,a,E)):V.none()})(t,o),E0=(t,o)=>{const n=t.getBody();return o?Z(n).filter(Km):Y(n).filter(sf)},mC=t=>{const o=t.selection.getRng();return!o.collapsed&&(E0(t,!0).exists(n=>n.isEqual(Ht.fromRangeStart(o)))||E0(t,!1).exists(n=>n.isEqual(Ht.fromRangeEnd(o))))},bu=zc([{remove:["element"]},{moveToElement:["element"]},{moveToPosition:["position"]}]),Hd=(t,o,n,a)=>p(o,t,n).bind(i=>{return c=i.getNode(),Ze(c)&&(Sn(je(c))||uc(je(c)))||((d,u,f,y,v)=>{const k=E=>v.isInline(E.nodeName.toLowerCase())&&!Lr(f,y,d);return Fb(!u,f).fold(()=>Fb(u,y).fold(uo,k),k)})(t,o,n,i,a)?V.none():o&&Oa(i.getNode())||!o&&Oa(i.getNode(!0))?((d,u,f,y)=>{const v=y.getNode(!u);return j1(je(d),je(f.getNode())).map(k=>ys(k)?bu.remove(k.dom):bu.moveToElement(v)).orThunk(()=>V.some(bu.moveToElement(v)))})(t,o,n,i):o&&sf(n)||!o&&Km(n)?V.some(bu.moveToPosition(i)):V.none();var c}),gC=(t,o)=>V.from(Zu(t.getBody(),o)),fO=(t,o)=>{const n=t.selection.getNode();return gC(t,n).filter(Oa).fold(()=>((a,i,c,d)=>{const u=Zp(i?1:-1,a,c),f=Ht.fromRangeStart(u),y=je(a);return!i&&sf(f)?V.some(bu.remove(f.getNode(!0))):i&&Km(f)?V.some(bu.remove(f.getNode())):!i&&Km(f)&&Ug(y,f,d)?Rs(y,f,d).map(v=>bu.remove(v.getNode())):i&&sf(f)&&P_(y,f,d)?hx(y,f,d).map(v=>bu.remove(v.getNode())):((v,k,E,B)=>((O,P)=>{const M=P.getNode(!O),j=O?"after":"before";return an(M)&&M.getAttribute("data-mce-caret")===j})(k,E)?((O,P)=>me(P)?V.none():O&&Oa(P.nextSibling)?V.some(bu.moveToElement(P.nextSibling)):!O&&Oa(P.previousSibling)?V.some(bu.moveToElement(P.previousSibling)):V.none())(k,E.getNode(!k)).orThunk(()=>Hd(v,k,E,B)):Hd(v,k,E,B).bind(O=>((P,M,j)=>j.fold(q=>V.some(bu.remove(q)),q=>V.some(bu.moveToElement(q)),q=>Lr(M,q,P)?V.none():V.some(bu.moveToPosition(q))))(v,E,O)))(a,i,f,d)})(t.getBody(),o,t.selection.getRng(),t.schema).map(a=>()=>a.fold(((i,c)=>d=>(i._selectionOverrides.hideFakeCaret(),fc(i,c,je(d)),!0))(t,o),((i,c)=>d=>{const u=c?Ht.before(d):Ht.after(d);return i.selection.setRng(u.toRange()),!0})(t,o),(i=>c=>(i.selection.setRng(c.toRange()),!0))(t))),()=>V.some($t))},HE=t=>{const o=t.dom,n=t.selection,a=Zu(t.getBody(),n.getNode());if(zi(a)&&o.isBlock(a)&&o.isEmpty(a)){const i=o.create("br",{"data-mce-bogus":"1"});o.setHTML(a,""),a.appendChild(i),n.setRng(Ht.before(i).toRange())}return!0},xy=(t,o)=>t.selection.isCollapsed()?fO(t,o):((n,a)=>{const i=n.selection.getNode();return Oa(i)&&!al(i)?gC(n,i.parentNode).filter(Oa).fold(()=>V.some(()=>{var c;c=je(n.getBody()),Se(wa(c,".mce-offscreen-selection"),Ea),fc(n,a,je(n.selection.getNode())),V1(n)}),()=>V.some($t)):mC(n)?V.some(()=>{F4(n,n.selection.getRng(),je(n.getBody()))}):V.none()})(t,o),pC=(t,o)=>t.selection.isCollapsed()?((n,a)=>{const i=Ht.fromRangeStart(n.selection.getRng());return p(a,n.getBody(),i).filter(c=>a?PA(c):HA(c)).bind(c=>Bd(a?0:-1,c)).map(c=>()=>n.selection.select(c))})(t,o):V.none(),wy=ro,fC=t=>wy(t)&&t.data[0]===Za,yw=t=>wy(t)&&t.data[t.data.length-1]===Za,jE=t=>{var o;return((o=t.ownerDocument)!==null&&o!==void 0?o:document).createTextNode(Za)},vw=(t,o)=>t?(n=>{var a;if(wy(n.previousSibling))return yw(n.previousSibling)||n.previousSibling.appendData(Za),n.previousSibling;if(wy(n))return fC(n)||n.insertData(0,Za),n;{const i=jE(n);return(a=n.parentNode)===null||a===void 0||a.insertBefore(i,n),i}})(o):(n=>{var a,i;if(wy(n.nextSibling))return fC(n.nextSibling)||n.nextSibling.insertData(0,Za),n.nextSibling;if(wy(n))return yw(n)||n.appendData(Za),n;{const c=jE(n);return n.nextSibling?(a=n.parentNode)===null||a===void 0||a.insertBefore(c,n.nextSibling):(i=n.parentNode)===null||i===void 0||i.appendChild(c),c}})(o),VE=Je(vw,!0),$E=Je(vw,!1),ff=(t,o)=>ro(t.container())?vw(o,t.container()):vw(o,t.getNode()),Oh=(t,o)=>{const n=o.get();return n&&t.container()===n&&bs(n)},Nh=(t,o)=>o.fold(n=>{Dd(t.get());const a=VE(n);return t.set(a),V.some(Ht(a,a.length-1))},n=>Z(n).map(a=>{if(Oh(a,t)){const i=t.get();return Ht(i,1)}{Dd(t.get());const i=ff(a,!0);return t.set(i),Ht(i,1)}}),n=>Y(n).map(a=>{if(Oh(a,t)){const i=t.get();return Ht(i,i.length-1)}{Dd(t.get());const i=ff(a,!1);return t.set(i),Ht(i,i.length-1)}}),n=>{Dd(t.get());const a=$E(n);return t.set(a),V.some(Ht(a,1))}),hC=(t,o)=>{for(let n=0;n<t.length;n++){const a=t[n].apply(null,o);if(a.isSome())return a}return V.none()},bc=zc([{before:["element"]},{start:["element"]},{end:["element"]},{after:["element"]}]),UE=(t,o)=>Rd(o,t)||t,ZE=(t,o,n)=>{const a=xx(n),i=UE(o,a.container());return Zg(t,i,a).fold(()=>L(i,a).bind(Je(Zg,t,i)).map(c=>bc.before(c)),V.none)},T0=(t,o)=>Le(t,o)===null,bC=(t,o,n)=>Zg(t,o,n).filter(Je(T0,o)),qE=(t,o,n)=>{const a=R4(n);return bC(t,o,a).bind(i=>I(i,a).isNone()?V.some(bc.start(i)):V.none())},WE=(t,o,n)=>{const a=xx(n);return bC(t,o,a).bind(i=>L(i,a).isNone()?V.some(bc.end(i)):V.none())},hO=(t,o,n)=>{const a=R4(n),i=UE(o,a.container());return Zg(t,i,a).fold(()=>I(i,a).bind(Je(Zg,t,i)).map(c=>bc.after(c)),V.none)},Ku=t=>!H1(yC(t)),Yu=(t,o,n)=>hC([ZE,qE,WE,hO],[t,o,n]).filter(Ku),yC=t=>t.fold(R,R,R,R),GE=t=>t.fold(Ct("before"),Ct("start"),Ct("end"),Ct("after")),ya=t=>t.fold(bc.before,bc.before,bc.after,bc.after),vC=t=>t.fold(bc.start,bc.start,bc.end,bc.end),bO=(t,o,n,a,i,c)=>Ir(Zg(o,n,a),Zg(o,n,i),(d,u)=>d!==u&&((f,y,v)=>{const k=Rd(y,f),E=Rd(v,f);return Ze(k)&&k===E})(n,d,u)?bc.after(t?d:u):c).getOr(c),Bs=(t,o)=>t.fold(Bt,n=>{return i=o,!(GE(a=n)===GE(i)&&yC(a)===yC(i));var a,i}),yO=(t,o)=>t?o.fold(gn(V.some,bc.start),V.none,gn(V.some,bc.after),V.none):o.fold(V.none,gn(V.some,bc.before),V.none,gn(V.some,bc.end)),ky=(t,o,n)=>{const a=t?1:-1;return o.setRng(Ht(n.container(),n.offset()+a).toRange()),o.getSel().modify("move",t?"forward":"backward","word"),!0};var Qm;(function(t){t[t.Br=0]="Br",t[t.Block=1]="Block",t[t.Wrap=2]="Wrap",t[t.Eol=3]="Eol"})(Qm||(Qm={}));const z0=(t,o)=>t===Bi.Backwards?Ge(o):o,hf=(t,o,n)=>t===Bi.Forwards?o.next(n):o.prev(n),cd=(t,o,n,a)=>da(a.getNode(o===Bi.Forwards))?Qm.Br:Lr(n,a)===!1?Qm.Block:Qm.Wrap,_y=(t,o,n,a)=>{const i=nc(n);let c=a;const d=[];for(;c;){const u=hf(o,i,c);if(!u)break;if(da(u.getNode(!1)))return o===Bi.Forwards?{positions:z0(o,d).concat([u]),breakType:Qm.Br,breakAt:V.some(u)}:{positions:z0(o,d),breakType:Qm.Br,breakAt:V.some(u)};if(u.isVisible()){if(t(c,u)){const f=cd(0,o,c,u);return{positions:z0(o,d),breakType:f,breakAt:V.some(u)}}d.push(u),c=u}else c=u}return{positions:z0(o,d),breakType:Qm.Eol,breakAt:V.none()}},ep=(t,o,n,a)=>o(n,a).breakAt.map(i=>{const c=o(n,i).positions;return t===Bi.Backwards?c.concat(i):[i].concat(c)}).getOr([]),Xu=(t,o)=>Oe(t,(n,a)=>n.fold(()=>V.some(a),i=>Ir(Zo(i.getClientRects()),Zo(a.getClientRects()),(c,d)=>{const u=Math.abs(o-c.left);return Math.abs(o-d.left)<=u?a:i}).or(n)),V.none()),bf=(t,o)=>Zo(o.getClientRects()).bind(n=>Xu(t,n.left)),Mh=Je(_y,Ht.isAbove,-1),Dh=Je(_y,Ht.isBelow,1),xC=Je(ep,-1,Mh),wC=Je(ep,1,Dh),KE=(t,o)=>Mh(t,o).breakAt.isNone(),YE=(t,o)=>Dh(t,o).breakAt.isNone(),XE=(t,o)=>bf(xC(t,o),o),JE=(t,o)=>bf(wC(t,o),o),QE=Oa,kC=(t,o)=>Math.abs(t.left-o),xw=(t,o)=>Math.abs(t.right-o),eT=(t,o)=>$s(t,(n,a)=>{const i=Math.min(kC(n,o),xw(n,o)),c=Math.min(kC(a,o),xw(a,o));return c===i&&xr(a,"node")&&QE(a.node)||c<i?a:n}),vO=t=>{const o=n=>to(n,a=>{const i=Vl(a);return i.node=t,i});if(an(t))return o(t.getClientRects());if(ro(t)){const n=t.ownerDocument.createRange();return n.setStart(t,0),n.setEnd(t,t.data.length),o(n.getClientRects())}return[]},tT=t=>at(t,vO);var jd;(function(t){t[t.Up=-1]="Up",t[t.Down=1]="Down"})(jd||(jd={}));const Cy=(t,o,n,a,i,c)=>{let d=0;const u=[],f=k=>{let E=tT([k]);t===-1&&(E=E.reverse());for(let B=0;B<E.length;B++){const O=E[B];if(!n(O,y)){if(u.length>0&&o(O,_a(u))&&d++,O.line=d,i(O))return!0;u.push(O)}}return!1},y=_a(c.getClientRects());if(!y)return u;const v=c.getNode();return v&&(f(v),((k,E,B,O)=>{let P=O;for(;P=cu(P,k,td,E);)if(B(P))return})(t,a,f,v)),u},oT=Je(Cy,jd.Up,si,ad),nT=Je(Cy,jd.Down,ad,si),_C=t=>_a(t.getClientRects()),rT=t=>o=>((n,a)=>a.line>n)(t,o),eg=t=>o=>((n,a)=>a.line===n)(t,o),tp=(t,o)=>{t.selection.setRng(o),bh(t,t.selection.getRng())},CC=(t,o,n)=>V.some(S0(t,o,n)),aT=(t,o,n,a,i,c)=>{const d=o===Bi.Forwards,u=nc(t.getBody()),f=Je(Lb,d?u.next:u.prev),y=d?a:i;if(!n.collapsed){const O=cb(n);if(c(O))return Gu(o,t,O,o===Bi.Backwards,!1);if(mC(t)){const P=n.cloneRange();return P.collapse(o===Bi.Backwards),V.from(P)}}const v=xm(o,t.getBody(),n);if(y(v))return C0(t,v.getNode(!d));let k=f(v);const E=J(n);if(!k)return E?V.some(n):V.none();if(k=ld(d,k),y(k))return Gu(o,t,k.getNode(!d),d,!1);const B=f(k);return B&&y(B)&&Wp(k,B)?Gu(o,t,B.getNode(!d),d,!1):E?CC(t,k.toRange(),!1):V.none()},sT=(t,o,n,a,i,c)=>{const d=xm(o,t.getBody(),n),u=_a(d.getClientRects()),f=o===jd.Down,y=t.getBody();if(!u)return V.none();if(mC(t)){const P=f?Ht.fromRangeEnd(n):Ht.fromRangeStart(n);return(f?JE:XE)(y,P).orThunk(()=>V.from(P)).map(M=>M.toRange())}const v=(f?nT:oT)(y,rT(1),d),k=gt(v,eg(1)),E=u.left,B=eT(k,E);if(B&&c(B.node)){const P=Math.abs(E-B.left),M=Math.abs(E-B.right);return Gu(o,t,B.node,P<M,!1)}let O;if(O=a(d)?d.getNode():i(d)?d.getNode(!0):cb(n),O){const P=((j,q,K,re)=>{const ee=nc(q);let ke,et,st,mt;const kt=[];let Ve=0;j===1?(ke=ee.next,et=ad,st=si,mt=Ht.after(re)):(ke=ee.prev,et=si,st=ad,mt=Ht.before(re));const ot=_C(mt);do{if(!mt.isVisible())continue;const pt=_C(mt);if(st(pt,ot))continue;kt.length>0&&et(pt,_a(kt))&&Ve++;const Jt=Vl(pt);if(Jt.position=mt,Jt.line=Ve,K(Jt))return kt;kt.push(Jt)}while(mt=ke(mt));return kt})(o,y,rT(1),O);let M=eT(gt(P,eg(1)),E);if(M||(M=_a(gt(P,eg(0))),M))return CC(t,M.position.toRange(),!1)}return k.length===0?SC(t,f).filter(f?i:a).map(P=>S0(t,P.toRange(),!1)):V.none()},SC=(t,o)=>{const n=t.selection.getRng(),a=o?Ht.fromRangeEnd(n):Ht.fromRangeStart(n),i=(c=a.container(),d=t.getBody(),Fa(je(c),u=>mh(u.dom),u=>u.dom===d).map(u=>u.dom).getOr(d));var c,d;if(o){const u=Dh(i,a);return Gn(u.positions)}{const u=Mh(i,a);return Zo(u.positions)}},iT=(t,o,n)=>SC(t,o).filter(n).exists(a=>(t.selection.setRng(a.toRange()),!0)),ww=(t,o)=>{const n=t.dom.createRng();n.setStart(o.container(),o.offset()),n.setEnd(o.container(),o.offset()),t.selection.setRng(n)},lT=(t,o)=>{t?o.setAttribute("data-mce-selected","inline-boundary"):o.removeAttribute("data-mce-selected")},cT=(t,o,n)=>Nh(o,n).map(a=>(ww(t,a),n)),kw=(t,o,n)=>{const a=t.getBody(),i=((c,d,u)=>{const f=Ht.fromRangeStart(c);if(c.collapsed)return f;{const y=Ht.fromRangeEnd(c);return u?I(d,y).getOr(y):L(d,f).getOr(f)}})(t.selection.getRng(),a,n);return((c,d,u,f)=>{const y=ld(c,f),v=Yu(d,u,y);return Yu(d,u,y).bind(Je(yO,c)).orThunk(()=>((k,E,B,O,P)=>{const M=ld(k,P);return p(k,B,M).map(Je(ld,k)).fold(()=>O.map(ya),j=>Yu(E,B,j).map(Je(bO,k,E,B,M,j)).filter(Je(Bs,O))).filter(Ku)})(c,d,u,v,f))})(n,Je($u,t),a,i).bind(c=>cT(t,o,c))},dT=(t,o,n)=>!!su(t)&&kw(t,o,n).isSome(),Sy=(t,o,n)=>!!su(o)&&((a,i)=>{const c=i.selection.getRng(),d=a?Ht.fromRangeEnd(c):Ht.fromRangeStart(c);return!!(u=>de(u.selection.getSel().modify))(i)&&(a&&Hl(d)?ky(!0,i.selection,d):!(a||!_d(d))&&ky(!1,i.selection,d))})(t,o),EC=t=>{const o=bi(null),n=Je($u,t);return t.on("NodeChange",a=>{su(t)&&(((i,c,d)=>{const u=to(wa(je(c.getRoot()),'*[data-mce-selected="inline-boundary"]'),v=>v.dom),f=gt(u,i),y=gt(d,i);Se(Gt(f,y),Je(lT,!1)),Se(Gt(y,f),Je(lT,!0))})(n,t.dom,a.parents),((i,c)=>{const d=c.get();if(i.selection.isCollapsed()&&!i.composing&&d){const u=Ht.fromRangeStart(i.selection.getRng());Ht.isTextPosition(u)&&!(f=>Hl(f)||_d(f))(u)&&(ww(i,dh(d,u)),c.set(null))}})(t,o),((i,c,d,u)=>{if(c.selection.isCollapsed()){const f=gt(u,i);Se(f,y=>{const v=Ht.fromRangeStart(c.selection.getRng());Yu(i,c.getBody(),v).bind(k=>cT(c,d,k))})}})(n,t,o,a.parents))}),o},Rh=Je(Sy,!0),Bh=Je(Sy,!1),Fh=(t,o,n)=>{if(su(t)){const a=SC(t,o).getOrThunk(()=>{const i=t.selection.getRng();return o?Ht.fromRangeEnd(i):Ht.fromRangeStart(i)});return Yu(Je($u,t),t.getBody(),a).exists(i=>{const c=ya(i);return Nh(n,c).exists(d=>(ww(t,d),!0))})}return!1},A0=(t,o)=>n=>Nh(o,n).map(a=>()=>ww(t,a)),yf=(t,o,n,a)=>{const i=t.getBody(),c=Je($u,t);t.undoManager.ignore(()=>{t.selection.setRng(((d,u)=>{const f=document.createRange();return f.setStart(d.container(),d.offset()),f.setEnd(u.container(),u.offset()),f})(n,a)),V_(t),Yu(c,i,Ht.fromRangeStart(t.selection.getRng())).map(vC).bind(A0(t,o)).each(Rt)}),t.nodeChanged()},op=(t,o,n)=>{if(t.selection.isCollapsed()&&su(t)){const a=Ht.fromRangeStart(t.selection.getRng());return((i,c,d,u)=>{const f=((k,E)=>Rd(E,k)||k)(i.getBody(),u.container()),y=Je($u,i),v=Yu(y,f,u);return v.bind(k=>d?k.fold(Ct(V.some(vC(k))),V.none,Ct(V.some(ya(k))),V.none):k.fold(V.none,Ct(V.some(ya(k))),V.none,Ct(V.some(vC(k))))).map(A0(i,c)).getOrThunk(()=>{const k=b(d,f,u),E=k.bind(B=>Yu(y,f,B));return Ir(v,E,()=>Zg(y,f,u).bind(B=>(O=>Ir(Z(O),Y(O),(P,M)=>{const j=ld(!0,P),q=ld(!1,M);return L(O,j).forall(K=>K.isEqual(q))}).getOr(!0))(B)?V.some(()=>{fc(i,d,je(B))}):V.none())).getOrThunk(()=>E.bind(()=>k.map(B=>()=>{d?yf(i,c,u,B):yf(i,c,B,u)})))})})(t,o,n,a)}return V.none()},O0=(t,o)=>{const n=je(t.getBody()),a=je(t.selection.getStart()),i=$g(a,n);return ge(i,o).fold(Ct(i),c=>i.slice(0,c))},_w=t=>ei(t)===1,TC=(t,o)=>{const n=Je(e0,t);return at(o,a=>n(a)?[a.dom]:[])},Cw=t=>{const o=(n=>O0(n,a=>n.schema.isBlock(Pe(a))))(t);return TC(t,o)},zC=(t,o)=>{const n=gt((a=>O0(a,i=>a.schema.isBlock(Pe(i))||(c=>ei(c)>1)(i)))(t),_w);return Gn(n).bind(a=>{const i=Ht.fromRangeStart(t.selection.getRng());return $_(o,i,a.dom)&&!c_(a)?V.some(()=>((c,d,u,f)=>{const y=TC(d,f);if(y.length===0)fc(d,c,u);else{const v=Q1(u.dom,y);d.selection.setRng(v.toRange())}})(o,t,a,n)):V.none()})},AC=(t,o)=>{const n=t.selection.getStart(),a=((i,c)=>{const d=c.parentElement;return da(c)&&!he(d)&&i.dom.isEmpty(d)})(t,n)||c_(je(n))?Q1(n,o):((i,c)=>{const{caretContainer:d,caretPosition:u}=J1(c);return i.insertNode(d.dom),u})(t.selection.getRng(),o);t.selection.setRng(a.toRange())},OC=t=>ro(t.startContainer),Ey=t=>{const o=t.selection.getRng();return(n=>n.startOffset===0&&OC(n))(o)&&((n,a)=>{const i=a.startContainer.parentElement;return!he(i)&&e0(n,je(i))})(t,o)&&(n=>(a=>(i=>{const c=i.startContainer.parentNode,d=i.endContainer.parentNode;return!he(c)&&!he(d)&&c.isEqualNode(d)})(a)&&(i=>{const c=i.endContainer;return i.endOffset===(ro(c)?c.length:c.childNodes.length)})(a))(n)||(a=>!a.endContainer.isEqualNode(a.commonAncestorContainer))(n))(o)},Sw=(t,o)=>t.selection.isCollapsed()?zC(t,o):(n=>{if(Ey(n)){const a=Cw(n);return V.some(()=>{V_(n),((i,c)=>{const d=Gt(c,Cw(i));d.length>0&&AC(i,d)})(n,a)})}return V.none()})(t),uT=(t,o)=>Fa(t,n=>be(n.dom),n=>o.isBlock(Pe(n))).isSome(),Ty=t=>((o=>{const n=o.selection.getRng();return n.collapsed&&(OC(n)||o.dom.isEmpty(n.startContainer))&&!(a=>uT(je(a.selection.getStart()),a.schema))(o)})(t)&&AC(t,[]),!0),zy=(t,o,n)=>Ze(n)?V.some(()=>{t._selectionOverrides.hideFakeCaret(),fc(t,o,je(n))}):V.none(),Ew=(t,o)=>t.selection.isCollapsed()?((n,a)=>{const i=a?F1:L1,c=a?Bi.Forwards:Bi.Backwards,d=xm(c,n.getBody(),n.selection.getRng());return i(d)?zy(n,a,d.getNode(!a)):V.from(ld(a,d)).filter(u=>i(u)&&Wp(d,u)).bind(u=>zy(n,a,u.getNode(!a)))})(t,o):((n,a)=>{const i=n.selection.getNode();return $i(i)?zy(n,a,i):V.none()})(t,o),Tw=t=>Vr(t??"").getOr(0),NC=(t,o)=>(t||Pe(o)==="table"?"margin":"padding")+(Yi(o,"direction")==="rtl"?"-right":"-left"),MC=t=>{const o=np(t);return!t.mode.isReadOnly()&&(o.length>1||((n,a)=>ze(a,i=>{const c=NC(u1(n),i),d=om(i,c).map(Tw).getOr(0);return n.dom.getContentEditable(i.dom)!=="false"&&d>0}))(t,o))},tg=t=>hs(t)||uc(t),np=t=>gt(Xc(t.selection.getSelectedBlocks()),o=>!tg(o)&&!(n=>Gi(n).exists(tg))(o)&&ts(o,n=>zi(n.dom)||Oa(n.dom)).exists(n=>zi(n.dom))),yu=(t,o)=>{var n,a;const{dom:i}=t,c=Ul(t),d=(a=(n=/[a-z%]+$/i.exec(c))===null||n===void 0?void 0:n[0])!==null&&a!==void 0?a:"px",u=Tw(c),f=u1(t);Se(np(t),y=>{((v,k,E,B,O,P)=>{const M=NC(E,je(P)),j=Tw(v.getStyle(P,M));if(k==="outdent"){const q=Math.max(0,j-B);v.setStyle(P,M,q?q+O:"")}else{const q=j+B+O;v.setStyle(P,M,q)}})(i,o,f,u,d,y.dom)})},zw=t=>yu(t,"outdent"),Aw=t=>{if(t.selection.isCollapsed()&&MC(t)){const o=t.dom,n=t.selection.getRng(),a=Ht.fromRangeStart(n),i=o.getParent(n.startContainer,o.isBlock);if(i!==null&&fx(je(i),a,t.schema))return V.some(()=>zw(t))}return V.none()},DC=(t,o,n)=>zn([Aw,xy,bw,(a,i)=>op(a,o,i),zm,J_,pC,Ew,fw,Sw],a=>a(t,n)).filter(a=>t.selection.isEditable()),mT=(t,o)=>{t.addCommand("delete",()=>{((n,a)=>{DC(n,a,!1).fold(()=>{n.selection.isEditable()&&(V_(n),V1(n))},Rt)})(t,o)}),t.addCommand("forwardDelete",()=>{((n,a)=>{DC(n,a,!0).fold(()=>{n.selection.isEditable()&&(i=>{wx(i,"ForwardDelete")})(n)},Rt)})(t,o)})},RC=t=>t.touches===void 0||t.touches.length!==1?V.none():V.some(t.touches[0]),N0=(t,o)=>ln(t,o.nodeName),gT=(t,o)=>!!ro(o)||!!an(o)&&!(N0(t.getBlockElements(),o)||No(o)||Ed(t,o)||ig(o)),pT=(t,o)=>{if(ro(o)){if(o.data.length===0)return!0;if(/^\s+$/.test(o.data))return!o.nextSibling||N0(t,o.nextSibling)||ig(o.nextSibling)}return!1},Ow=t=>t.dom.create(Ts(t),gc(t)),og=t=>{const o=t.dom,n=t.selection,a=t.schema,i=a.getBlockElements(),c=n.getStart(),d=t.getBody();let u,f,y=!1;const v=Ts(t);if(!c||!an(c))return;const k=d.nodeName.toLowerCase();if(!a.isValidChild(k,v.toLowerCase())||((K,re,ee)=>zo(_4(je(ee),je(re)),ke=>N0(K,ke.dom)))(i,d,c))return;const E=n.getRng(),{startContainer:B,startOffset:O,endContainer:P,endOffset:M}=E,j=rf(t);let q=d.firstChild;for(;q;)if(an(q)&&lg(a,q),gT(a,q)){if(pT(i,q)){f=q,q=q.nextSibling,o.remove(f);continue}u||(u=Ow(t),d.insertBefore(u,q),y=!0),f=q,q=q.nextSibling,u.appendChild(f)}else u=null,q=q.nextSibling;y&&j&&(E.setStart(B,O),E.setEnd(P,M),n.setRng(E),t.nodeChanged())},vu=(t,o,n)=>{const a=je(Ow(t)),i=Xi();os(a,i),n(o,a);const c=document.createRange();return c.setStartBefore(i.dom),c.setEndBefore(i.dom),c},M0=t=>o=>(" "+o.attr("class")+" ").indexOf(t)!==-1,fT=(t,o,n)=>function(a){const i=arguments,c=i[i.length-2],d=c>0?o.charAt(c-1):"";if(d==='"')return a;if(d===">"){const u=o.lastIndexOf("<",c);if(u!==-1&&o.substring(u,c).indexOf('contenteditable="false"')!==-1)return a}return'<span class="'+n+'" data-mce-content="'+t.dom.encode(i[0])+'">'+t.dom.encode(typeof i[1]=="string"?i[1]:i[0])+"</span>"},D0=(t,o)=>{o.hasAttribute("data-mce-caret")&&(H(o),t.selection.setRng(t.selection.getRng()),t.selection.scrollIntoView(o))},hT=(t,o)=>{const n=(a=>fd(je(a.getBody()),"*[data-mce-caret]").map(i=>i.dom).getOrNull())(t);if(n)return o.type==="compositionstart"?(o.preventDefault(),o.stopPropagation(),void D0(t,n)):void(ed(n)&&(D0(t,n),t.undoManager.add()))},BC=Oa,FC=(t,o,n)=>{const a=nc(t.getBody()),i=Je(Lb,o===1?a.next:a.prev);if(n.collapsed){const c=t.dom.getParent(n.startContainer,"PRE");if(!c)return;if(!i(Ht.fromRangeStart(n))){const d=je((u=>{const f=u.dom.create(Ts(u));return f.innerHTML='<br data-mce-bogus="1">',f})(t));o===1?Da(je(c),d):rl(je(c),d),t.selection.select(d.dom,!0),t.selection.collapse()}}},LC=(t,o)=>((n,a)=>{const i=a?Bi.Forwards:Bi.Backwards,c=n.selection.getRng();return((d,u,f)=>aT(u,d,f,Km,sf,BC))(i,n,c).orThunk(()=>(FC(n,i,c),V.none()))})(t,((n,a)=>{const i=a?n.getEnd(!0):n.getStart(!0);return H1(i)?!a:a})(t.selection,o)).exists(n=>(tp(t,n),!0)),IC=(t,o)=>((n,a)=>{const i=a?1:-1,c=n.selection.getRng();return((d,u,f)=>sT(u,d,f,y=>Km(y)||k4(y),y=>sf(y)||px(y),BC))(i,n,c).orThunk(()=>(FC(n,i,c),V.none()))})(t,o).exists(n=>(tp(t,n),!0)),PC=(t,o)=>iT(t,o,o?sf:Km),Lh=(t,o)=>E0(t,!o).map(n=>{const a=n.toRange(),i=t.selection.getRng();return o?a.setStart(i.startContainer,i.startOffset):a.setEnd(i.endContainer,i.endOffset),a}).exists(n=>(tp(t,n),!0)),HC=t=>lo(["figcaption"],Pe(t)),jC=(t,o)=>!!t.selection.isCollapsed()&&((n,a)=>{const i=je(n.getBody()),c=Ht.fromRangeStart(n.selection.getRng());return((d,u,f)=>{const y=Je(sa,u);return ts(je(d.container()),v=>f.isBlock(Pe(v)),y).filter(HC)})(c,i,n.schema).exists(()=>{if(((d,u,f)=>u?YE(d.dom,f):KE(d.dom,f))(i,a,c)){const d=vu(n,i,a?os:Jl);return n.selection.setRng(d),!0}return!1})})(t,o),Nw=(t,o)=>((n,a)=>a?V.from(n.dom.getParent(n.selection.getNode(),"details")).map(i=>((c,d)=>{const u=c.selection.getRng(),f=Ht.fromRangeStart(u);return!(c.getBody().lastChild!==d||!YE(d,f)||(c.execCommand("InsertNewBlockAfter"),0))})(n,i)).getOr(!1):V.from(n.dom.getParent(n.selection.getNode(),"summary")).bind(i=>V.from(n.dom.getParent(i,"details")).map(c=>((d,u,f)=>{const y=d.selection.getRng(),v=Ht.fromRangeStart(y);return!(d.getBody().firstChild!==u||!KE(f,v)||(d.execCommand("InsertNewBlockBefore"),0))})(n,c,i))).getOr(!1))(t,o),bT={shiftKey:!1,altKey:!1,ctrlKey:!1,metaKey:!1,keyCode:0},yT=(t,o)=>o.keyCode===t.keyCode&&o.shiftKey===t.shiftKey&&o.altKey===t.altKey&&o.ctrlKey===t.ctrlKey&&o.metaKey===t.metaKey,lr=(t,...o)=>()=>t.apply(null,o),R0=(t,o)=>Fe(((n,a)=>at((i=>to(i,c=>({...bT,...c})))(n),i=>yT(i,a)?[i]:[]))(t,o),n=>n.action()),vT=(t,o)=>zn(((n,a)=>at((i=>to(i,c=>({...bT,...c})))(n),i=>yT(i,a)?[i]:[]))(t,o),n=>n.action()),xT=(t,o)=>{const n=o?Bi.Forwards:Bi.Backwards,a=t.selection.getRng();return aT(t,n,a,F1,L1,$i).exists(i=>(tp(t,i),!0))},B0=(t,o)=>{const n=o?1:-1,a=t.selection.getRng();return sT(t,n,a,F1,L1,$i).exists(i=>(tp(t,i),!0))},Mw=(t,o)=>iT(t,o,o?L1:F1),VC=zc([{none:["current"]},{first:["current"]},{middle:["current","target"]},{last:["current"]}]),Ih={...VC,none:t=>VC.none(t)},wT=(t,o,n)=>at(Lt(t),a=>Ci(a,o)?n(a)?[a]:[]:wT(a,o,n)),kT=(t,o)=>Yc(t,"table",o),$C=(t,o,n,a,i=Bt)=>{const c=a===1;if(!c&&n<=0)return Ih.first(t[0]);if(c&&n>=t.length-1)return Ih.last(t[t.length-1]);{const d=n+a,u=t[d];return i(u)?Ih.middle(o,u):$C(t,o,d,a,i)}},_T=(t,o)=>kT(t,o).bind(n=>{const a=wT(n,"th,td",Bt);return ge(a,i=>sa(t,i)).map(i=>({index:i,all:a}))}),CT=(t,o,n,a,i)=>{const c=wa(je(n),"td,th,caption").map(u=>u.dom),d=gt(((u,f)=>at(f,y=>{const v=((k,E)=>({left:k.left-E,top:k.top-E,right:k.right+-2,bottom:k.bottom+-2,width:k.width+E,height:k.height+E}))(Vl(y.getBoundingClientRect()),-1);return[{x:v.left,y:u(v),cell:y},{x:v.right,y:u(v),cell:y}]}))(t,c),u=>o(u,i));return((u,f,y)=>Oe(u,(v,k)=>v.fold(()=>V.some(k),E=>{const B=Math.sqrt(Math.abs(E.x-f)+Math.abs(E.y-y)),O=Math.sqrt(Math.abs(k.x-f)+Math.abs(k.y-y));return V.some(O<B?k:E)}),V.none()))(d,a,i).map(u=>u.cell)},xO=Je(CT,t=>t.bottom,(t,o)=>t.y<o),Dw=Je(CT,t=>t.top,(t,o)=>t.y>o),F0=(t,o,n)=>{const a=t(o,n);return(i=>i.breakType===Qm.Wrap&&i.positions.length===0)(a)||!da(n.getNode())&&(i=>i.breakType===Qm.Br&&i.positions.length===1)(a)?!((i,c,d)=>d.breakAt.exists(u=>i(c,u).breakAt.isSome()))(t,o,a):a.breakAt.isNone()},Rw=Je(F0,Mh),wO=Je(F0,Dh),kO=(t,o,n,a)=>{const i=t.selection.getRng(),c=o?1:-1;return!(!Rb()||!((d,u,f)=>{const y=Ht.fromRangeStart(u);return T(!d,f).exists(v=>v.isEqual(y))})(o,i,n)||(Gu(c,t,n,!o,!1).each(d=>{tp(t,d)}),0))},ST=(t,o,n)=>{const a=((c,d)=>{const u=d.getNode(c);return Ms(u)?V.some(u):V.none()})(!!o,n),i=o===!1;a.fold(()=>tp(t,n.toRange()),c=>T(i,t.getBody()).filter(d=>d.isEqual(n)).fold(()=>tp(t,n.toRange()),d=>((u,f,y)=>{f.undoManager.transact(()=>{const v=u?Da:rl,k=vu(f,je(y),v);tp(f,k)})})(o,t,c)))},_O=(t,o,n,a)=>{const i=t.selection.getRng(),c=Ht.fromRangeStart(i),d=t.getBody();if(!o&&Rw(a,c)){const u=((f,y,v)=>((k,E)=>Zo(E.getClientRects()).bind(B=>xO(k,B.left,B.top)).bind(B=>{return bf(Y(O=B).map(P=>Mh(O,P).positions.concat(P)).getOr([]),E);var O}))(y,v).orThunk(()=>Zo(v.getClientRects()).bind(k=>Xu(xC(f,Ht.before(y)),k.left))).getOr(Ht.before(y)))(d,n,c);return ST(t,o,u),!0}if(o&&wO(a,c)){const u=((f,y,v)=>((k,E)=>Gn(E.getClientRects()).bind(B=>Dw(k,B.left,B.top)).bind(B=>{return bf(Z(O=B).map(P=>[P].concat(Dh(O,P).positions)).getOr([]),E);var O}))(y,v).orThunk(()=>Zo(v.getClientRects()).bind(k=>Xu(wC(f,Ht.after(y)),k.left))).getOr(Ht.after(y)))(d,n,c);return ST(t,o,u),!0}return!1},ET=(t,o,n)=>V.from(t.dom.getParent(t.selection.getNode(),"td,th")).bind(a=>V.from(t.dom.getParent(a,"table")).map(i=>n(t,o,i,a))).getOr(!1),TT=(t,o)=>ET(t,o,kO),Vd=(t,o)=>ET(t,o,_O),Bw=(t,o,n)=>n.fold(V.none,V.none,(a,i)=>{return(c=i,Kc(c,c4)).map(d=>(u=>{const f=Wb.exact(u,0,u,0);return EA(f)})(d));var c},a=>(t.execCommand("mceTableInsertRowAfter"),UC(t,o,a))),UC=(t,o,n)=>{return Bw(t,o,(i=nl,_T(a=n,void 0).fold(()=>Ih.none(a),c=>$C(c.all,a,c.index,1,i))));var a,i},zT=(t,o,n)=>{return Bw(t,o,(i=nl,_T(a=n,void 0).fold(()=>Ih.none(),c=>$C(c.all,a,c.index,-1,i))));var a,i},ZC=(t,o)=>{const n=["table","li","dl"],a=je(t.getBody()),i=d=>{const u=Pe(d);return sa(d,a)||lo(n,u)},c=t.selection.getRng();return((d,u)=>((f,y,v=uo)=>v(y)?V.none():lo(f,Pe(y))?V.some(y):Ua(y,f.join(","),k=>Ci(k,"table")||v(k)))(["td","th"],d,u))(je(o?c.endContainer:c.startContainer),i).map(d=>(kT(d,i).each(u=>{t.model.table.clearSelectedCells(u.dom)}),t.selection.collapse(!o),(o?UC:zT)(t,i,d).each(u=>{t.selection.setRng(u)}),!0)).getOr(!1)},Am=(t,o)=>({container:t,offset:o}),L0=wr.DOM,Fw=t=>o=>t===o?-1:0,vf=(t,o,n)=>{if(ro(t)&&o>=0)return V.some(Am(t,o));{const a=um(L0);return V.from(a.backwards(t,o,Fw(t),n)).map(i=>Am(i.container,i.container.data.length))}},Lw=(t,o,n)=>{if(!ro(t))return V.none();const a=t.data;if(o>=0&&o<=a.length)return V.some(Am(t,o));{const i=um(L0);return V.from(i.backwards(t,o,Fw(t),n)).bind(c=>{const d=c.container.data;return Lw(c.container,o+d.length,n)})}},qC=(t,o,n)=>{if(!ro(t))return V.none();const a=t.data;if(o<=a.length)return V.some(Am(t,o));{const i=um(L0);return V.from(i.forwards(t,o,Fw(t),n)).bind(c=>qC(c.container,o-a.length,n))}},Iw=(t,o,n,a,i)=>{const c=um(t,(d=>u=>d.isBlock(u)||lo(["BR","IMG","HR","INPUT"],u.nodeName)||d.getContentEditable(u)==="false")(t));return V.from(c.backwards(o,n,a,i))},Pw=t=>qs(t.toString().replace(/\u00A0/g," ")),AT=t=>t!==""&&`  \f
\r	\v`.indexOf(t)!==-1,WC=(t,o)=>t.substring(o.length),rp=(t,o,n,a=0)=>{return(i=je(o.startContainer),Yc(i,d4)).fold(()=>((c,d,u,f=0)=>{if(!(y=d).collapsed||!ro(y.startContainer))return V.none();var y;const v={text:"",offset:0},k=c.getParent(d.startContainer,c.isBlock)||c.getRoot();return Iw(c,d.startContainer,d.startOffset,(E,B,O)=>(v.text=O+v.text,v.offset+=B,((P,M,j)=>{let q;const K=j.charAt(0);for(q=M-1;q>=0;q--){const re=P.charAt(q);if(AT(re))return V.none();if(K===re&&Xr(P,j,q,M))break}return V.some(q)})(v.text,v.offset,u).getOr(B)),k).bind(E=>{const B=d.cloneRange();if(B.setStart(E.container,E.offset),B.setEnd(d.endContainer,d.endOffset),B.collapsed)return V.none();const O=Pw(B);return O.lastIndexOf(u)!==0||WC(O,u).length<f?V.none():V.some({text:WC(O,u),range:B,trigger:u})})})(t,o,n,a),c=>{const d=t.createRng();d.selectNode(c.dom);const u=Pw(d);return V.some({range:d,text:WC(u,n),trigger:n})});var i},Hw=t=>{if((o=>o.nodeType===3)(t))return Am(t,t.data.length);{const o=t.childNodes;return o.length>0?Hw(o[o.length-1]):Am(t,o.length)}},OT=(t,o)=>{const n=t.childNodes;return n.length>0&&o<n.length?OT(n[o],0):n.length>0&&(a=>a.nodeType===1)(t)&&n.length===o?Hw(n[n.length-1]):Am(t,o)},NT=(t,o,n,a={})=>{var i;const c=o(),d=(i=t.selection.getRng().startContainer.nodeValue)!==null&&i!==void 0?i:"",u=gt(c.lookupByTrigger(n.trigger),y=>n.text.length>=y.minChars&&y.matches.getOrThunk(()=>(v=>k=>{const E=OT(k.startContainer,k.startOffset);return!((B,O)=>{var P;const M=(P=B.getParent(O.container,B.isBlock))!==null&&P!==void 0?P:B.getRoot();return Iw(B,O.container,O.offset,(j,q)=>q===0?-1:q,M).filter(j=>{const q=j.container.data.charAt(j.offset-1);return!AT(q)}).isSome()})(v,E)})(t.dom))(n.range,d,n.text));if(u.length===0)return V.none();const f=Promise.all(to(u,y=>y.fetch(n.text,y.maxResults,a).then(v=>({matchText:n.text,items:v,columns:y.columns,onAction:y.onAction,highlightOn:y.highlightOn}))));return V.some({lookupData:f,context:n})};var Uc;(function(t){t[t.Error=0]="Error",t[t.Value=1]="Value"})(Uc||(Uc={}));const jw=(t,o,n)=>t.stype===Uc.Error?o(t.serror):n(t.svalue),ap=t=>({stype:Uc.Value,svalue:t}),I0=t=>({stype:Uc.Error,serror:t}),CO=jw,Om=t=>it(t)&&ut(t).length>100?" removed due to size":JSON.stringify(t,null,2),Ay=(t,o)=>I0([{path:t,getErrorInfo:o}]),GC=(t,o)=>({extract:(n,a)=>Fn(a,t).fold(()=>((i,c)=>Ay(i,()=>'Choice schema did not contain choice key: "'+c+'"'))(n,t),i=>((c,d,u,f)=>Fn(u,f).fold(()=>((y,v,k)=>Ay(y,()=>'The chosen schema: "'+k+'" did not exist in branches: '+Om(v)))(c,u,f),y=>y.extract(c.concat(["branch: "+f]),d)))(n,a,o,i)),toString:()=>"chooseOn("+t+"). Possible values: "+ut(o)}),KC=t=>(...o)=>{if(o.length===0)throw new Error("Can't merge zero objects");const n={};for(let a=0;a<o.length;a++){const i=o[a];for(const c in i)ln(i,c)&&(n[c]=t(n[c],i[c]))}return n},Vw=KC((t,o)=>So(t)&&So(o)?Vw(t,o):o),YC=t=>({tag:"defaultedThunk",process:Ct(t)}),MT=t=>{const o=(a=>{const i=[],c=[];return Se(a,d=>{jw(d,u=>c.push(u),u=>i.push(u))}),{values:i,errors:c}})(t);return o.errors.length>0?(n=o.errors,gn(I0,Me)(n)):ap(o.values);var n},DT=(t,o,n)=>{switch(t.tag){case"field":return o(t.key,t.newKey,t.presence,t.prop);case"custom":return n(t.newKey,t.instantiator)}},Ph=t=>({extract:(o,n)=>{return a=t(n),i=c=>((d,u)=>Ay(d,Ct(u)))(o,c),a.stype===Uc.Error?i(a.serror):a;var a,i},toString:Ct("val")}),$w=Ph(ap),XC=(t,o,n,a)=>a(Fn(t,o).getOrThunk(()=>n(t))),RT=(t,o,n,a,i)=>{const c=u=>i.extract(o.concat([a]),u),d=u=>u.fold(()=>ap(V.none()),f=>{return v=i.extract(o.concat([a]),f),k=V.some,v.stype===Uc.Value?{stype:Uc.Value,svalue:k(v.svalue)}:v;var v,k});switch(t.tag){case"required":return((u,f,y,v)=>Fn(f,y).fold(()=>((k,E,B)=>Ay(k,()=>'Could not find valid *required* value for "'+E+'" in '+Om(B)))(u,y,f),v))(o,n,a,c);case"defaultedThunk":return XC(n,a,t.process,c);case"option":return((u,f,y)=>y(Fn(u,f)))(n,a,d);case"defaultedOptionThunk":return((u,f,y,v)=>v(Fn(u,f).map(k=>k===!0?y(u):k)))(n,a,t.process,d);case"mergeWithThunk":return XC(n,a,Ct({}),u=>{const f=Vw(t.process(n),u);return c(f)})}},Uw=t=>({extract:(o,n)=>((a,i,c)=>{const d={},u=[];for(const f of c)DT(f,(y,v,k,E)=>{const B=RT(k,a,i,y,E);CO(B,O=>{u.push(...O)},O=>{d[v]=O})},(y,v)=>{d[y]=v(i)});return u.length>0?I0(u):ap(d)})(o,n,t),toString:()=>`obj{
`+to(t,n=>DT(n,(a,i,c,d)=>a+" -> "+d.toString(),(a,i)=>"state("+a+")")).join(`
`)+"}"}),JC=t=>({extract:(o,n)=>{const a=to(n,(i,c)=>t.extract(o.concat(["["+c+"]"]),i));return MT(a)},toString:()=>"array("+t.toString()+")"}),Zw=(t,o,n)=>{return a=((i,c,d)=>((u,f)=>u.stype===Uc.Error?{stype:Uc.Error,serror:f(u.serror)}:u)(c.extract([i],d),u=>({input:d,errors:u})))(t,o,n),jw(a,$l.error,$l.value);var a},qw=(t,o)=>GC(t,vo(o,Uw)),P0=Ct($w),Ww=(t,o)=>Ph(n=>{const a=typeof n;return t(n)?ap(n):I0(`Expected type: ${o} but got: ${a}`)}),BT=Ww(rt,"number"),Gw=Ww(Ue,"string"),SO=Ww(Dt,"boolean"),Kw=Ww(de,"function"),Oy=(t,o,n,a)=>({tag:"field",key:t,newKey:o,presence:n,prop:a}),FT=(t,o)=>({tag:"custom",newKey:t,instantiator:o}),QC=(t,o)=>Oy(t,t,{tag:"required",process:{}},o),xf=t=>QC(t,Gw),eS=t=>QC(t,Kw),H0=(t,o)=>Oy(t,t,{tag:"option",process:{}},o),j0=t=>H0(t,Gw),wf=(t,o,n)=>Oy(t,t,YC(o),n),sp=(t,o)=>wf(t,o,BT),tS=(t,o,n)=>wf(t,o,(a=>{return i=c=>lo(a,c)?$l.value(c):$l.error(`Unsupported value: "${c}", choose one of "${a.join(", ")}".`),Ph(c=>i(c).fold(I0,ap));var i})(n)),dd=(t,o)=>wf(t,o,SO),ip=(t,o)=>wf(t,o,Kw),oS=xf("type"),LT=eS("fetch"),nS=eS("onAction"),IT=ip("onSetup",()=>$t),Ny=j0("text"),rS=j0("icon"),PT=j0("tooltip"),HT=j0("label"),aS=dd("active",!1),EO=dd("enabled",!0),jT=dd("primary",!1),My=t=>((o,n)=>wf("type",n,Gw))(0,t),TO=Uw([oS,xf("trigger"),sp("minChars",1),((t,o)=>Oy(t,t,YC(1),P0()))("columns"),sp("maxResults",10),H0("matches",Kw),LT,nS,(ud=Gw,wf("highlightOn",[],JC(ud)))]);var ud;const V0=[EO,PT,rS,Ny,IT],sS=[aS].concat(V0),iS=[ip("predicate",uo),tS("scope","node",["node","editor"]),tS("position","selection",["node","selection","line"])],VT=V0.concat([My("contextformbutton"),jT,nS,FT("original",R)]),$0=sS.concat([My("contextformbutton"),jT,nS,FT("original",R)]),lp=V0.concat([My("contextformbutton")]),Hh=sS.concat([My("contextformtogglebutton")]),Yw=qw("type",{contextformbutton:VT,contextformtogglebutton:$0});Uw([My("contextform"),ip("initValue",Ct("")),HT,((t,o)=>Oy(t,t,{tag:"required",process:{}},JC(o)))("commands",Yw),H0("launch",qw("type",{contextformbutton:lp,contextformtogglebutton:Hh}))].concat(iS));const lS=t=>{const o=t.ui.registry.getAll().popups,n=vo(o,c=>{return(d=c,Zw("Autocompleter",TO,{trigger:d.ch,...d})).fold(u=>{throw new Error(`Errors: 
`+(y=>{const v=y.length>10?y.slice(0,10).concat([{path:[],getErrorInfo:Ct("... (only showing first ten failures)")}]):y;return to(v,k=>"Failed path: ("+k.path.join(" > ")+`)
`+k.getErrorInfo())})((f=u).errors).join(`
`)+`

Input object: `+Om(f.input));var f},R);var d}),a=Ys(Wt(n,c=>c.trigger)),i=vr(n);return{dataset:n,triggers:a,lookupByTrigger:c=>gt(i,d=>d.trigger===c)}},cS=t=>{const o=Ec(),n=bi(!1),a=o.isSet,i=()=>{a()&&((u=>{Li(u).autocompleter.removeDecoration()})(t),(u=>{u.dispatch("AutocompleterEnd")})(t),n.set(!1),o.clear())},c=tt(()=>lS(t)),d=u=>{(f=>o.get().map(y=>rp(t.dom,t.selection.getRng(),y.trigger).bind(v=>NT(t,c,v,f))).getOrThunk(()=>((y,v)=>{const k=v(),E=y.selection.getRng();return((B,O,P)=>zn(P.triggers,M=>rp(B,O,M)))(y.dom,E,k).bind(B=>NT(y,v,B))})(t,c)))(u).fold(i,f=>{(y=>{a()||(((v,k)=>{Li(v).autocompleter.addDecoration(k)})(t,y.range),o.set({trigger:y.trigger,matchLength:y.text.length}))})(f.context),f.lookupData.then(y=>{o.get().map(v=>{const k=f.context;v.trigger===k.trigger&&(k.text.length-v.matchLength>=10?i():(o.set({...v,matchLength:k.text.length}),n.get()?((E,B)=>{E.dispatch("AutocompleterUpdate",B)})(t,{lookupData:y}):(n.set(!0),((E,B)=>{E.dispatch("AutocompleterStart",B)})(t,{lookupData:y}))))})})})};t.addCommand("mceAutocompleterReload",(u,f)=>{const y=it(f)?f.fetchOptions:{};d(y)}),t.addCommand("mceAutocompleterClose",i),((u,f)=>{const y=Iu(f.load,50);u.on("keypress compositionend",v=>{v.which!==27&&y.throttle()}),u.on("keydown",v=>{const k=v.which;k===8?y.throttle():k===27&&f.cancelIfNecessary()}),u.on("remove",y.cancel)})(t,{cancelIfNecessary:i,load:d})},$T=Aa().browser.isSafari(),UT=t=>Oi(je(t)),dS=(t,o)=>{var n;return t.startOffset===0&&t.endOffset===((n=o.textContent)===null||n===void 0?void 0:n.length)},U0=(t,o)=>V.from(t.getParent(o.container(),"details")),uS=(t,o)=>U0(t,o).isSome(),mS=(t,o)=>{const n=o.getNode();fo(n)||t.selection.setCursorLocation(n,o.offset())},ZT=(t,o,n)=>{const a=t.dom.getParent(o.container(),"details");if(a&&!a.open){const i=t.dom.select("summary",a)[0];i&&(n?Z(i):Y(i)).each(c=>mS(t,c))}else mS(t,o)},qT=(t,o,n)=>{const{dom:a,selection:i}=t,c=t.getBody();if(n==="character"){const d=Ht.fromRangeStart(i.getRng()),u=a.getParent(d.container(),a.isBlock),f=U0(a,d),y=u&&a.isEmpty(u),v=he(u?.previousSibling),k=he(u?.nextSibling);return!!(y&&(o?k:v)&&b(!o,c,d).exists(E=>uS(a,E)&&!Ss(f,U0(a,E))))||b(o,c,d).fold(uo,E=>{const B=U0(a,E);if(uS(a,E)&&!Ss(f,B)){if(o||ZT(t,E,!1),u&&y){if(o&&v||!o&&k)return!0;ZT(t,E,o),t.dom.remove(u)}return!0}return!1})}return!1},zO=(t,o,n,a)=>{const i=t.selection.getRng(),c=Ht.fromRangeStart(i),d=t.getBody();return a==="selection"?((u,f)=>{const y=f.startSummary.exists(E=>E.contains(u.startContainer)),v=f.startSummary.exists(E=>E.contains(u.endContainer)),k=f.startDetails.forall(E=>f.endDetails.forall(B=>E!==B));return(y||v)&&!(y&&v)||k})(i,o):n?((u,f)=>f.startSummary.exists(y=>((v,k)=>Y(k).exists(E=>da(E.getNode())&&I(k,E).exists(B=>B.isEqual(v))||E.isEqual(v)))(u,y)))(c,o)||((u,f,y)=>y.startDetails.exists(v=>L(u,f).forall(k=>!v.contains(k.container()))))(d,c,o):((u,f)=>f.startSummary.exists(y=>((v,k)=>Z(k).exists(E=>E.isEqual(v)))(u,y)))(c,o)||((u,f)=>f.startDetails.exists(y=>I(y,u).forall(v=>f.startSummary.exists(k=>!k.contains(u.container())&&k.contains(v.container())))))(c,o)},Ml=(t,o,n)=>((a,i,c)=>((d,u)=>{const f=V.from(d.getParent(u.startContainer,"details")),y=V.from(d.getParent(u.endContainer,"details"));if(f.isSome()||y.isSome()){const v=f.bind(k=>V.from(d.select("summary",k)[0]));return V.some({startSummary:v,startDetails:f,endDetails:y})}return V.none()})(a.dom,a.selection.getRng()).fold(()=>qT(a,i,c),d=>zO(a,d,i,c)||qT(a,i,c)))(t,o,n)||$T&&((a,i,c)=>{const d=a.selection,u=d.getNode(),f=d.getRng(),y=Ht.fromRangeStart(f);return!!sg(u)&&(c==="selection"&&dS(f,u)||$_(i,y,u)?UT(u):a.undoManager.transact(()=>{const v=d.getSel();let{anchorNode:k,anchorOffset:E,focusNode:B,focusOffset:O}=v??{};const P=()=>{Ze(k)&&Ze(E)&&Ze(B)&&Ze(O)&&v?.setBaseAndExtent(k,E,B,O)},M=(q,K)=>{Se(q.childNodes,re=>{wm(re)&&K.appendChild(re)})},j=a.dom.create("span",{"data-mce-bogus":"1"});M(u,j),u.appendChild(j),P(),c!=="word"&&c!=="line"||v==null||v.modify("extend",i?"right":"left",c),!d.isCollapsed()&&dS(d.getRng(),j)?UT(u):(a.execCommand(i?"ForwardDelete":"Delete"),k=v?.anchorNode,E=v?.anchorOffset,B=v?.focusNode,O=v?.focusOffset,M(j,u),P()),a.dom.remove(j)}),!0)})(t,o,n)?V.some($t):V.none(),gS=t=>(o,n,a={})=>{const i=o.getBody(),c={bubbles:!0,composed:!0,data:null,isComposing:!1,detail:0,view:null,target:i,currentTarget:i,eventPhase:Event.AT_TARGET,originalTarget:i,explicitOriginalTarget:i,isTrusted:!1,srcElement:i,cancelable:!1,preventDefault:$t,inputType:n},d=is(new InputEvent(t));return o.dispatch(t,{...d,...c,...a})},cp=gS("input"),Xw=gS("beforeinput"),pS=Aa(),fS=pS.os,Jw=fS.isMacOS()||fS.isiOS(),WT=pS.browser.isFirefox(),Dy=(t,o)=>{const n=t.dom,a=t.schema.getMoveCaretBeforeOnEnterElements();if(!o)return;if(/^(LI|DT|DD)$/.test(o.nodeName)){const c=(d=>{for(;d;){if(an(d)||ro(d)&&d.data&&/[\r\n\s]/.test(d.data))return d;d=d.nextSibling}return null})(o.firstChild);c&&/^(UL|OL|DL)$/.test(c.nodeName)&&o.insertBefore(n.doc.createTextNode(ns),o.firstChild)}const i=n.createRng();if(o.normalize(),o.hasChildNodes()){const c=new Ns(o,o);let d,u=o;for(;d=c.current();){if(ro(d)){i.setStart(d,0),i.setEnd(d,0);break}if(a[d.nodeName.toLowerCase()]){i.setStartBefore(d),i.setEndBefore(d);break}u=d,d=c.next()}d||(i.setStart(u,0),i.setEnd(u,0))}else da(o)?o.nextSibling&&n.isBlock(o.nextSibling)?(i.setStartBefore(o),i.setEndBefore(o)):(i.setStartAfter(o),i.setEndAfter(o)):(i.setStart(o,0),i.setEnd(o,0));t.selection.setRng(i),bh(t,i)},Z0=(t,o)=>{const n=t.getRoot();let a,i=o;for(;i!==n&&i&&t.getContentEditable(i)!=="false";){if(t.getContentEditable(i)==="true"){a=i;break}i=i.parentNode}return i!==n?a:n},hS=t=>V.from(t.dom.getParent(t.selection.getStart(!0),t.dom.isBlock)),q0=t=>{t.innerHTML='<br data-mce-bogus="1">'},W0=(t,o)=>{Ts(t).toLowerCase()===o.tagName.toLowerCase()&&((n,a,i)=>{const c=n.dom;V.from(i.style).map(c.parseStyle).each(v=>{const k={..._u(je(a)),...v};c.setStyles(a,k)});const d=V.from(i.class).map(v=>v.split(/\s+/)),u=V.from(a.className).map(v=>gt(v.split(/\s+/),k=>k!==""));Ir(d,u,(v,k)=>{const E=gt(k,O=>!lo(v,O)),B=[...v,...E];c.setAttrib(a,"class",B.join(" "))});const f=["style","class"],y=Rr(i,(v,k)=>!lo(f,k));c.setAttribs(a,y)})(t,o,gc(t))},GT=(t,o,n,a,i=!0,c,d)=>{const u=t.dom,f=t.schema,y=Ts(t),v=n?n.nodeName.toUpperCase():"";let k=o;const E=f.getTextInlineElements();let B;B=c||v==="TABLE"||v==="HR"?u.create(c||y,d||{}):n.cloneNode(!1);let O=B;if(i)do if(E[k.nodeName]){if(be(k)||No(k))continue;const P=k.cloneNode(!1);u.setAttrib(P,"id",""),B.hasChildNodes()?(P.appendChild(B.firstChild),B.appendChild(P)):(O=P,B.appendChild(P))}while((k=k.parentNode)&&k!==a);else u.setAttrib(B,"style",null),u.setAttrib(B,"class",null);return W0(t,B),q0(O),B},bS=(t,o)=>{const n=t?.parentNode;return Ze(n)&&n.nodeName===o},KT=t=>Ze(t)&&/^(OL|UL|LI)$/.test(t.nodeName),yS=t=>Ze(t)&&/^(LI|DT|DD)$/.test(t.nodeName),Ry=t=>{const o=t.parentNode;return yS(o)?o:t},jh=(t,o,n)=>{let a=t[n?"firstChild":"lastChild"];for(;a&&!an(a);)a=a[n?"nextSibling":"previousSibling"];return a===o},vS=t=>Oe(Wt(_u(je(t)),(o,n)=>`${n}: ${o};`),(o,n)=>o+n,""),YT=(t,o)=>o&&o.nodeName==="A"&&t.isEmpty(o),G0=(t,o)=>t.nodeName===o||t.previousSibling&&t.previousSibling.nodeName===o,xS=(t,o)=>Ze(o)&&t.isBlock(o)&&!/^(TD|TH|CAPTION|FORM)$/.test(o.nodeName)&&!/^(fixed|absolute)/i.test(o.style.position)&&t.isEditable(o.parentNode)&&t.getContentEditable(o)!=="false",wS=(t,o,n)=>ro(o)?t?n===1&&o.data.charAt(n-1)===Za?0:n:n===o.data.length-1&&o.data.charAt(n)===Za?o.data.length:n:n,XT={insert:(t,o)=>{let n,a,i,c,d=!1;const u=t.dom,f=t.schema.getNonEmptyElements(),y=t.selection.getRng(),v=Ts(t),k=je(y.startContainer),E=yn(k,y.startOffset),B=E.exists(mt=>bn(mt)&&!nl(mt)),O=y.collapsed&&B,P=(mt,kt)=>GT(t,n,ee,re,Yf(t),mt,kt),M=mt=>{const kt=wS(mt,n,a);if(ro(n)&&(mt?kt>0:kt<n.data.length))return!1;if(n.parentNode===ee&&d&&!mt||mt&&an(n)&&n===ee.firstChild)return!0;if(G0(n,"TABLE")||G0(n,"HR"))return d&&!mt||!d&&mt;const Ve=new Ns(n,ee);let ot;for(ro(n)&&(mt&&kt===0?Ve.prev():mt||kt!==n.data.length||Ve.next());ot=Ve.current();){if(an(ot)){if(!ot.getAttribute("data-mce-bogus")){const pt=ot.nodeName.toLowerCase();if(f[pt]&&pt!=="br")return!1}}else if(ro(ot)&&!ss(ot.data))return!1;mt?Ve.prev():Ve.next()}return!0},j=()=>{let mt;return mt=/^(H[1-6]|PRE|FIGURE)$/.test(i)&&ke!=="HGROUP"?P(v):P(),((kt,Ve)=>{const ot=d1(kt);return!me(Ve)&&(Ue(ot)?lo(go.explode(ot),Ve.nodeName.toLowerCase()):ot)})(t,c)&&xS(u,c)&&u.isEmpty(ee,void 0,{includeZwsp:!0})?mt=u.split(c,ee):u.insertAfter(mt,ee),Dy(t,mt),mt};O1(u,y).each(mt=>{y.setStart(mt.startContainer,mt.startOffset),y.setEnd(mt.endContainer,mt.endOffset)}),n=y.startContainer,a=y.startOffset;const q=!(!o||!o.shiftKey),K=!(!o||!o.ctrlKey);an(n)&&n.hasChildNodes()&&!O&&(d=a>n.childNodes.length-1,n=n.childNodes[Math.min(a,n.childNodes.length-1)]||n,a=d&&ro(n)?n.data.length:0);const re=Z0(u,n);if(!re||((mt,kt)=>{const Ve=mt.dom.getParent(kt,"ol,ul,dl");return Ve!==null&&mt.dom.getContentEditableParent(Ve)==="false"})(t,n))return;q||(n=((mt,kt,Ve,ot,pt)=>{var Jt,en;const Fo=mt.dom,Nn=(Jt=Z0(Fo,ot))!==null&&Jt!==void 0?Jt:Fo.getRoot();let An=Fo.getParent(ot,Fo.isBlock);if(!An||!xS(Fo,An)){if(An=An||Nn,!An.hasChildNodes()){const vn=Fo.create(kt);return W0(mt,vn),An.appendChild(vn),Ve.setStart(vn,0),Ve.setEnd(vn,0),vn}let Jn,jn=ot;for(;jn&&jn.parentNode!==An;)jn=jn.parentNode;for(;jn&&!Fo.isBlock(jn);)Jn=jn,jn=jn.previousSibling;const cn=(en=Jn?.parentElement)===null||en===void 0?void 0:en.nodeName;if(Jn&&cn&&mt.schema.isValidChild(cn,kt.toLowerCase())){const vn=Jn.parentNode,cr=Fo.create(kt);for(W0(mt,cr),vn.insertBefore(cr,Jn),jn=Jn;jn&&!Fo.isBlock(jn);){const Qe=jn.nextSibling;cr.appendChild(jn),jn=Qe}Ve.setStart(ot,pt),Ve.setEnd(ot,pt)}}return ot})(t,v,y,n,a));let ee=u.getParent(n,u.isBlock)||u.getRoot();c=Ze(ee?.parentNode)?u.getParent(ee.parentNode,u.isBlock):null,i=ee?ee.nodeName.toUpperCase():"";const ke=c?c.nodeName.toUpperCase():"";if(ke!=="LI"||K||(ee=c,c=c.parentNode,i=ke),an(c)&&((mt,kt,Ve)=>!kt&&Ve.nodeName.toLowerCase()===Ts(mt)&&mt.dom.isEmpty(Ve)&&((ot,pt,Jt)=>{let en=pt;for(;en&&en!==ot&&he(en.nextSibling);){const Nn=en.parentElement;if(!Nn||(Fo=Nn,!ln(mt.schema.getTextBlockElements(),Fo.nodeName.toLowerCase())))return Hs(Nn);en=Nn}var Fo;return!1})(mt.getBody(),Ve))(t,q,ee))return((mt,kt,Ve)=>{var ot,pt,Jt;const en=kt(Ts(mt)),Fo=((Nn,An)=>Nn.dom.getParent(An,Hs))(mt,Ve);Fo&&(mt.dom.insertAfter(en,Fo),Dy(mt,en),((Jt=(pt=(ot=Ve.parentElement)===null||ot===void 0?void 0:ot.childNodes)===null||pt===void 0?void 0:pt.length)!==null&&Jt!==void 0?Jt:0)>1&&mt.dom.remove(Ve))})(t,P,ee);if(/^(LI|DT|DD)$/.test(i)&&an(c)&&u.isEmpty(ee))return void((mt,kt,Ve,ot,pt)=>{const Jt=mt.dom,en=mt.selection.getRng(),Fo=Ve.parentNode;if(Ve===mt.getBody()||!Fo)return;var Nn;KT(Nn=Ve)&&KT(Nn.parentNode)&&(pt="LI");const An=yS(ot)?vS(ot):void 0;let Jn=yS(ot)&&An?kt(pt,{style:vS(ot)}):kt(pt);if(jh(Ve,ot,!0)&&jh(Ve,ot,!1))if(bS(Ve,"LI")){const jn=Ry(Ve);Jt.insertAfter(Jn,jn),(cn=>{var vn;return((vn=cn.parentNode)===null||vn===void 0?void 0:vn.firstChild)===cn})(Ve)?Jt.remove(jn):Jt.remove(Ve)}else Jt.replace(Jn,Ve);else if(jh(Ve,ot,!0))bS(Ve,"LI")?(Jt.insertAfter(Jn,Ry(Ve)),Jn.appendChild(Jt.doc.createTextNode(" ")),Jn.appendChild(Ve)):Fo.insertBefore(Jn,Ve),Jt.remove(ot);else if(jh(Ve,ot,!1))Jt.insertAfter(Jn,Ry(Ve)),Jt.remove(ot);else{Ve=Ry(Ve);const jn=en.cloneRange();jn.setStartAfter(ot),jn.setEndAfter(Ve);const cn=jn.extractContents();if(pt==="LI"&&((vn,cr)=>vn.firstChild&&vn.firstChild.nodeName==="LI")(cn)){const vn=gt(to(Jn.children,je),lt(ma("br")));Jn=cn.firstChild,Jt.insertAfter(cn,Ve),Se(vn,cr=>Jl(je(Jn),cr)),An&&Jn.setAttribute("style",An)}else Jt.insertAfter(cn,Ve),Jt.insertAfter(Jn,Ve);Jt.remove(ot)}Dy(mt,Jn)})(t,P,c,ee,v);if(!(O||ee!==t.getBody()&&xS(u,ee)))return;const et=ee.parentNode;let st;if(O)st=P(v),E.fold(()=>{os(k,je(st))},mt=>{rl(mt,je(st))}),t.selection.setCursorLocation(st,0);else if(Pl(ee))st=H(ee),u.isEmpty(ee)&&q0(ee),W0(t,st),Dy(t,st);else if(M(!1))st=j();else if(M(!0)&&et){st=et.insertBefore(P(),ee);const mt=je(y.startContainer).dom.hasChildNodes()&&y.collapsed;Dy(t,G0(ee,"HR")||mt?st:ee)}else{const mt=(Ve=>{const ot=Ve.cloneRange();return ot.setStart(Ve.startContainer,wS(!0,Ve.startContainer,Ve.startOffset)),ot.setEnd(Ve.endContainer,wS(!1,Ve.endContainer,Ve.endOffset)),ot})(y).cloneRange();mt.setEndAfter(ee);const kt=mt.extractContents();(Ve=>{Se(rm(je(Ve),_r),ot=>{const pt=ot.dom;pt.nodeValue=qs(pt.data)})})(kt),(Ve=>{let ot=Ve;do ro(ot)&&(ot.data=ot.data.replace(/^[\r\n]+/,"")),ot=ot.firstChild;while(ot)})(kt),st=kt.firstChild,u.insertAfter(kt,ee),((Ve,ot,pt)=>{var Jt;const en=[];if(!pt)return;let Fo=pt;for(;Fo=Fo.firstChild;){if(Ve.isBlock(Fo))return;an(Fo)&&!ot[Fo.nodeName.toLowerCase()]&&en.push(Fo)}let Nn=en.length;for(;Nn--;)Fo=en[Nn],(!Fo.hasChildNodes()||Fo.firstChild===Fo.lastChild&&((Jt=Fo.firstChild)===null||Jt===void 0?void 0:Jt.nodeValue)===""||YT(Ve,Fo))&&Ve.remove(Fo)})(u,f,st),((Ve,ot)=>{ot.normalize();const pt=ot.lastChild;(!pt||an(pt)&&/^(left|right)$/gi.test(Ve.getStyle(pt,"float",!0)))&&Ve.add(ot,"br")})(u,ee),u.isEmpty(ee)&&q0(ee),st.normalize(),u.isEmpty(st)?(u.remove(st),j()):(W0(t,st),Dy(t,st))}u.setAttrib(st,"id",""),t.dispatch("NewBlock",{newBlock:st})},fakeEventName:"insertParagraph"},kf=(t,o,n)=>{const a=t.dom.createRng();n?(a.setStartBefore(o),a.setEndBefore(o)):(a.setStartAfter(o),a.setEndAfter(o)),t.selection.setRng(a),bh(t,a)},AO=(t,o)=>{const n=_s("br");rl(je(o),n),t.undoManager.add()},Qw=(t,o)=>{OO(t.getBody(),o)||Da(je(o),_s("br"));const n=_s("br");Da(je(o),n),kf(t,n.dom,!1),t.undoManager.add()},OO=(t,o)=>{return n=Ht.after(o),!!da(n.getNode())||L(t,Ht.after(o)).map(a=>da(a.getNode())).getOr(!1);var n},ek=t=>t&&t.nodeName==="A"&&"href"in t,JT=t=>t.fold(uo,ek,ek,uo),QT=(t,o)=>{o.fold($t,Je(AO,t),Je(Qw,t),$t)},kS={insert:(t,o)=>{const n=(a=>{const i=Je($u,a),c=Ht.fromRangeStart(a.selection.getRng());return Yu(i,a.getBody(),c).filter(JT)})(t);n.isSome()?n.each(Je(QT,t)):((a,i)=>{const c=a.selection,d=a.dom,u=c.getRng();let f,y=!1;O1(d,u).each(M=>{u.setStart(M.startContainer,M.startOffset),u.setEnd(M.endContainer,M.endOffset)});let v=u.startOffset,k=u.startContainer;if(an(k)&&k.hasChildNodes()){const M=v>k.childNodes.length-1;k=k.childNodes[Math.min(v,k.childNodes.length-1)]||k,v=M&&ro(k)?k.data.length:0}let E=d.getParent(k,d.isBlock);const B=E&&E.parentNode?d.getParent(E.parentNode,d.isBlock):null,O=B?B.nodeName.toUpperCase():"",P=!(!i||!i.ctrlKey);O!=="LI"||P||(E=B),ro(k)&&v>=k.data.length&&(((M,j,q)=>{const K=new Ns(j,q);let re;const ee=M.getNonEmptyElements();for(;re=K.next();)if(ee[re.nodeName.toLowerCase()]||ro(re)&&re.length>0)return!0;return!1})(a.schema,k,E||d.getRoot())||(f=d.create("br"),u.insertNode(f),u.setStartAfter(f),u.setEndAfter(f),y=!0)),f=d.create("br"),ub(d,u,f),kf(a,f,y),a.undoManager.add()})(t,o)},fakeEventName:"insertLineBreak"},K0=(t,o)=>hS(t).filter(n=>o.length>0&&Ci(je(n),o)).isSome(),$d=zc([{br:[]},{block:[]},{none:[]}]),NO=(t,o)=>(n=>K0(n,c1(n)))(t),tk=t=>(o,n)=>(a=>hS(a).filter(i=>uc(je(i))).isSome())(o)===t,_S=(t,o)=>(n,a)=>(c=>hS(c).fold(Ct(""),d=>d.nodeName.toUpperCase()))(n)===t.toUpperCase()===o,MO=t=>{const o=Z0(t.dom,t.selection.getStart());return me(o)},Y0=t=>_S("pre",t),ok=t=>(o,n)=>Gf(o)===t,DO=(t,o)=>(n=>K0(n,Ic(n)))(t),By=(t,o)=>o,ez=t=>{const o=Ts(t),n=Z0(t.dom,t.selection.getStart());return Ze(n)&&t.schema.isValidChild(n.nodeName,o)},RO=t=>{const o=t.selection.getRng(),n=je(o.startContainer),a=yn(n,o.startOffset).map(i=>bn(i)&&!nl(i));return o.collapsed&&a.getOr(!0)},xu=(t,o)=>(n,a)=>Oe(t,(i,c)=>i&&c(n,a),!0)?V.some(o):V.none(),vi=(t,o,n)=>{o.selection.isCollapsed()||(a=>{a.execCommand("delete")})(o),Ze(n)&&Xw(o,t.fakeEventName).isDefaultPrevented()||(t.insert(o,n),Ze(n)&&cp(o,t.fakeEventName))},tz=(t,o)=>{const n=()=>vi(kS,t,o),a=()=>vi(XT,t,o),i=((c,d)=>hC([xu([NO],$d.none()),xu([Y0(!0),MO],$d.none()),xu([_S("summary",!0)],$d.br()),xu([Y0(!0),ok(!1),By],$d.br()),xu([Y0(!0),ok(!1)],$d.block()),xu([Y0(!0),ok(!0),By],$d.block()),xu([Y0(!0),ok(!0)],$d.br()),xu([tk(!0),By],$d.br()),xu([tk(!0)],$d.block()),xu([DO],$d.br()),xu([By],$d.br()),xu([ez],$d.block()),xu([RO],$d.block())],[c,!(!d||!d.shiftKey)]).getOr($d.none()))(t,o);switch(Kf(t)){case"linebreak":i.fold(n,n,$t);break;case"block":i.fold(a,a,$t);break;case"invert":i.fold(a,n,$t);break;default:i.fold(n,a,$t)}},oz=Aa(),nz=oz.os.isiOS()&&oz.browser.isSafari(),nk=(t,o)=>{var n;o.isDefaultPrevented()||(o.preventDefault(),(n=t.undoManager).typing&&(n.typing=!1,n.add()),t.undoManager.transact(()=>{tz(t,o)}))},rz=Aa(),dp=t=>t.stopImmediatePropagation(),rk=t=>t.keyCode===mn.PAGE_UP||t.keyCode===mn.PAGE_DOWN,CS=(t,o,n)=>{n&&!t.get()?o.on("NodeChange",dp,!0):!n&&t.get()&&o.off("NodeChange",dp),t.set(n)},ak=(t,o)=>{const n=o.container(),a=o.offset();return ro(n)?(n.insertData(a,t),V.some(Ht(n,a+t.length))):qp(o).map(i=>{const c=vc(t);return o.isAtEnd()?Da(i,c):rl(i,c),Ht(c.dom,t.length)})},sk=Je(ak,ns),ik=Je(ak," "),SS=t=>o=>{t.selection.setRng(o.toRange()),t.nodeChanged()},lk=t=>{const o=Ht.fromRangeStart(t.selection.getRng()),n=je(t.getBody());if(t.selection.isCollapsed()){const a=Je($u,t),i=Ht.fromRangeStart(t.selection.getRng());return Yu(a,t.getBody(),i).bind((c=>d=>d.fold(u=>I(c.dom,Ht.before(u)),u=>Z(u),u=>Y(u),u=>L(c.dom,Ht.after(u))))(n)).map(c=>()=>((d,u,f)=>y=>z4(d,y,f)?sk(u):ik(u))(n,o,t.schema)(c).each(SS(t)))}return V.none()},ck=t=>{return gi(Rn.browser.isFirefox()&&t.selection.isEditable()&&(o=t.dom,n=t.selection.getRng().startContainer,o.isEditable(o.getParent(n,"summary"))),()=>{const a=je(t.getBody());t.selection.isCollapsed()||t.getDoc().execCommand("Delete"),((i,c,d)=>z4(i,c,d)?sk(c):ik(c))(a,Ht.fromRangeStart(t.selection.getRng()),t.schema).each(SS(t))});var o,n},X0=t=>lh(t)?[{keyCode:mn.TAB,action:lr(ZC,t,!0)},{keyCode:mn.TAB,shiftKey:!0,action:lr(ZC,t,!1)}]:[],J0=t=>{if(t.addShortcut("Meta+P","","mcePrint"),cS(t),Tm(t))return bi(null);{const o=EC(t);return(n=>{n.on("beforeinput",a=>{n.selection.isEditable()&&!zo(a.getTargetRanges(),i=>!A_(n.dom,i))||a.preventDefault()})})(t),(n=>{n.on("keyup compositionstart",Je(hT,n))})(t),((n,a)=>{n.on("keydown",i=>{i.isDefaultPrevented()||((c,d,u)=>{const f=Rn.os.isMacOS()||Rn.os.isiOS();R0([{keyCode:mn.RIGHT,action:lr(LC,c,!0)},{keyCode:mn.LEFT,action:lr(LC,c,!1)},{keyCode:mn.UP,action:lr(IC,c,!1)},{keyCode:mn.DOWN,action:lr(IC,c,!0)},...f?[{keyCode:mn.UP,action:lr(Lh,c,!1),metaKey:!0,shiftKey:!0},{keyCode:mn.DOWN,action:lr(Lh,c,!0),metaKey:!0,shiftKey:!0}]:[],{keyCode:mn.RIGHT,action:lr(TT,c,!0)},{keyCode:mn.LEFT,action:lr(TT,c,!1)},{keyCode:mn.UP,action:lr(Vd,c,!1)},{keyCode:mn.DOWN,action:lr(Vd,c,!0)},{keyCode:mn.UP,action:lr(Vd,c,!1)},{keyCode:mn.UP,action:lr(Nw,c,!1)},{keyCode:mn.DOWN,action:lr(Nw,c,!0)},{keyCode:mn.RIGHT,action:lr(xT,c,!0)},{keyCode:mn.LEFT,action:lr(xT,c,!1)},{keyCode:mn.UP,action:lr(B0,c,!1)},{keyCode:mn.DOWN,action:lr(B0,c,!0)},{keyCode:mn.RIGHT,action:lr(dT,c,d,!0)},{keyCode:mn.LEFT,action:lr(dT,c,d,!1)},{keyCode:mn.RIGHT,ctrlKey:!f,altKey:f,action:lr(Rh,c,d)},{keyCode:mn.LEFT,ctrlKey:!f,altKey:f,action:lr(Bh,c,d)},{keyCode:mn.UP,action:lr(jC,c,!1)},{keyCode:mn.DOWN,action:lr(jC,c,!0)}],u).each(y=>{u.preventDefault()})})(n,a,i)})})(t,o),((n,a)=>{let i=!1;n.on("keydown",c=>{i=c.keyCode===mn.BACKSPACE,c.isDefaultPrevented()||((d,u,f)=>{const y=f.keyCode===mn.BACKSPACE?"deleteContentBackward":"deleteContentForward",v=d.selection.isCollapsed(),k=v?"character":"selection",E=B=>v?B?"word":"line":"selection";vT([{keyCode:mn.BACKSPACE,action:lr(Aw,d)},{keyCode:mn.BACKSPACE,action:lr(xy,d,!1)},{keyCode:mn.DELETE,action:lr(xy,d,!0)},{keyCode:mn.BACKSPACE,action:lr(bw,d,!1)},{keyCode:mn.DELETE,action:lr(bw,d,!0)},{keyCode:mn.BACKSPACE,action:lr(op,d,u,!1)},{keyCode:mn.DELETE,action:lr(op,d,u,!0)},{keyCode:mn.BACKSPACE,action:lr(J_,d,!1)},{keyCode:mn.DELETE,action:lr(J_,d,!0)},{keyCode:mn.BACKSPACE,action:lr(Ml,d,!1,k)},{keyCode:mn.DELETE,action:lr(Ml,d,!0,k)},...Jw?[{keyCode:mn.BACKSPACE,altKey:!0,action:lr(Ml,d,!1,E(!0))},{keyCode:mn.DELETE,altKey:!0,action:lr(Ml,d,!0,E(!0))},{keyCode:mn.BACKSPACE,metaKey:!0,action:lr(Ml,d,!1,E(!1))}]:[{keyCode:mn.BACKSPACE,ctrlKey:!0,action:lr(Ml,d,!1,E(!0))},{keyCode:mn.DELETE,ctrlKey:!0,action:lr(Ml,d,!0,E(!0))}],{keyCode:mn.BACKSPACE,action:lr(pC,d,!1)},{keyCode:mn.DELETE,action:lr(pC,d,!0)},{keyCode:mn.BACKSPACE,action:lr(Ew,d,!1)},{keyCode:mn.DELETE,action:lr(Ew,d,!0)},{keyCode:mn.BACKSPACE,action:lr(fw,d,!1)},{keyCode:mn.DELETE,action:lr(fw,d,!0)},{keyCode:mn.BACKSPACE,action:lr(zm,d,!1)},{keyCode:mn.DELETE,action:lr(zm,d,!0)},{keyCode:mn.BACKSPACE,action:lr(Sw,d,!1)},{keyCode:mn.DELETE,action:lr(Sw,d,!0)}],f).filter(B=>d.selection.isEditable()).each(B=>{f.preventDefault(),Xw(d,y).isDefaultPrevented()||(B(),cp(d,y))})})(n,a,c)}),n.on("keyup",c=>{c.isDefaultPrevented()||((d,u,f)=>{R0([{keyCode:mn.BACKSPACE,action:lr(HE,d)},{keyCode:mn.DELETE,action:lr(HE,d)},...Jw?[{keyCode:mn.BACKSPACE,altKey:!0,action:lr(Ty,d)},{keyCode:mn.DELETE,altKey:!0,action:lr(Ty,d)},...f?[{keyCode:WT?224:91,action:lr(Ty,d)}]:[]]:[{keyCode:mn.BACKSPACE,ctrlKey:!0,action:lr(Ty,d)},{keyCode:mn.DELETE,ctrlKey:!0,action:lr(Ty,d)}]],u)})(n,c,i),i=!1})})(t,o),(n=>{let a=V.none();n.on("keydown",i=>{i.keyCode===mn.ENTER&&(nz&&(c=>{if(!c.collapsed)return!1;const d=c.startContainer;if(ro(d)){const u=/^[\uAC00-\uD7AF\u1100-\u11FF\u3130-\u318F\uA960-\uA97F\uD7B0-\uD7FF]$/,f=d.data.charAt(c.startOffset-1);return u.test(f)}return!1})(n.selection.getRng())?(c=>{a=V.some(c.selection.getBookmark()),c.undoManager.add()})(n):nk(n,i))}),n.on("keyup",i=>{i.keyCode===mn.ENTER&&a.each(()=>((c,d)=>{c.undoManager.undo(),a.fold($t,u=>c.selection.moveToBookmark(u)),nk(c,d),a=V.none()})(n,i))})})(t),(n=>{n.on("keydown",a=>{a.isDefaultPrevented()||((i,c)=>{vT([{keyCode:mn.SPACEBAR,action:lr(lk,i)},{keyCode:mn.SPACEBAR,action:lr(ck,i)}],c).each(d=>{c.preventDefault(),Xw(i,"insertText",{data:" "}).isDefaultPrevented()||(d(),cp(i,"insertText",{data:" "}))})})(n,a)})})(t),(n=>{n.on("input",a=>{a.isComposing||(i=>{const c=je(i.getBody());i.selection.isCollapsed()&&VA(c,Ht.fromRangeStart(i.selection.getRng()),i.schema).each(d=>{i.selection.setRng(d.toRange())})})(n)})})(t),(n=>{n.on("keydown",a=>{a.isDefaultPrevented()||((i,c)=>{R0([...X0(i)],c).each(d=>{c.preventDefault()})})(n,a)})})(t),((n,a)=>{n.on("keydown",i=>{i.isDefaultPrevented()||((c,d,u)=>{const f=Rn.os.isMacOS()||Rn.os.isiOS();R0([{keyCode:mn.END,action:lr(PC,c,!0)},{keyCode:mn.HOME,action:lr(PC,c,!1)},...f?[]:[{keyCode:mn.HOME,action:lr(Lh,c,!1),ctrlKey:!0,shiftKey:!0},{keyCode:mn.END,action:lr(Lh,c,!0),ctrlKey:!0,shiftKey:!0}],{keyCode:mn.END,action:lr(Mw,c,!0)},{keyCode:mn.HOME,action:lr(Mw,c,!1)},{keyCode:mn.END,action:lr(Fh,c,!0,d)},{keyCode:mn.HOME,action:lr(Fh,c,!1,d)}],u).each(y=>{u.preventDefault()})})(n,a,i)})})(t,o),((n,a)=>{if(rz.os.isMacOS())return;const i=bi(!1);n.on("keydown",c=>{rk(c)&&CS(i,n,!0)}),n.on("keyup",c=>{c.isDefaultPrevented()||((d,u,f)=>{R0([{keyCode:mn.PAGE_UP,action:lr(Fh,d,!1,u)},{keyCode:mn.PAGE_DOWN,action:lr(Fh,d,!0,u)}],f)})(n,a,c),rk(c)&&i.get()&&(CS(i,n,!1),n.nodeChanged())})})(t,o),o}};class Ju{constructor(o){let n;this.lastPath=[],this.editor=o;const a=this;"onselectionchange"in o.getDoc()||o.on("NodeChange click mouseup keyup focus",i=>{const c=o.selection.getRng(),d={startContainer:c.startContainer,startOffset:c.startOffset,endContainer:c.endContainer,endOffset:c.endOffset};i.type!=="nodechange"&&p_(d,n)||o.dispatch("SelectionChange"),n=d}),o.on("contextmenu",()=>{o.dispatch("SelectionChange")}),o.on("SelectionChange",()=>{const i=o.selection.getStart(!0);i&&li(o)&&!a.isSameElementPath(i)&&o.dom.isChildOf(i,o.getBody())&&o.nodeChanged({selectionChange:!0})}),o.on("mouseup",i=>{!i.isDefaultPrevented()&&li(o)&&(o.selection.getNode().nodeName==="IMG"?uu.setEditorTimeout(o,()=>{o.nodeChanged()}):o.nodeChanged())})}nodeChanged(o={}){const n=this.editor.selection;let a;if(this.editor.initialized&&n&&!Sg(this.editor)&&!this.editor.mode.isReadOnly()){const i=this.editor.getBody();a=n.getStart(!0)||i,a.ownerDocument===this.editor.getDoc()&&this.editor.dom.isChildOf(a,i)||(a=i);const c=[];this.editor.dom.getParent(a,d=>d===i||(c.push(d),!1)),this.editor.dispatch("NodeChange",{...o,element:a,parents:c})}}isSameElementPath(o){let n;const a=this.editor,i=Ge(a.dom.getParents(o,Bt,a.getBody()));if(i.length===this.lastPath.length){for(n=i.length;n>=0&&i[n]===this.lastPath[n];n--);if(n===-1)return this.lastPath=i,!0}return this.lastPath=i,!1}}const Fy=hg("image"),dk=hg("event"),Q0=t=>o=>{o[dk]=t},az=Q0(0),sz=Q0(2),BO=Q0(1),FO=t=>{const o=t;return V.from(o[dk]).exists(n=>n===0)},Vh=hg("mode"),uk=t=>o=>{o[Vh]=t},iz=(t,o)=>uk(o)(t),lz=uk(0),ES=uk(2),LO=uk(1),cz=t=>o=>{const n=o;return V.from(n[Vh]).exists(a=>a===t)},Ly=cz(0),dz=cz(1),IO=["none","copy","link","move"],PO=["none","copy","copyLink","copyMove","link","linkMove","move","all","uninitialized"],TS=()=>{const t=new window.DataTransfer;let o="move",n="all";const a={get dropEffect(){return o},set dropEffect(i){lo(IO,i)&&(o=i)},get effectAllowed(){return n},set effectAllowed(i){FO(a)&&lo(PO,i)&&(n=i)},get items(){return((i,c)=>({...c,get length(){return c.length},add:(d,u)=>{if(Ly(i)){if(!Ue(d))return c.add(d);if(!fo(u))return c.add(d,u)}return null},remove:d=>{Ly(i)&&c.remove(d)},clear:()=>{Ly(i)&&c.clear()}}))(a,t.items)},get files(){return dz(a)?Object.freeze({length:0,item:i=>null}):t.files},get types(){return t.types},setDragImage:(i,c,d)=>{var u;Ly(a)&&(u={image:i,x:c,y:d},a[Fy]=u,t.setDragImage(i,c,d))},getData:i=>dz(a)?"":t.getData(i),setData:(i,c)=>{Ly(a)&&t.setData(i,c)},clearData:i=>{Ly(a)&&t.clearData(i)}};return lz(a),a},zS=(t,o)=>t.setData("text/html",o),AS="x-tinymce/html",ev=Ct(AS),mk="<!-- "+AS+" -->",uz=t=>mk+t,OS=t=>t.indexOf(mk)!==-1,NS="%MCEPASTEBIN%",MS=t=>t.dom.get("mcepastebin"),mz=t=>Ze(t)&&t.id==="mcepastebin",gz=t=>t===NS,pz=(t,o)=>(go.each(o,n=>{t=To(n,RegExp)?t.replace(n,""):t.replace(n[0],n[1])}),t),DS=t=>pz(t,[/^[\s\S]*<body[^>]*>\s*|\s*<\/body[^>]*>[\s\S]*$/gi,/<!--StartFragment-->|<!--EndFragment-->/g,[/( ?)<span class="Apple-converted-space">\u00a0<\/span>( ?)/g,(o,n,a)=>n||a?ns:" "],/<br class="Apple-interchange-newline">/g,/<br>$/i]),RS=(t,o)=>({content:t,cancelled:o}),BS=(t,o)=>(t.insertContent(o,{merge:s_(t),paste:!0}),!0),gk=t=>/^https?:\/\/[\w\-\/+=.,!;:&%@^~(){}?#]+$/i.test(t),fz=(t,o,n)=>!(t.selection.isCollapsed()||!gk(o))&&((a,i,c)=>(a.undoManager.extra(()=>{c(a,i)},()=>{a.execCommand("mceInsertLink",!1,i)}),!0))(t,o,n),HO=(t,o,n)=>!!((a,i)=>gk(i)&&zo(x1(a),c=>De(i.toLowerCase(),`.${c.toLowerCase()}`)))(t,o)&&((a,i,c)=>(a.undoManager.extra(()=>{c(a,i)},()=>{a.insertContent('<img src="'+i+'">')}),!0))(t,o,n),jO=(t=>{let o=0;return()=>"mceclip"+o++})(),VO=t=>{const o=TS();return zS(o,t),ES(o),o},hz=(t,o,n,a,i)=>{const c=((d,u,f)=>((y,v,k)=>{const E=((O,P,M)=>O.dispatch("PastePreProcess",{content:P,internal:M}))(y,v,k),B=((O,P)=>{const M=dy({sanitize:bm(O),sandbox_iframes:jp(O)},O.schema);M.addNodeFilter("meta",q=>{go.each(q,K=>{K.remove()})});const j=M.parse(P,{forced_root_block:!1,isRootContent:!0});return af({validate:!0},O.schema).serialize(j)})(y,E.content);return y.hasEventListeners("PastePostProcess")&&!E.isDefaultPrevented()?((O,P,M)=>{const j=O.dom.create("div",{style:"display:none"},P),q=((K,re,ee)=>K.dispatch("PastePostProcess",{node:re,internal:ee}))(O,j,M);return RS(q.node.innerHTML,q.isDefaultPrevented())})(y,B,k):RS(B,E.isDefaultPrevented())})(d,u,f))(t,o,n);if(!c.cancelled){const d=c.content,u=()=>((f,y,v)=>{v||!Eb(f)?BS(f,y):((k,E)=>{go.each([fz,HO,BS],B=>!B(k,E,BS))})(f,y)})(t,d,a);i?Xw(t,"insertFromPaste",{dataTransfer:VO(d)}).isDefaultPrevented()||(u(),cp(t,"insertFromPaste")):u()}},pk=(t,o,n,a)=>{const i=n||OS(o);hz(t,(c=>c.replace(mk,""))(o),i,!1,a)},Iy=(t,o,n)=>{const a=t.dom.encode(o).replace(/\r\n/g,`
`),i=((c,d,u)=>{const f=c.split(/\n\n/),y=((E,B)=>{let O="<"+E;const P=Wt(B,(M,j)=>j+'="'+Sc.encodeAllRaw(M)+'"');return P.length&&(O+=" "+P.join(" ")),O+">"})(d,u),v="</"+d+">",k=to(f,E=>E.split(/\n/).join("<br />"));return k.length===1?k[0]:to(k,E=>y+E+v).join("")})(vp(a,ah(t)),Ts(t),gc(t));hz(t,i,!1,!0,n)},FS=t=>{const o={};if(t&&t.types)for(let n=0;n<t.types.length;n++){const a=t.types[n];try{o[a]=t.getData(a)}catch{o[a]=""}}return o},up=(t,o)=>o in t&&t[o].length>0,LS=t=>up(t,"text/html")||up(t,"text/plain"),bz=(t,o,n)=>{const a=o.type==="paste"?o.clipboardData:o.dataTransfer;var i;if(Tg(t)&&a){const c=((d,u)=>{const f=u.items?at(Pn(u.items),v=>v.kind==="file"?[v.getAsFile()]:[]):[],y=u.files?Pn(u.files):[];return gt(f.length>0?f:y,(v=>{const k=x1(v);return E=>gr(E.type,"image/")&&zo(k,B=>(O=>{const P=O.toLowerCase(),M={jpg:"jpeg",jpe:"jpeg",jfi:"jpeg",jif:"jpeg",jfif:"jpeg",pjpeg:"jpeg",pjp:"jpeg",svg:"svg+xml"};return go.hasOwn(M,P)?"image/"+M[P]:"image/"+P})(B)===E.type)})(d))})(t,a);if(c.length>0)return o.preventDefault(),(i=c,Promise.all(to(i,d=>Gx(d).then(u=>({file:d,uri:u}))))).then(d=>{n&&t.selection.setRng(n),Se(d,u=>{((f,y)=>{ay(y.uri).each(({data:v,type:k,base64Encoded:E})=>{const B=E?v:btoa(v),O=y.file,P=f.editorUpload.blobCache,M=P.getByData(B,k),j=M??((q,K,re,ee)=>{const ke=jO(),et=Xf(q)&&Ze(re.name),st=et?((Ve,ot)=>{const pt=ot.match(/([\s\S]+?)(?:\.[a-z0-9.]+)$/i);return Ze(pt)?Ve.dom.encode(pt[1]):void 0})(q,re.name):ke,mt=et?re.name:void 0,kt=K.create(ke,re,ee,st,mt);return K.add(kt),kt})(f,P,O,B);pk(f,`<img src="${j.blobUri()}">`,!1,!0)})})(t,u)})}),!0}return!1},IS=(t,o,n,a,i)=>{let c=DS(n);const d=up(o,ev())||OS(n),u=!d&&(y=>!/<(?:\/?(?!(?:div|p|br|span)>)\w+|(?:(?!(?:span style="white-space:\s?pre;?">)|br\s?\/>))\w+\s[^>]+)>/i.test(y))(c),f=gk(c);(gz(c)||!c.length||u&&!f)&&(a=!0),(a||f)&&(c=up(o,"text/plain")&&u?o["text/plain"]:(y=>{const v=Du(),k=dy({},v);let E="";const B=v.getVoidElements(),O=go.makeMap("script noscript style textarea video audio iframe object"," "),P=v.getBlockElements(),M=j=>{const q=j.name,K=j;if(q!=="br"){if(q!=="wbr")if(B[q]&&(E+=" "),O[q])E+=" ";else{if(j.type===3&&(E+=j.value),!(j.name in v.getVoidElements())){let re=j.firstChild;if(re)do M(re);while(re=re.next)}P[q]&&K.next&&(E+=`
`,q==="p"&&(E+=`
`))}}else E+=`
`};return y=pz(y,[/<!\[[^\]]+\]>/g]),M(k.parse(y)),E})(c)),gz(c)||(a?Iy(t,c,i):pk(t,c,d,i))},yz=(t,o,n)=>{((a,i,c)=>{let d;a.on("keydown",u=>{(f=>mn.metaKeyPressed(f)&&f.keyCode===86||f.shiftKey&&f.keyCode===45)(u)&&!u.isDefaultPrevented()&&(d=u.shiftKey&&u.keyCode===86)}),a.on("paste",u=>{if(u.isDefaultPrevented()||(v=>{var k,E;return Rn.os.isAndroid()&&((E=(k=v.clipboardData)===null||k===void 0?void 0:k.items)===null||E===void 0?void 0:E.length)===0})(u))return;const f=c.get()==="text"||d;d=!1;const y=FS(u.clipboardData);!LS(y)&&bz(a,u,i.getLastRng()||a.selection.getRng())||(up(y,"text/html")?(u.preventDefault(),IS(a,y,y["text/html"],f,!0)):up(y,"text/plain")&&up(y,"text/uri-list")?(u.preventDefault(),IS(a,y,y["text/plain"],f,!0)):(i.create(),uu.setEditorTimeout(a,()=>{const v=i.getHtml();i.remove(),IS(a,y,v,f,!1)},0)))})})(t,o,n),(a=>{const i=d=>gr(d,"webkit-fake-url"),c=d=>gr(d,"data:");a.parser.addNodeFilter("img",(d,u,f)=>{if(!Tg(a)&&(y=>{var v;return((v=y.data)===null||v===void 0?void 0:v.paste)===!0})(f))for(const y of d){const v=y.attr("src");Ue(v)&&!y.attr("data-mce-object")&&v!==Rn.transparentSrc&&(i(v)||!sh(a)&&c(v))&&y.remove()}})})(t)},vz=(t,o,n,a)=>{((i,c,d)=>{if(!i)return!1;try{return i.clearData(),i.setData("text/html",c),i.setData("text/plain",d),i.setData(ev(),c),!0}catch{return!1}})(t.clipboardData,o.html,o.text)?(t.preventDefault(),a()):n(o.html,a)},fk=t=>(o,n)=>{const{dom:a,selection:i}=t,c=a.create("div",{contenteditable:"false","data-mce-bogus":"all"}),d=a.create("div",{contenteditable:"true"},o);a.setStyles(c,{position:"fixed",top:"0",left:"-3000px",width:"1000px",overflow:"hidden"}),c.appendChild(d),a.add(t.getBody(),c);const u=i.getRng();d.focus();const f=a.createRng();f.selectNodeContents(d),i.setRng(f),uu.setEditorTimeout(t,()=>{i.setRng(u),a.remove(c),n()},0)},PS=t=>({html:uz(t.selection.getContent({contextual:!0})),text:t.selection.getContent({format:"text"})}),xz=t=>!t.selection.isCollapsed()||(o=>!!o.dom.getParent(o.selection.getStart(),"td[data-mce-selected],th[data-mce-selected]",o.getBody()))(t),tl=(t,o)=>{var n,a;return nf.getCaretRangeFromPoint((n=o.clientX)!==null&&n!==void 0?n:0,(a=o.clientY)!==null&&a!==void 0?a:0,t.getDoc())},Nm=(t,o)=>{t.focus(),o&&t.selection.setRng(o)},$O=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,wz=t=>go.trim(t).replace($O,qo).toLowerCase(),UO=(t,o,n)=>{const a=Bv(t);if(n||a==="all"||!b1(t))return o;const i=a?a.split(/[, ]/):[];if(i&&a!=="none"){const c=t.dom,d=t.selection.getNode();o=o.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,(u,f,y,v)=>{const k=c.parseStyle(c.decode(y)),E={};for(let O=0;O<i.length;O++){const P=k[i[O]];let M=P,j=c.getStyle(d,i[O],!0);/color/.test(i[O])&&(M=wz(M),j=wz(j)),j!==M&&(E[i[O]]=P)}const B=c.serializeStyle(E,"span");return B?f+' style="'+B+'"'+v:f+v})}else o=o.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,"$1$3");return o=o.replace(/(<[^>]+) data-mce-style="([^"]+)"([^>]*>)/gi,(c,d,u,f)=>d+' style="'+u+'"'+f),o},kz=t=>{const o=bi(!1),n=bi(y1(t)?"text":"html"),a=(i=>{const c=bi(null);return{create:()=>((d,u)=>{const{dom:f,selection:y}=d,v=d.getBody();u.set(y.getRng());const k=f.add(d.getBody(),"div",{id:"mcepastebin",class:"mce-pastebin",contentEditable:!0,"data-mce-bogus":"all",style:"position: fixed; top: 50%; width: 10px; height: 10px; overflow: hidden; opacity: 0"},NS);Rn.browser.isFirefox()&&f.setStyle(k,"left",f.getStyle(v,"direction",!0)==="rtl"?65535:-65535),f.bind(k,"beforedeactivate focusin focusout",E=>{E.stopPropagation()}),k.focus(),y.select(k,!0)})(i,c),remove:()=>((d,u)=>{const f=d.dom;if(MS(d)){let y;const v=u.get();for(;y=MS(d);)f.remove(y),f.unbind(y);v&&d.selection.setRng(v)}u.set(null)})(i,c),getEl:()=>MS(i),getHtml:()=>(d=>{const u=d.dom,f=(E,B)=>{E.appendChild(B),u.remove(B,!0)},[y,...v]=gt(d.getBody().childNodes,mz);Se(v,E=>{f(y,E)});const k=u.select("div[id=mcepastebin]",y);for(let E=k.length-1;E>=0;E--){const B=u.create("div");y.insertBefore(B,k[E]),f(B,k[E])}return y?y.innerHTML:""})(i),getLastRng:c.get}})(t);(i=>{(Rn.browser.isChromium()||Rn.browser.isSafari())&&((c,d)=>{c.on("PastePreProcess",u=>{u.content=d(c,u.content,u.internal)})})(i,UO)})(t),((i,c)=>{i.addCommand("mceTogglePlainTextPaste",()=>{((d,u)=>{u.get()==="text"?(u.set("html"),P3(d,!1)):(u.set("text"),P3(d,!0)),d.focus()})(i,c)}),i.addCommand("mceInsertClipboardContent",(d,u)=>{u.html&&pk(i,u.html,u.internal,!1),u.text&&Iy(i,u.text,!1)})})(t,n),(i=>{const c=f=>y=>{f(i,y)},d=h1(i);de(d)&&i.on("PastePreProcess",c(d));const u=Zl(i);de(u)&&i.on("PastePostProcess",c(u))})(t),t.on("PreInit",()=>{(i=>{i.on("cut",(c=>d=>{!d.isDefaultPrevented()&&xz(c)&&c.selection.isEditable()&&vz(d,PS(c),fk(c),()=>{if(Rn.browser.isChromium()||Rn.browser.isFirefox()){const u=c.selection.getRng();uu.setEditorTimeout(c,()=>{c.selection.setRng(u),c.execCommand("Delete")},0)}else c.execCommand("Delete")})})(i)),i.on("copy",(c=>d=>{!d.isDefaultPrevented()&&xz(c)&&vz(d,PS(c),fk(c),$t)})(i))})(t),((i,c)=>{Dv(i)&&i.on("dragend dragover draggesture dragdrop drop drag",d=>{d.preventDefault(),d.stopPropagation()}),Tg(i)||i.on("drop",d=>{const u=d.dataTransfer;u&&(f=>zo(f.files,y=>/^image\//.test(y.type)))(u)&&d.preventDefault()}),i.on("drop",d=>{if(d.isDefaultPrevented())return;const u=tl(i,d);if(me(u))return;const f=FS(d.dataTransfer),y=up(f,ev());if((!LS(f)||(O=>{const P=O["text/plain"];return!!P&&P.indexOf("file://")===0})(f))&&bz(i,d,u))return;const v=f[ev()],k=v||f["text/html"]||f["text/plain"],E=((O,P,M,j)=>{const q=O.getParent(M,K=>Ed(P,K));if(!he(O.getParent(M,"summary")))return!0;if(q&&ln(j,"text/html")){const K=new DOMParser().parseFromString(j["text/html"],"text/html").body;return!he(K.querySelector(q.nodeName.toLowerCase()))}return!1})(i.dom,i.schema,u.startContainer,f),B=c.get();B&&!E||k&&(d.preventDefault(),uu.setEditorTimeout(i,()=>{i.undoManager.transact(()=>{(v||B&&E)&&i.execCommand("Delete"),Nm(i,u);const O=DS(k);f["text/html"]?pk(i,O,y,!0):Iy(i,O,!0)})}))}),i.on("dragstart",d=>{c.set(!0)}),i.on("dragover dragend",d=>{Tg(i)&&!c.get()&&(d.preventDefault(),Nm(i,tl(i,d))),d.type==="dragend"&&c.set(!1)}),(d=>{d.on("input",u=>{const f=y=>he(y.querySelector("summary"));if(u.inputType==="deleteByDrag"){const y=gt(d.dom.select("details"),f);Se(y,v=>{da(v.firstChild)&&v.firstChild.remove();const k=d.dom.create("summary");k.appendChild(Xi().dom),v.prepend(k)})}})})(i)})(t,o),yz(t,a,n)})},Py=da,_z=ro,Mm=t=>Oa(t.dom),Cz=t=>o=>sa(je(t),o),Sz=(t,o)=>ts(je(t),Mm,Cz(o)),HS=(t,o,n)=>{const a=new Ns(t,o),i=n?a.next.bind(a):a.prev.bind(a);let c=t;for(let d=n?t:i();d&&!Py(d);d=i())Ka(d)&&(c=d);return c},Ez=t=>{const o=((n,a,i)=>{const c=Ht.fromRangeStart(n).getNode(),d=((v,k,E)=>ts(je(v),B=>(O=>zi(O.dom))(B)||E.isBlock(Pe(B)),Cz(k)).getOr(je(k)).dom)(c,a,i),u=HS(c,d,!1),f=HS(c,d,!0),y=document.createRange();return Sz(u,d).fold(()=>{_z(u)?y.setStart(u,0):y.setStartBefore(u)},v=>y.setStartBefore(v.dom)),Sz(f,d).fold(()=>{_z(f)?y.setEnd(f,f.data.length):y.setEndAfter(f)},v=>y.setEndAfter(v.dom)),y})(t.selection.getRng(),t.getBody(),t.schema);t.selection.setRng(Dx(o))};var Hy;(function(t){t.Before="before",t.After="after"})(Hy||(Hy={}));const jS=(t,o)=>Math.abs(t.left-o),Tz=(t,o)=>Math.abs(t.right-o),ZO=(t,o)=>(n=>Oe(n,(a,i)=>a.fold(()=>V.some(i),c=>{const d=Math.min(i.left,c.left),u=Math.min(i.top,c.top),f=Math.max(i.right,c.right),y=Math.max(i.bottom,c.bottom);return V.some({top:u,right:f,bottom:y,left:d,width:f-d,height:y-u})}),V.none()))(gt(t,n=>{return(a=o)>=(i=n).top&&a<=i.bottom;var a,i})).fold(()=>[[],t],n=>{const{pass:a,fail:i}=ct(t,c=>((d,u)=>{const f=((y,v)=>Math.max(0,Math.min(y.bottom,v.bottom)-Math.max(y.top,v.top)))(d,u)/Math.min(d.height,u.height);return((y,v)=>y.top<v.bottom&&y.bottom>v.top)(d,u)&&f>.5})(c,n));return[a,i]}),qO=(t,o,n)=>o>t.left&&o<t.right?0:Math.min(Math.abs(t.left-o),Math.abs(t.right-o)),hk=(t,o,n,a)=>{const i=v=>Ka(v.node)?V.some(v):an(v.node)?hk(Pn(v.node.childNodes),o,n,!1):V.none(),c=(v,k)=>{const E=Xo(v,(B,O)=>k(B,o,n)-k(O,o,n));return zn(E,i).map(B=>a&&!ro(B.node)&&E.length>1?((O,P,M)=>i(P).filter(j=>Math.abs(M(O,o,n)-M(j,o,n))<2&&ro(j.node)))(B,E[1],k).getOr(B):B)},[d,u]=ZO(tT(t),n),{pass:f,fail:y}=ct(u,v=>v.top<n);return c(d,qO).orThunk(()=>c(y,Op)).orThunk(()=>c(f,Op))},VS=(t,o,n)=>((a,i,c)=>{const d=je(a),u=Si(d),f=Ll(u,i,c).filter(y=>lc(d,y)).getOr(d);return((y,v,k,E)=>{const B=(O,P)=>{const M=gt(O.dom.childNodes,lt(j=>an(j)&&j.classList.contains("mce-drag-container")));return P.fold(()=>hk(M,k,E,!0),j=>{const q=gt(M,K=>K!==j.dom);return hk(q,k,E,!0)}).orThunk(()=>(sa(O,y)?V.none():Il(O)).bind(j=>B(j,V.some(O))))};return B(v,V.none())})(d,f,i,c)})(t,o,n).filter(a=>lu(a.node)).map(a=>((i,c)=>({node:i.node,position:jS(i,c)<Tz(i,c)?Hy.Before:Hy.After}))(a,o)),bk=t=>{var o,n;const a=t.getBoundingClientRect(),i=t.ownerDocument,c=i.documentElement,d=i.defaultView;return{top:a.top+((o=d?.scrollY)!==null&&o!==void 0?o:0)-c.clientTop,left:a.left+((n=d?.scrollX)!==null&&n!==void 0?n:0)-c.clientLeft}},yk=t=>({target:t,srcElement:t}),$S=(t,o,n,a)=>{const i=((c,d)=>{const u=(f=>{const y=TS(),v=(k=>{const E=k;return V.from(E[Vh])})(f);return ES(f),az(y),y.dropEffect=f.dropEffect,y.effectAllowed=f.effectAllowed,(k=>{const E=k;return V.from(E[Fy])})(f).each(k=>y.setDragImage(k.image,k.x,k.y)),Se(f.types,k=>{k!=="Files"&&y.setData(k,f.getData(k))}),Se(f.files,k=>y.items.add(k)),(k=>{const E=k;return V.from(E[dk])})(f).each(k=>{((E,B)=>{Q0(B)(E)})(y,k)}),v.each(k=>{iz(f,k),iz(y,k)}),y})(c);return d==="dragstart"?(az(u),lz(u)):d==="drop"?(sz(u),ES(u)):(BO(u),LO(u)),u})(n,t);return fo(a)?((c,d,u)=>{const f=Mt("Function not supported on simulated event.");return{bubbles:!0,cancelBubble:!1,cancelable:!0,composed:!1,currentTarget:null,defaultPrevented:!1,eventPhase:0,isTrusted:!0,returnValue:!1,timeStamp:0,type:c,composedPath:f,initEvent:f,preventDefault:$t,stopImmediatePropagation:$t,stopPropagation:$t,AT_TARGET:window.Event.AT_TARGET,BUBBLING_PHASE:window.Event.BUBBLING_PHASE,CAPTURING_PHASE:window.Event.CAPTURING_PHASE,NONE:window.Event.NONE,altKey:!1,button:0,buttons:0,clientX:0,clientY:0,ctrlKey:!1,metaKey:!1,movementX:0,movementY:0,offsetX:0,offsetY:0,pageX:0,pageY:0,relatedTarget:null,screenX:0,screenY:0,shiftKey:!1,x:0,y:0,detail:0,view:null,which:0,initUIEvent:f,initMouseEvent:f,getModifierState:f,dataTransfer:u,...yk(d)}})(t,o,i):((c,d,u,f)=>({...d,dataTransfer:f,type:c,...yk(u)}))(t,a,o,i)},vk=Oa,zz=((...t)=>o=>{for(let n=0;n<t.length;n++)if(t[n](o))return!0;return!1})(vk,zi),Az=(t,o,n,a)=>{const i=t.dom,c=o.cloneNode(!0);i.setStyles(c,{width:n,height:a}),i.setAttrib(c,"data-mce-selected",null);const d=i.create("div",{class:"mce-drag-container","data-mce-bogus":"all",unselectable:"on",contenteditable:"false"});return i.setStyles(d,{position:"absolute",opacity:.5,overflow:"hidden",border:0,padding:0,margin:0,width:n,height:a}),i.setStyles(c,{margin:0,boxSizing:"border-box"}),d.appendChild(c),d},jy=(t,o)=>n=>()=>{const a=t==="left"?n.scrollX:n.scrollY;n.scroll({[t]:a+o,behavior:"smooth"})},Oz=jy("left",-32),US=jy("left",32),xk=jy("top",-32),ZS=jy("top",32),qS=t=>{t&&t.parentNode&&t.parentNode.removeChild(t)},_f=(t,o,n,a,i)=>{o==="dragstart"&&zS(a,t.dom.getOuterHTML(n));const c=$S(o,n,a,i);return t.dispatch(o,c)},Nz=(t,o)=>{const n=Ep((i,c)=>((d,u,f)=>{d._selectionOverrides.hideFakeCaret(),VS(d.getBody(),u,f).fold(()=>d.selection.placeCaretAt(u,f),y=>{const v=d._selectionOverrides.showCaret(1,y.node,y.position===Hy.Before,!1);v?d.selection.setRng(v):d.selection.placeCaretAt(u,f)})})(o,i,c),0);o.on("remove",n.cancel);const a=t;return i=>t.on(c=>{const d=Math.max(Math.abs(i.screenX-c.screenX),Math.abs(i.screenY-c.screenY));if(!c.dragging&&d>10){const y=_f(o,"dragstart",c.element,c.dataTransfer,i);if(Ze(y.dataTransfer)&&(c.dataTransfer=y.dataTransfer),y.isDefaultPrevented())return;c.dragging=!0,o.focus()}if(c.dragging){const y=i.currentTarget===o.getDoc().documentElement,v=((k,E)=>({pageX:E.pageX-k.relX,pageY:E.pageY+5}))(c,((k,E)=>{return B=(M=>M.inline?bk(M.getBody()):{left:0,top:0})(k),O=(M=>{const j=M.getBody();return M.inline?{left:j.scrollLeft,top:j.scrollTop}:{left:0,top:0}})(k),P=((M,j)=>{if(j.target.ownerDocument!==M.getDoc()){const q=bk(M.getContentAreaContainer()),K=(re=>{const ee=re.getBody(),ke=re.getDoc().documentElement,et={left:ee.scrollLeft,top:ee.scrollTop},st={left:ee.scrollLeft||ke.scrollLeft,top:ee.scrollTop||ke.scrollTop};return re.inline?et:st})(M);return{left:j.pageX-q.left+K.left,top:j.pageY-q.top+K.top}}return{left:j.pageX,top:j.pageY}})(k,E),{pageX:P.left-B.left+O.left,pageY:P.top-B.top+O.top};var B,O,P})(o,i));u=c.ghost,f=o.getBody(),u.parentNode!==f&&f.appendChild(u),((k,E,B,O,P,M,j,q,K,re,ee,ke)=>{let et=0,st=0;k.style.left=E.pageX+"px",k.style.top=E.pageY+"px",E.pageX+B>P&&(et=E.pageX+B-P),E.pageY+O>M&&(st=E.pageY+O-M),k.style.width=B-et+"px",k.style.height=O-st+"px";const mt=K.clientHeight,kt=K.clientWidth,Ve=j+K.getBoundingClientRect().top,ot=q+K.getBoundingClientRect().left;ee.on(pt=>{pt.intervalId.clear(),pt.dragging&&ke&&(j+8>=mt?pt.intervalId.set(ZS(re)):j-8<=0?pt.intervalId.set(xk(re)):q+8>=kt?pt.intervalId.set(US(re)):q-8<=0?pt.intervalId.set(Oz(re)):Ve+16>=window.innerHeight?pt.intervalId.set(ZS(window)):Ve-16<=0?pt.intervalId.set(xk(window)):ot+16>=window.innerWidth?pt.intervalId.set(US(window)):ot-16<=0&&pt.intervalId.set(Oz(window)))})})(c.ghost,v,c.width,c.height,c.maxX,c.maxY,i.clientY,i.clientX,o.getContentAreaContainer(),o.getWin(),a,y),n.throttle(i.clientX,i.clientY)}var u,f})},WS=(t,o,n)=>{t.on(a=>{a.intervalId.clear(),a.dragging&&n.fold(()=>_f(o,"dragend",a.element,a.dataTransfer),i=>_f(o,"dragend",a.element,a.dataTransfer,i))}),Mz(t)},Mz=t=>{t.on(o=>{o.intervalId.clear(),qS(o.ghost)}),t.clear()},WO=t=>{const o=Ec(),n=wr.DOM,a=document,i=((f,y)=>v=>{if((k=>k.button===0)(v)){const k=Fe(y.dom.getParents(v.target),zz).getOr(null);if(Ze(k)&&((E,B,O)=>vk(O)&&O!==B&&E.isEditable(O.parentElement))(y.dom,y.getBody(),k)){const E=y.dom.getPos(k),B=y.getBody(),O=y.getDoc().documentElement;f.set({element:k,dataTransfer:TS(),dragging:!1,screenX:v.screenX,screenY:v.screenY,maxX:(y.inline?B.scrollWidth:O.offsetWidth)-2,maxY:(y.inline?B.scrollHeight:O.offsetHeight)-2,relX:v.pageX-E.x,relY:v.pageY-E.y,width:k.offsetWidth,height:k.offsetHeight,ghost:Az(y,k,k.offsetWidth,k.offsetHeight),intervalId:Lu(100)})}}})(o,t),c=Nz(o,t),d=((f,y)=>v=>{f.on(k=>{var E;if(k.intervalId.clear(),k.dragging){if(((B,O,P)=>!me(O)&&O!==P&&!B.dom.isChildOf(O,P)&&B.dom.isEditable(O))(y,(B=>{const O=B.getSel();if(Ze(O)){const P=O.getRangeAt(0).startContainer;return ro(P)?P.parentNode:P}return null})(y.selection),k.element)){const B=(E=y.getDoc().elementFromPoint(v.clientX,v.clientY))!==null&&E!==void 0?E:y.getBody();_f(y,"drop",B,k.dataTransfer,v).isDefaultPrevented()||y.undoManager.transact(()=>{((O,P)=>{const M=O.getParent(P.parentNode,O.isBlock);qS(P),M&&M!==O.getRoot()&&O.isEmpty(M)&&Oi(je(M))})(y.dom,k.element),(O=>{const P=O.getData("text/html");return P===""?V.none():V.some(P)})(k.dataTransfer).each(O=>y.insertContent(O)),y._selectionOverrides.hideFakeCaret()})}_f(y,"dragend",y.getBody(),k.dataTransfer,v)}}),Mz(f)})(o,t),u=((f,y)=>v=>WS(f,y,V.some(v)))(o,t);t.on("mousedown",i),t.on("mousemove",c),t.on("mouseup",d),n.bind(a,"mousemove",c),n.bind(a,"mouseup",u),t.on("remove",()=>{n.unbind(a,"mousemove",c),n.unbind(a,"mouseup",u)}),t.on("keydown",f=>{f.keyCode===mn.ESC&&WS(o,t,V.none())})},tv=Oa,Dz=(t,o)=>Zu(t.getBody(),o),GO=t=>{const o=t.selection,n=t.dom,a=t.getBody(),i=Db(t,a,n.isBlock,()=>rf(t)),c="sel-"+n.uniqueId(),d="data-mce-selected";let u;const f=M=>M!==a&&(tv(M)||$i(M))&&n.isChildOf(M,a)&&n.isEditable(M.parentNode),y=(M,j,q,K=!0)=>t.dispatch("ShowCaret",{target:j,direction:M,before:q}).isDefaultPrevented()?null:(K&&o.scrollIntoView(j,M===-1),i.show(q,j)),v=M=>Ws(M)||ai(M)||z(M),k=M=>v(M.startContainer)||v(M.endContainer),E=M=>{const j=t.schema.getVoidElements(),q=n.createRng(),K=M.startContainer,re=M.startOffset,ee=M.endContainer,ke=M.endOffset;return ln(j,K.nodeName.toLowerCase())?re===0?q.setStartBefore(K):q.setStartAfter(K):q.setStart(K,re),ln(j,ee.nodeName.toLowerCase())?ke===0?q.setEndBefore(ee):q.setEndAfter(ee):q.setEnd(ee,ke),q},B=(M,j)=>{if(!M)return null;if(M.collapsed){if(!k(M)){const ee=j?1:-1,ke=xm(ee,a,M),et=ke.getNode(!j);if(Ze(et)){if(lu(et))return y(ee,et,!!j&&!ke.isAtEnd(),!1);if(bs(et)&&Oa(et.nextSibling)){const mt=n.createRng();return mt.setStart(et,0),mt.setEnd(et,0),mt}}const st=ke.getNode(j);if(Ze(st)){if(lu(st))return y(ee,st,!j&&!ke.isAtEnd(),!1);if(bs(st)&&Oa(st.previousSibling)){const mt=n.createRng();return mt.setStart(st,1),mt.setEnd(st,1),mt}}}return null}let q=M.startContainer,K=M.startOffset;const re=M.endOffset;if(ro(q)&&K===0&&tv(q.parentNode)&&(q=q.parentNode,K=n.nodeIndex(q),q=q.parentNode),!an(q))return null;if(re===K+1&&q===M.endContainer){const ee=q.childNodes[K];if(f(ee))return(ke=>{const et=ke.cloneNode(!0),st=t.dispatch("ObjectSelected",{target:ke,targetClone:et});if(st.isDefaultPrevented())return null;const mt=((Ve,ot)=>{const pt=je(t.getBody()),Jt=t.getDoc(),en=fd(pt,"#"+c).getOrThunk(()=>{const An=ic('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>',Jt);return Q(An,"id",c),os(pt,An),An}),Fo=n.createRng();bd(en),dc(en,[vc(ns,Jt),je(ot),vc(ns,Jt)]),Fo.setStart(en.dom.firstChild,1),Fo.setEnd(en.dom.lastChild,0),qd(en,{top:n.getPos(Ve,t.getBody()).y+"px"}),J3(en);const Nn=o.getSel();return Nn&&(Nn.removeAllRanges(),Nn.addRange(Fo)),Fo})(ke,st.targetClone),kt=je(ke);return Se(wa(je(t.getBody()),`*[${d}]`),Ve=>{sa(kt,Ve)||U(Ve,d)}),n.getAttrib(ke,d)||ke.setAttribute(d,"1"),u=ke,P(),mt})(ee)}return null},O=()=>{u&&u.removeAttribute(d),fd(je(t.getBody()),"#"+c).each(Ea),u=null},P=()=>{i.hide()};return Tm(t)||(t.on("click",M=>{n.isEditable(M.target)||(M.preventDefault(),t.focus())}),t.on("blur NewBlock",O),t.on("ResizeWindow FullscreenStateChanged",i.reposition),t.on("tap",M=>{const j=M.target,q=Dz(t,j);tv(q)?(M.preventDefault(),C0(t,q).each(B)):f(j)&&C0(t,j).each(B)},!0),t.on("mousedown",M=>{const j=M.target;if(j!==a&&j.nodeName!=="HTML"&&!n.isChildOf(j,a)||!((K,re,ee)=>{const ke=je(K.getBody()),et=K.inline?ke:je(Si(ke).dom.documentElement),st=((mt,kt,Ve,ot)=>{const pt=(Jt=>Jt.dom.getBoundingClientRect())(kt);return{x:Ve-(mt?pt.left+kt.dom.clientLeft+J2(kt):0),y:ot-(mt?pt.top+kt.dom.clientTop+k0(kt):0)}})(K.inline,et,re,ee);return((mt,kt,Ve)=>{const ot=_E(mt),pt=CE(mt);return kt>=0&&Ve>=0&&kt<=ot&&Ve<=pt})(et,st.x,st.y)})(t,M.clientX,M.clientY))return;O(),P();const q=Dz(t,j);tv(q)?(M.preventDefault(),C0(t,q).each(B)):VS(a,M.clientX,M.clientY).each(K=>{var re;M.preventDefault(),(re=y(1,K.node,K.position===Hy.Before,!1))&&o.setRng(re),Ti(q)?q.focus():t.getBody().focus()})}),t.on("keypress",M=>{mn.modifierPressed(M)||tv(o.getNode())&&M.preventDefault()}),t.on("GetSelectionRange",M=>{let j=M.range;if(u){if(!u.parentNode)return void(u=null);j=j.cloneRange(),j.selectNode(u),M.range=j}}),t.on("SetSelectionRange",M=>{M.range=E(M.range);const j=B(M.range,M.forward);j&&(M.range=j)}),t.on("AfterSetSelectionRange",M=>{const j=M.range,q=j.startContainer.parentElement;var K;k(j)||an(K=q)&&K.id==="mcepastebin"||P(),(re=>Ze(re)&&n.hasClass(re,"mce-offscreen-selection"))(q)||O()}),(M=>{WO(M),p1(M)&&(j=>{const q=ee=>{if(!ee.isDefaultPrevented()){const ke=ee.dataTransfer;ke&&(lo(ke.types,"Files")||ke.files.length>0)&&(ee.preventDefault(),ee.type==="drop"&&hu(j,"Dropped file type is not supported"))}},K=ee=>{lx(j,ee.target)&&q(ee)},re=()=>{const ee=wr.DOM,ke=j.dom,et=document,st=j.inline?j.getBody():j.getDoc(),mt=["drop","dragover"];Se(mt,kt=>{ee.bind(et,kt,K),ke.bind(st,kt,q)}),j.on("remove",()=>{Se(mt,kt=>{ee.unbind(et,kt,K),ke.unbind(st,kt,q)})})};j.on("init",()=>{uu.setEditorTimeout(j,re,0)})})(M)})(t),(M=>{const j=Ep(()=>{if(!M.removed&&M.getBody().contains(document.activeElement)){const q=M.selection.getRng();if(q.collapsed){const K=S0(M,q,!1);M.selection.setRng(K)}}},0);M.on("focus",()=>{j.throttle()}),M.on("blur",()=>{j.cancel()})})(t),(M=>{M.on("init",()=>{M.on("focusin",j=>{const q=j.target;if($i(q)){const K=Zu(M.getBody(),q),re=Oa(K)?K:q;M.selection.getNode()!==re&&C0(M,re).each(ee=>M.selection.setRng(ee))}})})})(t)),{showCaret:y,showBlockCaretContainer:M=>{M.hasAttribute("data-mce-caret")&&(H(M),o.scrollIntoView(M))},hideFakeCaret:P,destroy:()=>{i.destroy(),u=null}}},di=(t,o)=>{let n=o;for(let a=t.previousSibling;ro(a);a=a.previousSibling)n+=a.data.length;return n},wk=(t,o,n,a,i)=>{if(ro(n)&&(a<0||a>n.data.length))return[];const c=i&&ro(n)?[di(n,a)]:[a];let d=n;for(;d!==o&&d.parentNode;)c.push(t.nodeIndex(d,i)),d=d.parentNode;return d===o?c.reverse():[]},Qu=(t,o,n,a,i,c,d=!1)=>({start:wk(t,o,n,a,d),end:wk(t,o,i,c,d)}),GS=(t,o)=>{const n=o.slice(),a=n.pop();return rt(a)?Oe(n,(i,c)=>i.bind(d=>V.from(d.childNodes[c])),V.some(t)).bind(i=>ro(i)&&(a<0||a>i.data.length)?V.none():V.some({node:i,offset:a})):V.none()},KS=(t,o)=>GS(t,o.start).bind(({node:n,offset:a})=>GS(t,o.end).map(({node:i,offset:c})=>{const d=document.createRange();return d.setStart(n,a),d.setEnd(i,c),d})),mp=(t,o,n)=>{if(o&&t.isEmpty(o)&&!n(o)){const a=o.parentNode;t.remove(o,ro(o.firstChild)&&ss(o.firstChild.data)),mp(t,a,n)}},Vy=(t,o,n,a=!0)=>{const i=o.startContainer.parentNode,c=o.endContainer.parentNode;o.deleteContents(),a&&!n(o.startContainer)&&(ro(o.startContainer)&&o.startContainer.data.length===0&&t.remove(o.startContainer),ro(o.endContainer)&&o.endContainer.data.length===0&&t.remove(o.endContainer),mp(t,i,n),i!==c&&mp(t,c,n))},kk=(t,o)=>V.from(t.dom.getParent(o.startContainer,t.dom.isBlock)),YS=(t,o,n)=>{const a=t.dynamicPatternsLookup({text:n,block:o});return{...t,blockPatterns:Bp(a).concat(t.blockPatterns),inlinePatterns:wv(a).concat(t.inlinePatterns)}},XS=(t,o,n,a)=>{const i=t.createRng();return i.setStart(o,0),i.setEnd(n,a),i.toString()},Rz=(t,o,n)=>{((a,i,c)=>{if(ro(a)&&0>=a.length)return V.some(Am(a,0));{const d=um(L0);return V.from(d.forwards(a,0,Fw(a),c)).map(u=>Am(u.container,0))}})(o,0,o).each(a=>{const i=a.container;qC(i,n.start.length,o).each(u=>{const f=t.createRng();f.setStart(i,0),f.setEnd(u.container,u.offset),Vy(t,f,y=>y===o)});const c=je(i),d=Ai(c);/^\s[^\s]/.test(d)&&((u,f)=>{ft.set(u,f)})(c,d.slice(1))})},Bz=(t,o)=>t.create("span",{"data-mce-type":"bookmark",id:o}),_k=(t,o)=>{const n=t.createRng();return n.setStartAfter(o.start),n.setEndBefore(o.end),n},JS=(t,o,n)=>{const a=KS(t.getRoot(),n).getOrDie("Unable to resolve path range"),i=a.startContainer,c=a.endContainer,d=a.endOffset===0?c:c.splitText(a.endOffset),u=a.startOffset===0?i:i.splitText(a.startOffset),f=u.parentNode;return{prefix:o,end:d.parentNode.insertBefore(Bz(t,o+"-end"),d),start:f.insertBefore(Bz(t,o+"-start"),u)}},QS=(t,o,n)=>{mp(t,t.get(o.prefix+"-end"),n),mp(t,t.get(o.prefix+"-start"),n)},e3=t=>t.start.length===0,Ck=(t,o,n,a)=>{const i=o.start;var c;return Iw(t,a.container,a.offset,(c=i,(d,u)=>{const f=d.data.substring(0,u),y=f.lastIndexOf(c.charAt(c.length-1)),v=f.lastIndexOf(c);return v!==-1?v+c.length:y!==-1?y+1:-1}),n).bind(d=>{var u,f;const y=(f=(u=n.textContent)===null||u===void 0?void 0:u.indexOf(i))!==null&&f!==void 0?f:-1;if(y!==-1&&d.offset>=y+i.length){const v=t.createRng();return v.setStart(d.container,d.offset-i.length),v.setEnd(d.container,d.offset),V.some(v)}{const v=d.offset-i.length;return Lw(d.container,v,n).map(k=>{const E=t.createRng();return E.setStart(k.container,k.offset),E.setEnd(d.container,d.offset),E}).filter(k=>k.toString()===i).orThunk(()=>Ck(t,o,n,Am(d.container,0)))}})},Fz=(t,o,n,a)=>{const i=t.dom,c=i.getRoot(),d=n.pattern,u=n.position.container,f=n.position.offset;return Lw(u,f-n.pattern.end.length,o).bind(y=>{const v=Qu(i,c,y.container,y.offset,u,f,a);if(e3(d))return V.some({matches:[{pattern:d,startRng:v,endRng:v}],position:y});{const k=Sk(t,n.remainingPatterns,y.container,y.offset,o,a),E=k.getOr({matches:[],position:y}),B=E.position;return((P,M,j,q,K,re=!1)=>{if(M.start.length===0&&!re){const ee=P.createRng();return ee.setStart(j,q),ee.setEnd(j,q),V.some(ee)}return vf(j,q,K).bind(ee=>Ck(P,M,K,ee).bind(ke=>{var et;return re&&(ke.endContainer===ee.container&&ke.endOffset===ee.offset||ee.offset===0&&((et=ke.endContainer.textContent)===null||et===void 0?void 0:et.length)===ke.endOffset)?V.none():V.some(ke)}))})(i,d,B.container,B.offset,o,k.isNone()).map(P=>{const M=((j,q,K,re=!1)=>Qu(j,q,K.startContainer,K.startOffset,K.endContainer,K.endOffset,re))(i,c,P,a);return{matches:E.matches.concat([{pattern:d,startRng:M,endRng:v}]),position:Am(P.startContainer,P.startOffset)}})}})},Sk=(t,o,n,a,i,c)=>{const d=t.dom;return vf(n,a,d.getRoot()).bind(u=>{const f=XS(d,i,n,a);for(let y=0;y<o.length;y++){const v=o[y];if(!De(f,v.end))continue;const k=o.slice();k.splice(y,1);const E=Fz(t,i,{pattern:v,remainingPatterns:k,position:u},c);if(E.isNone()&&a>0)return Sk(t,o,n,a-1,i,c);if(E.isSome())return E}return V.none()})},t3=(t,o,n)=>{t.selection.setRng(n),o.type==="inline-format"?Se(o.format,a=>{t.formatter.apply(a)}):t.execCommand(o.cmd,!1,o.value)},Lz=(t,o,n,a,i,c)=>{var d;return((u,f)=>{const y=ze(u,v=>zo(f,k=>v.pattern.start===k.pattern.start&&v.pattern.end===k.pattern.end));return u.length===f.length?y?u:f:u.length>f.length?u:f})(Sk(t,i.inlinePatterns,n,a,o,c).fold(()=>[],u=>u.matches),Sk(t,(d=i.inlinePatterns,Xo(d,(u,f)=>f.end.length-u.end.length)),n,a,o,c).fold(()=>[],u=>u.matches))},Iz=(t,o)=>{if(o.length===0)return;const n=t.dom,a=t.selection.getBookmark(),i=((c,d)=>{const u=hg("mce_textpattern"),f=pe(d,(y,v)=>{const k=JS(c,u+`_end${y.length}`,v.endRng);return y.concat([{...v,endMarker:k}])},[]);return pe(f,(y,v)=>{const k=f.length-y.length-1,E=e3(v.pattern)?v.endMarker:JS(c,u+`_start${k}`,v.startRng);return y.concat([{...v,startMarker:E}])},[])})(n,o);Se(i,c=>{const d=n.getParent(c.startMarker.start,n.isBlock),u=f=>f===d;e3(c.pattern)?((f,y,v,k)=>{const E=_k(f.dom,v);Vy(f.dom,E,k),t3(f,y,E)})(t,c.pattern,c.endMarker,u):((f,y,v,k,E)=>{const B=f.dom,O=_k(B,k),P=_k(B,v);Vy(B,P,E),Vy(B,O,E);const M={prefix:v.prefix,start:v.end,end:k.start},j=_k(B,M);t3(f,y,j)})(t,c.pattern,c.startMarker,c.endMarker,u),QS(n,c.endMarker,u),QS(n,c.startMarker,u)}),t.selection.moveToBookmark(a)},ac=(t,o)=>{const n=t.selection.getRng();return kk(t,n).map(a=>{var i;const c=Math.max(0,n.startOffset),d=YS(o,a,(i=a.textContent)!==null&&i!==void 0?i:""),u=Lz(t,a,n.startContainer,c,d,!0),f=((y,v,k,E)=>{var B;const O=y.dom,P=Ts(y);if(!O.is(v,P))return[];const M=(B=v.textContent)!==null&&B!==void 0?B:"";return((j,q)=>{const K=(ee=>Xo(ee,(ke,et)=>et.start.length-ke.start.length))(j),re=q.replace(ns," ");return Fe(K,ee=>q.indexOf(ee.start)===0||re.indexOf(ee.start)===0)})(k.blockPatterns,M).map(j=>go.trim(M).length===j.start.length?[]:[{pattern:j,range:Qu(O,O.getRoot(),v,0,v,0,!0)}]).getOr([])})(t,a,d);return(f.length>0||u.length>0)&&(t.undoManager.add(),t.undoManager.extra(()=>{t.execCommand("mceInsertNewLine")},()=>{(k=>{k.insertContent(Za,{preserve_zwsp:!0})})(t),Iz(t,u),((k,E)=>{if(E.length===0)return;const B=k.selection.getBookmark();Se(E,O=>((P,M)=>{const j=P.dom,q=M.pattern,K=KS(j.getRoot(),M.range).getOrDie("Unable to resolve path range");return kk(P,K).each(re=>{q.type==="block-format"?((ee,ke)=>{const et=ke.get(ee);return co(et)&&Zo(et).exists(st=>ln(st,"block"))})(q.format,P.formatter)&&P.undoManager.transact(()=>{Rz(P.dom,re,q),P.formatter.apply(q.format)}):q.type==="block-command"&&P.undoManager.transact(()=>{Rz(P.dom,re,q),P.execCommand(q.cmd,!1,q.value)})}),!0})(k,O)),k.selection.moveToBookmark(B)})(t,f);const y=t.selection.getRng(),v=vf(y.startContainer,y.startOffset,t.dom.getRoot());t.execCommand("mceInsertNewLine"),v.each(k=>{const E=k.container;E.data.charAt(k.offset-1)===Tl&&(E.deleteData(k.offset-1,1),mp(t.dom,E.parentNode,B=>B===t.dom.getRoot()))})}),!0)}).getOr(!1)},Pz=(t,o,n)=>{for(let a=0;a<t.length;a++)if(n(t[a],o))return!0;return!1},KO=t=>{const o=go.each,n=mn.BACKSPACE,a=mn.DELETE,i=t.dom,c=t.selection,d=t.parser,u=Rn.browser,f=u.isFirefox(),y=u.isChromium()||u.isSafari(),v=Rn.deviceType.isiPhone()||Rn.deviceType.isiPad(),k=Rn.os.isMacOS()||Rn.os.isiOS(),E=(Ve,ot)=>{try{t.getDoc().execCommand(Ve,!1,String(ot))}catch{}},B=Ve=>Ve.isDefaultPrevented(),O=()=>{t.shortcuts.add("meta+a",null,"SelectAll")},P=()=>{t.inline||i.bind(t.getDoc(),"mousedown mouseup",Ve=>{let ot;if(Ve.target===t.getDoc().documentElement)if(ot=c.getRng(),t.getBody().focus(),Ve.type==="mousedown"){if(Ws(ot.startContainer))return;c.placeCaretAt(Ve.clientX,Ve.clientY)}else c.setRng(ot)})},M=()=>{Range.prototype.getClientRects||t.on("mousedown",Ve=>{if(!B(Ve)&&Ve.target.nodeName==="HTML"){const ot=t.getBody();ot.blur(),uu.setEditorTimeout(t,()=>{ot.focus()})}})},j=()=>{const Ve=rh(t);t.on("click",ot=>{const pt=ot.target;/^(IMG|HR)$/.test(pt.nodeName)&&i.isEditable(pt)&&(ot.preventDefault(),t.selection.select(pt),t.nodeChanged()),pt.nodeName==="A"&&i.hasClass(pt,Ve)&&pt.childNodes.length===0&&i.isEditable(pt.parentNode)&&(ot.preventDefault(),c.select(pt))})},q=()=>{t.on("keydown",Ve=>{if(!B(Ve)&&Ve.keyCode===n&&c.isCollapsed()&&c.getRng().startOffset===0){const ot=c.getNode().previousSibling;if(ot&&ot.nodeName&&ot.nodeName.toLowerCase()==="table")return Ve.preventDefault(),!1}return!0})},K=()=>{nh(t)||t.on("BeforeExecCommand mousedown",()=>{E("StyleWithCSS",!1),E("enableInlineTableEditing",!1),th(t)||E("enableObjectResizing",!1)})},re=()=>{t.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}")},ee=()=>{t.inline||t.on("keydown",()=>{document.activeElement===document.body&&t.getWin().focus()})},ke=()=>{t.inline||(t.contentStyles.push("body {min-height: 150px}"),t.on("click",Ve=>{let ot;Ve.target.nodeName==="HTML"&&(ot=t.selection.getRng(),t.getBody().focus(),t.selection.setRng(ot),t.selection.normalize(),t.nodeChanged())}))},et=()=>{k&&t.on("keydown",Ve=>{!mn.metaKeyPressed(Ve)||Ve.shiftKey||Ve.keyCode!==37&&Ve.keyCode!==39||(Ve.preventDefault(),t.selection.getSel().modify("move",Ve.keyCode===37?"backward":"forward","lineboundary"))})},st=()=>{t.on("click",Ve=>{let ot=Ve.target;do if(ot.tagName==="A")return void Ve.preventDefault();while(ot=ot.parentNode)}),t.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")},mt=()=>{t.on("init",()=>{t.dom.bind(t.getBody(),"submit",Ve=>{Ve.preventDefault()})})},kt=$t;return Tm(t)?(y&&(P(),j(),mt(),O(),v&&(ee(),ke(),st())),f&&(M(),K(),re(),et())):(t.on("keydown",Ve=>{if(B(Ve)||Ve.keyCode!==mn.BACKSPACE)return;let ot=c.getRng();const pt=ot.startContainer,Jt=ot.startOffset,en=i.getRoot();let Fo=pt;if(ot.collapsed&&Jt===0){for(;Fo.parentNode&&Fo.parentNode.firstChild===Fo&&Fo.parentNode!==en;)Fo=Fo.parentNode;Fo.nodeName==="BLOCKQUOTE"&&(t.formatter.toggle("blockquote",void 0,Fo),ot=i.createRng(),ot.setStart(pt,0),ot.setEnd(pt,0),c.setRng(ot))}}),(()=>{const Ve=ot=>{const pt=i.create("body"),Jt=ot.cloneContents();return pt.appendChild(Jt),c.serializer.serialize(pt,{format:"html"})};t.on("keydown",ot=>{const pt=ot.keyCode;if(!B(ot)&&(pt===a||pt===n)&&t.selection.isEditable()){const Jt=t.selection.isCollapsed(),en=t.getBody();if(Jt&&!ys(je(en))||!Jt&&!(Fo=>{const Nn=Ve(Fo),An=i.createRng();return An.selectNode(t.getBody()),Nn===Ve(An)})(t.selection.getRng()))return;ot.preventDefault(),t.setContent(""),en.firstChild&&i.isBlock(en.firstChild)?t.selection.setCursorLocation(en.firstChild,0):t.selection.setCursorLocation(en,0),t.nodeChanged()}})})(),Rn.windowsPhone||t.on("keyup focusin mouseup",Ve=>{mn.modifierPressed(Ve)||(ot=>{const pt=ot.getBody(),Jt=ot.selection.getRng();return Jt.startContainer===Jt.endContainer&&Jt.startContainer===pt&&Jt.startOffset===0&&Jt.endOffset===pt.childNodes.length})(t)||c.normalize()},!0),y&&(P(),j(),t.on("init",()=>{E("DefaultParagraphSeparator",Ts(t))}),mt(),q(),d.addNodeFilter("br",Ve=>{let ot=Ve.length;for(;ot--;)Ve[ot].attr("class")==="Apple-interchange-newline"&&Ve[ot].remove()}),v?(ee(),ke(),st()):O()),f&&(t.on("keydown",Ve=>{if(!B(Ve)&&Ve.keyCode===n){if(!t.getBody().getElementsByTagName("hr").length)return;if(c.isCollapsed()&&c.getRng().startOffset===0){const ot=c.getNode(),pt=ot.previousSibling;if(ot.nodeName==="HR")return i.remove(ot),void Ve.preventDefault();pt&&pt.nodeName&&pt.nodeName.toLowerCase()==="hr"&&(i.remove(pt),Ve.preventDefault())}}}),M(),(()=>{const Ve=()=>{const pt=i.getAttribs(c.getStart().cloneNode(!1));return()=>{const Jt=c.getStart();Jt!==t.getBody()&&(i.setAttrib(Jt,"style",null),o(pt,en=>{Jt.setAttributeNode(en.cloneNode(!0))}))}},ot=()=>!c.isCollapsed()&&i.getParent(c.getStart(),i.isBlock)!==i.getParent(c.getEnd(),i.isBlock);t.on("keypress",pt=>{let Jt;return!(!(B(pt)||pt.keyCode!==8&&pt.keyCode!==46)&&ot()&&(Jt=Ve(),t.getDoc().execCommand("delete",!1),Jt(),pt.preventDefault(),1))}),i.bind(t.getDoc(),"cut",pt=>{if(!B(pt)&&ot()){const Jt=Ve();uu.setEditorTimeout(t,()=>{Jt()})}})})(),K(),t.on("SetContent ExecCommand",Ve=>{Ve.type!=="setcontent"&&Ve.command!=="mceInsertLink"||o(i.select("a:not([data-mce-block])"),ot=>{var pt;let Jt=ot.parentNode;const en=i.getRoot();if(Jt?.lastChild===ot){for(;Jt&&!i.isBlock(Jt);){if(((pt=Jt.parentNode)===null||pt===void 0?void 0:pt.lastChild)!==Jt||Jt===en)return;Jt=Jt.parentNode}i.add(Jt,"br",{"data-mce-bogus":1})}})}),re(),et(),q(),t.on("drop",Ve=>{var ot;const pt=(ot=Ve.dataTransfer)===null||ot===void 0?void 0:ot.getData("text/html");Ue(pt)&&/^<img[^>]*>$/.test(pt)&&t.dispatch("dragend",new window.DragEvent("dragend",Ve))}))),{refreshContentEditable:kt,isHidden:()=>{if(!f||t.removed)return!1;const Ve=t.selection.getSel();return!Ve||!Ve.rangeCount||Ve.rangeCount===0}}},o3=wr.DOM,YO=t=>t.inline?t.getElement().nodeName.toLowerCase():void 0,$y=t=>Rr(t,o=>fo(o)===!1),Hz=t=>{const o=t.options.get,n=t.editorUpload.blobCache;return $y({allow_conditional_comments:o("allow_conditional_comments"),allow_html_data_urls:o("allow_html_data_urls"),allow_svg_data_urls:o("allow_svg_data_urls"),allow_html_in_named_anchor:o("allow_html_in_named_anchor"),allow_script_urls:o("allow_script_urls"),allow_unsafe_link_target:o("allow_unsafe_link_target"),convert_unsafe_embeds:o("convert_unsafe_embeds"),convert_fonts_to_spans:o("convert_fonts_to_spans"),fix_list_elements:o("fix_list_elements"),font_size_legacy_values:o("font_size_legacy_values"),forced_root_block:o("forced_root_block"),forced_root_block_attrs:o("forced_root_block_attrs"),preserve_cdata:o("preserve_cdata"),inline_styles:o("inline_styles"),root_name:YO(t),sandbox_iframes:o("sandbox_iframes"),sanitize:o("xss_sanitization"),validate:!0,blob_cache:n,document:t.getDoc()})},Ek=t=>{const o=t.options.get;return $y({custom_elements:o("custom_elements"),extended_valid_elements:o("extended_valid_elements"),invalid_elements:o("invalid_elements"),invalid_styles:o("invalid_styles"),schema:o("schema"),valid_children:o("valid_children"),valid_classes:o("valid_classes"),valid_elements:o("valid_elements"),valid_styles:o("valid_styles"),verify_html:o("verify_html"),padd_empty_block_inline_children:o("format_empty_lines")})},ov=t=>t.inline?t.ui.styleSheetLoader:t.dom.styleSheetLoader,jz=t=>{const o=ov(t),n=xg(t),a=t.contentCSS,i=()=>{o.unloadAll(a),t.inline||t.ui.styleSheetLoader.unloadAll(n)},c=()=>{t.removed?i():t.on("remove",i)};if(t.contentStyles.length>0){let f="";go.each(t.contentStyles,y=>{f+=y+`\r
`}),t.dom.addStyle(f)}const d=Promise.all(((f,y,v)=>{const{pass:k,fail:E}=ct(y,P=>tinymce.Resource.has(mw(P))),B=k.map(P=>{const M=tinymce.Resource.get(mw(P));return Ue(M)?Promise.resolve(ov(f).loadRawCss(P,M)):Promise.resolve()}),O=[...B,ov(f).loadAll(E)];return f.inline?O:O.concat([f.ui.styleSheetLoader.loadAll(v)])})(t,a,n)).then(c).catch(c),u=Ev(t);return u&&((f,y)=>{const v=je(f.getBody()),k=cc(ta(v)),E=_s("style");Q(E,"type","text/css"),os(E,vc(y)),os(k,E),f.on("remove",()=>{Ea(E)})})(t,u),d},n3=t=>{t.removed!==!0&&((o=>{Tm(o)||o.load({initial:!0,format:"html"}),o.startContent=o.getContent({format:"raw"})})(t),(o=>{o.bindPendingEventDelegates(),o.initialized=!0,(a=>{a.dispatch("Init")})(o),o.focus(!0),(a=>{const i=a.dom.getRoot();a.inline||li(a)&&a.selection.getStart(!0)!==i||Z(i).each(c=>{const d=c.getNode(),u=Ms(d)?Z(d).getOr(c):c;a.selection.setRng(u.toRange())})})(o),o.nodeChanged({initial:!0});const n=Hp(o);de(n)&&n.call(o,o),(a=>{const i=Sb(a);i&&uu.setEditorTimeout(a,()=>{let c;c=i===!0?a:a.editorManager.get(i),c&&!c.destroyed&&(c.focus(),c.selection.scrollIntoView())},100)})(o)})(t))},em=t=>{const o=t.getElement();let n=t.getDoc();t.inline&&(o3.addClass(o,"mce-content-body"),t.contentDocument=n=document,t.contentWindow=window,t.bodyElement=o,t.contentAreaContainer=o);const a=t.getBody();a.disabled=!0,t.readonly=nh(t),t._editableRoot=g1(t),!t.readonly&&t.hasEditableRoot()&&(t.inline&&o3.getStyle(a,"position",!0)==="static"&&(a.style.position="relative"),a.contentEditable="true"),a.disabled=!1,t.editorUpload=oC(t),t.schema=Du(Ek(t)),t.dom=wr(n,{keep_values:!0,url_converter:t.convertURL,url_converter_scope:t,update_styles:!0,root_element:t.inline?t.getBody():null,collect:t.inline,schema:t.schema,contentCssCors:oc(t),referrerPolicy:Hu(t),onSetAttrib:d=>{t.dispatch("SetAttrib",d)},force_hex_color:Ob(t)}),t.parser=(d=>{const u=dy(Hz(d),d.schema);return u.addAttributeFilter("src,href,style,tabindex",(f,y)=>{const v=d.dom,k="data-mce-"+y;let E=f.length;for(;E--;){const B=f[E];let O=B.attr(y);if(O&&!B.attr(k)){if(O.indexOf("data:")===0||O.indexOf("blob:")===0)continue;y==="style"?(O=v.serializeStyle(v.parseStyle(O),B.name),O.length||(O=null),B.attr(k,O),B.attr(y,O)):y==="tabindex"?(B.attr(k,O),B.attr(y,null)):B.attr(k,d.convertURL(O,y,B.name))}}}),u.addNodeFilter("script",f=>{let y=f.length;for(;y--;){const v=f[y],k=v.attr("type")||"no/type";k.indexOf("mce-")!==0&&v.attr("type","mce-"+k)}}),Ab(d)&&u.addNodeFilter("#cdata",f=>{var y;let v=f.length;for(;v--;){const k=f[v];k.type=8,k.name="#comment",k.value="[CDATA["+d.dom.encode((y=k.value)!==null&&y!==void 0?y:"")+"]]"}}),u.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",f=>{let y=f.length;const v=d.schema.getNonEmptyElements();for(;y--;){const k=f[y];k.isEmpty(v)&&k.getAll("br").length===0&&k.append(new pc("br",1))}}),u})(t),t.serializer=Xg((d=>{const u=d.options.get;return{...Hz(d),...Ek(d),...$y({remove_trailing_brs:u("remove_trailing_brs"),pad_empty_with_br:u("pad_empty_with_br"),url_converter:u("url_converter"),url_converter_scope:u("url_converter_scope"),element_format:u("element_format"),entities:u("entities"),entity_encoding:u("entity_encoding"),indent:u("indent"),indent_after:u("indent_after"),indent_before:u("indent_before")})}})(t),t),t.selection=y0(t.dom,t.getWin(),t.serializer,t),t.annotator=km(t),t.formatter=_0(t),t.undoManager=iC(t),t._nodeChangeDispatcher=new Ju(t),t._selectionOverrides=GO(t),(d=>{const u=Ec(),f=bi(!1),y=Iu(v=>{d.dispatch("longpress",{...v,type:"longpress"}),f.set(!0)},400);d.on("touchstart",v=>{RC(v).each(k=>{y.cancel();const E={x:k.clientX,y:k.clientY,target:v.target};y.throttle(v),f.set(!1),u.set(E)})},!0),d.on("touchmove",v=>{y.cancel(),RC(v).each(k=>{u.on(E=>{((B,O)=>{const P=Math.abs(B.clientX-O.x),M=Math.abs(B.clientY-O.y);return P>5||M>5})(k,E)&&(u.clear(),f.set(!1),d.dispatch("longpresscancel"))})})},!0),d.on("touchend touchcancel",v=>{y.cancel(),v.type!=="touchcancel"&&u.get().filter(k=>k.target.isEqualNode(v.target)).each(()=>{f.get()?v.preventDefault():d.dispatch("tap",{...v,type:"tap"})})},!0)})(t),(d=>{(u=>{u.on("click",f=>{u.dom.getParent(f.target,"details")&&f.preventDefault()})})(d),(u=>{u.parser.addNodeFilter("details",f=>{const y=Ag(u);Se(f,v=>{y==="expanded"?v.attr("open","open"):y==="collapsed"&&v.attr("open",null)})}),u.serializer.addNodeFilter("details",f=>{const y=i_(u);Se(f,v=>{y==="expanded"?v.attr("open","open"):y==="collapsed"&&v.attr("open",null)})})})(d)})(t),(d=>{const u="contenteditable",f=" "+go.trim(v1(d))+" ",y=" "+go.trim(zb(d))+" ",v=M0(f),k=M0(y),E=zg(d);E.length>0&&d.on("BeforeSetContent",B=>{((O,P,M)=>{let j=P.length,q=M.content;if(M.format!=="raw"){for(;j--;)q=q.replace(P[j],fT(O,q,zb(O)));M.content=q}})(d,E,B)}),d.parser.addAttributeFilter("class",B=>{let O=B.length;for(;O--;){const P=B[O];v(P)?P.attr(u,"true"):k(P)&&P.attr(u,"false")}}),d.serializer.addAttributeFilter(u,B=>{let O=B.length;for(;O--;){const P=B[O];(v(P)||k(P))&&(E.length>0&&P.attr("data-mce-content")?(P.name="#text",P.type=3,P.raw=!0,P.value=P.attr("data-mce-content")):P.attr(u,null))}})})(t),Tm(t)||((d=>{d.on("mousedown",u=>{u.detail>=3&&(u.preventDefault(),Ez(d))})})(t),(d=>{(u=>{const f=[",",".",";",":","!","?"],y=[32],v=()=>{return B=Fv(u),O=Tb(u),{inlinePatterns:wv(B),blockPatterns:Bp(B),dynamicPatternsLookup:O};var B,O},k=()=>(B=>B.options.isSet("text_patterns_lookup"))(u);u.on("keydown",B=>{if(B.keyCode===13&&!mn.modifierPressed(B)&&u.selection.isCollapsed()){const O=v();(O.inlinePatterns.length>0||O.blockPatterns.length>0||k())&&ac(u,O)&&B.preventDefault()}},!0);const E=()=>{if(u.selection.isCollapsed()){const B=v();(B.inlinePatterns.length>0||k())&&((O,P)=>{const M=O.selection.getRng();kk(O,M).map(j=>{const q=Math.max(0,M.startOffset-1),K=XS(O.dom,j,M.startContainer,q),re=YS(P,j,K),ee=Lz(O,j,M.startContainer,q,re,!1);ee.length>0&&O.undoManager.transact(()=>{Iz(O,ee)})})})(u,B)}};u.on("keyup",B=>{Pz(y,B,(O,P)=>O===P.keyCode&&!mn.modifierPressed(P))&&E()}),u.on("keypress",B=>{Pz(f,B,(O,P)=>O.charCodeAt(0)===P.charCode)&&uu.setEditorTimeout(u,E)})})(d)})(t));const i=J0(t);mT(t,i),(d=>{d.on("NodeChange",Je(og,d))})(t),(d=>{var u;const f=d.dom,y=Ts(d),v=(u=wg(d))!==null&&u!==void 0?u:"",k=(E,B)=>{if((M=>{if(lC(M)){const j=M.keyCode;return!ME(M)&&(mn.metaKeyPressed(M)||M.altKey||j>=112&&j<=123||lo(gO,j))}return!1})(E))return;const O=d.getBody(),P=!(M=>lC(M)&&!(ME(M)||M.type==="keyup"&&M.keyCode===229))(E)&&((M,j,q)=>{if(ys(je(j),!1)){const K=j.firstElementChild;return!K||!M.getStyle(j.firstElementChild,"padding-left")&&!M.getStyle(j.firstElementChild,"padding-right")&&q===K.nodeName.toLowerCase()}return!1})(f,O,y);(f.getAttrib(O,NE)!==""!==P||B)&&(f.setAttrib(O,NE,P?v:null),f.setAttrib(O,"aria-placeholder",P?v:null),((M,j)=>{M.dispatch("PlaceholderToggle",{state:j})})(d,P),d.on(P?"keydown":"keyup",k),d.off(P?"keyup":"keydown",k))};nn(v)&&d.on("init",E=>{k(E,!0),d.on("change SetContent ExecCommand",k),d.on("paste",B=>uu.setEditorTimeout(d,()=>k(B)))})})(t),kz(t);const c=(d=>{const u=d;return(f=>Fn(f.plugins,"rtc").bind(y=>V.from(y.setup)))(d).fold(()=>(u.rtcInstance=U2(d),V.none()),f=>(u.rtcInstance=(()=>{const y=Ct(null),v=Ct("");return{init:{bindEvents:$t},undoManager:{beforeChange:$t,add:y,undo:y,redo:y,clear:$t,reset:$t,hasUndo:uo,hasRedo:uo,transact:y,ignore:$t,extra:$t},formatter:{match:uo,matchAll:Ct([]),matchNode:Ct(void 0),canApply:uo,closest:v,apply:$t,remove:$t,toggle:$t,formatChanged:Ct({unbind:$t})},editor:{getContent:v,setContent:Ct({content:"",html:""}),insertContent:Ct(""),addVisual:$t},selection:{getContent:v},autocompleter:{addDecoration:$t,removeDecoration:$t},raw:{getModel:Ct(V.none())}}})(),V.some(()=>f().then(y=>(u.rtcInstance=(v=>{const k=K=>it(K)?K:{},{init:E,undoManager:B,formatter:O,editor:P,selection:M,autocompleter:j,raw:q}=v;return{init:{bindEvents:E.bindEvents},undoManager:{beforeChange:B.beforeChange,add:B.add,undo:B.undo,redo:B.redo,clear:B.clear,reset:B.reset,hasUndo:B.hasUndo,hasRedo:B.hasRedo,transact:(K,re,ee)=>B.transact(ee),ignore:(K,re)=>B.ignore(re),extra:(K,re,ee,ke)=>B.extra(ee,ke)},formatter:{match:(K,re,ee,ke)=>O.match(K,k(re),ke),matchAll:O.matchAll,matchNode:O.matchNode,canApply:K=>O.canApply(K),closest:K=>O.closest(K),apply:(K,re,ee)=>O.apply(K,k(re)),remove:(K,re,ee,ke)=>O.remove(K,k(re)),toggle:(K,re,ee)=>O.toggle(K,k(re)),formatChanged:(K,re,ee,ke,et)=>O.formatChanged(re,ee,ke,et)},editor:{getContent:K=>P.getContent(K),setContent:(K,re)=>({content:P.setContent(K,re),html:""}),insertContent:(K,re)=>(P.insertContent(K),""),addVisual:P.addVisual},selection:{getContent:(K,re)=>M.getContent(re)},autocompleter:{addDecoration:j.addDecoration,removeDecoration:j.removeDecoration},raw:{getModel:()=>V.some(q.getRawModel())}}})(y),y.rtc.isRemote)))))})(t);(d=>{const u=d.getDoc(),f=d.getBody();(k=>{k.dispatch("PreInit")})(d),f1(d)||(u.body.spellcheck=!1,o3.setAttrib(f,"spellcheck","false")),d.quirks=KO(d),(k=>{k.dispatch("PostRender")})(d);const y=eh(d);y!==void 0&&(f.dir=y);const v=Eg(d);v&&d.on("BeforeSetContent",k=>{go.each(v,E=>{k.content=k.content.replace(E,B=>"<!--mce:protected "+escape(B)+"-->")})}),d.on("SetContent",()=>{d.addVisual(d.getBody())}),d.on("compositionstart compositionend",k=>{d.composing=k.type==="compositionstart"})})(t),c.fold(()=>{const d=(u=>{let f=!1;const y=setTimeout(()=>{f||u.setProgressState(!0)},500);return()=>{clearTimeout(y),f=!0,u.setProgressState(!1)}})(t);jz(t).then(()=>{n3(t),d()})},d=>{t.setProgressState(!0),jz(t).then(()=>{d().then(u=>{t.setProgressState(!1),n3(t),Z2(t)},u=>{t.notificationManager.open({type:"error",text:String(u)}),n3(t),Z2(t)})})})},Vz=Bt,r3=wr.DOM,Tk=wr.DOM,a3=(t,o)=>({editorContainer:t,iframeContainer:o,api:{}}),nv=t=>{const o=t.getElement();return t.inline?a3(null):(n=>{const a=Tk.create("div");return Tk.insertAfter(a,n),a3(a,a)})(o)},$z=async t=>{t.dispatch("ScriptsLoaded"),(n=>{const a=go.trim(yb(n)),i=n.ui.registry.getAll().icons,c={...w0.get("default").icons,...w0.get(a).icons};Ft(c,(d,u)=>{ln(i,u)||n.ui.registry.addIcon(u,d)})})(t),(n=>{const a=kg(n);if(Ue(a)){const i=Jg.get(a);n.theme=i(n,Jg.urls[a])||{},de(n.theme.init)&&n.theme.init(n,Jg.urls[a]||n.documentBaseUrl.replace(/\/$/,""))}else n.theme={}})(t),(n=>{const a=_g(n),i=Kl.get(a);n.model=i(n,Kl.urls[a])})(t),(n=>{const a=[];Se(qm(n),i=>{((c,d,u)=>{const f=by.get(u),y=by.urls[u]||c.documentBaseUrl.replace(/\/$/,"");if(u=go.trim(u),f&&go.inArray(d,u)===-1){if(c.plugins[u])return;try{const v=f(c,y)||{};c.plugins[u]=v,de(v.init)&&(v.init(c,y),d.push(u))}catch(v){((k,E,B)=>{const O=Zi.translate(["Failed to initialize plugin: {0}",E]);z1(k,"PluginLoadError",{message:O}),yy(O,B),hu(k,O)})(c,u,v)}}})(n,a,(c=>c.replace(/^\-/,""))(i))})})(t);const o=await(n=>{const a=n.getElement();return n.orgDisplay=a.style.display,Ue(kg(n))?(i=>{const c=i.theme.renderUI;return c?c():nv(i)})(n):de(kg(n))?(i=>{const c=i.getElement(),d=kg(i)(i,c);return d.editorContainer.nodeType&&(d.editorContainer.id=d.editorContainer.id||i.id+"_parent"),d.iframeContainer&&d.iframeContainer.nodeType&&(d.iframeContainer.id=d.iframeContainer.id||i.id+"_iframecontainer"),d.height=d.iframeHeight?d.iframeHeight:c.offsetHeight,d})(n):nv(n)})(t);((n,a)=>{const i={show:V.from(a.show).getOr($t),hide:V.from(a.hide).getOr($t),isEnabled:V.from(a.isEnabled).getOr(Bt),setEnabled:c=>{n.mode.isReadOnly()||V.from(a.setEnabled).each(d=>d(c))}};n.ui={...n.ui,...i}})(t,V.from(o.api).getOr({})),t.editorContainer=o.editorContainer,(n=>{n.contentCSS=n.contentCSS.concat((a=>eC(a,Qf(a)))(n),(a=>eC(a,xg(a)))(n))})(t),t.inline?em(t):((n,a)=>{((i,c)=>{const d=i.translate("Rich Text Area"),u=wo(je(i.getElement()),"tabindex").bind(Vr),f=((y,v,k,E)=>{const B=_s("iframe");return E.each(O=>Q(B,"tabindex",O)),Ee(B,k),Ee(B,{id:y+"_ifr",frameBorder:"0",allowTransparency:"true",title:v}),ks(B,"tox-edit-area__iframe"),B})(i.id,d,Fp(i),u).dom;f.onload=()=>{f.onload=null,i.dispatch("load")},i.contentAreaContainer=c.iframeContainer,i.iframeElement=f,i.iframeHTML=(y=>{let v=l1(y)+"<html><head>";tc(y)!==y.documentBaseUrl&&(v+='<base href="'+y.documentBaseURI.getURI()+'" />'),v+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />';const k=t_(y),E=sd(y),B=y.translate(Nv(y));return hb(y)&&(v+='<meta http-equiv="Content-Security-Policy" content="'+hb(y)+'" />'),v+=`</head><body id="${k}" class="mce-content-body ${E}" data-id="${y.id}" aria-label="${B}"><br></body></html>`,v})(i),r3.add(c.iframeContainer,f)})(n,a),a.editorContainer&&(a.editorContainer.style.display=n.orgDisplay,n.hidden=r3.isHidden(a.editorContainer)),n.getElement().style.display="none",r3.setAttrib(n.id,"aria-hidden","true"),n.getElement().style.visibility=n.orgVisibility,(i=>{const c=i.iframeElement,d=()=>{i.contentDocument=c.contentDocument,em(i)};if(Lv(i)||Rn.browser.isFirefox()){const f=i.getDoc();f.open(),f.write(i.iframeHTML),f.close(),d()}else{const f=(u=je(c),Jc(u,"load",Vz,()=>{f.unbind(),d()}));c.srcdoc=i.iframeHTML}var u})(n)})(t,{editorContainer:o.editorContainer,iframeContainer:o.iframeContainer})},Cf=wr.DOM,s3=t=>t.charAt(0)==="-",Uz=(t,o,n)=>V.from(o).filter(a=>nn(a)&&!w0.has(a)).map(a=>({url:`${t.editorManager.baseURL}/icons/${a}/icons${n}.js`,name:V.some(a)})),XO=(t,o)=>{const n=Jr.ScriptLoader,a=()=>{!t.removed&&(i=>{const c=kg(i);return!Ue(c)||Ze(Jg.get(c))})(t)&&(i=>{const c=_g(i);return Ze(Kl.get(c))})(t)&&$z(t)};((i,c)=>{const d=kg(i);if(Ue(d)&&!s3(d)&&!ln(Jg.urls,d)){const u=au(i),f=u?i.documentBaseURI.toAbsolute(u):`themes/${d}/theme${c}.js`;Jg.load(d,f).catch(()=>{((y,v,k)=>{zh(y,"ThemeLoadError",gf("theme",v,k))})(i,f,d)})}})(t,o),((i,c)=>{const d=_g(i);if(d!=="plugin"&&!ln(Kl.urls,d)){const u=fm(i),f=Ue(u)?i.documentBaseURI.toAbsolute(u):`models/${d}/model${c}.js`;Kl.load(d,f).catch(()=>{((y,v,k)=>{zh(y,"ModelLoadError",gf("model",v,k))})(i,f,d)})}})(t,o),((i,c)=>{const d=vg(c),u=ms(c);if(!Zi.hasCode(d)&&d!=="en"){const f=nn(u)?u:`${c.editorManager.baseURL}/langs/${d}.js`;i.add(f).catch(()=>{((y,v,k)=>{zh(y,"LanguageLoadError",gf("language",v,k))})(c,f,d)})}})(n,t),((i,c,d)=>{const u=Uz(c,"default",d),f=(y=>V.from(Cv(y)).filter(nn).map(v=>({url:v,name:V.none()})))(c).orThunk(()=>Uz(c,yb(c),""));Se((y=>{const v=[],k=E=>{v.push(E)};for(let E=0;E<y.length;E++)y[E].each(k);return v})([u,f]),y=>{i.add(y.url).catch(()=>{((v,k,E)=>{zh(v,"IconsLoadError",gf("icons",k,E))})(c,y.url,y.name.getOrUndefined())})})})(n,t,o),((i,c)=>{const d=(u,f)=>{by.load(u,f).catch(()=>{((y,v,k)=>{zh(y,"PluginLoadError",gf("plugin",v,k))})(i,f,u)})};Ft(Pp(i),(u,f)=>{d(f,u),i.options.set("plugins",qm(i).concat(f))}),Se(qm(i),u=>{!(u=go.trim(u))||by.urls[u]||s3(u)||d(u,`plugins/${u}/plugin${c}.js`)})})(t,o),n.loadQueue().then(a,a)},zk=Aa().deviceType,Zz=zk.isPhone(),JO=zk.isTablet(),Sf=t=>{if(me(t))return[];{const o=co(t)?t:t.split(/[ ,]/),n=to(o,wt);return gt(n,nn)}},i3=(t,o)=>{const n=((c,d)=>{const u={},f={};return $n(c,(y,v)=>lo(t,v),Vo(u),Vo(f)),{t:u,f}})(o);return a=n.t,i=n.f,{sections:Ct(a),options:Ct(i)};var a,i},rv=(t,o)=>ln(t.sections(),o),qz=(t,o)=>({table_grid:!1,object_resizing:!1,resize:!1,toolbar_mode:Fn(t,"toolbar_mode").getOr("scrolling"),toolbar_sticky:!1,...o?{menubar:!1}:{}}),Ef=(t,o)=>{var n;const a=(n=o.external_plugins)!==null&&n!==void 0?n:{};return t&&t.external_plugins?go.extend({},t.external_plugins,a):a},QO=(t,o,n,a,i)=>{var c;const d=t?{mobile:qz((c=i.mobile)!==null&&c!==void 0?c:{},o)}:{},u=i3(["mobile"],Vw(d,i)),f=go.extend(n,a,u.options(),((y,v)=>y&&rv(v,"mobile"))(t,u)?((y,v,k={})=>{const E=y.sections(),B=Fn(E,v).getOr({});return go.extend({},k,B)})(u,"mobile"):{},{external_plugins:Ef(a,u.options())});return((y,v,k,E)=>{const B=Sf(k.forced_plugins),O=Sf(E.plugins),P=((q,K)=>rv(q,K)?q.sections()[K]:{})(v,"mobile"),M=((q,K,re,ee)=>q&&rv(K,"mobile")?ee:re)(y,v,O,P.plugins?Sf(P.plugins):O),j=((q,K)=>[...Sf(q),...Sf(K)])(B,M);return go.extend(E,{forced_plugins:B,plugins:j})})(t,u,a,f)},e5=t=>{(o=>{const n=a=>()=>{Se("left,center,right,justify".split(","),i=>{a!==i&&o.formatter.remove("align"+i)}),a!=="none"&&((i,c)=>{o.formatter.toggle(i,void 0),o.nodeChanged()})("align"+a)};o.editorCommands.addCommands({JustifyLeft:n("left"),JustifyCenter:n("center"),JustifyRight:n("right"),JustifyFull:n("justify"),JustifyNone:n("none")})})(t),(o=>{const n=a=>()=>{const i=o.selection,c=i.isCollapsed()?[o.dom.getParent(i.getNode(),o.dom.isBlock)]:i.getSelectedBlocks();return zo(c,d=>Ze(o.formatter.matchNode(d,a)))};o.editorCommands.addCommands({JustifyLeft:n("alignleft"),JustifyCenter:n("aligncenter"),JustifyRight:n("alignright"),JustifyFull:n("alignjustify")},"state")})(t)},Ak=(t,o)=>{const n=t.selection,a=t.dom;return/^ | $/.test(o)?((i,c,d,u)=>{const f=je(i.getRoot());return d=I1(f,Ht.fromRangeStart(c),u)?d.replace(/^ /,"&nbsp;"):d.replace(/^&nbsp;/," "),rc(f,Ht.fromRangeEnd(c),u)?d.replace(/(&nbsp;| )(<br( \/)>)?$/,"&nbsp;"):d.replace(/&nbsp;(<br( \/)?>)?$/," ")})(a,n.getRng(),o,t.schema):o},av=(t,o)=>{if(t.selection.isEditable()){const{content:n,details:a}=(i=>{if(typeof i!="string"){const c=go.extend({paste:i.paste,data:{paste:i.paste}},i);return{content:i.content,details:c}}return{content:i,details:{}}})(o);P2(t,{...a,content:Ak(t,n),format:"html",set:!1,selection:!0}).each(i=>{const c=((d,u,f)=>iw(d).editor.insertContent(u,f))(t,i.content,a);uy(t,c,i),t.addVisual()})}},Wz={"font-size":"size","font-family":"face"},Gz=ma("font"),Kz=t=>(o,n)=>V.from(n).map(je).filter(kn).bind(a=>((i,c,d)=>Fx(je(d),u=>(f=>om(f,i).orThunk(()=>Gz(f)?Fn(Wz,i).bind(y=>wo(f,y)):V.none()))(u),u=>sa(je(c),u)))(t,o,a.dom).or(((i,c)=>V.from(wr.DOM.getStyle(c,i,!0)))(t,a.dom))).getOr(""),t5=Kz("font-size"),Yz=gn(t=>t.replace(/[\'\"\\]/g,"").replace(/,\s+/g,","),Kz("font-family")),l3=t=>Z(t.getBody()).bind(o=>{const n=o.container();return V.from(ro(n)?n.parentNode:n)}),sv=(t,o)=>((n,a)=>(i=>V.from(i.selection.getRng()).bind(c=>{const d=i.getBody();return c.startContainer===d&&c.startOffset===0?V.none():V.from(i.selection.getStart(!0))}))(n).orThunk(Je(l3,n)).map(je).filter(kn).bind(a))(t,Bo(V.some,o)),c3=(t,o)=>{if(/^[0-9.]+$/.test(o)){const n=parseInt(o,10);if(n>=1&&n<=7){const a=(c=>go.explode(c.options.get("font_size_style_values")))(t),i=(c=>go.explode(c.options.get("font_size_classes")))(t);return i.length>0?i[n-1]||o:a[n-1]||o}return o}return o},Ok=t=>{const o=t.split(/\s*,\s*/);return to(o,n=>n.indexOf(" ")===-1||gr(n,'"')||gr(n,"'")?n:`'${n}'`).join(",")},d3=(t,o)=>{const n=t.dom,a=t.selection.getRng(),i=o?t.selection.getStart():t.selection.getEnd(),c=o?a.startContainer:a.endContainer,d=Z0(n,c);if(!d||!d.isContentEditable)return;const u=o?rl:Da,f=Ts(t);((y,v,k,E)=>{const B=y.dom,O=M=>B.isBlock(M)&&M.parentElement===k,P=O(v)?v:B.getParent(E,O,k);return V.from(P).map(je)})(t,i,d,c).each(y=>{const v=GT(t,c,y.dom,d,!1,f);u(y,je(v)),t.selection.setCursorLocation(v,0),t.dispatch("NewBlock",{newBlock:v}),cp(t,"insertParagraph")})},Xz=t=>{e5(t),(o=>{o.editorCommands.addCommands({"Cut,Copy,Paste":n=>{const a=o.getDoc();let i;try{a.execCommand(n)}catch{i=!0}if(n!=="paste"||a.queryCommandEnabled(n)||(i=!0),i||!a.queryCommandSupported(n)){let c=o.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.");(Rn.os.isMacOS()||Rn.os.isiOS())&&(c=c.replace(/Ctrl\+/g,"⌘+")),o.notificationManager.open({text:c,type:"error"})}}})})(t),(o=>{o.editorCommands.addCommands({mceAddUndoLevel:()=>{o.undoManager.add()},mceEndUndoLevel:()=>{o.undoManager.add()},Undo:()=>{o.undoManager.undo()},Redo:()=>{o.undoManager.redo()}})})(t),(o=>{o.editorCommands.addCommands({mceSelectNodeDepth:(n,a,i)=>{let c=0;o.dom.getParent(o.selection.getNode(),d=>!an(d)||c++!==i||(o.selection.select(d),!1),o.getBody())},mceSelectNode:(n,a,i)=>{o.selection.select(i)},selectAll:()=>{const n=o.dom.getParent(o.selection.getStart(),zi);if(n){const a=o.dom.createRng();a.selectNodeContents(n),o.selection.setRng(a)}}})})(t),(o=>{o.editorCommands.addCommands({mceCleanup:()=>{const n=o.selection.getBookmark();o.setContent(o.getContent()),o.selection.moveToBookmark(n)},insertImage:(n,a,i)=>{av(o,o.dom.createHTML("img",{src:i}))},insertHorizontalRule:()=>{o.execCommand("mceInsertContent",!1,"<hr>")},insertText:(n,a,i)=>{av(o,o.dom.encode(i))},insertHTML:(n,a,i)=>{av(o,i)},mceInsertContent:(n,a,i)=>{av(o,i)},mceSetContent:(n,a,i)=>{o.setContent(i)},mceReplaceContent:(n,a,i)=>{o.execCommand("mceInsertContent",!1,i.replace(/\{\$selection\}/g,o.selection.getContent({format:"text"})))},mceNewDocument:()=>{o.setContent(Rv(o))}})})(t),(o=>{const n=(a,i,c)=>{const d=Ue(c)?{href:c}:c,u=o.dom.getParent(o.selection.getNode(),"a");it(d)&&Ue(d.href)&&(d.href=d.href.replace(/ /g,"%20"),u&&d.href||o.formatter.remove("link"),d.href&&o.formatter.apply("link",d,u))};o.editorCommands.addCommands({unlink:()=>{if(o.selection.isEditable()){if(o.selection.isCollapsed()){const a=o.dom.getParent(o.selection.getStart(),"a");return void(a&&o.dom.remove(a,!0))}o.formatter.remove("link")}},mceInsertLink:n,createLink:n})})(t),(o=>{o.editorCommands.addCommands({Indent:()=>{(n=>{yu(n,"indent")})(o)},Outdent:()=>{zw(o)}}),o.editorCommands.addCommands({Outdent:()=>MC(o)},"state")})(t),(o=>{o.editorCommands.addCommands({InsertNewBlockBefore:()=>{(n=>{d3(n,!0)})(o)},InsertNewBlockAfter:()=>{(n=>{d3(n,!1)})(o)}})})(t),(o=>{o.editorCommands.addCommands({insertParagraph:()=>{vi(XT,o)},mceInsertNewLine:(n,a,i)=>{tz(o,i)},InsertLineBreak:(n,a,i)=>{vi(kS,o)}})})(t),(o=>{(n=>{n.editorCommands.addCommands({"InsertUnorderedList,InsertOrderedList":a=>{n.getDoc().execCommand(a);const i=n.dom.getParent(n.selection.getNode(),"ol,ul");if(i){const c=i.parentNode;if(c&&/^(H[1-6]|P|ADDRESS|PRE)$/.test(c.nodeName)){const d=n.selection.getBookmark();n.dom.split(c,i),n.selection.moveToBookmark(d)}}}})})(o),(n=>{n.editorCommands.addCommands({"InsertUnorderedList,InsertOrderedList":a=>{const i=n.dom.getParent(n.selection.getNode(),"ul,ol");return i&&(a==="insertunorderedlist"&&i.tagName==="UL"||a==="insertorderedlist"&&i.tagName==="OL")}},"state")})(o)})(t),(o=>{(n=>{const a=(i,c)=>{n.formatter.toggle(i,c),n.nodeChanged()};n.editorCommands.addCommands({"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":i=>{a(i)},"ForeColor,HiliteColor":(i,c,d)=>{a(i,{value:d})},BackColor:(i,c,d)=>{a("hilitecolor",{value:d})},FontName:(i,c,d)=>{((u,f)=>{const y=c3(u,f);u.formatter.toggle("fontname",{value:Ok(y)}),u.nodeChanged()})(n,d)},FontSize:(i,c,d)=>{((u,f)=>{u.formatter.toggle("fontsize",{value:c3(u,f)}),u.nodeChanged()})(n,d)},LineHeight:(i,c,d)=>{((u,f)=>{u.formatter.toggle("lineheight",{value:String(f)}),u.nodeChanged()})(n,d)},Lang:(i,c,d)=>{var u;a(i,{value:d.code,customValue:(u=d.customCode)!==null&&u!==void 0?u:null})},RemoveFormat:i=>{n.formatter.remove(i)},mceBlockQuote:()=>{a("blockquote")},FormatBlock:(i,c,d)=>{a(Ue(d)?d:"p")},mceToggleFormat:(i,c,d)=>{a(d)}})})(o),(n=>{const a=i=>n.formatter.match(i);n.editorCommands.addCommands({"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":i=>a(i),mceBlockQuote:()=>a("blockquote")},"state"),n.editorCommands.addQueryValueHandler("FontName",()=>(i=>sv(i,c=>Yz(i.getBody(),c.dom)).getOr(""))(n)),n.editorCommands.addQueryValueHandler("FontSize",()=>(i=>sv(i,c=>t5(i.getBody(),c.dom)).getOr(""))(n)),n.editorCommands.addQueryValueHandler("LineHeight",()=>(i=>sv(i,c=>{const d=je(i.getBody());return Fx(c,f=>om(f,"line-height"),Je(sa,d)).getOrThunk(()=>{const f=parseFloat(Yi(c,"line-height")),y=parseFloat(Yi(c,"font-size"));return String(f/y)})}).getOr(""))(n))})(o)})(t),(o=>{o.editorCommands.addCommands({mceRemoveNode:(n,a,i)=>{const c=i??o.selection.getNode();if(c!==o.getBody()){const d=o.selection.getBookmark();o.dom.remove(c,!0),o.selection.moveToBookmark(d)}},mcePrint:()=>{o.getWin().print()},mceFocus:(n,a,i)=>{((c,d)=>{c.removed||(d?cx(c):(u=>{const f=u.selection,y=u.getBody();let v=f.getRng();u.quirks.refreshContentEditable(),Ze(u.bookmark)&&!rf(u)&&ax(u).each(E=>{u.selection.setRng(E),v=E});const k=((E,B)=>E.dom.getParent(B,O=>E.dom.getContentEditable(O)==="true"))(u,f.getNode());if(k&&u.dom.isChildOf(k,y))return z_(k),n4(u,v),void cx(u);u.inline||(Rn.browser.isOpera()||z_(y),u.getWin().focus()),(Rn.browser.isFirefox()||u.inline)&&(z_(y),n4(u,v)),cx(u)})(c))})(o,i===!0)},mceToggleVisualAid:()=>{o.hasVisual=!o.hasVisual,o.addVisual()}})})(t)},o5=["toggleview"],Jz=t=>lo(o5,t.toLowerCase());class Nk{constructor(o){this.commands={state:{},exec:{},value:{}},this.editor=o}execCommand(o,n=!1,a,i){const c=this.editor,d=o.toLowerCase(),u=i?.skip_focus;if(c.removed||(d!=="mcefocus"&&(/^(mceAddUndoLevel|mceEndUndoLevel)$/i.test(d)||u?(y=>{ax(y).each(v=>y.selection.setRng(v))})(c):c.focus()),c.dispatch("BeforeExecCommand",{command:o,ui:n,value:a}).isDefaultPrevented()))return!1;const f=this.commands.exec[d];return!!de(f)&&(f(d,n,a),c.dispatch("ExecCommand",{command:o,ui:n,value:a}),!0)}queryCommandState(o){if(!Jz(o)&&this.editor.quirks.isHidden()||this.editor.removed)return!1;const n=o.toLowerCase(),a=this.commands.state[n];return!!de(a)&&a(n)}queryCommandValue(o){if(!Jz(o)&&this.editor.quirks.isHidden()||this.editor.removed)return"";const n=o.toLowerCase(),a=this.commands.value[n];return de(a)?a(n):""}addCommands(o,n="exec"){const a=this.commands;Ft(o,(i,c)=>{Se(c.toLowerCase().split(","),d=>{a[n][d]=i})})}addCommand(o,n,a){const i=o.toLowerCase();this.commands.exec[i]=(c,d,u)=>n.call(a??this.editor,d,u)}queryCommandSupported(o){const n=o.toLowerCase();return!!this.commands.exec[n]}addQueryStateHandler(o,n,a){this.commands.state[o.toLowerCase()]=()=>n.call(a??this.editor)}addQueryValueHandler(o,n,a){this.commands.value[o.toLowerCase()]=()=>n.call(a??this.editor)}}const Tf="data-mce-contenteditable",Mk=(t,o,n)=>{try{t.getDoc().execCommand(o,!1,String(n))}catch{}},Dk=(t,o)=>{t.dom.contentEditable=o?"true":"false"},$h=t=>t.readonly,Qz=t=>{t.parser.addAttributeFilter("contenteditable",o=>{$h(t)&&Se(o,n=>{n.attr(Tf,n.attr("contenteditable")),n.attr("contenteditable","false")})}),t.serializer.addAttributeFilter(Tf,o=>{$h(t)&&Se(o,n=>{n.attr("contenteditable",n.attr(Tf))})}),t.serializer.addTempAttr(Tf)},eA=["copy"],tA=go.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input beforeinput contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend touchcancel"," ");class u3{static isNative(o){return!!tA[o.toLowerCase()]}constructor(o){this.bindings={},this.settings=o||{},this.scope=this.settings.scope||this,this.toggleEvent=this.settings.toggleEvent||uo}fire(o,n){return this.dispatch(o,n)}dispatch(o,n){const a=o.toLowerCase(),i=Nr(a,n??{},this.scope);this.settings.beforeFire&&this.settings.beforeFire(i);const c=this.bindings[a];if(c)for(let d=0,u=c.length;d<u;d++){const f=c[d];if(!f.removed){if(f.once&&this.off(a,f.func),i.isImmediatePropagationStopped())return i;if(f.func.call(this.scope,i)===!1)return i.preventDefault(),i}}return i}on(o,n,a,i){if(n===!1&&(n=uo),n){const c={func:n,removed:!1};i&&go.extend(c,i);const d=o.toLowerCase().split(" ");let u=d.length;for(;u--;){const f=d[u];let y=this.bindings[f];y||(y=[],this.toggleEvent(f,!0)),y=a?[c,...y]:[...y,c],this.bindings[f]=y}}return this}off(o,n){if(o){const a=o.toLowerCase().split(" ");let i=a.length;for(;i--;){const c=a[i];let d=this.bindings[c];if(!c)return Ft(this.bindings,(u,f)=>{this.toggleEvent(f,!1),delete this.bindings[f]}),this;if(d){if(n){const u=ct(d,f=>f.func===n);d=u.fail,this.bindings[c]=d,Se(u.pass,f=>{f.removed=!0})}else d.length=0;d.length||(this.toggleEvent(o,!1),delete this.bindings[c])}}}else Ft(this.bindings,(a,i)=>{this.toggleEvent(i,!1)}),this.bindings={};return this}once(o,n,a){return this.on(o,n,a,{once:!0})}has(o){o=o.toLowerCase();const n=this.bindings[o];return!(!n||n.length===0)}}const iv=t=>(t._eventDispatcher||(t._eventDispatcher=new u3({scope:t,toggleEvent:(o,n)=>{u3.isNative(o)&&t.toggleNativeEvent&&t.toggleNativeEvent(o,n)}})),t._eventDispatcher),zf={fire(t,o,n){return this.dispatch(t,o,n)},dispatch(t,o,n){const a=this;if(a.removed&&t!=="remove"&&t!=="detach")return Nr(t.toLowerCase(),o??{},a);const i=iv(a).dispatch(t,o);if(n!==!1&&a.parent){let c=a.parent();for(;c&&!i.isPropagationStopped();)c.dispatch(t,i,!1),c=c.parent?c.parent():void 0}return i},on(t,o,n){return iv(this).on(t,o,n)},off(t,o){return iv(this).off(t,o)},once(t,o){return iv(this).once(t,o)},hasEventListeners(t){return iv(this).has(t)}},Rk=wr.DOM;let Uh;const lv=(t,o)=>{if(o==="selectionchange")return t.getDoc();if(!t.inline&&/^(?:mouse|touch|click|contextmenu|drop|dragover|dragend)/.test(o))return t.getDoc().documentElement;const n=vb(t);return n?(t.eventRoot||(t.eventRoot=Rk.select(n)[0]),t.eventRoot):t.getBody()},m3=(t,o,n)=>{(a=>!a.hidden&&!$h(a))(t)?t.dispatch(o,n):$h(t)&&((a,i)=>{if((c=>c.type==="click")(i)&&!mn.metaKeyPressed(i)){const c=je(i.target);((d,u)=>Yc(u,"a",f=>sa(f,je(d.getBody()))).bind(f=>wo(f,"href")))(a,c).each(d=>{if(i.preventDefault(),/^#/.test(d)){const u=a.dom.select(`${d},[name="${Is(d,"#")}"]`);u.length&&a.selection.scrollIntoView(u[0],!0)}else window.open(d,"_blank","rel=noopener noreferrer,menubar=yes,toolbar=yes,location=yes,status=yes,resizable=yes,scrollbars=yes")})}else(c=>lo(eA,c.type))(i)&&a.dispatch(i.type,i)})(t,n)},cv=(t,o)=>{if(t.delegates||(t.delegates={}),t.delegates[o]||t.removed)return;const n=lv(t,o);if(vb(t)){if(Uh||(Uh={},t.editorManager.on("removeEditor",()=>{t.editorManager.activeEditor||Uh&&(Ft(Uh,(i,c)=>{t.dom.unbind(lv(t,c))}),Uh=null)})),Uh[o])return;const a=i=>{const c=i.target,d=t.editorManager.get();let u=d.length;for(;u--;){const f=d[u].getBody();(f===c||Rk.isChildOf(c,f))&&m3(d[u],o,i)}};Uh[o]=a,Rk.bind(n,o,a)}else{const a=i=>{m3(t,o,i)};Rk.bind(n,o,a),t.delegates[o]=a}},oA={...zf,bindPendingEventDelegates(){const t=this;go.each(t._pendingNativeEvents,o=>{cv(t,o)})},toggleNativeEvent(t,o){const n=this;t!=="focus"&&t!=="blur"&&(n.removed||(o?n.initialized?cv(n,t):n._pendingNativeEvents?n._pendingNativeEvents.push(t):n._pendingNativeEvents=[t]:n.initialized&&n.delegates&&(n.dom.unbind(lv(n,t),t,n.delegates[t]),delete n.delegates[t])))},unbindAllNativeEvents(){const t=this,o=t.getBody(),n=t.dom;t.delegates&&(Ft(t.delegates,(a,i)=>{t.dom.unbind(lv(t,i),i,a)}),delete t.delegates),!t.inline&&o&&n&&(o.onload=null,n.unbind(t.getWin()),n.unbind(t.getDoc())),n&&(n.unbind(o),n.unbind(t.getContainer()))}},n5=t=>Ue(t)?{value:t.split(/[ ,]/),valid:!0}:Yo(t,Ue)?{value:t,valid:!0}:{valid:!1,message:"The value must be a string[] or a comma/space separated string."},nA=(t,o)=>t+(sr(o.message)?"":`. ${o.message}`),rA=t=>t.valid,g3=(t,o,n="")=>{const a=o(t);return Dt(a)?a?{value:t,valid:!0}:{valid:!1,message:n}:a},r5=["design","readonly"],aA=(t,o,n,a)=>{const i=n[o.get()],c=n[a];try{c.activate()}catch(d){return void console.error(`problem while activating editor mode ${a}:`,d)}i.deactivate(),i.editorReadOnly!==c.editorReadOnly&&((d,u)=>{const f=je(d.getBody());((y,v,k)=>{Vi(y,v)&&!k?Js(y,v):k&&ks(y,v)})(f,"mce-content-readonly",u),u?(d.selection.controlSelection.hideResizeRect(),d._selectionOverrides.hideFakeCaret(),(y=>{V.from(y.selection.getNode()).each(v=>{v.removeAttribute("data-mce-selected")})})(d),d.readonly=!0,Dk(f,!1),Se(wa(f,'*[contenteditable="true"]'),y=>{Q(y,Tf,"true"),Dk(y,!1)})):(d.readonly=!1,d.hasEditableRoot()&&Dk(f,!0),Se(wa(f,`*[${Tf}="true"]`),y=>{U(y,Tf),Dk(y,!0)}),Mk(d,"StyleWithCSS",!1),Mk(d,"enableInlineTableEditing",!1),Mk(d,"enableObjectResizing",!1),r4(d)&&d.focus(),(y=>{y.selection.setRng(y.selection.getRng())})(d),d.nodeChanged())})(t,c.editorReadOnly),o.set(a),((d,u)=>{d.dispatch("SwitchMode",{mode:u})})(t,a)},p3=go.each,f3=go.explode,a5={f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123},Ja=go.makeMap("alt,ctrl,shift,meta,access"),sA=t=>{const o={},n=Rn.os.isMacOS()||Rn.os.isiOS();p3(f3(t.toLowerCase(),"+"),c=>{(d=>d in Ja)(c)?o[c]=!0:/^[0-9]{2,}$/.test(c)?o.keyCode=parseInt(c,10):(o.charCode=c.charCodeAt(0),o.keyCode=a5[c]||c.toUpperCase().charCodeAt(0))});const a=[o.keyCode];let i;for(i in Ja)o[i]?a.push(i):o[i]=!1;return o.id=a.join(","),o.access&&(o.alt=!0,n?o.ctrl=!0:o.shift=!0),o.meta&&(n?o.meta=!0:(o.ctrl=!0,o.meta=!1)),o};class Bk{constructor(o){this.shortcuts={},this.pendingPatterns=[],this.editor=o;const n=this;o.on("keyup keypress keydown",a=>{!n.hasModifier(a)&&!n.isFunctionKey(a)||a.isDefaultPrevented()||(p3(n.shortcuts,i=>{n.matchShortcut(a,i)&&(n.pendingPatterns=i.subpatterns.slice(0),a.type==="keydown"&&n.executeShortcutAction(i))}),n.matchShortcut(a,n.pendingPatterns[0])&&(n.pendingPatterns.length===1&&a.type==="keydown"&&n.executeShortcutAction(n.pendingPatterns[0]),n.pendingPatterns.shift()))})}add(o,n,a,i){const c=this,d=c.normalizeCommandFunc(a);return p3(f3(go.trim(o)),u=>{const f=c.createShortcut(u,n,d,i);c.shortcuts[f.id]=f}),!0}remove(o){const n=this.createShortcut(o);return!!this.shortcuts[n.id]&&(delete this.shortcuts[n.id],!0)}normalizeCommandFunc(o){const n=this,a=o;return typeof a=="string"?()=>{n.editor.execCommand(a,!1,null)}:go.isArray(a)?()=>{n.editor.execCommand(a[0],a[1],a[2])}:a}createShortcut(o,n,a,i){const c=go.map(f3(o,">"),sA);return c[c.length-1]=go.extend(c[c.length-1],{func:a,scope:i||this.editor}),go.extend(c[0],{desc:this.editor.translate(n),subpatterns:c.slice(1)})}hasModifier(o){return o.altKey||o.ctrlKey||o.metaKey}isFunctionKey(o){return o.type==="keydown"&&o.keyCode>=112&&o.keyCode<=123}matchShortcut(o,n){return!!n&&n.ctrl===o.ctrlKey&&n.meta===o.metaKey&&n.alt===o.altKey&&n.shift===o.shiftKey&&!!(o.keyCode===n.keyCode||o.charCode&&o.charCode===n.charCode)&&(o.preventDefault(),!0)}executeShortcutAction(o){return o.func?o.func.call(o.scope):null}}const iA=()=>{const t=(()=>{const o={},n={},a={},i={},c={},d={},u={},f={},y=(v,k)=>(E,B)=>{v[E.toLowerCase()]={...B,type:k}};return{addButton:y(o,"button"),addGroupToolbarButton:y(o,"grouptoolbarbutton"),addToggleButton:y(o,"togglebutton"),addMenuButton:y(o,"menubutton"),addSplitButton:y(o,"splitbutton"),addMenuItem:y(n,"menuitem"),addNestedMenuItem:y(n,"nestedmenuitem"),addToggleMenuItem:y(n,"togglemenuitem"),addAutocompleter:y(a,"autocompleter"),addContextMenu:y(c,"contextmenu"),addContextToolbar:y(d,"contexttoolbar"),addContextForm:y(d,"contextform"),addSidebar:y(u,"sidebar"),addView:y(f,"views"),addIcon:(v,k)=>i[v.toLowerCase()]=k,getAll:()=>({buttons:o,menuItems:n,icons:i,popups:a,contextMenus:c,contextToolbars:d,sidebars:u,views:f})}})();return{addAutocompleter:t.addAutocompleter,addButton:t.addButton,addContextForm:t.addContextForm,addContextMenu:t.addContextMenu,addContextToolbar:t.addContextToolbar,addIcon:t.addIcon,addMenuButton:t.addMenuButton,addMenuItem:t.addMenuItem,addNestedMenuItem:t.addNestedMenuItem,addSidebar:t.addSidebar,addSplitButton:t.addSplitButton,addToggleButton:t.addToggleButton,addGroupToolbarButton:t.addGroupToolbarButton,addToggleMenuItem:t.addToggleMenuItem,addView:t.addView,getAll:t.getAll}},Af=wr.DOM,Fk=go.extend,s5=go.each;class Lk{constructor(o,n,a){this.plugins={},this.contentCSS=[],this.contentStyles=[],this.loadedCSS={},this.isNotDirty=!1,this.composing=!1,this.destroyed=!1,this.hasHiddenInput=!1,this.iframeElement=null,this.initialized=!1,this.readonly=!1,this.removed=!1,this.startContent="",this._pendingNativeEvents=[],this._skinLoaded=!1,this._editableRoot=!0,this.editorManager=a,this.documentBaseUrl=a.documentBaseURL,Fk(this,oA);const i=this;this.id=o,this.hidden=!1;const c=((B,O)=>QO(Zz||JO,Zz,O,B,O))(a.defaultOptions,n);this.options=((B,O)=>{const P={},M={},j=(K,re,ee)=>{const ke=g3(re,ee);return rA(ke)?(M[K]=ke.value,!0):(console.warn(nA(`Invalid value passed for the ${K} option`,ke)),!1)},q=K=>ln(P,K);return{register:(K,re)=>{const ee=(et=>Ue(et.processor))(re)?(et=>{const st=(()=>{switch(et){case"array":return co;case"boolean":return Dt;case"function":return de;case"number":return rt;case"object":return it;case"string":return Ue;case"string[]":return n5;case"object[]":return mt=>Yo(mt,it);case"regexp":return mt=>To(mt,RegExp);default:return Bt}})();return mt=>g3(mt,st,`The value must be a ${et}.`)})(re.processor):re.processor,ke=((et,st,mt)=>{if(!fo(st)){const kt=g3(st,mt);if(rA(kt))return kt.value;console.error(nA(`Invalid default value passed for the "${et}" option`,kt))}})(K,re.default,ee);P[K]={...re,default:ke,processor:ee},Fn(M,K).orThunk(()=>Fn(O,K)).each(et=>j(K,et,ee))},isRegistered:q,get:K=>Fn(M,K).orThunk(()=>Fn(P,K).map(re=>re.default)).getOrUndefined(),set:(K,re)=>{if(q(K)){const ee=P[K];return ee.immutable?(console.error(`"${K}" is an immutable option and cannot be updated`),!1):j(K,re,ee.processor)}return console.warn(`"${K}" is not a registered option. Ensure the option has been registered before setting a value.`),!1},unset:K=>{const re=q(K);return re&&delete M[K],re},isSet:K=>ln(M,K)}})(0,c),(B=>{const O=B.options.register;O("id",{processor:"string",default:B.id}),O("selector",{processor:"string"}),O("target",{processor:"object"}),O("suffix",{processor:"string"}),O("cache_suffix",{processor:"string"}),O("base_url",{processor:"string"}),O("referrer_policy",{processor:"string",default:""}),O("language_load",{processor:"boolean",default:!0}),O("inline",{processor:"boolean",default:!1}),O("iframe_attrs",{processor:"object",default:{}}),O("doctype",{processor:"string",default:"<!DOCTYPE html>"}),O("document_base_url",{processor:"string",default:B.documentBaseUrl}),O("body_id",{processor:Wf(B,"tinymce"),default:"tinymce"}),O("body_class",{processor:Wf(B),default:""}),O("content_security_policy",{processor:"string",default:""}),O("br_in_pre",{processor:"boolean",default:!0}),O("forced_root_block",{processor:P=>{const M=Ue(P)&&nn(P);return M?{value:P,valid:M}:{valid:!1,message:"Must be a non-empty string."}},default:"p"}),O("forced_root_block_attrs",{processor:"object",default:{}}),O("newline_behavior",{processor:P=>{const M=lo(["block","linebreak","invert","default"],P);return M?{value:P,valid:M}:{valid:!1,message:"Must be one of: block, linebreak, invert or default."}},default:"default"}),O("br_newline_selector",{processor:"string",default:".mce-toc h2,figcaption,caption"}),O("no_newline_selector",{processor:"string",default:""}),O("keep_styles",{processor:"boolean",default:!0}),O("end_container_on_empty_block",{processor:P=>Dt(P)||Ue(P)?{valid:!0,value:P}:{valid:!1,message:"Must be boolean or a string"},default:"blockquote"}),O("font_size_style_values",{processor:"string",default:"xx-small,x-small,small,medium,large,x-large,xx-large"}),O("font_size_legacy_values",{processor:"string",default:"xx-small,small,medium,large,x-large,xx-large,300%"}),O("font_size_classes",{processor:"string",default:""}),O("automatic_uploads",{processor:"boolean",default:!0}),O("images_reuse_filename",{processor:"boolean",default:!1}),O("images_replace_blob_uris",{processor:"boolean",default:!0}),O("icons",{processor:"string",default:""}),O("icons_url",{processor:"string",default:""}),O("images_upload_url",{processor:"string",default:""}),O("images_upload_base_path",{processor:"string",default:""}),O("images_upload_credentials",{processor:"boolean",default:!1}),O("images_upload_handler",{processor:"function"}),O("language",{processor:"string",default:"en"}),O("language_url",{processor:"string",default:""}),O("entity_encoding",{processor:"string",default:"named"}),O("indent",{processor:"boolean",default:!0}),O("indent_before",{processor:"string",default:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,details,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist"}),O("indent_after",{processor:"string",default:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,details,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist"}),O("indent_use_margin",{processor:"boolean",default:!1}),O("indentation",{processor:"string",default:"40px"}),O("content_css",{processor:P=>{const M=P===!1||Ue(P)||Yo(P,Ue);return M?Ue(P)?{value:to(P.split(","),wt),valid:M}:co(P)?{value:P,valid:M}:P===!1?{value:[],valid:M}:{value:P,valid:M}:{valid:!1,message:"Must be false, a string or an array of strings."}},default:Cg(B)?[]:["default"]}),O("content_style",{processor:"string"}),O("content_css_cors",{processor:"boolean",default:!1}),O("font_css",{processor:P=>{const M=Ue(P)||Yo(P,Ue);return M?{value:co(P)?P:to(P.split(","),wt),valid:M}:{valid:!1,message:"Must be a string or an array of strings."}},default:[]}),O("inline_boundaries",{processor:"boolean",default:!0}),O("inline_boundaries_selector",{processor:"string",default:"a[href],code,span.mce-annotation"}),O("object_resizing",{processor:P=>{const M=Dt(P)||Ue(P);return M?P===!1||qf.isiPhone()||qf.isiPad()?{value:"",valid:M}:{value:P===!0?"table,img,figure.image,div,video,iframe":P,valid:M}:{valid:!1,message:"Must be boolean or a string"}},default:!_v}),O("resize_img_proportional",{processor:"boolean",default:!0}),O("event_root",{processor:"object"}),O("service_message",{processor:"string"}),O("theme",{processor:P=>P===!1||Ue(P)||de(P),default:"silver"}),O("theme_url",{processor:"string"}),O("formats",{processor:"object"}),O("format_empty_lines",{processor:"boolean",default:!1}),O("format_noneditable_selector",{processor:"string",default:""}),O("preview_styles",{processor:P=>{const M=P===!1||Ue(P);return M?{value:P===!1?"":P,valid:M}:{valid:!1,message:"Must be false or a string"}},default:"font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow"}),O("custom_ui_selector",{processor:"string",default:""}),O("hidden_input",{processor:"boolean",default:!0}),O("submit_patch",{processor:"boolean",default:!0}),O("encoding",{processor:"string"}),O("add_form_submit_trigger",{processor:"boolean",default:!0}),O("add_unload_trigger",{processor:"boolean",default:!0}),O("custom_undo_redo_levels",{processor:"number",default:0}),O("disable_nodechange",{processor:"boolean",default:!1}),O("readonly",{processor:"boolean",default:!1}),O("editable_root",{processor:"boolean",default:!0}),O("plugins",{processor:"string[]",default:[]}),O("external_plugins",{processor:"object"}),O("forced_plugins",{processor:"string[]"}),O("model",{processor:"string",default:B.hasPlugin("rtc")?"plugin":"dom"}),O("model_url",{processor:"string"}),O("block_unsupported_drop",{processor:"boolean",default:!0}),O("visual",{processor:"boolean",default:!0}),O("visual_table_class",{processor:"string",default:"mce-item-table"}),O("visual_anchor_class",{processor:"string",default:"mce-item-anchor"}),O("iframe_aria_text",{processor:"string",default:"Rich Text Area. Press ALT-0 for help."}),O("setup",{processor:"function"}),O("init_instance_callback",{processor:"function"}),O("url_converter",{processor:"function",default:B.convertURL}),O("url_converter_scope",{processor:"object",default:B}),O("urlconverter_callback",{processor:"function"}),O("allow_conditional_comments",{processor:"boolean",default:!1}),O("allow_html_data_urls",{processor:"boolean",default:!1}),O("allow_svg_data_urls",{processor:"boolean"}),O("allow_html_in_named_anchor",{processor:"boolean",default:!1}),O("allow_script_urls",{processor:"boolean",default:!1}),O("allow_unsafe_link_target",{processor:"boolean",default:!1}),O("convert_fonts_to_spans",{processor:"boolean",default:!0,deprecated:!0}),O("fix_list_elements",{processor:"boolean",default:!1}),O("preserve_cdata",{processor:"boolean",default:!1}),O("remove_trailing_brs",{processor:"boolean",default:!0}),O("pad_empty_with_br",{processor:"boolean",default:!1}),O("inline_styles",{processor:"boolean",default:!0,deprecated:!0}),O("element_format",{processor:"string",default:"html"}),O("entities",{processor:"string"}),O("schema",{processor:"string",default:"html5"}),O("convert_urls",{processor:"boolean",default:!0}),O("relative_urls",{processor:"boolean",default:!0}),O("remove_script_host",{processor:"boolean",default:!0}),O("custom_elements",{processor:"string"}),O("extended_valid_elements",{processor:"string"}),O("invalid_elements",{processor:"string"}),O("invalid_styles",{processor:Ri}),O("valid_children",{processor:"string"}),O("valid_classes",{processor:Ri}),O("valid_elements",{processor:"string"}),O("valid_styles",{processor:Ri}),O("verify_html",{processor:"boolean",default:!0}),O("auto_focus",{processor:P=>Ue(P)||P===!0}),O("browser_spellcheck",{processor:"boolean",default:!1}),O("protect",{processor:"array"}),O("images_file_types",{processor:"string",default:"jpeg,jpg,jpe,jfi,jif,jfif,png,gif,bmp,webp"}),O("deprecation_warnings",{processor:"boolean",default:!0}),O("a11y_advanced_options",{processor:"boolean",default:!1}),O("api_key",{processor:"string"}),O("paste_block_drop",{processor:"boolean",default:!1}),O("paste_data_images",{processor:"boolean",default:!0}),O("paste_preprocess",{processor:"function"}),O("paste_postprocess",{processor:"function"}),O("paste_webkit_styles",{processor:"string",default:"none"}),O("paste_remove_styles_if_webkit",{processor:"boolean",default:!0}),O("paste_merge_formats",{processor:"boolean",default:!0}),O("smart_paste",{processor:"boolean",default:!0}),O("paste_as_text",{processor:"boolean",default:!1}),O("paste_tab_spaces",{processor:"number",default:4}),O("text_patterns",{processor:P=>Yo(P,it)||P===!1?{value:kv(P===!1?[]:P),valid:!0}:{valid:!1,message:"Must be an array of objects or false."},default:[{start:"*",end:"*",format:"italic"},{start:"**",end:"**",format:"bold"},{start:"#",format:"h1"},{start:"##",format:"h2"},{start:"###",format:"h3"},{start:"####",format:"h4"},{start:"#####",format:"h5"},{start:"######",format:"h6"},{start:"1. ",cmd:"InsertOrderedList"},{start:"* ",cmd:"InsertUnorderedList"},{start:"- ",cmd:"InsertUnorderedList"}]}),O("text_patterns_lookup",{processor:P=>{return de(P)?{value:(M=P,j=>{const q=M(j);return kv(q)}),valid:!0}:{valid:!1,message:"Must be a single function"};var M},default:P=>[]}),O("noneditable_class",{processor:"string",default:"mceNonEditable"}),O("editable_class",{processor:"string",default:"mceEditable"}),O("noneditable_regexp",{processor:P=>Yo(P,Oo)?{value:P,valid:!0}:Oo(P)?{value:[P],valid:!0}:{valid:!1,message:"Must be a RegExp or an array of RegExp."},default:[]}),O("table_tab_navigation",{processor:"boolean",default:!0}),O("highlight_on_focus",{processor:"boolean",default:!1}),O("xss_sanitization",{processor:"boolean",default:!0}),O("details_initial_state",{processor:P=>{const M=lo(["inherited","collapsed","expanded"],P);return M?{value:P,valid:M}:{valid:!1,message:"Must be one of: inherited, collapsed, or expanded."}},default:"inherited"}),O("details_serialized_state",{processor:P=>{const M=lo(["inherited","collapsed","expanded"],P);return M?{value:P,valid:M}:{valid:!1,message:"Must be one of: inherited, collapsed, or expanded."}},default:"inherited"}),O("init_content_sync",{processor:"boolean",default:!1}),O("newdocument_content",{processor:"string",default:""}),O("force_hex_color",{processor:P=>{const M=["always","rgb_only","off"],j=lo(M,P);return j?{value:P,valid:j}:{valid:!1,message:`Must be one of: ${M.join(", ")}.`}},default:"off"}),O("sandbox_iframes",{processor:"boolean",default:!1}),O("convert_unsafe_embeds",{processor:"boolean",default:!1}),B.on("ScriptsLoaded",()=>{O("directionality",{processor:"string",default:Zi.isRtl()?"rtl":void 0}),O("placeholder",{processor:"string",default:i1.getAttrib(B.getElement(),"placeholder")})})})(i);const d=this.options.get;d("deprecation_warnings")&&((B,O)=>{((P,M)=>{const j=kE(P),q=dO(M),K=q.length>0,re=j.length>0,ee=M.theme==="mobile";if(K||re||ee){const ke=`
- `,et=ee?`

Themes:${ke}mobile`:"",st=K?`

Plugins:${ke}${q.join(ke)}`:"",mt=re?`

Options:${ke}${j.join(ke)}`:"";console.warn("The following deprecated features are currently enabled and have been removed in TinyMCE 6.0. These features will no longer work and should be removed from the TinyMCE configuration. See https://www.tiny.cloud/docs/tinymce/6/migration-from-5x/ for more information."+et+st+mt)}})(B,O),((P,M)=>{const j=K2(P),q=dw(M),K=q.length>0,re=j.length>0;if(K||re){const ee=`
- `,ke=K?`

Plugins:${ee}${q.map(hc).join(ee)}`:"",et=re?`

Options:${ee}${j.join(ee)}`:"";console.warn("The following deprecated features are currently enabled but will be removed soon."+ke+et)}})(B,O)})(n,c);const u=d("suffix");u&&(a.suffix=u),this.suffix=a.suffix;const f=d("base_url");f&&a._setBaseUrl(f),this.baseUri=a.baseURI;const y=Hu(i);y&&(Jr.ScriptLoader._setReferrerPolicy(y),wr.DOM.styleSheetLoader._setReferrerPolicy(y));const v=Ov(i);Ze(v)&&wr.DOM.styleSheetLoader._setContentCssCors(v),bl.languageLoad=d("language_load"),bl.baseURL=a.baseURL,this.setDirty(!1),this.documentBaseURI=new Wu(tc(i),{base_uri:this.baseUri}),this.baseURI=this.baseUri,this.inline=Cg(i),this.hasVisual=_b(i),this.shortcuts=new Bk(this),this.editorCommands=new Nk(this),Xz(this);const k=d("cache_suffix");k&&(Rn.cacheSuffix=k.replace(/^[\?\&]+/,"")),this.ui={registry:iA(),styleSheetLoader:void 0,show:$t,hide:$t,setEnabled:$t,isEnabled:Bt},this.mode=(B=>{const O=bi("design"),P=bi({design:{activate:$t,deactivate:$t,editorReadOnly:!1},readonly:{activate:$t,deactivate:$t,editorReadOnly:!0}});return(M=>{M.serializer?Qz(M):M.on("PreInit",()=>{Qz(M)})})(B),(M=>{M.on("ShowCaret",j=>{$h(M)&&j.preventDefault()}),M.on("ObjectSelected",j=>{$h(M)&&j.preventDefault()})})(B),{isReadOnly:()=>$h(B),set:M=>((j,q,K,re)=>{if(re!==K.get()){if(!ln(q,re))throw new Error(`Editor mode '${re}' is invalid`);j.initialized?aA(j,K,q,re):j.on("init",()=>aA(j,K,q,re))}})(B,P.get(),O,M),get:()=>O.get(),register:(M,j)=>{P.set(((q,K,re)=>{if(lo(r5,K))throw new Error(`Cannot override default mode ${K}`);return{...q,[K]:{...re,deactivate:()=>{try{re.deactivate()}catch(ee){console.error(`problem while deactivating editor mode ${K}:`,ee)}}}}})(P.get(),M,j))}}})(i),a.dispatch("SetupEditor",{editor:this});const E=iu(i);de(E)&&E.call(i,i)}render(){(o=>{const n=o.id;Zi.setCode(vg(o));const a=()=>{Cf.unbind(window,"ready",a),o.render()};if(!zd.Event.domLoaded)return void Cf.bind(window,"ready",a);if(!o.getElement())return;const i=je(o.getElement()),c=oe(i);o.on("remove",()=>{$e(i.dom.attributes,u=>U(i,u.name)),Ee(i,c)}),o.ui.styleSheetLoader=((u,f)=>Hm.forElement(u,{contentCssCors:Ov(f),referrerPolicy:Hu(f)}))(i,o),Cg(o)?o.inline=!0:(o.orgVisibility=o.getElement().style.visibility,o.getElement().style.visibility="hidden");const d=o.getElement().form||Cf.getParent(n,"form");d&&(o.formElement=d,wb(o)&&!oi(o.getElement())&&(Cf.insertAfter(Cf.create("input",{type:"hidden",name:n}),n),o.hasHiddenInput=!0),o.formEventDelegate=u=>{o.dispatch(u.type,u)},Cf.bind(d,"submit reset",o.formEventDelegate),o.on("reset",()=>{o.resetContent()}),!Av(o)||d.submit.nodeType||d.submit.length||d._mceOldSubmit||(d._mceOldSubmit=d.submit,d.submit=()=>(o.editorManager.triggerSave(),o.setDirty(!1),d._mceOldSubmit(d)))),o.windowManager=uw(o),o.notificationManager=Q2(o),(u=>u.options.get("encoding")==="xml")(o)&&o.on("GetContent",u=>{u.save&&(u.content=Cf.encode(u.content))}),m1(o)&&o.on("submit",()=>{o.initialized&&o.save()}),kb(o)&&(o._beforeUnload=()=>{!o.initialized||o.destroyed||o.isHidden()||o.save({format:"raw",no_events:!0,set_dirty:!1})},o.editorManager.on("BeforeUnload",o._beforeUnload)),o.editorManager.add(o),XO(o,o.suffix)})(this)}focus(o){this.execCommand("mceFocus",!1,o)}hasFocus(){return rf(this)}translate(o){return Zi.translate(o)}getParam(o,n,a){const i=this.options;return i.isRegistered(o)||(Ze(a)?i.register(o,{processor:a,default:n}):i.register(o,{processor:Bt,default:n})),i.isSet(o)||fo(n)?i.get(o):n}hasPlugin(o,n){return!(!lo(qm(this),o)||n&&by.get(o)===void 0)}nodeChanged(o){this._nodeChangeDispatcher.nodeChanged(o)}addCommand(o,n,a){this.editorCommands.addCommand(o,n,a)}addQueryStateHandler(o,n,a){this.editorCommands.addQueryStateHandler(o,n,a)}addQueryValueHandler(o,n,a){this.editorCommands.addQueryValueHandler(o,n,a)}addShortcut(o,n,a,i){this.shortcuts.add(o,n,a,i)}execCommand(o,n,a,i){return this.editorCommands.execCommand(o,n,a,i)}queryCommandState(o){return this.editorCommands.queryCommandState(o)}queryCommandValue(o){return this.editorCommands.queryCommandValue(o)}queryCommandSupported(o){return this.editorCommands.queryCommandSupported(o)}show(){const o=this;o.hidden&&(o.hidden=!1,o.inline?o.getBody().contentEditable="true":(Af.show(o.getContainer()),Af.hide(o.id)),o.load(),o.dispatch("show"))}hide(){const o=this;o.hidden||(o.save(),o.inline?(o.getBody().contentEditable="false",o===o.editorManager.focusedEditor&&(o.editorManager.focusedEditor=null)):(Af.hide(o.getContainer()),Af.setStyle(o.id,"display",o.orgDisplay)),o.hidden=!0,o.dispatch("hide"))}isHidden(){return this.hidden}setProgressState(o,n){this.dispatch("ProgressState",{state:o,time:n})}load(o={}){const n=this,a=n.getElement();if(n.removed)return"";if(a){const i={...o,load:!0},c=oi(a)?a.value:a.innerHTML,d=n.setContent(c,i);return i.no_events||n.dispatch("LoadContent",{...i,element:a}),d}return""}save(o={}){const n=this;let a=n.getElement();if(!a||!n.initialized||n.removed)return"";const i={...o,save:!0,element:a};let c=n.getContent(i);const d={...i,content:c};if(d.no_events||n.dispatch("SaveContent",d),d.format==="raw"&&n.dispatch("RawSaveContent",d),c=d.content,oi(a))a.value=c;else{!o.is_removing&&n.inline||(a.innerHTML=c);const u=Af.getParent(n.id,"form");u&&s5(u.elements,f=>f.name!==n.id||(f.value=c,!1))}return d.element=i.element=a=null,d.set_dirty!==!1&&n.setDirty(!1),c}setContent(o,n){return v0(this,o,n)}getContent(o){return((n,a={})=>{const i=((c,d)=>({...c,format:d,get:!0,getInner:!0}))(a,a.format?a.format:"html");return L2(n,i).fold(R,c=>{const d=((u,f)=>iw(u).editor.getContent(f))(n,c);return I2(n,d,c)})})(this,o)}insertContent(o,n){n&&(o=Fk({content:o},n)),this.execCommand("mceInsertContent",!1,o)}resetContent(o){o===void 0?v0(this,this.startContent,{format:"raw"}):v0(this,o),this.undoManager.reset(),this.setDirty(!1),this.nodeChanged()}isDirty(){return!this.isNotDirty}setDirty(o){const n=!this.isNotDirty;this.isNotDirty=!o,o&&o!==n&&this.dispatch("dirty")}getContainer(){const o=this;return o.container||(o.container=o.editorContainer||Af.get(o.id+"_parent")),o.container}getContentAreaContainer(){return this.contentAreaContainer}getElement(){return this.targetElm||(this.targetElm=Af.get(this.id)),this.targetElm}getWin(){const o=this;if(!o.contentWindow){const n=o.iframeElement;n&&(o.contentWindow=n.contentWindow)}return o.contentWindow}getDoc(){const o=this;if(!o.contentDocument){const n=o.getWin();n&&(o.contentDocument=n.document)}return o.contentDocument}getBody(){var o,n;const a=this.getDoc();return(n=(o=this.bodyElement)!==null&&o!==void 0?o:a?.body)!==null&&n!==void 0?n:null}convertURL(o,n,a){const i=this,c=i.options.get,d=Mv(i);if(de(d))return d.call(i,o,a,!0,n);if(!c("convert_urls")||a==="link"||it(a)&&a.nodeName==="LINK"||o.indexOf("file:")===0||o.length===0)return o;const u=new Wu(o);return u.protocol!=="http"&&u.protocol!=="https"&&u.protocol!==""?o:c("relative_urls")?i.documentBaseURI.toRelative(o):o=i.documentBaseURI.toAbsolute(o,c("remove_script_host"))}addVisual(o){((n,a)=>{((i,c)=>{Li(i).editor.addVisual(c)})(n,a)})(this,o)}setEditableRoot(o){((n,a)=>{n._editableRoot!==a&&(n._editableRoot=a,n.readonly||(n.getBody().contentEditable=String(n.hasEditableRoot()),n.nodeChanged()),((i,c)=>{i.dispatch("EditableRootStateChange",{state:c})})(n,a))})(this,o)}hasEditableRoot(){return this._editableRoot}remove(){(o=>{if(!o.removed){const{_selectionOverrides:n,editorUpload:a}=o,i=o.getBody(),c=o.getElement();i&&o.save({is_removing:!0}),o.removed=!0,o.unbindAllNativeEvents(),o.hasHiddenInput&&Ze(c?.nextSibling)&&Th.remove(c.nextSibling),(d=>{d.dispatch("remove")})(o),o.editorManager.remove(o),!o.inline&&i&&(d=>{Th.setStyle(d.id,"display",d.orgDisplay)})(o),(d=>{d.dispatch("detach")})(o),Th.remove(o.getContainer()),Jm(n),Jm(a),o.destroy()}})(this)}destroy(o){((n,a)=>{const{selection:i,dom:c}=n;n.destroyed||(a||n.removed?(a||(n.editorManager.off("beforeunload",n._beforeUnload),n.theme&&n.theme.destroy&&n.theme.destroy(),Jm(i),Jm(c)),(d=>{const u=d.formElement;u&&(u._mceOldSubmit&&(u.submit=u._mceOldSubmit,delete u._mceOldSubmit),Th.unbind(u,"submit reset",d.formEventDelegate))})(n),(d=>{const u=d;u.contentAreaContainer=u.formElement=u.container=u.editorContainer=null,u.bodyElement=u.contentDocument=u.contentWindow=null,u.iframeElement=u.targetElm=null;const f=d.selection;if(f){const y=f.dom;u.selection=f.win=f.dom=y.doc=null}})(n),n.destroyed=!0):n.remove())})(this,o)}uploadImages(){return this.editorUpload.uploadImages()}_scanForImages(){return this.editorUpload.scanForImages()}}const Zh=wr.DOM,Ik=go.each;let Pk,qh=!1,Zc=[];const gp=t=>{const o=t.type;Ik(pp.get(),n=>{switch(o){case"scroll":n.dispatch("ScrollWindow",t);break;case"resize":n.dispatch("ResizeWindow",t)}})},Uy=t=>{if(t!==qh){const o=wr.DOM;t?(o.bind(window,"resize",gp),o.bind(window,"scroll",gp)):(o.unbind(window,"resize",gp),o.unbind(window,"scroll",gp)),qh=t}},Wh=t=>{const o=Zc;return Zc=gt(Zc,n=>t!==n),pp.activeEditor===t&&(pp.activeEditor=Zc.length>0?Zc[0]:null),pp.focusedEditor===t&&(pp.focusedEditor=null),o.length!==Zc.length},h3=document.compatMode!=="CSS1Compat",pp={...zf,baseURI:null,baseURL:null,defaultOptions:{},documentBaseURL:null,suffix:null,majorVersion:"6",minorVersion:"8.3",releaseDate:"2024-02-08",i18n:Zi,activeEditor:null,focusedEditor:null,setup(){const t=this;let o="",n="",a=Wu.getDocumentBaseUrl(document.location);/^[^:]+:\/\/\/?[^\/]+\//.test(a)&&(a=a.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(a)||(a+="/"));const i=window.tinymce||window.tinyMCEPreInit;if(i)o=i.base||i.baseURL,n=i.suffix;else{const d=document.getElementsByTagName("script");for(let u=0;u<d.length;u++){const f=d[u].src||"";if(f==="")continue;const y=f.substring(f.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(f)){y.indexOf(".min")!==-1&&(n=".min"),o=f.substring(0,f.lastIndexOf("/"));break}}if(!o&&document.currentScript){const u=document.currentScript.src;u.indexOf(".min")!==-1&&(n=".min"),o=u.substring(0,u.lastIndexOf("/"))}}var c;t.baseURL=new Wu(a).toAbsolute(o),t.documentBaseURL=a,t.baseURI=new Wu(t.baseURL),t.suffix=n,(c=t).on("AddEditor",Je(OA,c)),c.on("RemoveEditor",Je(NA,c))},overrideDefaults(t){const o=t.base_url;o&&this._setBaseUrl(o);const n=t.suffix;n&&(this.suffix=n),this.defaultOptions=t;const a=t.plugin_base_urls;a!==void 0&&Ft(a,(i,c)=>{bl.PluginManager.urls[c]=i})},init(t){const o=this;let n;const a=go.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option table tbody tfoot thead tr th td script noscript style textarea video audio iframe object menu"," ");let i=d=>{n=d};const c=()=>{let d=0;const u=[];let f;Zh.unbind(window,"ready",c),(y=>{const v=t.onpageload;v&&v.apply(o,[])})(),f=((y,v)=>{const k=[],E=de(v)?B=>zo(k,O=>v(O,B)):B=>lo(k,B);for(let B=0,O=y.length;B<O;B++){const P=y[B];E(P)||k.push(P)}return k})((y=>Rn.browser.isIE()||Rn.browser.isEdge()?(yy("TinyMCE does not support the browser you are using. For a list of supported browsers please see: https://www.tiny.cloud/docs/tinymce/6/support/#supportedwebbrowsers"),[]):h3?(yy("Failed to initialize the editor as the document is not in standards mode. TinyMCE requires standards mode."),[]):Ue(y.selector)?Zh.select(y.selector):Ze(y.target)?[y.target]:[])(t)),go.each(f,y=>{var v;(v=o.get(y.id))&&v.initialized&&!(v.getContainer()||v.getBody()).parentNode&&(Wh(v),v.unbindAllNativeEvents(),v.destroy(!0),v.removed=!0)}),f=go.grep(f,y=>!o.get(y.id)),f.length===0?i([]):Ik(f,y=>{((v,k)=>v.inline&&k.tagName.toLowerCase()in a)(t,y)?yy("Could not initialize inline editor on invalid inline target element",y):((v,k,E)=>{const B=new Lk(v,k,o);u.push(B),B.on("init",()=>{++d===f.length&&i(u)}),B.targetElm=B.targetElm||E,B.render()})((v=>{let k=v.id;return k||(k=Fn(v,"name").filter(E=>!Zh.get(E)).getOrThunk(Zh.uniqueId),v.setAttribute("id",k)),k})(y),t,y)})};return Zh.bind(window,"ready",c),new Promise(d=>{n?d(n):i=u=>{d(u)}})},get(t){return arguments.length===0?Zc.slice(0):Ue(t)?Fe(Zc,o=>o.id===t).getOr(null):rt(t)&&Zc[t]?Zc[t]:null},add(t){const o=this,n=o.get(t.id);return n===t||(n===null&&Zc.push(t),Uy(!0),o.activeEditor=t,o.dispatch("AddEditor",{editor:t}),Pk||(Pk=a=>{const i=o.dispatch("BeforeUnload");if(i.returnValue)return a.preventDefault(),a.returnValue=i.returnValue,i.returnValue},window.addEventListener("beforeunload",Pk))),t},createEditor(t,o){return this.add(new Lk(t,o,this))},remove(t){const o=this;let n;if(t){if(!Ue(t))return n=t,he(o.get(n.id))?null:(Wh(n)&&o.dispatch("RemoveEditor",{editor:n}),Zc.length===0&&window.removeEventListener("beforeunload",Pk),n.remove(),Uy(Zc.length>0),n);Ik(Zh.select(t),a=>{n=o.get(a.id),n&&o.remove(n)})}else for(let a=Zc.length-1;a>=0;a--)o.remove(Zc[a])},execCommand(t,o,n){var a;const i=this,c=it(n)?(a=n.id)!==null&&a!==void 0?a:n.index:n;switch(t){case"mceAddEditor":if(!i.get(c)){const d=n.options;new Lk(c,d,i).render()}return!0;case"mceRemoveEditor":{const d=i.get(c);return d&&d.remove(),!0}case"mceToggleEditor":{const d=i.get(c);return d?(d.isHidden()?d.show():d.hide(),!0):(i.execCommand("mceAddEditor",!1,n),!0)}}return!!i.activeEditor&&i.activeEditor.execCommand(t,o,n)},triggerSave:()=>{Ik(Zc,t=>{t.save()})},addI18n:(t,o)=>{Zi.add(t,o)},translate:t=>Zi.translate(t),setActive(t){const o=this.activeEditor;this.activeEditor!==t&&(o&&o.dispatch("deactivate",{relatedTarget:t}),t.dispatch("activate",{relatedTarget:o})),this.activeEditor=t},_setBaseUrl(t){this.baseURL=new Wu(this.documentBaseURL).toAbsolute(t.replace(/\/+$/,"")),this.baseURI=new Wu(this.baseURL)}};pp.setup();const lA=(()=>{const t=Ec();return{FakeClipboardItem:o=>({items:o,types:ut(o),getType:n=>Fn(o,n).getOrUndefined()}),write:o=>{t.set(o)},read:()=>t.get().getOrUndefined(),clear:t.clear}})(),Hk=Math.min,Gh=Math.max,dv=Math.round,b3=(t,o,n)=>{let a=o.x,i=o.y;const c=t.w,d=t.h,u=o.w,f=o.h,y=(n||"").split("");return y[0]==="b"&&(i+=f),y[1]==="r"&&(a+=u),y[0]==="c"&&(i+=dv(f/2)),y[1]==="c"&&(a+=dv(u/2)),y[3]==="b"&&(i-=d),y[4]==="r"&&(a-=c),y[3]==="c"&&(i-=dv(d/2)),y[4]==="c"&&(a-=dv(c/2)),Of(a,i,c,d)},Of=(t,o,n,a)=>({x:t,y:o,w:n,h:a}),cA={inflate:(t,o,n)=>Of(t.x-o,t.y-n,t.w+2*o,t.h+2*n),relativePosition:b3,findBestRelativePosition:(t,o,n,a)=>{for(let i=0;i<a.length;i++){const c=b3(t,o,a[i]);if(c.x>=n.x&&c.x+c.w<=n.w+n.x&&c.y>=n.y&&c.y+c.h<=n.h+n.y)return a[i]}return null},intersect:(t,o)=>{const n=Gh(t.x,o.x),a=Gh(t.y,o.y),i=Hk(t.x+t.w,o.x+o.w),c=Hk(t.y+t.h,o.y+o.h);return i-n<0||c-a<0?null:Of(n,a,i-n,c-a)},clamp:(t,o,n)=>{let a=t.x,i=t.y,c=t.x+t.w,d=t.y+t.h;const u=o.x+o.w,f=o.y+o.h,y=Gh(0,o.x-a),v=Gh(0,o.y-i),k=Gh(0,c-u),E=Gh(0,d-f);return a+=y,i+=v,n&&(c+=y,d+=v,a-=k,i-=E),c-=k,d-=E,Of(a,i,c-a,d-i)},create:Of,fromClientRect:t=>Of(t.left,t.top,t.width,t.height)},dA=(()=>{const t={},o={},n={};return{load:(a,i)=>{const c=`Script at URL "${i}" failed to load`,d=`Script at URL "${i}" did not call \`tinymce.Resource.add('${a}', data)\` within 1 second`;if(t[a]!==void 0)return t[a];{const u=new Promise((f,y)=>{const v=((k,E,B=1e3)=>{let O=!1,P=null;const M=K=>(...re)=>{O||(O=!0,P!==null&&(clearTimeout(P),P=null),K.apply(null,re))},j=M(k),q=M(E);return{start:(...K)=>{O||P!==null||(P=setTimeout(()=>q.apply(null,K),B))},resolve:j,reject:q}})(f,y);o[a]=v.resolve,Jr.ScriptLoader.loadScript(i).then(()=>v.start(d),()=>v.reject(c))});return t[a]=u,u}},add:(a,i)=>{o[a]!==void 0&&(o[a](i),delete o[a]),t[a]=Promise.resolve(i),n[a]=i},has:a=>a in n,get:a=>n[a],unload:a=>{delete t[a]}}})();let Kh;try{const t="__storage_test__";Kh=window.localStorage,Kh.setItem(t,t),Kh.removeItem(t)}catch{Kh=(()=>{let o={},n=[];const a={getItem:i=>o[i]||null,setItem:(i,c)=>{n.push(i),o[i]=String(c)},key:i=>n[i],removeItem:i=>{n=n.filter(c=>c===i),delete o[i]},clear:()=>{n=[],o={}},length:0};return Object.defineProperty(a,"length",{get:()=>n.length,configurable:!1,enumerable:!1}),a})()}const i5={geom:{Rect:cA},util:{Delay:uu,Tools:go,VK:mn,URI:Wu,EventDispatcher:u3,Observable:zf,I18n:Zi,LocalStorage:Kh,ImageUploader:t=>{const o=TE(),n=gw(t,o);return{upload:(a,i=!0)=>n.upload(a,i?tC(t):void 0)}}},dom:{EventUtils:zd,TreeWalker:Ns,TextSeeker:um,DOMUtils:wr,ScriptLoader:Jr,RangeUtils:nf,Serializer:Xg,StyleSheetLoader:kp,ControlSelection:H3,BookmarkManager:tf,Selection:y0,Event:zd.Event},html:{Styles:Xn,Entities:Sc,Node:pc,Schema:Du,DomParser:dy,Writer:y4,Serializer:af},Env:Rn,AddOnManager:bl,Annotator:km,Formatter:_0,UndoManager:iC,EditorCommands:Nk,WindowManager:uw,NotificationManager:Q2,EditorObservable:oA,Shortcuts:Bk,Editor:Lk,FocusManager:o4,EditorManager:pp,DOM:wr.DOM,ScriptLoader:Jr.ScriptLoader,PluginManager:by,ThemeManager:Jg,ModelManager:Kl,IconManager:w0,Resource:dA,FakeClipboard:lA,trim:go.trim,isArray:go.isArray,is:go.is,toArray:go.toArray,makeMap:go.makeMap,each:go.each,map:go.map,grep:go.grep,inArray:go.inArray,extend:go.extend,walk:go.walk,resolve:go.resolve,explode:go.explode,_addCacheSuffix:go._addCacheSuffix},y3=go.extend(pp,i5);(t=>{window.tinymce=t,window.tinyMCE=t})(y3),(t=>{try{xo.exports=t}catch{}})(y3)})()})(KM);tinymce.IconManager.add("default",{icons:{"accessibility-check":'<svg width="24" height="24"><path d="M12 2a2 2 0 0 1 2 2 2 2 0 0 1-2 2 2 2 0 0 1-2-2c0-1.1.9-2 2-2Zm8 7h-5v12c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-5c0-.6-.4-1-1-1a1 1 0 0 0-1 1v5c0 .6-.4 1-1 1a1 1 0 0 1-1-1V9H4a1 1 0 1 1 0-2h16c.6 0 1 .4 1 1s-.4 1-1 1Z" fill-rule="nonzero"/></svg>',"accordion-toggle":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M12 15c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1h-6a1 1 0 0 1-1-1Z"/><path opacity=".2" fill-rule="evenodd" clip-rule="evenodd" d="M4 15c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1-1-1Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M12 19c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1h-6a1 1 0 0 1-1-1Z"/><path opacity=".2" fill-rule="evenodd" clip-rule="evenodd" d="M4 19c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1-1-1Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M12.3 7.3a1 1 0 0 1 1.4 0L16 9.6l2.3-2.3a1 1 0 1 1 1.4 1.4L16 12.4l-3.7-3.7a1 1 0 0 1 0-1.4ZM4.3 11.7a1 1 0 0 1 0-1.4L6.6 8 4.3 5.7a1 1 0 0 1 1.4-1.4L9.4 8l-3.7 3.7a1 1 0 0 1-1.4 0Z"/></svg>',accordion:'<svg width="24" height="24"><rect x="12" y="7" width="10" height="2" rx="1"/><rect x="12" y="11" width="10" height="2" rx="1"/><rect x="12" y="15" width="6" height="2" rx="1"/><path fill-rule="evenodd" clip-rule="evenodd" d="M2.3 7.3a1 1 0 0 1 1.4 0L6 9.6l2.3-2.3a1 1 0 0 1 1.4 1.4L6 12.4 2.3 8.7a1 1 0 0 1 0-1.4Z"/></svg>',"action-next":'<svg width="24" height="24"><path fill-rule="nonzero" d="M5.7 7.3a1 1 0 0 0-1.4 1.4l7.7 7.7 7.7-7.7a1 1 0 1 0-1.4-1.4L12 13.6 5.7 7.3Z"/></svg>',"action-prev":'<svg width="24" height="24"><path fill-rule="nonzero" d="M18.3 15.7a1 1 0 0 0 1.4-1.4L12 6.6l-7.7 7.7a1 1 0 0 0 1.4 1.4L12 9.4l6.3 6.3Z"/></svg>',addtag:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M15 5a2 2 0 0 1 1.6.8L21 12l-4.4 6.2a2 2 0 0 1-1.6.8h-3v-2h3l3.5-5L15 7H5v3H3V7c0-1.1.9-2 2-2h10Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M6 12a1 1 0 0 0-1 1v2H3a1 1 0 1 0 0 2h2v2a1 1 0 1 0 2 0v-2h2a1 1 0 1 0 0-2H7v-2c0-.6-.4-1-1-1Z"/></svg>',"ai-prompt":'<svg width="24" height="24"><g clip-path="url(#a)"><path fill-rule="evenodd" clip-rule="evenodd" d="M15 6.7a1 1 0 0 0-1.4 0l-9.9 10a1 1 0 0 0 0 1.3l2.1 2.1c.4.4 1 .4 1.4 0l10-9.9c.3-.3.3-1 0-1.4l-2.2-2Zm1.4 2.8-2-2-3 2.7 2.2 2.2 2.8-2.9Z"/><path d="m18.5 7.3-.7-1.5-1.5-.8 1.5-.7.7-1.5.7 1.5 1.5.7-1.5.8-.7 1.5ZM18.5 16.5l-.7-1.6-1.5-.7 1.5-.7.7-1.6.7 1.6 1.5.7-1.5.7-.7 1.6ZM9.7 7.3 9 5.8 7.5 5 9 4.3l.7-1.5.7 1.5L12 5l-1.5.8-.7 1.5Z"/></g><defs><clipPath id="a"><path d="M0 0h24v24H0z"/></clipPath></defs></svg>',ai:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M5 3a3 3 0 0 0-3 3v12a3 3 0 0 0 3 3h14a3 3 0 0 0 3-3V6a3 3 0 0 0-3-3H5Zm6.8 11.5.5 1.2a68.3 68.3 0 0 0 .7 1.1l.4.1c.3 0 .5 0 .7-.3.2-.1.3-.3.3-.6l-.3-1-2.6-6.2a20.4 20.4 0 0 0-.5-1.3l-.5-.4-.7-.2c-.2 0-.5 0-.6.2-.2 0-.4.2-.5.4l-.3.6-.3.7L5.7 15l-.2.6-.1.4c0 .3 0 .5.3.7l.6.2c.3 0 .5 0 .7-.2l.4-1 .5-1.2h3.9ZM9.8 9l1.5 4h-3l1.5-4Zm5.6-.9v7.6c0 .4 0 .7.2 1l.7.2c.3 0 .6 0 .8-.3l.2-.9V8.1c0-.4 0-.7-.2-.9a1 1 0 0 0-.8-.3c-.2 0-.5.1-.7.3l-.2 1Z"/></svg>',"align-center":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm3 4h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 1 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm-3-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-justify":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-left":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Zm0-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-none":'<svg width="24" height="24"><path d="M14.2 5 13 7H5a1 1 0 1 1 0-2h9.2Zm4 0h.8a1 1 0 0 1 0 2h-2l1.2-2Zm-6.4 4-1.2 2H5a1 1 0 0 1 0-2h6.8Zm4 0H19a1 1 0 0 1 0 2h-4.4l1.2-2Zm-6.4 4-1.2 2H5a1 1 0 0 1 0-2h4.4Zm4 0H19a1 1 0 0 1 0 2h-6.8l1.2-2ZM7 17l-1.2 2H5a1 1 0 0 1 0-2h2Zm4 0h8a1 1 0 0 1 0 2H9.8l1.2-2Zm5.2-13.5 1.3.7-9.7 16.3-1.3-.7 9.7-16.3Z" fill-rule="evenodd"/></svg>',"align-right":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm6 4h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm-6-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"arrow-left":'<svg width="24" height="24"><path d="m5.6 13 12 6a1 1 0 0 0 1.4-1V6a1 1 0 0 0-1.4-.9l-12 6a1 1 0 0 0 0 1.8Z" fill-rule="evenodd"/></svg>',"arrow-right":'<svg width="24" height="24"><path d="m18.5 13-12 6A1 1 0 0 1 5 18V6a1 1 0 0 1 1.4-.9l12 6a1 1 0 0 1 0 1.8Z" fill-rule="evenodd"/></svg>',bold:'<svg width="24" height="24"><path d="M7.8 19c-.3 0-.5 0-.6-.2l-.2-.5V5.7c0-.2 0-.4.2-.5l.6-.2h5c1.5 0 2.7.3 3.5 1 .7.6 1.1 1.4 1.1 2.5a3 3 0 0 1-.6 1.9c-.4.6-1 1-1.6 1.2.4.1.9.3 1.3.6s.8.7 1 1.2c.4.4.5 1 .5 1.6 0 1.3-.4 2.3-1.3 3-.8.7-2.1 1-3.8 1H7.8Zm5-8.3c.6 0 1.2-.1 1.6-.5.4-.3.6-.7.6-1.3 0-1.1-.8-1.7-2.3-1.7H9.3v3.5h3.4Zm.5 6c.7 0 1.3-.1 1.7-.4.4-.4.6-.9.6-1.5s-.2-1-.7-1.4c-.4-.3-1-.4-2-.4H9.4v3.8h4Z" fill-rule="evenodd"/></svg>',bookmark:'<svg width="24" height="24"><path d="M6 4v17l6-4 6 4V4c0-.6-.4-1-1-1H7a1 1 0 0 0-1 1Z" fill-rule="nonzero"/></svg>',"border-style":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="2" x="3" y="6" rx="1"/><rect width="2.8" height="2" x="3" y="16" rx="1"/><rect width="2.8" height="2" x="6.8" y="16" rx="1"/><rect width="2.8" height="2" x="10.6" y="16" rx="1"/><rect width="2.8" height="2" x="14.4" y="16" rx="1"/><rect width="2.8" height="2" x="18.2" y="16" rx="1"/><rect width="8" height="2" x="3" y="11" rx="1"/><rect width="8" height="2" x="13" y="11" rx="1"/></g></svg>',"border-width":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="5" x="3" y="5" rx="1"/><rect width="18" height="3.5" x="3" y="11.5" rx="1"/><rect width="18" height="2" x="3" y="17" rx="1"/></g></svg>',brightness:'<svg width="24" height="24"><path d="M12 17c.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7v-1c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3Zm0-10a1 1 0 0 1-.7-.3A1 1 0 0 1 11 6V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3Zm7 4c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-1a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1ZM7 12c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3H5a1 1 0 0 1-.7-.3A1 1 0 0 1 4 12c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1c.3 0 .5.1.7.3.2.2.3.4.3.7Zm10 3.5.7.8c.2.1.3.4.3.6 0 .3-.1.6-.3.8a1 1 0 0 1-.8.3 1 1 0 0 1-.6-.3l-.8-.7a1 1 0 0 1-.3-.8c0-.2.1-.5.3-.7a1 1 0 0 1 1.4 0Zm-10-7-.7-.8a1 1 0 0 1-.3-.6c0-.3.1-.6.3-.8.2-.2.5-.3.8-.3.2 0 .5.1.7.3l.7.7c.2.2.3.5.3.8 0 .2-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.8-.3Zm10 0a1 1 0 0 1-.8.3 1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.6.3-.8l.8-.7c.1-.2.4-.3.6-.3.3 0 .6.1.8.3.2.2.3.5.3.8 0 .2-.1.5-.3.7l-.7.7Zm-10 7c.2-.2.5-.3.8-.3.2 0 .5.1.7.3a1 1 0 0 1 0 1.4l-.8.8a1 1 0 0 1-.6.3 1 1 0 0 1-.8-.3 1 1 0 0 1-.3-.8c0-.2.1-.5.3-.6l.7-.8ZM12 8a4 4 0 0 1 3.7 2.4 4 4 0 0 1 0 3.2A4 4 0 0 1 12 16a4 4 0 0 1-3.7-2.4 4 4 0 0 1 0-3.2A4 4 0 0 1 12 8Zm0 6.5c.7 0 1.3-.2 1.8-.7.5-.5.7-1.1.7-1.8s-.2-1.3-.7-1.8c-.5-.5-1.1-.7-1.8-.7s-1.3.2-1.8.7c-.5.5-.7 1.1-.7 1.8s.2 1.3.7 1.8c.5.5 1.1.7 1.8.7Z" fill-rule="evenodd"/></svg>',browse:'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2h-4v-2h4V8H5v10h4v2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9.4-2.3 2.3a1 1 0 1 1-1.4-1.4l4-4a1 1 0 0 1 1.4 0l4 4a1 1 0 0 1-1.4 1.4L13 13.4V20a1 1 0 0 1-2 0v-6.6Z" fill-rule="nonzero"/></svg>',cancel:'<svg width="24" height="24"><path d="M12 4.6a7.4 7.4 0 1 1 0 14.8 7.4 7.4 0 0 1 0-14.8ZM12 3a9 9 0 1 0 0 18 9 9 0 0 0 0-18Zm0 8L14.8 8l1 1.1-2.7 2.8 2.7 2.7-1.1 1.1-2.7-2.7-2.7 2.7-1-1.1 2.6-2.7-2.7-2.7 1-1.1 2.8 2.7Z" fill-rule="nonzero"/></svg>',"cell-background-color":'<svg width="24" height="24"><path d="m15.7 2 1.6 1.6-2.7 2.6 5.9 5.8c.7.7.7 1.7 0 2.4l-6.3 6.1a1.7 1.7 0 0 1-2.4 0l-6.3-6.1c-.7-.7-.7-1.7 0-2.4L15.7 2ZM18 12l-4.5-4L9 12h9ZM4 16s2 2.4 2 3.8C6 21 5.1 22 4 22s-2-1-2-2.2C2 18.4 4 16 4 16Z"/></svg>',"cell-border-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M5 13v5h2v2H5a2 2 0 0 1-2-2v-5h2zm8-7V4h6a2 2 0 0 1 2 2h-8z" opacity=".2"/><path fill-rule="nonzero" d="M13 4v2H5v7H3V6c0-1.1.9-2 2-2h8zm-2.6 14.1.1-.1.1.1.2.3.2.2.2.2c.4.6.8 1.2.8 1.7 0 .8-.7 1.5-1.5 1.5S9 21.3 9 20.5c0-.5.4-1.1.8-1.7l.2-.2.2-.2.2-.3z"/><path d="m13 11-2 2H5v-2h6V6h2z"/><path fill-rule="nonzero" d="m18.4 8 1 1-1.8 1.9 4 4c.5.4.5 1.1 0 1.6l-4.3 4.2a1.2 1.2 0 0 1-1.6 0l-4.4-4.2c-.4-.5-.4-1.2 0-1.7l7-6.8Zm1.6 7-3-3-3 3h6Z"/></g></svg>',"change-case":'<svg width="24" height="24"><path d="M18.4 18.2v-.6c-.5.8-1.3 1.2-2.4 1.2-2.2 0-3.3-1.6-3.3-4.8 0-3.1 1-4.7 3.3-4.7 1.1 0 1.8.3 2.4 1.1v-.6c0-.5.4-.8.8-.8s.8.3.8.8v8.4c0 .5-.4.8-.8.8a.8.8 0 0 1-.8-.8zm-2-7.4c-1.3 0-1.8.9-1.8 3.2 0 2.4.5 3.3 1.7 3.3 1.3 0 1.8-.9 1.8-3.2 0-2.4-.5-3.3-1.7-3.3zM10 15.7H5.5l-.8 2.6a1 1 0 0 1-1 .7h-.2a.7.7 0 0 1-.7-1l4-12a1 1 0 0 1 2 0l4 12a.7.7 0 0 1-.8 1h-.2a1 1 0 0 1-1-.7l-.8-2.6zm-.3-1.5-2-6.5-1.9 6.5h3.9z" fill-rule="evenodd"/></svg>',"character-count":'<svg width="24" height="24"><path d="M4 11.5h16v1H4v-1Zm4.8-6.8V10H7.7V5.8h-1v-1h2ZM11 8.3V9h2v1h-3V7.7l2-1v-.9h-2v-1h3v2.4l-2 1Zm6.3-3.4V10h-3.1V9h2.1V8h-2.1V6.8h2.1v-1h-2.1v-1h3.1ZM5.8 16.4c0-.5.2-.8.5-1 .2-.2.6-.3 1.2-.3l.8.1c.2 0 .4.2.5.3l.4.4v2.8l.2.3H8.2V18.7l-.6.3H7c-.4 0-.7 0-1-.2a1 1 0 0 1-.3-.9c0-.3 0-.6.3-.8.3-.2.7-.4 1.2-.4l.6-.2h.3v-.2l-.1-.2a.8.8 0 0 0-.5-.1 1 1 0 0 0-.4 0l-.3.4h-1Zm2.3.8h-.2l-.2.1-.4.1a1 1 0 0 0-.4.2l-.2.2.1.3.5.1h.4l.4-.4v-.6Zm2-3.4h1.2v1.7l.5-.3h.5c.5 0 .9.1 1.2.5.3.4.5.8.5 1.4 0 .6-.2 1.1-.5 1.5-.3.4-.7.6-1.3.6l-.6-.1-.4-.4v.4h-1.1v-5.4Zm1.1 3.3c0 .3 0 .6.2.8a.7.7 0 0 0 1.2 0l.2-.8c0-.4 0-.6-.2-.8a.7.7 0 0 0-.6-.3l-.6.3-.2.8Zm6.1-.5c0-.2 0-.3-.2-.4a.8.8 0 0 0-.5-.2c-.3 0-.5.1-.6.3l-.2.9c0 .3 0 .6.2.8.1.2.3.3.6.3.2 0 .4 0 .5-.2l.2-.4h1.1c0 .5-.3.8-.6 1.1a2 2 0 0 1-1.3.4c-.5 0-1-.2-1.3-.6a2 2 0 0 1-.5-1.4c0-.6.1-1.1.5-1.5.3-.4.8-.5 1.4-.5.5 0 1 0 1.2.3.4.3.5.7.5 1.2h-1v-.1Z" fill-rule="evenodd"/></svg>',"checklist-rtl":'<svg width="24" height="24"><path d="M5 17h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2zm14.2 11c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 8c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8z" fill-rule="evenodd"/></svg>',checklist:'<svg width="24" height="24"><path d="M11 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2h-8a1 1 0 0 1 0-2ZM7.2 16c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 8c-.2.3-.7.4-1 0L3.8 6.9a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Z" fill-rule="evenodd"/></svg>',checkmark:'<svg width="24" height="24"><path d="M18.2 5.4a1 1 0 0 1 1.6 1.2l-8 12a1 1 0 0 1-1.5.1l-5-5a1 1 0 1 1 1.4-1.4l4.1 4.1 7.4-11Z" fill-rule="nonzero"/></svg>',"chevron-down":'<svg width="10" height="10"><path d="M8.7 2.2c.3-.3.8-.3 1 0 .4.4.4.9 0 1.2L5.7 7.8c-.3.3-.9.3-1.2 0L.2 3.4a.8.8 0 0 1 0-1.2c.3-.3.8-.3 1.1 0L5 6l3.7-3.8Z" fill-rule="nonzero"/></svg>',"chevron-left":'<svg width="10" height="10"><path d="M7.8 1.3 4 5l3.8 3.7c.3.3.3.8 0 1-.4.4-.9.4-1.2 0L2.2 5.7a.8.8 0 0 1 0-1.2L6.6.2C7 0 7.4 0 7.8.2c.3.3.3.8 0 1.1Z" fill-rule="nonzero"/></svg>',"chevron-right":'<svg width="10" height="10"><path d="M2.2 1.3a.8.8 0 0 1 0-1c.4-.4.9-.4 1.2 0l4.4 4.1c.3.4.3.9 0 1.2L3.4 9.8c-.3.3-.8.3-1.2 0a.8.8 0 0 1 0-1.1L6 5 2.2 1.3Z" fill-rule="nonzero"/></svg>',"chevron-up":'<svg width="10" height="10"><path d="M8.7 7.8 5 4 1.3 7.8c-.3.3-.8.3-1 0a.8.8 0 0 1 0-1.2l4.1-4.4c.3-.3.9-.3 1.2 0l4.2 4.4c.3.3.3.9 0 1.2-.3.3-.8.3-1.1 0Z" fill-rule="nonzero"/></svg>',close:'<svg width="24" height="24"><path d="M17.3 8.2 13.4 12l3.9 3.8a1 1 0 0 1-1.5 1.5L12 13.4l-3.8 3.9a1 1 0 0 1-1.5-1.5l3.9-3.8-3.9-3.8a1 1 0 0 1 1.5-1.5l3.8 3.9 3.8-3.9a1 1 0 0 1 1.5 1.5Z" fill-rule="evenodd"/></svg>',"code-sample":'<svg width="24" height="26"><path d="M7.1 11a2.8 2.8 0 0 1-.8 2 2.8 2.8 0 0 1 .8 2v1.7c0 .3.1.6.4.8.2.3.5.4.8.4.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.7 0-1.4-.3-2-.8-.5-.6-.8-1.3-.8-2V15c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 0 1-.4-.4v-.8c0-.2.2-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V9.3c0-.7.3-1.4.8-2 .6-.5 1.3-.8 2-.8.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8V11Zm9.8 0V9.3c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 0 1-.4-.4V7c0-.2.1-.4.4-.4.7 0 1.4.3 2 .8.5.6.8 1.3.8 2V11c0 .3.1.6.4.8.2.3.5.4.8.4.2 0 .4.2.4.4v.8c0 .2-.2.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8v1.7c0 .7-.3 1.4-.8 2-.6.5-1.3.8-2 .8a.4.4 0 0 1-.4-.4v-.8c0-.2.1-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V15a2.8 2.8 0 0 1 .8-2 2.8 2.8 0 0 1-.8-2Zm-3.3-.4c0 .4-.1.8-.5 1.1-.3.3-.7.5-1.1.5-.4 0-.8-.2-1.1-.5-.4-.3-.5-.7-.5-1.1 0-.5.1-.9.5-1.2.3-.3.7-.4 1.1-.4.4 0 .8.1 1.1.4.4.3.5.7.5 1.2ZM12 13c.4 0 .8.1 1.1.5.4.3.5.7.5 1.1 0 1-.1 1.6-.5 2a3 3 0 0 1-1.1 1c-.4.3-.8.4-1.1.4a.5.5 0 0 1-.5-.5V17a3 3 0 0 0 1-.2l.6-.6c-.6 0-1-.2-1.3-.5-.2-.3-.3-.7-.3-1 0-.5.1-1 .5-1.2.3-.4.7-.5 1.1-.5Z" fill-rule="evenodd"/></svg>',"color-levels":'<svg width="24" height="24"><path d="M17.5 11.4A9 9 0 0 1 18 14c0 .5 0 1-.2 1.4 0 .4-.3.9-.5 1.3a6.2 6.2 0 0 1-3.7 3 5.7 5.7 0 0 1-3.2 0A5.9 5.9 0 0 1 7.6 18a6.2 6.2 0 0 1-1.4-2.6 6.7 6.7 0 0 1 0-2.8c0-.4.1-.9.3-1.3a13.6 13.6 0 0 1 2.3-4A20 20 0 0 1 12 4a26.4 26.4 0 0 1 3.2 3.4 18.2 18.2 0 0 1 2.3 4Zm-2 4.5c.4-.7.5-1.4.5-2a7.3 7.3 0 0 0-1-3.2c.2.6.2 1.2.2 1.9a4.5 4.5 0 0 1-1.3 3 5.3 5.3 0 0 1-2.3 1.5 4.9 4.9 0 0 1-2 .1 4.3 4.3 0 0 0 2.4.8 4 4 0 0 0 2-.6 4 4 0 0 0 1.5-1.5Z" fill-rule="evenodd"/></svg>',"color-picker":'<svg width="24" height="24"><path d="M12 3a9 9 0 0 0 0 18 1.5 1.5 0 0 0 1.1-2.5c-.2-.3-.4-.6-.4-1 0-.8.7-1.5 1.5-1.5H16a5 5 0 0 0 5-5c0-4.4-4-8-9-8Zm-5.5 9a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm3-4a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm3 4a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Z" fill-rule="nonzero"/></svg>',"color-swatch-remove-color":'<svg width="24" height="24"><path stroke="#000" stroke-width="2" d="M21 3 3 21" fill-rule="evenodd"/></svg>',"color-swatch":'<svg width="24" height="24"><rect x="3" y="3" width="18" height="18" rx="1" fill-rule="evenodd"/></svg>',"comment-add":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="m9 19 3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 0 0-1 1v10c0 .6.4 1 1 1h4v2Zm-2 4v-4H5a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-6.4L7 23Z"/><path d="M13 10h2a1 1 0 0 1 0 2h-2v2a1 1 0 0 1-2 0v-2H9a1 1 0 0 1 0-2h2V8a1 1 0 0 1 2 0v2Z"/></g></svg>',comment:'<svg width="24" height="24"><path fill-rule="nonzero" d="m9 19 3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 0 0-1 1v10c0 .6.4 1 1 1h4v2Zm-2 4v-4H5a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-6.4L7 23Z"/></svg>',contrast:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Zm-6 8a6 6 0 0 0 6 6V6a6 6 0 0 0-6 6Z" fill-rule="evenodd"/></svg>',copy:'<svg width="24" height="24"><path d="M16 3H6a2 2 0 0 0-2 2v11h2V5h10V3Zm1 4a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2V9c0-1.2.9-2 2-2h7Zm0 12V9h-7v10h7Z" fill-rule="nonzero"/></svg>',crop:'<svg width="24" height="24"><path d="M17 8v7h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v2c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-2H7V9H5a1 1 0 1 1 0-2h2V5c0-.6.4-1 1-1s1 .4 1 1v2h7l3-3 1 1-3 3ZM9 9v5l5-5H9Zm1 6h5v-5l-5 5Z" fill-rule="evenodd"/></svg>',"cut-column":'<svg width="24" height="24"><path fill-rule="evenodd" d="M7.2 4.5c.9 0 1.6.4 2.2 1A3.7 3.7 0 0 1 10.5 8v.5l1 1 4-4 1-.5a3.3 3.3 0 0 1 2 0c.4 0 .7.3 1 .5L17 8h4v13h-6V10l-1.5 1.5.5.5v4l-2.5-2.5-1 1v.5c0 .4 0 .8-.3 1.2-.2.5-.4.9-.8 1.2-.6.7-1.3 1-2.2 1-.8.2-1.5 0-2-.6l-.5-.8-.2-1c0-.4 0-.8.3-1.2A3.9 3.9 0 0 1 7 12.7c.5-.2 1-.3 1.5-.2l1-1-1-1c-.5 0-1 0-1.5-.2-.5-.1-1-.4-1.4-.9-.4-.3-.6-.7-.8-1.2L4.5 7c0-.4 0-.7.2-1 0-.3.3-.6.5-.8.5-.5 1.2-.8 2-.7Zm12.3 5h-3v10h3v-10ZM8 13.8h-.3l-.4.2a2.8 2.8 0 0 0-.7.4v.1a2.8 2.8 0 0 0-.6.8l-.1.4v.7l.2.5.5.2h.7a2.6 2.6 0 0 0 .8-.3 2.4 2.4 0 0 0 .7-.7 2.5 2.5 0 0 0 .3-.8 1.5 1.5 0 0 0 0-.8 1 1 0 0 0-.2-.4 1 1 0 0 0-.5-.2H8Zm3.5-3.7c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4ZM7 5.8h-.4a1 1 0 0 0-.5.3 1 1 0 0 0-.2.5v.7a2.5 2.5 0 0 0 .3.8l.2.3h.1l.4.4.4.2.4.1h.7L9 9l.2-.4a1.6 1.6 0 0 0 0-.8 2.6 2.6 0 0 0-.3-.8A2.5 2.5 0 0 0 7.7 6l-.4-.1H7Z"/></svg>',"cut-row":'<svg width="24" height="24"><path fill-rule="evenodd" d="M22 3v5H9l3 3 2-2h4l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8.7.6 1 1.3 1 2.2.2.8 0 1.5-.6 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 0 1-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 0 1 8.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 0 1 0-2c0-.4.3-.7.5-1l2 2V3h14ZM8.5 15.3h-.3a2.6 2.6 0 0 0-.8.4 2.5 2.5 0 0 0-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 0 0 .8-.3L9 18V18l.4-.4.2-.4.1-.4v-.7a1 1 0 0 0-.2-.5 1 1 0 0 0-.4-.2h-.5Zm7 0H15a1 1 0 0 0-.4.3 1 1 0 0 0-.2.5 1.5 1.5 0 0 0 0 .7v.4a2.8 2.8 0 0 0 .5.7h.1a2.8 2.8 0 0 0 .8.6l.4.1h.7l.5-.2.2-.5v-.7a2.6 2.6 0 0 0-.3-.8 2.4 2.4 0 0 0-.7-.7 2.5 2.5 0 0 0-.8-.3h-.3ZM12 11.6c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4Zm8.5-7.1h-11v2h11v-2Z"/></svg>',cut:'<svg width="24" height="24"><path d="M18 15c.6.7 1 1.4 1 2.3 0 .8-.2 1.5-.7 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 0 1-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 0 1 8.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 0 1 0-2c0-.4.3-.7.5-1l6 6 6-6 .5 1a3.3 3.3 0 0 1 0 2c0 .4-.3.7-.5 1l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8Zm-8.5 2.2.1-.4v-.7a1 1 0 0 0-.2-.5 1 1 0 0 0-.4-.2 1.6 1.6 0 0 0-.8 0 2.6 2.6 0 0 0-.8.3 2.5 2.5 0 0 0-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 0 0 .8-.3 2.8 2.8 0 0 0 1-1Zm2.5-2.8c.4 0 .7-.1 1-.4.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4s-.7.1-1 .4c-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4Zm5.4 4 .2-.5v-.7a2.6 2.6 0 0 0-.3-.8 2.4 2.4 0 0 0-.7-.7 2.5 2.5 0 0 0-.8-.3 1.5 1.5 0 0 0-.8 0 1 1 0 0 0-.4.2 1 1 0 0 0-.2.5 1.5 1.5 0 0 0 0 .7v.4l.3.4.3.4a2.8 2.8 0 0 0 .8.5l.4.1h.7l.5-.2Z" fill-rule="evenodd"/></svg>',"document-properties":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V7.6L14.4 3ZM17 19H7V5h6v4h4v10Z" fill-rule="nonzero"/></svg>',drag:'<svg width="24" height="24"><path d="M13 5h2v2h-2V5Zm0 4h2v2h-2V9ZM9 9h2v2H9V9Zm4 4h2v2h-2v-2Zm-4 0h2v2H9v-2Zm0 4h2v2H9v-2Zm4 0h2v2h-2v-2ZM9 5h2v2H9V5Z" fill-rule="evenodd"/></svg>',"duplicate-column":'<svg width="24" height="24"><path d="M17 6v16h-7V6h7Zm-2 2h-3v12h3V8Zm-2-6v2H8v15H6V2h7Z"/></svg>',"duplicate-row":'<svg width="24" height="24"><path d="M22 11v7H6v-7h16Zm-2 2H8v3h12v-3Zm-1-6v2H4v5H2V7h17Z"/></svg>',duplicate:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M16 3v2H6v11H4V5c0-1.1.9-2 2-2h10Zm3 8h-2V9h-7v10h9a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2V9c0-1.2.9-2 2-2h7a2 2 0 0 1 2 2v2Z"/><path d="M17 14h1a1 1 0 0 1 0 2h-1v1a1 1 0 0 1-2 0v-1h-1a1 1 0 0 1 0-2h1v-1a1 1 0 0 1 2 0v1Z"/></g></svg>',"edit-block":'<svg width="24" height="24"><path fill-rule="nonzero" d="m19.8 8.8-9.4 9.4c-.2.2-.5.4-.9.4l-5.4 1.2 1.2-5.4.5-.8 9.4-9.4c.7-.7 1.8-.7 2.5 0l2.1 2.1c.7.7.7 1.8 0 2.5Zm-2-.2 1-.9v-.3l-2.2-2.2a.3.3 0 0 0-.3 0l-1 1L18 8.5Zm-1 1-2.5-2.4-6 6 2.5 2.5 6-6Zm-7 7.1-2.6-2.4-.3.3-.1.2-.7 3 3.1-.6h.1l.4-.5Z"/></svg>',"edit-image":'<svg width="24" height="24"><path d="M18 16h2V7a2 2 0 0 0-2-2H7v2h11v9ZM6 17h15a1 1 0 0 1 0 2h-1v1a1 1 0 0 1-2 0v-1H6a2 2 0 0 1-2-2V7H3a1 1 0 1 1 0-2h1V4a1 1 0 1 1 2 0v13Zm3-5.3 1.3 2 3-4.7 3.7 6H7l2-3.3Z" fill-rule="nonzero"/></svg>',"embed-page":'<svg width="24" height="24"><path d="M19 6V5H5v14h2A13 13 0 0 1 19 6Zm0 1.4c-.8.8-1.6 2.4-2.2 4.6H19V7.4Zm0 5.6h-2.4c-.4 1.8-.6 3.8-.6 6h3v-6Zm-4 6c0-2.2.2-4.2.6-6H13c-.7 1.8-1.1 3.8-1.1 6h3Zm-4 0c0-2.2.4-4.2 1-6H9.6A12 12 0 0 0 8 19h3ZM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm11.8 9c.4-1.9 1-3.4 1.8-4.5a9.2 9.2 0 0 0-4 4.5h2.2Zm-3.4 0a12 12 0 0 1 2.8-4 12 12 0 0 0-5 4h2.2Z" fill-rule="nonzero"/></svg>',embed:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm1 2v14h14V5H5Zm4.8 2.6 5.6 4a.5.5 0 0 1 0 .8l-5.6 4A.5.5 0 0 1 9 16V8a.5.5 0 0 1 .8-.4Z" fill-rule="nonzero"/></svg>',emoji:'<svg width="24" height="24"><path d="M9 11c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 0 0-1 1c0 .6.4 1 1 1Zm6 0c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 0 0-1 1c0 .6.4 1 1 1Zm-3 5.5c2.1 0 4-1.5 4.4-3.5H7.6c.5 2 2.3 3.5 4.4 3.5ZM12 4a8 8 0 1 0 0 16 8 8 0 0 0 0-16Zm0 14.5a6.5 6.5 0 1 1 0-13 6.5 6.5 0 0 1 0 13Z" fill-rule="nonzero"/></svg>',export:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M14.4 3 18 7v1h-5V5H7v14h9a1 1 0 0 1 2 0c0 1-.8 2-1.9 2H7c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2h7.5Z"/><path d="M18.1 12c.5 0 .9.4.9 1 0 .5-.3 1-.8 1h-7.3c-.5 0-.9-.4-.9-1 0-.5.3-1 .8-1h7.3Z"/><path d="M16.4 9.2a1 1 0 0 1 1.4.2l2.4 3.6-2.4 3.6a1 1 0 0 1-1.7-1v-.2l1.7-2.4-1.6-2.4a1 1 0 0 1 .2-1.4Z"/></g></svg>',fill:'<svg width="24" height="26"><path d="m16.6 12-9-9-1.4 1.4 2.4 2.4-5.2 5.1c-.5.6-.5 1.6 0 2.2L9 19.6a1.5 1.5 0 0 0 2.2 0l5.5-5.5c.5-.6.5-1.6 0-2.2ZM5.2 13 10 8.2l4.8 4.8H5.2ZM19 14.5s-2 2.2-2 3.5c0 1.1.9 2 2 2a2 2 0 0 0 2-2c0-1.3-2-3.5-2-3.5Z" fill-rule="nonzero"/></svg>',"flip-horizontally":'<svg width="24" height="24"><path d="M14 19h2v-2h-2v2Zm4-8h2V9h-2v2ZM4 7v10c0 1.1.9 2 2 2h3v-2H6V7h3V5H6a2 2 0 0 0-2 2Zm14-2v2h2a2 2 0 0 0-2-2Zm-7 16h2V3h-2v18Zm7-6h2v-2h-2v2Zm-4-8h2V5h-2v2Zm4 12a2 2 0 0 0 2-2h-2v2Z" fill-rule="nonzero"/></svg>',"flip-vertically":'<svg width="24" height="24"><path d="M5 14v2h2v-2H5Zm8 4v2h2v-2h-2Zm4-14H7a2 2 0 0 0-2 2v3h2V6h10v3h2V6a2 2 0 0 0-2-2Zm2 14h-2v2a2 2 0 0 0 2-2ZM3 11v2h18v-2H3Zm6 7v2h2v-2H9Zm8-4v2h2v-2h-2ZM5 18c0 1.1.9 2 2 2v-2H5Z" fill-rule="nonzero"/></svg>',footnote:'<svg width="24" height="24"><path d="M19 13c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2h14Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M19 4v6h-1V5h-1.5V4h2.6Z"/><path d="M12 18c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2h7ZM14 8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2h9Z"/></svg>',"format-painter":'<svg width="24" height="24"><path d="M18 5V4c0-.5-.4-1-1-1H5a1 1 0 0 0-1 1v4c0 .6.5 1 1 1h12c.6 0 1-.4 1-1V7h1v4H9v9c0 .6.4 1 1 1h2c.6 0 1-.4 1-1v-7h8V5h-3Z" fill-rule="nonzero"/></svg>',format:'<svg width="24" height="24"><path fill-rule="evenodd" d="M17 5a1 1 0 0 1 0 2h-4v11a1 1 0 0 1-2 0V7H7a1 1 0 1 1 0-2h10Z"/></svg>',fullscreen:'<svg width="24" height="24"><path d="m15.3 10-1.2-1.3 2.9-3h-2.3a.9.9 0 1 1 0-1.7H19c.5 0 .9.4.9.9v4.4a.9.9 0 1 1-1.8 0V7l-2.9 3Zm0 4 3 3v-2.3a.9.9 0 1 1 1.7 0V19c0 .5-.4.9-.9.9h-4.4a.9.9 0 1 1 0-1.8H17l-3-2.9 1.3-1.2ZM10 15.4l-2.9 3h2.3a.9.9 0 1 1 0 1.7H5a.9.9 0 0 1-.9-.9v-4.4a.9.9 0 1 1 1.8 0V17l2.9-3 1.2 1.3ZM8.7 10 5.7 7v2.3a.9.9 0 0 1-1.7 0V5c0-.5.4-.9.9-.9h4.4a.9.9 0 0 1 0 1.8H7l3 2.9-1.3 1.2Z" fill-rule="nonzero"/></svg>',gallery:'<svg width="24" height="24"><path fill-rule="nonzero" d="m5 15.7 2.3-2.2c.3-.3.7-.3 1 0L11 16l5.1-5c.3-.4.8-.4 1 0l2 1.9V8H5v7.7ZM5 18V19h3l1.8-1.9-2-2L5 17.9Zm14-3-2.5-2.4-6.4 6.5H19v-4ZM4 6h16c.6 0 1 .4 1 1v13c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V7c0-.6.4-1 1-1Zm6 7a2 2 0 1 1 0-4 2 2 0 0 1 0 4ZM4.5 4h15a.5.5 0 1 1 0 1h-15a.5.5 0 0 1 0-1Zm2-2h11a.5.5 0 1 1 0 1h-11a.5.5 0 0 1 0-1Z"/></svg>',gamma:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm1 2v14h14V5H5Zm6.5 11.8V14L9.2 8.7a5.1 5.1 0 0 0-.4-.8l-.1-.2H8v-1l.3-.1.3-.1h.7a1 1 0 0 1 .6.5l.1.3a8.5 8.5 0 0 1 .3.6l1.9 4.6 2-5.2a1 1 0 0 1 1-.6.5.5 0 0 1 .5.6L13 14v2.8a.7.7 0 0 1-1.4 0Z" fill-rule="nonzero"/></svg>',help:'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M12 5.5a6.5 6.5 0 0 0-6 9 6.3 6.3 0 0 0 1.4 2l1 1a6.3 6.3 0 0 0 3.6 1 6.5 6.5 0 0 0 6-9 6.3 6.3 0 0 0-1.4-2l-1-1a6.3 6.3 0 0 0-3.6-1ZM12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Z"/><path d="M9.6 9.7a.7.7 0 0 1-.7-.8c0-1.1 1.5-1.8 3.2-1.8 1.8 0 3.2.8 3.2 2.4 0 1.4-.4 2.1-1.5 2.8-.2 0-.3.1-.3.2a2 2 0 0 0-.8.8.8.8 0 0 1-1.4-.6c.3-.7.8-1 1.3-1.5l.4-.2c.7-.4.8-.6.8-1.5 0-.5-.6-.9-1.7-.9-.5 0-1 .1-1.4.3-.2 0-.3.1-.3.2v-.2c0 .4-.4.8-.8.8Z" fill-rule="nonzero"/><circle cx="12" cy="16" r="1"/></g></svg>',"highlight-bg-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path class="tox-icon-highlight-bg-color__color" d="M3 18h18v3H3z"/><path fill-rule="nonzero" d="M7.7 16.7H3l3.3-3.3-.7-.8L10.2 8l4 4.1-4 4.2c-.2.2-.6.2-.8 0l-.6-.7-1.1 1.1zm5-7.5L11 7.4l3-2.9a2 2 0 0 1 2.6 0L18 6c.7.7.7 2 0 2.7l-2.9 2.9-1.8-1.8-.5-.6"/></g></svg>',home:'<svg width="24" height="24"><path fill-rule="nonzero" d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/></svg>',"horizontal-rule":'<svg width="24" height="24"><path d="M4 11h16v2H4z" fill-rule="evenodd"/></svg>',"image-options":'<svg width="24" height="24"><path d="M6 10a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm12 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm-6 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Z" fill-rule="nonzero"/></svg>',image:'<svg width="24" height="24"><path d="m5 15.7 3.3-3.2c.3-.3.7-.3 1 0L12 15l4.1-4c.3-.4.8-.4 1 0l2 1.9V5H5v10.7ZM5 18V19h3l2.8-2.9-2-2L5 17.9Zm14-3-2.5-2.4-6.4 6.5H19v-4ZM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm6 8a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z" fill-rule="nonzero"/></svg>',indent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 1 1 0-2Zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm-5 4h12a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2Zm-2.6-3.8L6.2 12l-1.8-1.2a1 1 0 0 1 1.2-1.6l3 2a1 1 0 0 1 0 1.6l-3 2a1 1 0 1 1-1.2-1.6Z" fill-rule="evenodd"/></svg>',info:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Zm-1 3v2h2V7h-2Zm3 10v-1h-1v-5h-3v1h1v4h-1v1h4Z" fill-rule="evenodd"/></svg>',"insert-character":'<svg width="24" height="24"><path d="M15 18h4l1-2v4h-6v-3.3l1.4-1a6 6 0 0 0 1.8-2.9 6.3 6.3 0 0 0-.1-4.1 5.8 5.8 0 0 0-3-3.2c-.6-.3-1.3-.5-2.1-.5a5.1 5.1 0 0 0-3.9 1.8 6.3 6.3 0 0 0-1.3 6 6.2 6.2 0 0 0 1.8 3l1.4.9V20H4v-4l1 2h4v-.5l-2-1L5.4 15A6.5 6.5 0 0 1 4 11c0-1 .2-1.9.6-2.7A7 7 0 0 1 6.3 6C7.1 5.4 8 5 9 4.5c1-.3 2-.5 3.1-.5a8.8 8.8 0 0 1 5.7 2 7 7 0 0 1 1.7 2.3 6 6 0 0 1 .2 4.8c-.2.7-.6 1.3-1 1.9a7.6 7.6 0 0 1-3.6 2.5v.5Z" fill-rule="evenodd"/></svg>',"insert-time":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M12 19a7 7 0 1 0 0-14 7 7 0 0 0 0 14Zm0 2a9 9 0 1 1 0-18 9 9 0 0 1 0 18Z"/><path d="M16 12h-3V7c0-.6-.4-1-1-1a1 1 0 0 0-1 1v7h5c.6 0 1-.4 1-1s-.4-1-1-1Z"/></g></svg>',invert:'<svg width="24" height="24"><path d="M18 19.3 16.5 18a5.8 5.8 0 0 1-3.1 1.9 6.1 6.1 0 0 1-5.5-1.6A5.8 5.8 0 0 1 6 14v-.3l.1-1.2A13.9 13.9 0 0 1 7.7 9l-3-3 .7-.8 2.8 2.9 9 8.9 1.5 1.6-.7.6Zm0-5.5v.3l-.1 1.1-.4 1-1.2-1.2a4.3 4.3 0 0 0 .2-1v-.2c0-.4 0-.8-.2-1.3l-.5-1.4a14.8 14.8 0 0 0-3-4.2L12 6a26.1 26.1 0 0 0-2.2 2.5l-1-1a20.9 20.9 0 0 1 2.9-3.3L12 4l1 .8a22.2 22.2 0 0 1 4 5.4c.6 1.2 1 2.4 1 3.6Z" fill-rule="evenodd"/></svg>',italic:'<svg width="24" height="24"><path d="m16.7 4.7-.1.9h-.3c-.6 0-1 0-1.4.3-.3.3-.4.6-.5 1.1l-2.1 9.8v.6c0 .5.4.8 1.4.8h.2l-.2.8H8l.2-.8h.2c1.1 0 1.8-.5 2-1.5l2-9.8.1-.5c0-.6-.4-.8-1.4-.8h-.3l.2-.9h5.8Z" fill-rule="evenodd"/></svg>',language:'<svg width="24" height="24"><path d="M12 3a9 9 0 1 1 0 18 9 9 0 0 1 0-18Zm4.3 13.3c-.5 1-1.2 2-2 2.9a7.5 7.5 0 0 0 3.2-2.1l-.2-.2a6 6 0 0 0-1-.6Zm-8.6 0c-.5.2-.9.5-1.2.8.9 1 2 1.7 3.2 2a10 10 0 0 1-2-2.8Zm3.6-.8c-.8 0-1.6.1-2.2.3.5 1 1.2 1.9 2.1 2.7Zm1.5 0v3c.9-.8 1.6-1.7 2.1-2.7-.6-.2-1.4-.3-2.1-.3Zm-6-2.7H4.5c.2 1 .5 2.1 1 3h.3l1.3-1a10 10 0 0 1-.3-2Zm12.7 0h-2.3c0 .7-.1 1.4-.3 2l1.6 1.1c.5-1 .9-2 1-3.1Zm-3.8 0h-3V14c1 0 2 .1 2.7.4.2-.5.3-1 .3-1.6Zm-4.4 0h-3l.3 1.6c.8-.3 1.7-.4 2.7-.4v-1.3Zm-5.5-5c-.7 1-1.1 2.2-1.3 3.5h2.3c0-1 .2-1.8.5-2.6l-1.5-1Zm2.9 1.4v.1c-.2.6-.4 1.3-.4 2h3V9.4c-1 0-1.8-.1-2.6-.3Zm6.6 0h-.1l-2.4.3v1.8h3l-.5-2.1Zm3-1.4-.3.1-1.3.8c.3.8.5 1.6.5 2.6h2.3a7.5 7.5 0 0 0-1.3-3.5Zm-9 0 2 .2V5.5a9 9 0 0 0-2 2.2Zm3.5-2.3V8c.6 0 1.3 0 1.9-.2a9 9 0 0 0-2-2.3Zm-3-.7h-.1c-1.1.4-2.1 1-3 1.8l1.2.7a10 10 0 0 1 1.9-2.5Zm4.4 0 .1.1a10 10 0 0 1 1.8 2.4l1.1-.7a7.5 7.5 0 0 0-3-1.8Z"/></svg>',"line-height":'<svg width="24" height="24"><path d="M21 5a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zM7 3.6l3.7 3.7a1 1 0 0 1-1.3 1.5h-.1L8 7.3v9.2l1.3-1.3a1 1 0 0 1 1.3 0h.1c.4.4.4 1 0 1.3v.1L7 20.4l-3.7-3.7a1 1 0 0 1 1.3-1.5h.1L6 16.7V7.4L4.7 8.7a1 1 0 0 1-1.3 0h-.1a1 1 0 0 1 0-1.3v-.1L7 3.6z"/></svg>',line:'<svg width="24" height="24"><path d="m15 9-8 8H4v-3l8-8 3 3Zm1-1-3-3 1-1h1c-.2 0 0 0 0 0l2 2s0 .2 0 0v1l-1 1ZM4 18h16v2H4v-2Z" fill-rule="evenodd"/></svg>',link:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 0 1 1.4 1.4l-2 2a2 2 0 1 0 2.6 2.8l4.8-4.8a1 1 0 0 0 0-1.4 1 1 0 1 1 1.4-1.3 2.9 2.9 0 0 1 0 4L9.6 20a3.9 3.9 0 0 1-5.5-5.5l2-2Zm11.6-.6a1 1 0 0 1-1.4-1.4l2-2a2 2 0 1 0-2.6-2.8L11 10.3a1 1 0 0 0 0 1.4A1 1 0 1 1 9.6 13a2.9 2.9 0 0 1 0-4L14.4 4a3.9 3.9 0 0 1 5.5 5.5l-2 2Z" fill-rule="nonzero"/></svg>',"list-bull-circle":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M11 16a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6ZM11 26a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6ZM11 36a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6Z" fill-rule="nonzero"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-default":'<svg width="48" height="48"><g fill-rule="evenodd"><circle cx="11" cy="14" r="3"/><circle cx="11" cy="24" r="3"/><circle cx="11" cy="34" r="3"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-square":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M8 11h6v6H8zM8 21h6v6H8zM8 31h6v6H8z"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-num-default-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 17v-4.8h-.1l-1.5 1v-1.1l1.6-1.1h1.2v6zM33.3 17.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm1.7 5.7c0-1.2 1-2 2.2-2 1.3 0 2.1.8 2.1 1.8 0 .7-.3 1.2-1.3 2.2l-1.2 1v.2h2.6v1h-4.3v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H35zm-1.7 4.3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm3.2 7.3v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H35c0-1.1 1-1.8 2.2-1.8 1.2 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.7.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .6 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7zm-3.3 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7z"/></g></svg>',"list-num-default":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10 17v-4.8l-1.5 1v-1.1l1.6-1h1.2V17h-1.2Zm3.6.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm-5 5.7c0-1.2.8-2 2.1-2s2.1.8 2.1 1.8c0 .7-.3 1.2-1.4 2.2l-1.1 1v.2h2.6v1H8.6v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H8.5Zm6.3 4.3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM10 34.4v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H8.6c0-1.1 1-1.8 2.2-1.8 1.3 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.8.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .7 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7Zm4.7 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7Z"/></g></svg>',"list-num-lower-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M36.5 16c-.9 0-1.5-.5-1.5-1.3s.6-1.3 1.8-1.4h1v-.4c0-.4-.2-.6-.7-.6-.4 0-.7.1-.8.4h-1.1c0-.8.8-1.4 2-1.4S39 12 39 13V16h-1.2v-.6c-.3.4-.8.7-1.4.7Zm.4-.8c.6 0 1-.4 1-.9V14h-1c-.5.1-.7.3-.7.6 0 .4.3.6.7.6ZM33.1 16.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7ZM37.7 26c-.7 0-1.2-.2-1.5-.7v.7H35v-6.3h1.2v2.5c.3-.5.8-.9 1.5-.9 1.1 0 1.8 1 1.8 2.4 0 1.5-.7 2.4-1.8 2.4Zm-.5-3.6c-.6 0-1 .5-1 1.3s.4 1.4 1 1.4c.7 0 1-.6 1-1.4 0-.8-.3-1.3-1-1.3ZM33.2 26.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zm6 7h-1c-.1-.5-.4-.8-1-.8s-1 .5-1 1.4c0 1 .4 1.4 1 1.4.5 0 .9-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7zm-6.1 3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.3 15.2c.5 0 1-.4 1-.9V14h-1c-.5.1-.8.3-.8.6 0 .4.3.6.8.6Zm-.4.9c-1 0-1.5-.6-1.5-1.4 0-.8.6-1.3 1.7-1.4h1.1v-.4c0-.4-.2-.6-.7-.6-.5 0-.8.1-.9.4h-1c0-.8.8-1.4 2-1.4 1.1 0 1.8.6 1.8 1.6V16h-1.1v-.6h-.1c-.2.4-.7.7-1.3.7Zm4.6 0c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-3.2 10c-.6 0-1.2-.3-1.4-.8v.7H8.5v-6.3H10v2.5c.3-.5.8-.9 1.4-.9 1.2 0 1.9 1 1.9 2.4 0 1.5-.7 2.4-1.9 2.4Zm-.4-3.7c-.7 0-1 .5-1 1.3s.3 1.4 1 1.4c.6 0 1-.6 1-1.4 0-.8-.4-1.3-1-1.3Zm4 3.7c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-2.2 7h-1.2c0-.5-.4-.8-.9-.8-.6 0-1 .5-1 1.4 0 1 .4 1.4 1 1.4.5 0 .8-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7Zm1.8 3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-greek-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 16c-1.2 0-2-.8-2-2.3 0-1.5.8-2.4 2-2.4.6 0 1 .4 1.3 1v-.9H40v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1-.7h-.2c-.2.4-.7.8-1.3.8Zm.3-1c.6 0 1-.5 1-1.3s-.4-1.3-1-1.3-1 .5-1 1.3.4 1.4 1 1.4ZM33.3 16.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM36 21.9c0-1.5.8-2.3 2.1-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.9 1.3.9.3 1.3.8 1.3 1.7 0 1.2-.7 1.9-1.8 1.9-.6 0-1.1-.3-1.4-.8v2.2H36V22Zm1.8 1.2v-1h.3c.5 0 .9-.2.9-.7 0-.5-.3-.8-.9-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1 1.3s1-.4 1-1-.4-1-1.2-1h-.3ZM33.3 26.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM37.1 34.6 34.8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.2.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2Zm.7 1a2 2 0 0 0-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1ZM33.3 36.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-greek":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.5 15c.7 0 1-.5 1-1.3s-.3-1.3-1-1.3c-.5 0-.9.5-.9 1.3s.4 1.4 1 1.4Zm-.3 1c-1.1 0-1.8-.8-1.8-2.3 0-1.5.7-2.4 1.8-2.4.7 0 1.1.4 1.3 1h.1v-.9h1.2v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1.1-.7h-.1c-.2.4-.7.8-1.4.8Zm5 .1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7Zm-4.9 7v-1h.3c.6 0 1-.2 1-.7 0-.5-.4-.8-1-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1.1 1.3.6 0 1-.4 1-1s-.5-1-1.3-1h-.3ZM8.6 22c0-1.5.7-2.3 2-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.8 1.3.8.3 1.3.8 1.3 1.7 0 1.2-.8 1.9-1.9 1.9-.6 0-1.1-.3-1.3-.8v2.2H8.5V22Zm6.2 4.2c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm-4.5 8.5L8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.1.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2Zm.7 1a2 2 0 0 0-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1Zm4.5.5c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M32.9 16v-1.2h-1.3V16H33Zm0 10v-1.2h-1.3V26H33Zm0 10v-1.2h-1.3V36H33Z"/><path fill-rule="nonzero" d="M36 21h-1.5v5H36zM36 31h-1.5v5H36zM39 21h-1.5v5H39zM39 31h-1.5v5H39zM42 31h-1.5v5H42zM36 11h-1.5v5H36zM36 19h-1.5v1H36zM36 29h-1.5v1H36zM39 19h-1.5v1H39zM39 29h-1.5v1H39zM42 29h-1.5v1H42zM36 9h-1.5v1H36z"/></g></svg>',"list-num-lower-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 16v-1.2h1.3V16H15Zm0 10v-1.2h1.3V26H15Zm0 10v-1.2h1.3V36H15Z"/><path fill-rule="nonzero" d="M12 21h1.5v5H12zM12 31h1.5v5H12zM9 21h1.5v5H9zM9 31h1.5v5H9zM6 31h1.5v5H6zM12 11h1.5v5H12zM12 19h1.5v1H12zM12 29h1.5v1H12zM9 19h1.5v1H9zM9 29h1.5v1H9zM6 29h1.5v1H6zM12 9h1.5v1H12z"/></g></svg>',"list-num-upper-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="m39.3 17-.5-1.4h-2l-.5 1.4H35l2-6h1.6l2 6h-1.3Zm-1.6-4.7-.7 2.3h1.6l-.8-2.3ZM33.4 17c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm4.7 9.9h-2.7v-6H38c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7Zm-1.4-5v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1Zm0 4h1.1c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9h-1.1V26ZM33 27.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm4.9 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2Zm-4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-upper-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="m12.6 17-.5-1.4h-2L9.5 17H8.3l2-6H12l2 6h-1.3ZM11 12.3l-.7 2.3h1.6l-.8-2.3Zm4.7 4.8c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7ZM11.4 27H8.7v-6h2.6c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7ZM10 22v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1Zm0 4H11c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9H10V26Zm5.4 1.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-4.1 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2Zm4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-upper-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M31.6 17v-1.2H33V17h-1.3Zm0 10v-1.2H33V27h-1.3Zm0 10v-1.2H33V37h-1.3Z"/><path fill-rule="nonzero" d="M34.5 20H36v7h-1.5zM34.5 30H36v7h-1.5zM37.5 20H39v7h-1.5zM37.5 30H39v7h-1.5zM40.5 30H42v7h-1.5zM34.5 10H36v7h-1.5z"/></g></svg>',"list-num-upper-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 17v-1.2h1.3V17H15Zm0 10v-1.2h1.3V27H15Zm0 10v-1.2h1.3V37H15Z"/><path fill-rule="nonzero" d="M12 20h1.5v7H12zM12 30h1.5v7H12zM9 20h1.5v7H9zM9 30h1.5v7H9zM6 30h1.5v7H6zM12 10h1.5v7H12z"/></g></svg>',lock:'<svg width="24" height="24"><path d="M16.3 11c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H8V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h.3ZM10 8v3h4V8a1 1 0 0 0-.3-.7A1 1 0 0 0 13 7h-2a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7Z" fill-rule="evenodd"/></svg>',ltr:'<svg width="24" height="24"><path d="M11 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 7.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L11 5ZM4.4 16.2 6.2 15l-1.8-1.2a1 1 0 0 1 1.2-1.6l3 2a1 1 0 0 1 0 1.6l-3 2a1 1 0 1 1-1.2-1.6Z" fill-rule="evenodd"/></svg>',minus:'<svg width="24" height="24"><path d="M19 11a1 1 0 0 1 .1 2H5a1 1 0 0 1-.1-2H19Z"/></svg>',"more-drawer":'<svg width="24" height="24"><path d="M6 10a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm12 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm-6 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Z" fill-rule="nonzero"/></svg>',"new-document":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V7.6L14.4 3ZM17 19H7V5h6v4h4v10Z" fill-rule="nonzero"/></svg>',"new-tab":'<svg width="24" height="24"><path d="m15 13 2-2v8H5V7h8l-2 2H7v8h8v-4Zm4-8v5.5l-2-2-5.6 5.5H10v-1.4L15.5 7l-2-2H19Z" fill-rule="evenodd"/></svg>',"non-breaking":'<svg width="24" height="24"><path d="M11 11H8a1 1 0 1 1 0-2h3V6c0-.6.4-1 1-1s1 .4 1 1v3h3c.6 0 1 .4 1 1s-.4 1-1 1h-3v3c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-3Zm10 4v5H3v-5c0-.6.4-1 1-1s1 .4 1 1v3h14v-3c0-.6.4-1 1-1s1 .4 1 1Z" fill-rule="evenodd"/></svg>',notice:'<svg width="24" height="24"><path d="M15.5 4 20 8.5v7L15.5 20h-7L4 15.5v-7L8.5 4h7ZM13 17v-2h-2v2h2Zm0-4V7h-2v6h2Z" fill-rule="evenodd" clip-rule="evenodd"/></svg>',"ordered-list-rtl":'<svg width="24" height="24"><path d="M6 17h8a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2H6a1 1 0 1 1 0-2Zm13-1v3.5a.5.5 0 1 1-1 0V5h-.5a.5.5 0 1 1 0-1H19Zm-1 8.8.2.2h1.3a.5.5 0 1 1 0 1h-1.6a1 1 0 0 1-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 0 0-.2-.2h-1.3a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3Zm2 4.2v2c0 .6-.4 1-1 1h-1.5a.5.5 0 0 1 0-1h1.2a.3.3 0 1 0 0-.6h-1.3a.4.4 0 1 1 0-.8h1.3a.3.3 0 0 0 0-.6h-1.2a.5.5 0 1 1 0-1H19c.6 0 1 .4 1 1Z" fill-rule="evenodd"/></svg>',"ordered-list":'<svg width="24" height="24"><path d="M10 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 1 1 0-2ZM6 4v3.5c0 .3-.2.5-.5.5a.5.5 0 0 1-.5-.5V5h-.5a.5.5 0 0 1 0-1H6Zm-1 8.8.2.2h1.3c.3 0 .5.2.5.5s-.2.5-.5.5H4.9a1 1 0 0 1-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 0 0-.2-.2H4.5a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3ZM7 17v2c0 .6-.4 1-1 1H4.5a.5.5 0 0 1 0-1h1.2c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.4a.4.4 0 1 1 0-.8h1.3c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.5a.5.5 0 1 1 0-1H6c.6 0 1 .4 1 1Z" fill-rule="evenodd"/></svg>',orientation:'<svg width="24" height="24"><path d="M7.3 6.4 1 13l6.4 6.5 6.5-6.5-6.5-6.5ZM3.7 13l3.6-3.7L11 13l-3.7 3.7-3.6-3.7ZM12 6l2.8 2.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0L9.2 5.7a.8.8 0 0 1 0-1.2L13.6.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L12 4h1a9 9 0 1 1-4.3 16.9l1.5-1.5A7 7 0 1 0 13 6h-1Z" fill-rule="nonzero"/></svg>',outdent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 1 1 0-2Zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm-5 4h12a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2Zm1.6-3.8a1 1 0 0 1-1.2 1.6l-3-2a1 1 0 0 1 0-1.6l3-2a1 1 0 0 1 1.2 1.6L6.8 12l1.8 1.2Z" fill-rule="evenodd"/></svg>',"page-break":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M5 11c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1h-1a1 1 0 0 1 0-2Zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2ZM7 3v5h10V3c0-.6.4-1 1-1s1 .4 1 1v7H5V3c0-.6.4-1 1-1s1 .4 1 1ZM6 22a1 1 0 0 1-1-1v-7h14v7c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-5H7v5c0 .6-.4 1-1 1Z"/></g></svg>',paragraph:'<svg width="24" height="24"><path fill-rule="evenodd" d="M10 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 6.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L10 5Z"/></svg>',"paste-column-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h7v2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm8 7v12h-6V8h6Zm-1.5 1.5h-3v9h3v-9ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-column-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V18c0 1-.8 2-1.9 2H11v-2h7V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v2H4V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm-2 7v12H4V8h6ZM8.5 9.5h-3v9h3v-9ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-row-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V11h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h14c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm10 11v5H8v-5h14Zm-1.5 1.5h-11v2h11v-2ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-row-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h12v-4h2v4c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm10 7v5H8V8h14Zm-1.5 1.5h-11v2h11v-2ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-text":'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h3V9h9ZM9 20H6a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0 1 12 1a3 3 0 0 1 2.8 2H18a2 2 0 0 1 2 2v4h1v12H9v-1Zm1.5-9.5v9h9v-9h-9ZM12 3a1 1 0 0 0-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1Zm0 9h6v2h-.5l-.5-1h-1v4h.8v1h-3.6v-1h.8v-4h-1l-.5 1H12v-2Z" fill-rule="nonzero"/></svg>',paste:'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h3V9h9ZM9 20H6a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0 1 12 1a3 3 0 0 1 2.8 2H18a2 2 0 0 1 2 2v4h1v12H9v-1Zm1.5-9.5v9h9v-9h-9ZM12 3a1 1 0 0 0-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1Z" fill-rule="nonzero"/></svg>',"permanent-pen":'<svg width="24" height="24"><path d="M10.5 17.5 8 20H3v-3l3.5-3.5a2 2 0 0 1 0-3L14 3l1 1-7.3 7.3a1 1 0 0 0 0 1.4l3.6 3.6c.4.4 1 .4 1.4 0L20 9l1 1-7.6 7.6a2 2 0 0 1-2.8 0l-.1-.1Z" fill-rule="nonzero"/></svg>',plus:'<svg width="24" height="24"><path d="M12 4c.5 0 1 .4 1 .9V11h6a1 1 0 0 1 .1 2H13v6a1 1 0 0 1-2 .1V13H5a1 1 0 0 1-.1-2H11V5c0-.6.4-1 1-1Z"/></svg>',preferences:'<svg width="24" height="24"><path d="m20.1 13.5-1.9.2a5.8 5.8 0 0 1-.6 1.5l1.2 1.5c.4.4.3 1 0 1.4l-.7.7a1 1 0 0 1-1.4 0l-1.5-1.2a6.2 6.2 0 0 1-1.5.6l-.2 1.9c0 .5-.5.9-1 .9h-1a1 1 0 0 1-1-.9l-.2-1.9a5.8 5.8 0 0 1-1.5-.6l-1.5 1.2a1 1 0 0 1-1.4 0l-.7-.7a1 1 0 0 1 0-1.4l1.2-1.5a6.2 6.2 0 0 1-.6-1.5l-1.9-.2a1 1 0 0 1-.9-1v-1c0-.5.4-1 .9-1l1.9-.2a5.8 5.8 0 0 1 .6-1.5L5.2 7.3a1 1 0 0 1 0-1.4l.7-.7a1 1 0 0 1 1.4 0l1.5 1.2a6.2 6.2 0 0 1 1.5-.6l.2-1.9c0-.5.5-.9 1-.9h1c.5 0 1 .4 1 .9l.2 1.9a5.8 5.8 0 0 1 1.5.6l1.5-1.2a1 1 0 0 1 1.4 0l.7.7c.3.4.4 1 0 1.4l-1.2 1.5a6.2 6.2 0 0 1 .6 1.5l1.9.2c.5 0 .9.5.9 1v1c0 .5-.4 1-.9 1ZM12 15a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z" fill-rule="evenodd"/></svg>',preview:'<svg width="24" height="24"><path d="M3.5 12.5c.5.8 1.1 1.6 1.8 2.3 2 2 4.2 3.2 6.7 3.2s4.7-1.2 6.7-3.2a16.2 16.2 0 0 0 2.1-2.8 15.7 15.7 0 0 0-2.1-2.8c-2-2-4.2-3.2-6.7-3.2a9.3 9.3 0 0 0-6.7 3.2A16.2 16.2 0 0 0 3.2 12c0 .2.2.3.3.5Zm-2.4-1 .7-1.2L4 7.8C6.2 5.4 8.9 4 12 4c3 0 5.8 1.4 8.1 3.8a18.2 18.2 0 0 1 2.8 3.7v1l-.7 1.2-2.1 2.5c-2.3 2.4-5 3.8-8.1 3.8-3 0-5.8-1.4-8.1-3.8a18.2 18.2 0 0 1-2.8-3.7 1 1 0 0 1 0-1Zm12-3.3a2 2 0 1 0 2.7 2.6 4 4 0 1 1-2.6-2.6Z" fill-rule="nonzero"/></svg>',print:'<svg width="24" height="24"><path d="M18 8H6a3 3 0 0 0-3 3v6h2v3h14v-3h2v-6a3 3 0 0 0-3-3Zm-1 10H7v-4h10v4Zm.5-5c-.8 0-1.5-.7-1.5-1.5s.7-1.5 1.5-1.5 1.5.7 1.5 1.5-.7 1.5-1.5 1.5Zm.5-8H6v2h12V5Z" fill-rule="nonzero"/></svg>',quote:'<svg width="24" height="24"><path d="M7.5 17h.9c.4 0 .7-.2.9-.6L11 13V8c0-.6-.4-1-1-1H6a1 1 0 0 0-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 0 0 .8 1.3Zm8 0h.9c.4 0 .7-.2.9-.6L19 13V8c0-.6-.4-1-1-1h-4a1 1 0 0 0-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 0 0 .8 1.3Z" fill-rule="nonzero"/></svg>',redo:'<svg width="24" height="24"><path d="M17.6 10H12c-2.8 0-4.4 1.4-4.9 3.5-.4 2 .3 4 1.4 4.6a1 1 0 1 1-1 1.8c-2-1.2-2.9-4.1-2.3-6.8.6-3 3-5.1 6.8-5.1h5.6l-3.3-3.3a1 1 0 1 1 1.4-1.4l5 5a1 1 0 0 1 0 1.4l-5 5a1 1 0 0 1-1.4-1.4l3.3-3.3Z" fill-rule="nonzero"/></svg>',reload:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="m5 22.1-1.2-4.7v-.2a1 1 0 0 1 1-1l5 .4a1 1 0 1 1-.2 2l-2.2-.2a7.8 7.8 0 0 0 8.4.2 7.5 7.5 0 0 0 3.5-6.4 1 1 0 1 1 2 0 9.5 9.5 0 0 1-4.5 8 9.9 9.9 0 0 1-10.2 0l.4 1.4a1 1 0 1 1-2 .5ZM13.6 7.4c0-.5.5-1 1-.9l2.8.2a8 8 0 0 0-9.5-1 7.5 7.5 0 0 0-3.6 7 1 1 0 0 1-2 0 9.5 9.5 0 0 1 4.5-8.6 10 10 0 0 1 10.9.3l-.3-1a1 1 0 0 1 2-.5l1.1 4.8a1 1 0 0 1-1 1.2l-5-.4a1 1 0 0 1-.9-1Z"/></g></svg>',"remove-formatting":'<svg width="24" height="24"><path d="M13.2 6a1 1 0 0 1 0 .2l-2.6 10a1 1 0 0 1-1 .8h-.2a.8.8 0 0 1-.8-1l2.6-10H8a1 1 0 1 1 0-2h9a1 1 0 0 1 0 2h-3.8ZM5 18h7a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Zm13 1.5L16.5 18 15 19.5a.7.7 0 0 1-1-1l1.5-1.5-1.5-1.5a.7.7 0 0 1 1-1l1.5 1.5 1.5-1.5a.7.7 0 0 1 1 1L17.5 17l1.5 1.5a.7.7 0 0 1-1 1Z" fill-rule="evenodd"/></svg>',remove:'<svg width="24" height="24"><path d="M16 7h3a1 1 0 0 1 0 2h-1v9a3 3 0 0 1-3 3H9a3 3 0 0 1-3-3V9H5a1 1 0 1 1 0-2h3V6a3 3 0 0 1 3-3h2a3 3 0 0 1 3 3v1Zm-2 0V6c0-.6-.4-1-1-1h-2a1 1 0 0 0-1 1v1h4Zm2 2H8v9c0 .6.4 1 1 1h6c.6 0 1-.4 1-1V9Zm-7 3a1 1 0 0 1 2 0v4a1 1 0 0 1-2 0v-4Zm4 0a1 1 0 0 1 2 0v4a1 1 0 0 1-2 0v-4Z" fill-rule="nonzero"/></svg>',"resize-handle":'<svg width="10" height="10"><g fill-rule="nonzero"><path d="M8.1 1.1A.5.5 0 1 1 9 2l-7 7A.5.5 0 1 1 1 8l7-7ZM8.1 5.1A.5.5 0 1 1 9 6l-3 3A.5.5 0 1 1 5 8l3-3Z"/></g></svg>',resize:'<svg width="24" height="24"><path d="M4 5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h6c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 0 1-.7.3H7.4L18 16.6V13c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v6c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-6a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3.6L6 7.4V11c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.7-.3A1 1 0 0 1 4 11V5Z" fill-rule="evenodd"/></svg>',"restore-draft":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M17 13c0 .6-.4 1-1 1h-4V8c0-.6.4-1 1-1s1 .4 1 1v4h2c.6 0 1 .4 1 1Z"/><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></g></svg>',"rotate-left":'<svg width="24" height="24"><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></svg>',"rotate-right":'<svg width="24" height="24"><path d="M20 8V5a1 1 0 0 1 2 0v6c0 .6-.4 1-1 1h-6a1 1 0 0 1 0-2h4.3L16 7A7.2 7.2 0 0 0 7.7 6a7 7 0 0 0 3 13.1c1.9.1 3.7-.5 5-1.7a1 1 0 0 1 1.4 1.5A9.2 9.2 0 0 1 2.2 14c-.9-3.9 1-8 4.5-9.9 3.5-1.9 8-1.3 10.8 1.5L20 8Z" fill-rule="nonzero"/></svg>',rtl:'<svg width="24" height="24"><path d="M8 5h8v2h-2v12h-2V7h-2v12H8v-7c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 4.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L8 5Zm12 11.2a1 1 0 1 1-1 1.6l-3-2a1 1 0 0 1 0-1.6l3-2a1 1 0 1 1 1 1.6L18.4 15l1.8 1.2Z" fill-rule="evenodd"/></svg>',save:'<svg width="24" height="24"><path d="M5 16h14a2 2 0 0 1 2 2v2a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-2c0-1.1.9-2 2-2Zm0 2v2h14v-2H5Zm10 0h2v2h-2v-2Zm-4-6.4L8.7 9.3a1 1 0 1 0-1.4 1.4l4 4c.4.4 1 .4 1.4 0l4-4a1 1 0 1 0-1.4-1.4L13 11.6V4a1 1 0 0 0-2 0v7.6Z" fill-rule="nonzero"/></svg>',search:'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Z" fill-rule="nonzero"/></svg>',"select-all":'<svg width="24" height="24"><path d="M3 5h2V3a2 2 0 0 0-2 2Zm0 8h2v-2H3v2Zm4 8h2v-2H7v2ZM3 9h2V7H3v2Zm10-6h-2v2h2V3Zm6 0v2h2a2 2 0 0 0-2-2ZM5 21v-2H3c0 1.1.9 2 2 2Zm-2-4h2v-2H3v2ZM9 3H7v2h2V3Zm2 18h2v-2h-2v2Zm8-8h2v-2h-2v2Zm0 8a2 2 0 0 0 2-2h-2v2Zm0-12h2V7h-2v2Zm0 8h2v-2h-2v2Zm-4 4h2v-2h-2v2Zm0-16h2V3h-2v2ZM7 17h10V7H7v10Zm2-8h6v6H9V9Z" fill-rule="nonzero"/></svg>',selected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2Zm3.6 10.9L7 12.3a.7.7 0 0 0-1 1L9.6 17 18 8.6a.7.7 0 0 0 0-1 .7.7 0 0 0-1 0l-7.4 7.3Z"/></svg>',send:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="m13.3 22 7-18.3-18.3 7L9 15l4.3 7ZM18 6.8l-.7-.7L9.4 14l.7.7L18 6.8Z"/></svg>',settings:'<svg width="24" height="24"><path d="M11 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V8H5a1 1 0 1 1 0-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.5V6ZM8 8h2V6H8v2Zm9 2.8v.2h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v.3c0 .2 0 .3-.2.5l-.6.2h-2.4c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V13H5a1 1 0 0 1 0-2h8v-.3c0-.2 0-.3.2-.5l.6-.2h2.4c.3 0 .4 0 .6.2l.2.6ZM14 13h2v-2h-2v2Zm-3 2.8v.2h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V18H5a1 1 0 0 1 0-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.6ZM8 18h2v-2H8v2Z" fill-rule="evenodd"/></svg>',sharpen:'<svg width="24" height="24"><path d="m16 6 4 4-8 9-8-9 4-4h8Zm-4 10.2 5.5-6.2-.1-.1H12v-.3h5.1l-.2-.2H12V9h4.6l-.2-.2H12v-.3h4.1l-.2-.2H12V8h3.6l-.2-.2H8.7L6.5 10l.1.1H12v.3H6.9l.2.2H12v.3H7.3l.2.2H12v.3H7.7l.3.2h4v.3H8.2l.2.2H12v.3H8.6l.3.2H12v.3H9l.3.2H12v.3H9.5l.2.2H12v.3h-2l.2.2H12v.3h-1.6l.2.2H12v.3h-1.1l.2.2h.9v.3h-.7l.2.2h.5v.3h-.3l.3.2Z" fill-rule="evenodd"/></svg>',sourcecode:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M9.8 15.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0l-4.4-4.1a.8.8 0 0 1 0-1.2l4.4-4.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L6 12l3.8 3.7ZM14.2 15.7c-.3.3-.3.8 0 1 .4.4.9.4 1.2 0l4.4-4.1c.3-.3.3-.9 0-1.2l-4.4-4.2a.8.8 0 0 0-1.2 0c-.3.3-.3.8 0 1.1L18 12l-3.8 3.7Z"/></g></svg>',"spell-check":'<svg width="24" height="24"><path d="M6 8v3H5V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h2c.3 0 .5.1.7.3.2.2.3.4.3.7v6H8V8H6Zm0-3v2h2V5H6Zm13 0h-3v5h3v1h-3a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3v1Zm-5 1.5-.1.7c-.1.2-.3.3-.6.3.3 0 .5.1.6.3l.1.7V10c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-3V4h3c.3 0 .5.1.7.3.2.2.3.4.3.7v1.5ZM13 10V8h-2v2h2Zm0-3V5h-2v2h2Zm3 5 1 1-6.5 7L7 15.5l1.3-1 2.2 2.2L16 12Z" fill-rule="evenodd"/></svg>',"strike-through":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M15.6 8.5c-.5-.7-1-1.1-1.3-1.3-.6-.4-1.3-.6-2-.6-2.7 0-2.8 1.7-2.8 2.1 0 1.6 1.8 2 3.2 2.3 4.4.9 4.6 2.8 4.6 3.9 0 1.4-.7 4.1-5 4.1A6.2 6.2 0 0 1 7 16.4l1.5-1.1c.4.6 1.6 2 3.7 2 1.6 0 2.5-.4 3-1.2.4-.8.3-2-.8-2.6-.7-.4-1.6-.7-2.9-1-1-.2-3.9-.8-3.9-3.6C7.6 6 10.3 5 12.4 5c2.9 0 4.2 1.6 4.7 2.4l-1.5 1.1Z"/><path d="M5 11h14a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Z" fill-rule="nonzero"/></g></svg>',subscript:'<svg width="24" height="24"><path d="m10.4 10 4.6 4.6-1.4 1.4L9 11.4 4.4 16 3 14.6 7.6 10 3 5.4 4.4 4 9 8.6 13.6 4 15 5.4 10.4 10ZM21 19h-5v-1l1-.8 1.7-1.6c.3-.4.5-.8.5-1.2 0-.3 0-.6-.2-.7-.2-.2-.5-.3-.9-.3a2 2 0 0 0-.8.2l-.7.3-.4-1.1 1-.6 1.2-.2c.8 0 1.4.3 1.8.7.4.4.6.9.6 1.5s-.2 1.1-.5 1.6a8 8 0 0 1-1.3 1.3l-.6.6h2.6V19Z" fill-rule="nonzero"/></svg>',superscript:'<svg width="24" height="24"><path d="M15 9.4 10.4 14l4.6 4.6-1.4 1.4L9 15.4 4.4 20 3 18.6 7.6 14 3 9.4 4.4 8 9 12.6 13.6 8 15 9.4Zm5.9 1.6h-5v-1l1-.8 1.7-1.6c.3-.5.5-.9.5-1.3 0-.3 0-.5-.2-.7-.2-.2-.5-.3-.9-.3l-.8.2-.7.4-.4-1.2c.2-.2.5-.4 1-.5.3-.2.8-.2 1.2-.2.8 0 1.4.2 1.8.6.4.4.6 1 .6 1.6 0 .5-.2 1-.5 1.5l-1.3 1.4-.6.5h2.6V11Z" fill-rule="nonzero"/></svg>',"table-caption":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="12" height="2" x="3" y="4" rx="1"/><path d="M19 8a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-8c0-1.1.9-2 2-2h14ZM5 15v3h6v-3H5Zm14 0h-6v3h6v-3Zm0-5h-6v3h6v-3ZM5 13h6v-3H5v3Z"/></g></svg>',"table-cell-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M13 4v9H3V6c0-1.1.9-2 2-2h8Zm-2 2H5v5h6V6Z"/><path fill-rule="nonzero" d="M13 4h6a2 2 0 0 1 2 2v7h-8v-2h6V6h-6V4Z" opacity=".2"/><path d="m18 20-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3.1.2-2.4 2 .7 3z"/><path fill-rule="nonzero" d="M3 13v5c0 1.1.9 2 2 2h8v-7h-2v5H5v-5H3Z" opacity=".2"/></g></svg>',"table-cell-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9H5v5h6v-5Zm8 0h-6v5h6v-5Zm-8-7H5v5h6V6Z"/></svg>',"table-cell-select-all":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v12h14V6Z"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2Z" opacity=".2"/></g></svg>',"table-cell-select-inner":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v12h14V6Z" opacity=".2"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2Z"/></g></svg>',"table-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v7h-8v7H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9H5v5h6v-5Zm8-7h-6v5h6V6Zm-8 0H5v5h6V6Z"/><path d="m18 20-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3.1.2-2.4 2 .7 3z"/></g></svg>',"table-delete-column":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-4 4h-2V6h-2v2H9V6H5v12h4v-2h2v2h2v-2h2v2h4V6h-4v2Zm.3.5 1 1.2-3 2.3 3 2.3-1 1.2L12 13l-3.3 2.6-1-1.2 3-2.3-3-2.3 1-1.2L12 11l3.3-2.5Z"/></svg>',"table-delete-row":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v3h2.5v2H5v2h2.5v2H5v3h14v-3h-2.5v-2H19v-2h-2.5V9H19V6Zm-4.7 1.8 1.2 1L13 12l2.6 3.3-1.2 1-2.3-3-2.3 3-1.2-1L11 12 8.5 8.7l1.2-1 2.3 3 2.3-3Z"/></svg>',"table-delete-table":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 6v12h14V6H5Z"/><path d="m14.4 8.6 1.1 1-2.4 2.4 2.4 2.4-1.1 1.1-2.4-2.4-2.4 2.4-1-1.1 2.3-2.4-2.3-2.4 1-1 2.4 2.3z"/></g></svg>',"table-insert-column-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M20 4c.6 0 1 .4 1 1v2a1 1 0 0 1-2 0V6h-8v12h8v-1a1 1 0 0 1 2 0v2c0 .5-.4 1-.9 1H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h15ZM9 13H5v5h4v-5Zm7-5c.5 0 1 .4 1 .9V11h2a1 1 0 0 1 .1 2H17v2a1 1 0 0 1-2 .1V13h-2a1 1 0 0 1-.1-2H15V9c0-.6.4-1 1-1ZM9 6H5v5h4V6Z"/></svg>',"table-insert-column-before":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H4a1 1 0 0 1-1-1v-2a1 1 0 0 1 2 0v1h8V6H5v1a1 1 0 1 1-2 0V5c0-.6.4-1 1-1h15Zm0 9h-4v5h4v-5ZM8 8c.5 0 1 .4 1 .9V11h2a1 1 0 0 1 .1 2H9v2a1 1 0 0 1-2 .1V13H5a1 1 0 0 1-.1-2H7V9c0-.6.4-1 1-1Zm11-2h-4v5h4V6Z"/></svg>',"table-insert-row-above":'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4a1 1 0 1 1 0 2H5v6h14V6h-1a1 1 0 0 1 0-2h2c.6 0 1 .4 1 1v13a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5c0-.6.4-1 1-1h2Zm5 10H5v4h6v-4Zm8 0h-6v4h6v-4ZM12 3c.5 0 1 .4 1 .9V6h2a1 1 0 0 1 0 2h-2v2a1 1 0 0 1-2 .1V8H9a1 1 0 0 1 0-2h2V4c0-.6.4-1 1-1Z"/></svg>',"table-insert-row-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M12 13c.5 0 1 .4 1 .9V16h2a1 1 0 0 1 .1 2H13v2a1 1 0 0 1-2 .1V18H9a1 1 0 0 1-.1-2H11v-2c0-.6.4-1 1-1Zm6 7a1 1 0 0 1 0-2h1v-6H5v6h1a1 1 0 0 1 0 2H4a1 1 0 0 1-1-1V6c0-1.1.9-2 2-2h14a2 2 0 0 1 2 2v13c0 .5-.4 1-.9 1H18ZM11 6H5v4h6V6Zm8 0h-6v4h6V6Z"/></svg>',"table-left-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 9h-4v5h4v-5Zm-6 0H9v5h4v-5Zm0-7H9v5h4V6Zm6 0h-4v5h4V6Z"/></svg>',"table-merge-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 15.5V18h3v-2.5H5Zm14-5h-9V18h9v-7.5ZM19 6h-4v2.5h4V6ZM8 6H5v2.5h3V6Zm5 0h-3v2.5h3V6Zm-8 7.5h3v-3H5v3Z"/></svg>',"table-row-numbering-rtl":'<svg width="24" height="24"><path d="M6 4a2 2 0 0 0-2 2v13c0 1.1.9 2 2 2h12a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2H6Zm0 12h8v3H6v-3Zm11 0c.6 0 1 .4 1 1v1a1 1 0 0 1-2 0v-1c0-.6.4-1 1-1ZM6 11h8v3H6v-3Zm11 0c.6 0 1 .4 1 1v1a1 1 0 0 1-2 0v-1c0-.6.4-1 1-1ZM6 6h8v3H6V6Zm11 0c.6 0 1 .4 1 1v1a1 1 0 1 1-2 0V7c0-.6.4-1 1-1Z"/></svg>',"table-row-numbering":'<svg width="24" height="24"><path d="M18 4a2 2 0 0 1 2 2v13a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h12Zm0 12h-8v3h8v-3ZM7 16a1 1 0 0 0-1 1v1a1 1 0 0 0 2 0v-1c0-.6-.4-1-1-1Zm11-5h-8v3h8v-3ZM7 11a1 1 0 0 0-1 1v1a1 1 0 0 0 2 0v-1c0-.6-.4-1-1-1Zm11-5h-8v3h8V6ZM7 6a1 1 0 0 0-1 1v1a1 1 0 1 0 2 0V7c0-.6-.4-1-1-1Z"/></svg>',"table-row-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 15v3h6v-3H5Zm14 0h-6v3h6v-3Zm0-9h-6v3h6V6ZM5 9h6V6H5v3Z"/></svg>',"table-split-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM8 15.5H5V18h3v-2.5Zm11-5h-9V18h9v-7.5Zm-2.5 1 1 1-2 2 2 2-1 1-2-2-2 2-1-1 2-2-2-2 1-1 2 2 2-2Zm-8.5-1H5v3h3v-3ZM19 6h-4v2.5h4V6ZM8 6H5v2.5h3V6Zm5 0h-3v2.5h3V6Z"/></svg>',"table-top-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 11H5v3h6v-3Zm8 0h-6v3h6v-3Zm0-5h-6v3h6v-3ZM5 13h6v-3H5v3Z"/></svg>',table:'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 14v4h6v-4H5Zm14 0h-6v4h6v-4Zm0-6h-6v4h6V8ZM5 12h6V8H5v4Z"/></svg>',"template-add":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M9 12v4H5a2 2 0 0 0-2 2v3h9.3a6 6 0 0 1-.3-2H5v-1h7a6 6 0 0 1 .8-2H11v-5l-.8-.6a3 3 0 1 1 3.6 0l-.8.6v4.7a6 6 0 0 1 2-1.9V12a5 5 0 1 0-6 0Z"/><path d="M18 15c.5 0 1 .4 1 .9V18h2a1 1 0 0 1 .1 2H19v2a1 1 0 0 1-2 .1V20h-2a1 1 0 0 1-.1-2H17v-2c0-.6.4-1 1-1Z"/></svg>',template:'<svg width="24" height="24"><path d="M19 19v-1H5v1h14ZM9 16v-4a5 5 0 1 1 6 0v4h4a2 2 0 0 1 2 2v3H3v-3c0-1.1.9-2 2-2h4Zm4 0v-5l.8-.6a3 3 0 1 0-3.6 0l.8.6v5h2Z" fill-rule="nonzero"/></svg>',"temporary-placeholder":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M9 7.6V6h2.5V4.5a.5.5 0 1 1 1 0V6H15v1.6a8 8 0 1 1-6 0Zm-2.6 5.3a.5.5 0 0 0 .3.6c.3 0 .6 0 .6-.3l.1-.2a5 5 0 0 1 3.3-2.8c.3-.1.4-.4.4-.6-.1-.3-.4-.5-.6-.4a6 6 0 0 0-4.1 3.7Z"/><circle cx="14" cy="4" r="1"/><circle cx="12" cy="2" r="1"/><circle cx="10" cy="4" r="1"/></g></svg>',"text-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path class="tox-icon-text-color__color" d="M3 18h18v3H3z"/><path d="M8.7 16h-.8a.5.5 0 0 1-.5-.6l2.7-9c.1-.3.3-.4.5-.4h2.8c.2 0 .4.1.5.4l2.7 9a.5.5 0 0 1-.5.6h-.8a.5.5 0 0 1-.4-.4l-.7-2.2c0-.3-.3-.4-.5-.4h-3.4c-.2 0-.4.1-.5.4l-.7 2.2c0 .3-.2.4-.4.4Zm2.6-7.6-.6 2a.5.5 0 0 0 .5.6h1.6a.5.5 0 0 0 .5-.6l-.6-2c0-.3-.3-.4-.5-.4h-.4c-.2 0-.4.1-.5.4Z"/></g></svg>',"text-size-decrease":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M14 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H4a1 1 0 0 1 0-2h10ZM14 12a1 1 0 1 0 0 2h6a1 1 0 1 0 0-2h-6Z"/></svg>',"text-size-increase":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M14 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H4a1 1 0 0 1 0-2h10ZM17 9a1 1 0 0 0-1 1v2h-2a1 1 0 1 0 0 2h2v2a1 1 0 1 0 2 0v-2h2a1 1 0 1 0 0-2h-2v-2c0-.6-.4-1-1-1Z"/></svg>',toc:'<svg width="24" height="24"><path d="M5 5c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 1 1 0-2Zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 1 1 0-2Zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm0-4c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 1 1 0-2Zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',translate:'<svg width="24" height="24"><path d="m12.7 14.3-.3.7-.4.7-2.2-2.2-3.1 3c-.3.4-.8.4-1 0a.7.7 0 0 1 0-1l3.1-3A12.4 12.4 0 0 1 6.7 9H8a10.1 10.1 0 0 0 1.7 2.4c.5-.5 1-1.1 1.4-1.8l.9-2H4.7a.7.7 0 1 1 0-1.5h4.4v-.7c0-.4.3-.8.7-.8.4 0 .7.4.7.8v.7H15c.4 0 .8.3.8.7 0 .4-.4.8-.8.8h-1.4a12.3 12.3 0 0 1-1 2.4 13.5 13.5 0 0 1-1.7 2.3l1.9 1.8Zm4.3-3 2.7 7.3a.5.5 0 0 1-.4.7 1 1 0 0 1-1-.7l-.6-1.5h-3.4l-.6 1.5a1 1 0 0 1-1 .7.5.5 0 0 1-.4-.7l2.7-7.4a1 1 0 0 1 2 0Zm-2.2 4.4h2.4L16 12.5l-1.2 3.2Z" fill-rule="evenodd"/></svg>',typography:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M17 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H7a1 1 0 0 1 0-2h10Z"/><path d="m17.5 14 .8-1.7 1.7-.8-1.7-.8-.8-1.7-.8 1.7-1.7.8 1.7.8.8 1.7ZM7 14l1 2 2 1-2 1-1 2-1-2-2-1 2-1 1-2Z"/></svg>',underline:'<svg width="24" height="24"><path d="M16 5c.6 0 1 .4 1 1v5.5a4 4 0 0 1-.4 1.8l-1 1.4a5.3 5.3 0 0 1-5.5 1 5 5 0 0 1-1.6-1c-.5-.4-.8-.9-1.1-1.4a4 4 0 0 1-.4-1.8V6c0-.6.4-1 1-1s1 .4 1 1v5.5c0 .3 0 .6.2 1l.6.7a3.3 3.3 0 0 0 2.2.8 3.4 3.4 0 0 0 2.2-.8c.3-.2.4-.5.6-.8l.2-.9V6c0-.6.4-1 1-1ZM8 17h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',undo:'<svg width="24" height="24"><path d="M6.4 8H12c3.7 0 6.2 2 6.8 5.1.6 2.7-.4 5.6-2.3 6.8a1 1 0 0 1-1-1.8c1.1-.6 1.8-2.7 1.4-4.6-.5-2.1-2.1-3.5-4.9-3.5H6.4l3.3 3.3a1 1 0 1 1-1.4 1.4l-5-5a1 1 0 0 1 0-1.4l5-5a1 1 0 0 1 1.4 1.4L6.4 8Z" fill-rule="nonzero"/></svg>',unlink:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 0 1 1.4 1.4l-2 2a2 2 0 1 0 2.6 2.8l4.8-4.8a1 1 0 0 0 0-1.4 1 1 0 1 1 1.4-1.3 2.9 2.9 0 0 1 0 4L9.6 20a3.9 3.9 0 0 1-5.5-5.5l2-2Zm11.6-.6a1 1 0 0 1-1.4-1.4l2.1-2a2 2 0 1 0-2.7-2.8L11 10.3a1 1 0 0 0 0 1.4A1 1 0 1 1 9.6 13a2.9 2.9 0 0 1 0-4L14.4 4a3.9 3.9 0 0 1 5.5 5.5l-2 2ZM7.6 6.3a.8.8 0 0 1-1 1.1L3.3 4.2a.7.7 0 1 1 1-1l3.2 3.1ZM5.1 8.6a.8.8 0 0 1 0 1.5H3a.8.8 0 0 1 0-1.5H5Zm5-3.5a.8.8 0 0 1-1.5 0V3a.8.8 0 0 1 1.5 0V5Zm6 11.8a.8.8 0 0 1 1-1l3.2 3.2a.8.8 0 0 1-1 1L16 17Zm-2.2 2a.8.8 0 0 1 1.5 0V21a.8.8 0 0 1-1.5 0V19Zm5-3.5a.7.7 0 1 1 0-1.5H21a.8.8 0 0 1 0 1.5H19Z" fill-rule="nonzero"/></svg>',unlock:'<svg width="24" height="24"><path d="M16 5c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h-2V8a1 1 0 0 0-.3-.7A1 1 0 0 0 16 7h-2a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7v3h.3c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H4.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H11V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2Z" fill-rule="evenodd"/></svg>',"unordered-list":'<svg width="24" height="24"><path d="M11 5h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2ZM4.5 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Z" fill-rule="evenodd"/></svg>',unselected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2Zm0 1a1 1 0 0 0-1 1v12c0 .6.4 1 1 1h12c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H6Z"/></svg>',upload:'<svg width="24" height="24"><path d="M18 19v-2a1 1 0 0 1 2 0v3c0 .6-.4 1-1 1H5a1 1 0 0 1-1-1v-3a1 1 0 0 1 2 0v2h12ZM11 6.4 8.7 8.7a1 1 0 0 1-1.4-1.4l4-4a1 1 0 0 1 1.4 0l4 4a1 1 0 1 1-1.4 1.4L13 6.4V16a1 1 0 0 1-2 0V6.4Z" fill-rule="nonzero"/></svg>',user:'<svg width="24" height="24"><path d="M12 24a12 12 0 1 1 0-24 12 12 0 0 1 0 24Zm-8.7-5.3a11 11 0 0 0 17.4 0C19.4 16.3 14.6 15 12 15c-2.6 0-7.4 1.3-8.7 3.7ZM12 13c2.2 0 4-2 4-4.5S14.2 4 12 4 8 6 8 8.5 9.8 13 12 13Z" fill-rule="nonzero"/></svg>',"vertical-align":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="18" height="2" x="3" y="11" rx="1"/><path d="M12 2c.6 0 1 .4 1 1v4l2-1.3a1 1 0 0 1 1.2 1.5l-.1.1-4.1 3-4-3a1 1 0 0 1 1-1.7l2 1.5V3c0-.6.4-1 1-1zm0 11.8 4 2.9a1 1 0 0 1-1 1.7l-2-1.5V21c0 .5-.4 1-.9 1H12a1 1 0 0 1-1-1v-4l-2 1.3a1 1 0 0 1-1.2-.1l-.1-.1a1 1 0 0 1 .1-1.3l.1-.1 4.1-3z"/></g></svg>',visualblocks:'<svg width="24" height="24"><path d="M9 19v2H7v-2h2Zm-4 0v2a2 2 0 0 1-2-2h2Zm8 0v2h-2v-2h2Zm8 0a2 2 0 0 1-2 2v-2h2Zm-4 0v2h-2v-2h2ZM15 7a1 1 0 0 1 0 2v7a1 1 0 0 1-2 0V9h-1v7a1 1 0 0 1-2 0v-4a2.5 2.5 0 0 1-.2-5H15ZM5 15v2H3v-2h2Zm16 0v2h-2v-2h2ZM5 11v2H3v-2h2Zm16 0v2h-2v-2h2ZM5 7v2H3V7h2Zm16 0v2h-2V7h2ZM5 3v2H3c0-1.1.9-2 2-2Zm8 0v2h-2V3h2Zm6 0a2 2 0 0 1 2 2h-2V3ZM9 3v2H7V3h2Zm8 0v2h-2V3h2Z" fill-rule="evenodd"/></svg>',visualchars:'<svg width="24" height="24"><path d="M10 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 6.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L10 5Z" fill-rule="evenodd"/></svg>',warning:'<svg width="24" height="24"><path d="M19.8 18.3c.2.5.3.9 0 1.2-.1.3-.5.5-1 .5H5.2c-.5 0-.9-.2-1-.5-.3-.3-.2-.7 0-1.2L11 4.7l.5-.5.5-.2c.2 0 .3 0 .5.2.2 0 .3.3.5.5l6.8 13.6ZM12 18c.3 0 .5-.1.7-.3.2-.2.3-.4.3-.7a1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3Zm.7-3 .3-4a1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7l.3 4h1.4Z" fill-rule="evenodd"/></svg>',"zoom-in":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Zm-1-9a1 1 0 0 1 2 0v6a1 1 0 0 1-2 0V8Zm-2 4a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2H8Z" fill-rule="nonzero"/></svg>',"zoom-out":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Zm-3-5a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2H8Z" fill-rule="nonzero"/></svg>'}});(function(){const xo=Object.getPrototypeOf,Ko=(e,r,s)=>{var l;return!!s(e,r.prototype)||((l=e.constructor)===null||l===void 0?void 0:l.name)===r.name},Io=e=>r=>(s=>{const l=typeof s;return s===null?"null":l==="object"&&Array.isArray(s)?"array":l==="object"&&Ko(s,String,(m,g)=>g.isPrototypeOf(m))?"string":l})(r)===e,on=e=>r=>typeof r===e,Qo=e=>r=>e===r,io=Io("string"),Po=Io("object"),jt=e=>((r,s)=>Po(r)&&Ko(r,s,(l,m)=>xo(l)===m))(e,Object),ko=Io("array"),Mo=Qo(null),jo=on("boolean"),tn=Qo(void 0),To=e=>e==null,Ue=e=>!To(e),it=on("function"),So=on("number"),co=(e,r)=>{if(ko(e)){for(let s=0,l=e.length;s<l;++s)if(!r(e[s]))return!1;return!0}return!1},he=()=>{},Dt=e=>()=>e(),fo=(e,r)=>(...s)=>e(r.apply(null,s)),me=e=>()=>e,Ze=e=>e,de=(e,r)=>e===r;function rt(e,...r){return(...s)=>{const l=r.concat(s);return e.apply(null,l)}}const Yo=e=>r=>!e(r),$t=e=>()=>{throw new Error(e)},gn=e=>e(),Bo=me(!1),Ct=me(!0);class R{constructor(r,s){this.tag=r,this.value=s}static some(r){return new R(!0,r)}static none(){return R.singletonNone}fold(r,s){return this.tag?s(this.value):r()}isSome(){return this.tag}isNone(){return!this.tag}map(r){return this.tag?R.some(r(this.value)):R.none()}bind(r){return this.tag?r(this.value):R.none()}exists(r){return this.tag&&r(this.value)}forall(r){return!this.tag||r(this.value)}filter(r){return!this.tag||r(this.value)?this:R.none()}getOr(r){return this.tag?this.value:r}or(r){return this.tag?this:r}getOrThunk(r){return this.tag?this.value:r()}orThunk(r){return this.tag?this:r()}getOrDie(r){if(this.tag)return this.value;throw new Error(r??"Called getOrDie on None")}static from(r){return Ue(r)?R.some(r):R.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(r){this.tag&&r(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}R.singletonNone=new R(!1);const qe=Array.prototype.slice,Je=Array.prototype.indexOf,lt=Array.prototype.push,Mt=(e,r)=>Je.call(e,r),ht=(e,r)=>{const s=Mt(e,r);return s===-1?R.none():R.some(s)},Rt=(e,r)=>Mt(e,r)>-1,uo=(e,r)=>{for(let s=0,l=e.length;s<l;s++)if(r(e[s],s))return!0;return!1},Bt=(e,r)=>{const s=[];for(let l=0;l<e;l++)s.push(r(l));return s},V=(e,r)=>{const s=[];for(let l=0;l<e.length;l+=r){const m=qe.call(e,l,l+r);s.push(m)}return s},dt=(e,r)=>{const s=e.length,l=new Array(s);for(let m=0;m<s;m++){const g=e[m];l[m]=r(g,m)}return l},Ie=(e,r)=>{for(let s=0,l=e.length;s<l;s++)r(e[s],s)},Co=(e,r)=>{const s=[],l=[];for(let m=0,g=e.length;m<g;m++){const h=e[m];(r(h,m)?s:l).push(h)}return{pass:s,fail:l}},Pt=(e,r)=>{const s=[];for(let l=0,m=e.length;l<m;l++){const g=e[l];r(g,l)&&s.push(g)}return s},lo=(e,r,s)=>(((l,m)=>{for(let g=l.length-1;g>=0;g--)m(l[g],g)})(e,(l,m)=>{s=r(s,l,m)}),s),zo=(e,r,s)=>(Ie(e,(l,m)=>{s=r(s,l,m)}),s),to=(e,r)=>((s,l,m)=>{for(let g=0,h=s.length;g<h;g++){const x=s[g];if(l(x,g))return R.some(x);if(m(x,g))break}return R.none()})(e,r,Bo),Se=(e,r)=>{for(let s=0,l=e.length;s<l;s++)if(r(e[s],s))return R.some(s);return R.none()},$e=e=>{const r=[];for(let s=0,l=e.length;s<l;++s){if(!ko(e[s]))throw new Error("Arr.flatten item "+s+" was not an array, input: "+e);lt.apply(r,e[s])}return r},ct=(e,r)=>$e(dt(e,r)),gt=(e,r)=>{for(let s=0,l=e.length;s<l;++s)if(r(e[s],s)!==!0)return!1;return!0},pe=e=>{const r=qe.call(e,0);return r.reverse(),r},Oe=(e,r)=>Pt(e,s=>!Rt(r,s)),We=(e,r)=>{const s={};for(let l=0,m=e.length;l<m;l++){const g=e[l];s[String(g)]=r(g,l)}return s},Fe=e=>[e],ge=(e,r)=>{const s=qe.call(e,0);return s.sort(r),s},Me=(e,r)=>r>=0&&r<e.length?R.some(e[r]):R.none(),at=e=>Me(e,0),ze=e=>Me(e,e.length-1),Ge=it(Array.from)?Array.from:e=>qe.call(e),Gt=(e,r)=>{for(let s=0;s<e.length;s++){const l=r(e[s],s);if(l.isSome())return l}return R.none()},Vt=Object.keys,Xo=Object.hasOwnProperty,$o=(e,r)=>{const s=Vt(e);for(let l=0,m=s.length;l<m;l++){const g=s[l];r(e[g],g)}},Zo=(e,r)=>Gn(e,(s,l)=>({k:l,v:r(s,l)})),Gn=(e,r)=>{const s={};return $o(e,(l,m)=>{const g=r(l,m);s[g.k]=g.v}),s},Pn=e=>(r,s)=>{e[s]=r},zn=(e,r,s,l)=>{$o(e,(m,g)=>{(r(m,g)?s:l)(m,g)})},ut=(e,r)=>{const s={};return zn(e,r,Pn(s),he),s},zt=(e,r)=>{const s=[];return $o(e,(l,m)=>{s.push(r(l,m))}),s},Ft=(e,r)=>{const s=Vt(e);for(let l=0,m=s.length;l<m;l++){const g=s[l],h=e[g];if(r(h,g,e))return R.some(h)}return R.none()},vo=e=>zt(e,Ze),Xt=(e,r)=>Vo(e,r)?R.from(e[r]):R.none(),Vo=(e,r)=>Xo.call(e,r),$n=(e,r)=>Vo(e,r)&&e[r]!==void 0&&e[r]!==null,Rr=(e,r,s=de)=>e.exists(l=>s(l,r)),Wt=e=>{const r=[],s=l=>{r.push(l)};for(let l=0;l<e.length;l++)e[l].each(s);return r},vr=(e,r,s)=>e.isSome()&&r.isSome()?R.some(s(e.getOrDie(),r.getOrDie())):R.none(),Fn=(e,r)=>e!=null?R.some(r(e)):R.none(),ln=(e,r)=>e?R.some(r):R.none(),xr=(e,r,s)=>r===""||e.length>=r.length&&e.substr(s,s+r.length)===r,Ys=(e,r)=>Pa(e,r)?((s,l)=>s.substring(l))(e,r.length):e,Yr=(e,r,s=0,l)=>{const m=e.indexOf(r,s);return m!==-1&&(!!tn(l)||m+r.length<=l)},Pa=(e,r)=>xr(e,r,0),cs=(e,r)=>xr(e,r,e.length-r.length),Ha=(Gi=/^\s+|\s+$/g,e=>e.replace(Gi,"")),ja=e=>e.length>0,$s=e=>!ja(e),Us=e=>e.style!==void 0&&it(e.style.getPropertyValue),_a=e=>{if(e==null)throw new Error("Node cannot be null or undefined");return{dom:e}},tt=(e,r)=>{const s=(r||document).createElement("div");if(s.innerHTML=e,!s.hasChildNodes()||s.childNodes.length>1){const l="HTML does not have a single root node";throw console.error(l,e),new Error(l)}return _a(s.childNodes[0])},_t=(e,r)=>{const s=(r||document).createElement(e);return _a(s)},Do=(e,r)=>{const s=(r||document).createTextNode(e);return _a(s)},St=_a,zr=typeof window<"u"?window:Function("return this;")(),kr=(e,r)=>((s,l)=>{let m=l??zr;for(let g=0;g<s.length&&m!=null;++g)m=m[s[g]];return m})(e.split("."),r),Is=Object.getPrototypeOf,Xr=e=>{const r=kr("ownerDocument.defaultView",e);return Po(e)&&((s=>((l,m)=>{const g=((h,x)=>kr(h,x))(l,m);if(g==null)throw new Error(l+" not available on this browser");return g})("HTMLElement",s))(r).prototype.isPrototypeOf(e)||/^HTML\w*Element$/.test(Is(e).constructor.name))},gr=e=>e.dom.nodeName.toLowerCase(),De=e=>r=>(s=>s.dom.nodeType)(r)===e,Ae=e=>wt(e)&&Xr(e.dom),wt=De(1),It=De(3),dn=De(9),nn=De(11),sr=e=>r=>wt(r)&&gr(r)===e,Vr=(e,r)=>{const s=e.dom;if(s.nodeType!==1)return!1;{const l=s;if(l.matches!==void 0)return l.matches(r);if(l.msMatchesSelector!==void 0)return l.msMatchesSelector(r);if(l.webkitMatchesSelector!==void 0)return l.webkitMatchesSelector(r);if(l.mozMatchesSelector!==void 0)return l.mozMatchesSelector(r);throw new Error("Browser lacks native selectors")}},Br=e=>e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11||e.childElementCount===0,Jo=(e,r)=>e.dom===r.dom,Ce=(e,r)=>{const s=e.dom,l=r.dom;return s!==l&&s.contains(l)},Ne=e=>St(e.dom.ownerDocument),Zt=e=>dn(e)?e:Ne(e),Lo=e=>St(Zt(e).dom.documentElement),Ho=e=>St(Zt(e).dom.defaultView),rn=e=>R.from(e.dom.parentNode).map(St),Go=e=>R.from(e.dom.parentElement).map(St),hn=e=>R.from(e.dom.offsetParent).map(St),wn=e=>dt(e.dom.childNodes,St),Un=(e,r)=>{const s=e.dom.childNodes;return R.from(s[r]).map(St)},Ar=e=>Un(e,0),ra=(e,r)=>({element:e,offset:r}),Xs=(e,r)=>{const s=wn(e);return s.length>0&&r<s.length?ra(s[r],0):ra(e,r)},Zs=e=>nn(e)&&Ue(e.dom.host),mi=it(Element.prototype.attachShadow)&&it(Node.prototype.getRootNode),Wr=me(mi),rr=mi?e=>St(e.dom.getRootNode()):Zt,Sr=e=>Zs(e)?e:St(Zt(e).dom.body),va=e=>{const r=rr(e);return Zs(r)?R.some(r):R.none()},Cs=e=>St(e.dom.host),za=e=>{const r=It(e)?e.dom.parentNode:e.dom;if(r==null||r.ownerDocument===null)return!1;const s=r.ownerDocument;return va(St(r)).fold(()=>s.body.contains(r),(l=za,m=Cs,g=>l(m(g))));var l,m},ws=()=>As(St(document)),As=e=>{const r=e.dom.body;if(r==null)throw new Error("Body is not available yet");return St(r)},Aa=(e,r,s)=>{if(!(io(s)||jo(s)||So(s)))throw console.error("Invalid call to Attribute.set. Key ",r,":: Value ",s,":: Element ",e),new Error("Attribute value was not simple");e.setAttribute(r,s+"")},Kn=(e,r,s)=>{Aa(e.dom,r,s)},Os=(e,r)=>{const s=e.dom;$o(r,(l,m)=>{Aa(s,m,l)})},Ma=(e,r)=>{const s=e.dom.getAttribute(r);return s===null?void 0:s},Ca=(e,r)=>R.from(Ma(e,r)),ds=(e,r)=>{const s=e.dom;return!(!s||!s.hasAttribute)&&s.hasAttribute(r)},xa=(e,r)=>{e.dom.removeAttribute(r)},Rn=(e,r,s)=>{if(!io(s))throw console.error("Invalid call to CSS.set. Property ",r,":: Value ",s,":: Element ",e),new Error("CSS value must be a string: "+s);Us(e)&&e.style.setProperty(r,s)},Hi=(e,r)=>{Us(e)&&e.style.removeProperty(r)},Bn=(e,r,s)=>{const l=e.dom;Rn(l,r,s)},ji=(e,r)=>{const s=e.dom;$o(r,(l,m)=>{Rn(s,m,l)})},go=(e,r)=>{const s=e.dom;$o(r,(l,m)=>{l.fold(()=>{Hi(s,m)},g=>{Rn(s,m,g)})})},aa=(e,r)=>{const s=e.dom,l=window.getComputedStyle(s).getPropertyValue(r);return l!==""||za(e)?l:Ss(s,r)},Ss=(e,r)=>Us(e)?e.style.getPropertyValue(r):"",Ir=(e,r)=>{const s=e.dom,l=Ss(s,r);return R.from(l).filter(m=>m.length>0)},gi=e=>{const r={},s=e.dom;if(Us(s))for(let l=0;l<s.style.length;l++){const m=s.style.item(l);r[m]=s.style[m]}return r},sc=(e,r,s)=>{const l=_t(e);return Bn(l,r,s),Ir(l,r).isSome()},Pr=(e,r)=>{const s=e.dom;Hi(s,r),Rr(Ca(e,"style").map(Ha),"")&&xa(e,"style")},ne=e=>e.dom.offsetWidth,Be=(e,r)=>{const s=m=>{const g=r(m);if(g<=0||g===null){const h=aa(m,e);return parseFloat(h)||0}return g},l=(m,g)=>zo(g,(h,x)=>{const w=aa(m,x),S=w===void 0?0:parseInt(w,10);return isNaN(S)?h:h+S},0);return{set:(m,g)=>{if(!So(g)&&!g.match(/^[0-9]+$/))throw new Error(e+".set accepts only positive integer values. Value was "+g);const h=m.dom;Us(h)&&(h.style[e]=g+"px")},get:s,getOuter:s,aggregate:l,max:(m,g,h)=>{const x=l(m,h);return g>x?g-x:0}}},Pe=Be("height",e=>{const r=e.dom;return za(e)?r.getBoundingClientRect().height:r.offsetHeight}),Nt=e=>Pe.get(e),ho=e=>Pe.getOuter(e),bn=(e,r)=>({left:e,top:r,translate:(s,l)=>bn(e+s,r+l)}),kn=bn,_r=(e,r)=>e!==void 0?e:r!==void 0?r:0,Or=e=>{const r=e.dom.ownerDocument,s=r.body,l=r.defaultView,m=r.documentElement;if(s===e.dom)return kn(s.offsetLeft,s.offsetTop);const g=_r(l?.pageYOffset,m.scrollTop),h=_r(l?.pageXOffset,m.scrollLeft),x=_r(m.clientTop,s.clientTop),w=_r(m.clientLeft,s.clientLeft);return Sa(e).translate(h-w,g-x)},Sa=e=>{const r=e.dom,s=r.ownerDocument.body;return s===r?kn(s.offsetLeft,s.offsetTop):za(e)?(l=>{const m=l.getBoundingClientRect();return kn(m.left,m.top)})(r):kn(0,0)},ma=Be("width",e=>e.dom.offsetWidth),Ga=e=>ma.get(e),Q=e=>ma.getOuter(e),Ee=e=>{let r,s=!1;return(...l)=>(s||(s=!0,r=e.apply(null,l)),r)},bt=()=>wo(0,0),wo=(e,r)=>({major:e,minor:r}),Zn={nu:wo,detect:(e,r)=>{const s=String(r).toLowerCase();return e.length===0?bt():((l,m)=>{const g=((x,w)=>{for(let S=0;S<x.length;S++){const A=x[S];if(A.test(w))return A}})(l,m);if(!g)return{major:0,minor:0};const h=x=>Number(m.replace(g,"$"+x));return wo(h(1),h(2))})(e,s)},unknown:bt},U=(e,r)=>{const s=String(r).toLowerCase();return to(e,l=>l.search(s))},oe=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,xe=e=>r=>Yr(r,e),xt=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:e=>Yr(e,"edge/")&&Yr(e,"chrome")&&Yr(e,"safari")&&Yr(e,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,oe],search:e=>Yr(e,"chrome")&&!Yr(e,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:e=>Yr(e,"msie")||Yr(e,"trident")},{name:"Opera",versionRegexes:[oe,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:xe("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:xe("firefox")},{name:"Safari",versionRegexes:[oe,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:e=>(Yr(e,"safari")||Yr(e,"mobile/"))&&Yr(e,"applewebkit")}],po=[{name:"Windows",search:xe("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:e=>Yr(e,"iphone")||Yr(e,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:xe("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:xe("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:xe("linux"),versionRegexes:[]},{name:"Solaris",search:xe("sunos"),versionRegexes:[]},{name:"FreeBSD",search:xe("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:xe("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],Yn={browsers:me(xt),oses:me(po)},ga="Edge",ks="Chromium",_i="Opera",Js="Firefox",Vi="Safari",Qs=e=>{const r=e.current,s=e.version,l=m=>()=>r===m;return{current:r,version:s,isEdge:l(ga),isChromium:l(ks),isIE:l("IE"),isOpera:l(_i),isFirefox:l(Js),isSafari:l(Vi)}},ic=()=>Qs({current:void 0,version:Zn.unknown()}),_s=Qs,vc="Windows",je="Android",Ll="Linux",pd="macOS",Ci="Solaris",bp="FreeBSD",sa="ChromeOS",lc=e=>{const r=e.current,s=e.version,l=m=>()=>r===m;return{current:r,version:s,isWindows:l(vc),isiOS:l("iOS"),isAndroid:l(je),isMacOS:l(pd),isLinux:l(Ll),isSolaris:l(Ci),isFreeBSD:l(bp),isChromeOS:l(sa)}},ag=()=>lc({current:void 0,version:Zn.unknown()}),Si=lc,Gc=e=>window.matchMedia(e).matches;var Gi;let Il=Ee(()=>((e,r,s)=>{const l=Yn.browsers(),m=Yn.oses(),g=r.bind(w=>((S,A)=>Gt(A.brands,N=>{const F=N.brand.toLowerCase();return to(S,$=>{var W;return F===((W=$.brand)===null||W===void 0?void 0:W.toLowerCase())}).map($=>({current:$.name,version:Zn.nu(parseInt(N.version,10),0)}))}))(l,w)).orThunk(()=>((w,S)=>U(w,S).map(A=>{const N=Zn.detect(A.versionRegexes,S);return{current:A.name,version:N}}))(l,e)).fold(ic,_s),h=((w,S)=>U(w,S).map(A=>{const N=Zn.detect(A.versionRegexes,S);return{current:A.name,version:N}}))(m,e).fold(ag,Si),x=((w,S,A,N)=>{const F=w.isiOS()&&/ipad/i.test(A)===!0,$=w.isiOS()&&!F,W=w.isiOS()||w.isAndroid(),se=W||N("(pointer:coarse)"),le=F||!$&&W&&N("(min-device-width:768px)"),fe=$||W&&!le,te=S.isSafari()&&w.isiOS()&&/safari/i.test(A)===!1,X=!fe&&!le&&!te;return{isiPad:me(F),isiPhone:me($),isTablet:me(le),isPhone:me(fe),isTouch:me(se),isAndroid:w.isAndroid,isiOS:w.isiOS,isWebView:me(te),isDesktop:me(X)}})(h,g,e,s);return{browser:g,os:h,deviceType:x}})(navigator.userAgent,R.from(navigator.userAgentData),Gc));const Yl=()=>Il(),Ki=e=>{const r=St((g=>{if(Wr()&&Ue(g.target)){const h=St(g.target);if(wt(h)&&(x=>Ue(x.dom.shadowRoot))(h)&&g.composed&&g.composedPath){const x=g.composedPath();if(x)return at(x)}}return R.from(g.target)})(e).getOr(e.target)),s=()=>e.stopPropagation(),l=()=>e.preventDefault(),m=fo(l,s);return((g,h,x,w,S,A,N)=>({target:g,x:h,y:x,stop:w,prevent:S,kill:A,raw:N}))(r,e.clientX,e.clientY,s,l,m,e)},ie=(e,r,s,l,m)=>{const g=((h,x)=>w=>{h(w)&&x(Ki(w))})(s,l);return e.dom.addEventListener(r,g,m),{unbind:rt(ve,e,r,g,m)}},ve=(e,r,s,l)=>{e.dom.removeEventListener(r,s,l)},yt=(e,r)=>{rn(e).each(s=>{s.dom.insertBefore(r.dom,e.dom)})},Lt=(e,r)=>{(l=>R.from(l.dom.nextSibling).map(St))(e).fold(()=>{rn(e).each(l=>{ur(l,r)})},l=>{yt(l,r)})},yn=(e,r)=>{Ar(e).fold(()=>{ur(e,r)},s=>{e.dom.insertBefore(r.dom,s.dom)})},ur=(e,r)=>{e.dom.appendChild(r.dom)},Ra=(e,r)=>{Ie(r,s=>{ur(e,s)})},ei=e=>{e.dom.textContent="",Ie(wn(e),r=>{ia(r)})},ia=e=>{const r=e.dom;r.parentNode!==null&&r.parentNode.removeChild(r)},pa=e=>{const r=e!==void 0?e.dom:document,s=r.body.scrollLeft||r.documentElement.scrollLeft,l=r.body.scrollTop||r.documentElement.scrollTop;return kn(s,l)},Ps=(e,r,s)=>{const l=(s!==void 0?s.dom:document).defaultView;l&&l.scrollTo(e,r)},ta=(e,r,s,l)=>({x:e,y:r,width:s,height:l,right:e+s,bottom:r+l}),cc=e=>{const r=e===void 0?window:e,s=r.document,l=pa(St(s));return(m=>{const g=m===void 0?window:m;return Yl().browser.isFirefox()?R.none():R.from(g.visualViewport)})(r).fold(()=>{const m=r.document.documentElement,g=m.clientWidth,h=m.clientHeight;return ta(l.left,l.top,g,h)},m=>ta(Math.max(m.pageLeft,l.left),Math.max(m.pageTop,l.top),m.width,m.height))},Xl=()=>St(document),Ei=(e,r)=>e.view(r).fold(me([]),s=>{const l=e.owner(s),m=Ei(e,l);return[s].concat(m)});var xc=Object.freeze({__proto__:null,view:e=>{var r;return(e.dom===document?R.none():R.from((r=e.dom.defaultView)===null||r===void 0?void 0:r.frameElement)).map(St)},owner:e=>Ne(e)});const Es=e=>{const r=Xl(),s=pa(r);return((m,g)=>{const h=g.owner(m),x=Ei(g,h);return R.some(x)})(e,xc).fold(rt(Or,e),m=>{const g=Sa(e),h=lo(m,(x,w)=>{const S=Sa(w);return{left:x.left+S.left,top:x.top+S.top}},{left:0,top:0});return kn(h.left+g.left+s.left,h.top+g.top+s.top)})},Ba=(e,r,s,l)=>({x:e,y:r,width:s,height:l,right:e+s,bottom:r+l}),Fa=e=>{const r=Or(e),s=Q(e),l=ho(e);return Ba(r.left,r.top,s,l)},ts=e=>{const r=Es(e),s=Q(e),l=ho(e);return Ba(r.left,r.top,s,l)},Kc=(e,r)=>{const s=Math.max(e.x,r.x),l=Math.max(e.y,r.y),m=Math.min(e.right,r.right),g=Math.min(e.bottom,r.bottom);return Ba(s,l,m-s,g-l)},Ua=()=>cc(window);var fd=tinymce.util.Tools.resolve("tinymce.ThemeManager");const Yc=e=>{const r=g=>g(e),s=me(e),l=()=>m,m={tag:!0,inner:e,fold:(g,h)=>h(e),isValue:Ct,isError:Bo,map:g=>Fr.value(g(e)),mapError:l,bind:r,exists:r,forall:r,getOr:s,or:l,getOrThunk:s,orThunk:l,getOrDie:s,each:g=>{g(e)},toOptional:()=>R.some(e)};return m},nl=e=>{const r=()=>s,s={tag:!1,inner:e,fold:(l,m)=>l(e),isValue:Bo,isError:Ct,map:r,mapError:l=>Fr.error(l(e)),bind:r,exists:Bo,forall:Ct,getOr:Ze,or:Ze,getOrThunk:gn,orThunk:gn,getOrDie:$t(String(e)),each:he,toOptional:R.none};return s},Fr={value:Yc,error:nl,fromOption:(e,r)=>e.fold(()=>nl(r),Yc)};var ti;(function(e){e[e.Error=0]="Error",e[e.Value=1]="Value"})(ti||(ti={}));const Zd=(e,r,s)=>e.stype===ti.Error?r(e.serror):s(e.svalue),hd=e=>({stype:ti.Value,svalue:e}),qd=e=>({stype:ti.Error,serror:e}),Yi=hd,Mc=qd,om=Zd,_u=(e,r,s,l)=>({tag:"field",key:e,newKey:r,presence:s,prop:l}),Wd=(e,r,s)=>{switch(e.tag){case"field":return r(e.key,e.newKey,e.presence,e.prop);case"custom":return s(e.newKey,e.instantiator)}},rl=e=>(...r)=>{if(r.length===0)throw new Error("Can't merge zero objects");const s={};for(let l=0;l<r.length;l++){const m=r[l];for(const g in m)Vo(m,g)&&(s[g]=e(s[g],m[g]))}return s},Da=rl((e,r)=>jt(e)&&jt(r)?Da(e,r):r),Jl=rl((e,r)=>r),os=e=>({tag:"defaultedThunk",process:e}),Dc=e=>os(me(e)),dc=e=>({tag:"mergeWithThunk",process:e}),bd=e=>{const r=(l=>{const m=[],g=[];return Ie(l,h=>{Zd(h,x=>g.push(x),x=>m.push(x))}),{values:m,errors:g}})(e);return r.errors.length>0?(s=r.errors,fo(Mc,$e)(s)):Yi(r.values);var s},Ea=e=>Po(e)&&Vt(e).length>100?" removed due to size":JSON.stringify(e,null,2),_l=(e,r)=>Mc([{path:e,getErrorInfo:r}]),Xc=e=>({extract:(r,s)=>((l,m)=>l.stype===ti.Error?m(l.serror):l)(e(s),l=>((m,g)=>_l(m,me(g)))(r,l)),toString:me("val")}),yd=Xc(Yi),wc=(e,r,s,l)=>l(Xt(e,r).getOrThunk(()=>s(e))),Jc=(e,r,s,l,m)=>{const g=x=>m.extract(r.concat([l]),x),h=x=>x.fold(()=>Yi(R.none()),w=>((S,A)=>S.stype===ti.Value?{stype:ti.Value,svalue:A(S.svalue)}:S)(m.extract(r.concat([l]),w),R.some));switch(e.tag){case"required":return((x,w,S,A)=>Xt(w,S).fold(()=>((N,F,$)=>_l(N,()=>'Could not find valid *required* value for "'+F+'" in '+Ea($)))(x,S,w),A))(r,s,l,g);case"defaultedThunk":return wc(s,l,e.process,g);case"option":return((x,w,S)=>S(Xt(x,w)))(s,l,h);case"defaultedOptionThunk":return((x,w,S,A)=>A(Xt(x,w).map(N=>N===!0?S(x):N)))(s,l,e.process,h);case"mergeWithThunk":return wc(s,l,me({}),x=>{const w=Da(e.process(s),x);return g(w)})}},Gd=e=>({extract:(r,s)=>e().extract(r,s),toString:()=>e().toString()}),vd=e=>Vt(ut(e,Ue)),pi=e=>{const r=Cn(e),s=lo(e,(l,m)=>Wd(m,g=>Da(l,{[g]:!0}),me(l)),{});return{extract:(l,m)=>{const g=jo(m)?[]:vd(m),h=Pt(g,x=>!$n(s,x));return h.length===0?r.extract(l,m):((x,w)=>_l(x,()=>"There are unsupported fields: ["+w.join(", ")+"] specified"))(l,h)},toString:r.toString}},Cn=e=>({extract:(r,s)=>((l,m,g)=>{const h={},x=[];for(const w of g)Wd(w,(S,A,N,F)=>{const $=Jc(N,l,m,S,F);om($,W=>{x.push(...W)},W=>{h[A]=W})},(S,A)=>{h[S]=A(m)});return x.length>0?Mc(x):Yi(h)})(r,s,e),toString:()=>`obj{
`+dt(e,s=>Wd(s,(l,m,g,h)=>l+" -> "+h.toString(),(l,m)=>"state("+l+")")).join(`
`)+"}"}),Ql=e=>({extract:(r,s)=>{const l=dt(s,(m,g)=>e.extract(r.concat(["["+g+"]"]),m));return bd(l)},toString:()=>"array("+e.toString()+")"}),ec=(e,r)=>{const s=r!==void 0?r:Ze;return{extract:(l,m)=>{const g=[];for(const h of e){const x=h.extract(l,m);if(x.stype===ti.Value)return{stype:ti.Value,svalue:s(x.svalue)};g.push(x)}return bd(g)},toString:()=>"oneOf("+dt(e,l=>l.toString()).join(", ")+")"}},yp=(e,r)=>({extract:(s,l)=>{const m=Vt(l),g=((h,x)=>Ql(Xc(e)).extract(h,x))(s,m);return((h,x)=>h.stype===ti.Value?x(h.svalue):h)(g,h=>{const x=dt(h,w=>_u(w,w,{tag:"required",process:{}},r));return Cn(x).extract(s,l)})},toString:()=>"setOf("+r.toString()+")"}),Kd=fo(Ql,Cn),Cl=me(yd),nm=(e,r)=>Xc(s=>{const l=typeof s;return e(s)?Yi(s):Mc(`Expected type: ${r} but got: ${l}`)}),rm=nm(So,"number"),wa=nm(io,"string"),Qc=nm(jo,"boolean"),Ns=nm(it,"function"),kc=e=>{if(Object(e)!==e)return!0;switch({}.toString.call(e).slice(8,-1)){case"Boolean":case"Number":case"String":case"Date":case"RegExp":case"Blob":case"FileList":case"ImageData":case"ImageBitmap":case"ArrayBuffer":return!0;case"Array":case"Object":return Object.keys(e).every(r=>kc(e[r]));default:return!1}},Rm=Xc(e=>kc(e)?Yi(e):Mc("Expected value to be acceptable for sending via postMessage")),an=(e,r)=>({extract:(s,l)=>Xt(l,e).fold(()=>((m,g)=>_l(m,()=>'Choice schema did not contain choice key: "'+g+'"'))(s,e),m=>((g,h,x,w)=>Xt(x,w).fold(()=>((S,A,N)=>_l(S,()=>'The chosen schema: "'+N+'" did not exist in branches: '+Ea(A)))(g,x,w),S=>S.extract(g.concat(["branch: "+w]),h)))(s,l,r,m)),toString:()=>"chooseOn("+e+"). Possible values: "+Vt(r)}),Ti=e=>Xc(r=>e(r).fold(Mc,Yi)),Cu=(e,r)=>yp(s=>e(s).fold(qd,hd),r),ka=(e,r,s)=>{return l=((m,g,h)=>((x,w)=>x.stype===ti.Error?{stype:ti.Error,serror:w(x.serror)}:x)(g.extract([m],h),x=>({input:h,errors:x})))(e,r,s),Zd(l,Fr.error,Fr.value);var l},Sl=e=>e.fold(r=>{throw new Error(El(r))},Ze),fi=(e,r,s)=>Sl(ka(e,r,s)),El=e=>`Errors: 
`+(r=>{const s=r.length>10?r.slice(0,10).concat([{path:[],getErrorInfo:me("... (only showing first ten failures)")}]):r;return dt(s,l=>"Failed path: ("+l.path.join(" > ")+`)
`+l.getErrorInfo())})(e.errors).join(`
`)+`

Input object: `+Ea(e.input),Ms=(e,r)=>an(e,Zo(r,Cn)),Su=(e,r)=>((s,l)=>{const m=Ee(l);return{extract:(g,h)=>m().extract(g,h),toString:()=>m().toString()}})(0,r),oi=_u,ro=(e,r)=>({tag:"custom",newKey:e,instantiator:r}),Eu=e=>Ti(r=>Rt(e,r)?Fr.value(r):Fr.error(`Unsupported value: "${r}", choose one of "${e.join(", ")}".`)),Yt=e=>oi(e,e,{tag:"required",process:{}},Cl()),ni=(e,r)=>oi(e,e,{tag:"required",process:{}},r),xd=e=>ni(e,rm),us=e=>ni(e,wa),da=(e,r)=>oi(e,e,{tag:"required",process:{}},Eu(r)),ml=e=>ni(e,Ns),zi=(e,r)=>oi(e,e,{tag:"required",process:{}},Cn(r)),Oa=(e,r)=>oi(e,e,{tag:"required",process:{}},Kd(r)),al=(e,r)=>oi(e,e,{tag:"required",process:{}},Ql(r)),la=e=>oi(e,e,{tag:"option",process:{}},Cl()),$i=(e,r)=>oi(e,e,{tag:"option",process:{}},r),Yd=e=>$i(e,rm),Hs=e=>$i(e,wa),sg=(e,r)=>$i(e,Eu(r)),Tl=e=>$i(e,Ns),ns=(e,r)=>$i(e,Ql(r)),gl=(e,r)=>$i(e,Cn(r)),ft=(e,r)=>oi(e,e,Dc(r),Cl()),Ai=(e,r,s)=>oi(e,e,Dc(r),s),wd=(e,r)=>Ai(e,r,rm),zl=(e,r)=>Ai(e,r,wa),pl=(e,r,s)=>Ai(e,r,Eu(s)),ri=(e,r)=>Ai(e,r,Qc),hs=(e,r)=>Ai(e,r,Ns),uc=(e,r,s)=>Ai(e,r,Ql(s)),Bm=(e,r,s)=>Ai(e,r,Cn(s)),Sn=e=>{let r=e;return{get:()=>r,set:s=>{r=s}}},Ui=e=>{if(!ko(e))throw new Error("cases must be an array");if(e.length===0)throw new Error("there must be at least one case");const r=[],s={};return Ie(e,(l,m)=>{const g=Vt(l);if(g.length!==1)throw new Error("one and only one name per case");const h=g[0],x=l[h];if(s[h]!==void 0)throw new Error("duplicate key detected:"+h);if(h==="cata")throw new Error("cannot have a case named cata (sorry)");if(!ko(x))throw new Error("case arguments must be an array");r.push(h),s[h]=(...w)=>{const S=w.length;if(S!==x.length)throw new Error("Wrong number of arguments to case "+h+". Expected "+x.length+" ("+x+"), got "+S);return{fold:(...A)=>{if(A.length!==e.length)throw new Error("Wrong number of arguments to fold. Expected "+e.length+", got "+A.length);return A[m].apply(null,w)},match:A=>{const N=Vt(A);if(r.length!==N.length)throw new Error("Wrong number of arguments to match. Expected: "+r.join(",")+`
Actual: `+N.join(","));if(!gt(r,F=>Rt(N,F)))throw new Error("Not all branches were specified when using match. Specified: "+N.join(", ")+`
Required: `+r.join(", "));return A[h].apply(null,w)},log:A=>{}}}}),s};Ui([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);const Xi=(e,r)=>((s,l)=>({[s]:l}))(e,r),Oi=e=>(r=>{const s={};return Ie(r,l=>{s[l.key]=l.value}),s})(e),Za=e=>it(e)?e:Bo,_c=(e,r,s)=>{let l=e.dom;const m=Za(s);for(;l.parentNode;){l=l.parentNode;const g=St(l),h=r(g);if(h.isSome())return h;if(m(g))break}return R.none()},qs=(e,r,s)=>{const l=r(e),m=Za(s);return l.orThunk(()=>m(e)?R.none():_c(e,r,m))},Tu=(e,r)=>Jo(e.element,r.event.target),kd={can:Ct,abort:Bo,run:he},Pl=e=>{if(!$n(e,"can")&&!$n(e,"abort")&&!$n(e,"run"))throw new Error("EventHandler defined by: "+JSON.stringify(e,null,2)+" does not have can, abort, or run!");return{...kd,...e}},bs=me,Ws=bs("touchstart"),ed=bs("touchmove"),Hl=bs("touchend"),_d=bs("touchcancel"),ai=bs("mousedown"),z=bs("mousemove"),H=bs("mouseout"),J=bs("mouseup"),Te=bs("mouseover"),He=bs("focusin"),_o=bs("focusout"),fn=bs("keydown"),ir=bs("keyup"),Hn=bs("input"),Tn=bs("change"),fa=bs("click"),Ka=bs("transitioncancel"),Ni=bs("transitionend"),td=bs("transitionstart"),Bf=bs("selectstart"),ss=e=>me("alloy."+e),xv={tap:ss("tap")},Xd=ss("focus"),vp=ss("blur.post"),am=ss("paste.post"),Cd=ss("receive"),fl=ss("execute"),Jd=ss("focus.item"),Fm=xv.tap,ys=ss("longpress"),Sd=ss("sandbox.close"),ig=ss("typeahead.cancel"),Lm=ss("system.init"),Ff=ss("system.touchmove"),Im=ss("system.touchend"),zu=ss("system.scroll"),Au=ss("system.resize"),Rc=ss("system.attached"),sm=ss("system.detached"),Ou=ss("system.dismissRequested"),xp=ss("system.repositionRequested"),lg=ss("focusmanager.shifted"),cg=ss("slotcontainer.visibility"),wp=ss("system.external.element.scroll"),im=ss("change.tab"),Ed=ss("dismiss.tab"),dg=ss("highlight"),Pm=ss("dehighlight"),$r=(e,r)=>{Hm(e,e.element,r,{})},_n=(e,r,s)=>{Hm(e,e.element,r,s)},Qd=e=>{$r(e,fl())},kp=(e,r,s)=>{Hm(e,r,s,{})},Hm=(e,r,s,l)=>{const m={target:r,...l};e.getSystem().triggerEvent(s,r,m)},Bc=(e,r,s,l)=>{e.getSystem().triggerEvent(s,r,l.event)},qa=e=>Oi(e),Nu=(e,r)=>({key:e,value:Pl({abort:r})}),_p=e=>({key:e,value:Pl({run:(r,s)=>{s.event.prevent()}})}),Kt=(e,r)=>({key:e,value:Pl({run:r})}),lm=(e,r,s)=>({key:e,value:Pl({run:(l,m)=>{r.apply(void 0,[l,m].concat(s))}})}),ug=e=>r=>({key:e,value:Pl({run:(s,l)=>{Tu(s,l)&&r(s,l)}})}),jm=(e,r,s)=>((l,m)=>Kt(l,(g,h)=>{g.getSystem().getByUid(m).each(x=>{Bc(x,x.element,l,h)})}))(e,r.partUids[s]),Lf=(e,r)=>Kt(e,(s,l)=>{const m=l.event,g=s.getSystem().getByDom(m.target).getOrThunk(()=>qs(m.target,h=>s.getSystem().getByDom(h).toOptional(),Bo).getOr(s));r(s,g,l)}),jl=e=>Kt(e,(r,s)=>{s.cut()}),sb=e=>Kt(e,(r,s)=>{s.stop()}),Mu=(e,r)=>ug(e)(r),La=ug(Rc()),od=ug(sm()),If=ug(Lm()),Cc=(Al=fl(),e=>Kt(Al,e)),Sc=e=>e.dom.innerHTML,Ds=(e,r)=>{const s=Ne(e).dom,l=St(s.createDocumentFragment()),m=((g,h)=>{const x=(h||document).createElement("div");return x.innerHTML=g,wn(St(x))})(r,s);Ra(l,m),ei(e),ur(e,l)},Vm=(e,r)=>St(e.dom.cloneNode(r)),Fc=e=>(r=>{if(Zs(r))return"#shadow-root";{const s=(l=>Vm(l,!1))(r);return(l=>{const m=_t("div"),g=St(l.dom.cloneNode(!0));return ur(m,g),Sc(m)})(s)}})(e),eu=qa([((e,r)=>({key:e,value:Pl({can:(s,l)=>{const m=l.event,g=m.originator,h=m.target;return!((x,w,S)=>Jo(w,x.element)&&!Jo(w,S))(s,g,h)||(console.warn(Xd()+` did not get interpreted by the desired target. 
Originator: `+Fc(g)+`
Target: `+Fc(h)+`
Check the `+Xd()+" event handlers"),!1)}})}))(Xd())]);var Al,$m=Object.freeze({__proto__:null,events:eu});let mg=0;const un=e=>{const r=new Date().getTime(),s=Math.floor(1e9*Math.random());return mg++,e+"_"+s+mg+String(r)},gg=me("alloy-id-"),Cp=me("data-alloy-id"),Du=gg(),Sp=Cp(),C=(e,r)=>{Object.defineProperty(e.dom,Sp,{value:r,writable:!0})},D=e=>{const r=wt(e)?e.dom[Sp]:null;return R.from(r)},G=e=>un(e),ce=Ze,Ke=e=>{const r=m=>`The component must be in a context to execute: ${m}`+(e?`
`+Fc(e().element)+" is not in context.":""),s=m=>()=>{throw new Error(r(m))},l=m=>()=>{console.warn(r(m))};return{debugInfo:me("fake"),triggerEvent:l("triggerEvent"),triggerFocus:l("triggerFocus"),triggerEscape:l("triggerEscape"),broadcast:l("broadcast"),broadcastOn:l("broadcastOn"),broadcastEvent:l("broadcastEvent"),build:s("build"),buildOrPatch:s("buildOrPatch"),addToWorld:s("addToWorld"),removeFromWorld:s("removeFromWorld"),addToGui:s("addToGui"),removeFromGui:s("removeFromGui"),getByUid:s("getByUid"),getByDom:s("getByDom"),isConnected:Bo}},Ut=Ke(),Ao=e=>dt(e,r=>cs(r,"/*")?r.substring(0,r.length-2):r),qo=(e,r)=>{const s=e.toString(),l=s.indexOf(")")+1,m=s.indexOf("("),g=s.substring(m+1,l-1).split(/,\s*/);return e.toFunctionAnnotation=()=>({name:r,parameters:Ao(g)}),e},Xn=un("alloy-premade"),pr=e=>(Object.defineProperty(e.element.dom,Xn,{value:e.uid,writable:!0}),Xi(Xn,e)),is=e=>Xt(e,Xn),Nr=e=>((r,s)=>{const l=s.toString(),m=l.indexOf(")")+1,g=l.indexOf("("),h=l.substring(g+1,m-1).split(/,\s*/);return r.toFunctionAnnotation=()=>({name:"OVERRIDE",parameters:Ao(h.slice(1))}),r})((r,...s)=>e(r.getApis(),r,...s),e),ha={init:()=>Ia({readState:me("No State required")})},Ia=e=>e,Mi=(e,r)=>{const s={};return $o(e,(l,m)=>{$o(l,(g,h)=>{const x=Xt(s,h).getOr([]);s[h]=x.concat([r(m,g)])})}),s},hi=e=>({classes:tn(e.classes)?[]:e.classes,attributes:tn(e.attributes)?{}:e.attributes,styles:tn(e.styles)?{}:e.styles}),Td=e=>e.cHandler,zd=(e,r)=>({name:e,handler:r}),cm=(e,r)=>{const s={};return Ie(e,l=>{s[l.name()]=l.handlers(r)}),s},Ru=(e,r,s)=>{const l=r[s];return l?((m,g,h,x)=>{try{const w=ge(h,(S,A)=>{const N=S[g],F=A[g],$=x.indexOf(N),W=x.indexOf(F);if($===-1)throw new Error("The ordering for "+m+" does not have an entry for "+N+`.
Order specified: `+JSON.stringify(x,null,2));if(W===-1)throw new Error("The ordering for "+m+" does not have an entry for "+F+`.
Order specified: `+JSON.stringify(x,null,2));return $<W?-1:W<$?1:0});return Fr.value(w)}catch(w){return Fr.error([w])}})("Event: "+s,"name",e,l).map(m=>(g=>({can:((w,S)=>(...A)=>zo(w,(N,F)=>N&&($=>$.can)(F).apply(void 0,A),!0))(g),abort:((w,S)=>(...A)=>zo(w,(N,F)=>N||($=>$.abort)(F).apply(void 0,A),!1))(g),run:(...w)=>{Ie(g,S=>{S.run.apply(void 0,w)})}}))(dt(m,g=>g.handler))):((m,g)=>Fr.error(["The event ("+m+`) has more than one behaviour that listens to it.
When this occurs, you must specify an event ordering for the behaviours in your spec (e.g. [ "listing", "toggling" ]).
The behaviours that can trigger it are: `+JSON.stringify(dt(g,h=>h.name),null,2)]))(s,e)},Bu=(e,r)=>((s,l)=>{const m=(h=>{const x=[],w=[];return Ie(h,S=>{S.fold(A=>{x.push(A)},A=>{w.push(A)})}),{errors:x,values:w}})(s);return m.errors.length>0?(g=m.errors,Fr.error($e(g))):((h,x)=>h.length===0?Fr.value(x):Fr.value(Da(x,Jl.apply(void 0,h))))(m.values,l);var g})(zt(e,(s,l)=>(s.length===1?Fr.value(s[0].handler):Ru(s,r,l)).map(m=>{const g=(x=>{const w=(S=>it(S)?{can:Ct,abort:Bo,run:S}:S)(x);return(S,A,...N)=>{const F=[S,A].concat(N);w.abort.apply(void 0,F)?A.stop():w.can.apply(void 0,F)&&w.run.apply(void 0,F)}})(m),h=s.length>1?Pt(r[l],x=>uo(s,w=>w.name===x)).join(" > "):s[0].name;return Xi(l,((x,w)=>({handler:x,purpose:w}))(g,h))})),{}),Ad="alloy.base.behaviour",Od=Cn([oi("dom","dom",{tag:"required",process:{}},Cn([Yt("tag"),ft("styles",{}),ft("classes",[]),ft("attributes",{}),la("value"),la("innerHtml")])),Yt("components"),Yt("uid"),ft("events",{}),ft("apis",{}),oi("eventOrder","eventOrder",(rd={[fl()]:["disabling",Ad,"toggling","typeaheadevents"],[Xd()]:[Ad,"focusing","keying"],[Lm()]:[Ad,"disabling","toggling","representing"],[Hn()]:[Ad,"representing","streaming","invalidating"],[sm()]:[Ad,"representing","item-events","tooltipping"],[ai()]:["focusing",Ad,"item-type-events"],[Ws()]:["focusing",Ad,"item-type-events"],[Te()]:["item-type-events","tooltipping"],[Cd()]:["receiving","reflecting","tooltipping"]},dc(me(rd))),Cl()),la("domModification")]),pg=e=>e.events,Fu=(e,r)=>{const s=Ma(e,r);return s===void 0||s===""?[]:s.split(" ")},nd=e=>e.dom.classList!==void 0,oa=e=>Fu(e,"class"),wr=(e,r)=>((s,l,m)=>{const g=Fu(s,l).concat([m]);return Kn(s,l,g.join(" ")),!0})(e,"class",r),hl=(e,r)=>((s,l,m)=>{const g=Pt(Fu(s,l),h=>h!==m);return g.length>0?Kn(s,l,g.join(" ")):xa(s,l),!1})(e,"class",r),Jr=(e,r)=>{nd(e)?e.dom.classList.add(r):wr(e,r)},bi=e=>{(nd(e)?e.dom.classList:oa(e)).length===0&&xa(e,"class")},rs=(e,r)=>{nd(e)?e.dom.classList.remove(r):hl(e,r),bi(e)},Di=(e,r)=>nd(e)&&e.dom.classList.contains(r),Lc=(e,r)=>{Ie(r,s=>{Jr(e,s)})},Zi=(e,r)=>{Ie(r,s=>{rs(e,s)})},bl=e=>nd(e)?(r=>{const s=r.dom.classList,l=new Array(s.length);for(let m=0;m<s.length;m++){const g=s.item(m);g!==null&&(l[m]=g)}return l})(e):oa(e),Lu=e=>e.dom.value,Ec=(e,r)=>{if(r===void 0)throw new Error("Value.set was undefined");e.dom.value=r},Ep=(e,r,s)=>{s.fold(()=>ur(e,r),l=>{Jo(l,r)||(yt(l,r),ia(l))})},Iu=(e,r,s)=>{const l=dt(r,s),m=wn(e);return Ie(m.slice(l.length),ia),l},tu=(e,r,s,l)=>{const m=Un(e,r),g=l(s,m),h=((x,w,S)=>Un(x,w).map(A=>{if(S.exists(N=>!Jo(N,A))){const N=S.map(gr).getOr("span"),F=_t(N);return yt(A,F),F}return A}))(e,r,m);return Ep(e,g.element,h),g},dm=(e,r)=>{const s=Vt(e),l=Vt(r),m=Oe(l,s),g=((h,x)=>{const w={},S={};return zn(h,(A,N)=>!Vo(r,N)||A!==r[N],Pn(w),Pn(S)),{t:w,f:S}})(e).t;return{toRemove:m,toSet:g}},Tp=(e,r)=>{const s=r.filter(l=>gr(l)===e.tag&&!(m=>m.innerHtml.isSome()&&m.domChildren.length>0)(e)&&!(m=>Vo(m.dom,Xn))(l)).bind(l=>((m,g)=>{try{const h=((x,w)=>{const{class:S,style:A,...N}=(ue=>zo(ue.dom.attributes,(ye,we)=>(ye[we.name]=we.value,ye),{}))(w),{toSet:F,toRemove:$}=dm(x.attributes,N),W=gi(w),{toSet:se,toRemove:le}=dm(x.styles,W),fe=bl(w),te=Oe(fe,x.classes),X=Oe(x.classes,fe);return Ie($,ue=>xa(w,ue)),Os(w,F),Lc(w,X),Zi(w,te),Ie(le,ue=>Pr(w,ue)),ji(w,se),x.innerHtml.fold(()=>{const ue=x.domChildren;((ye,we)=>{Iu(ye,we,(Ye,Tt)=>{const Qt=Un(ye,Tt);return Ep(ye,Ye,Qt),Ye})})(w,ue)},ue=>{Ds(w,ue)}),(()=>{const ue=w,ye=x.value.getOrUndefined();ye!==Lu(ue)&&Ec(ue,ye??"")})(),w})(m,g);return R.some(h)}catch{return R.none()}})(e,l)).getOrThunk(()=>(l=>{const m=_t(l.tag);Os(m,l.attributes),Lc(m,l.classes),ji(m,l.styles),l.innerHtml.each(h=>Ds(m,h));const g=l.domChildren;return Ra(m,g),l.value.each(h=>{Ec(m,h)}),m})(e));return C(s,e.uid),s},fg=e=>{const r=(s=>{const l=Xt(s,"behaviours").getOr({});return ct(Vt(l),m=>{const g=l[m];return Ue(g)?[g.me]:[]})})(e);return((s,l)=>((m,g)=>{const h=dt(g,w=>gl(w.name(),[Yt("config"),ft("state",ha)])),x=ka("component.behaviours",Cn(h),m.behaviours).fold(w=>{throw new Error(El(w)+`
Complete spec:
`+JSON.stringify(m,null,2))},Ze);return{list:g,data:Zo(x,w=>{const S=w.map(A=>({config:A.config,state:A.state.init(A.config)}));return me(S)})}})(s,l))(e,r)},zp=(e,r)=>{const s=()=>F,l=Sn(Ut),m=Sl(($=>ka("custom.definition",Od,$))(e)),g=fg(e),h=($=>$.list)(g),x=($=>$.data)(g),w=(($,W,se)=>{const le={...(fe=$).dom,uid:fe.uid,domChildren:dt(fe.components,Ye=>Ye.element)};var fe;const te=(Ye=>Ye.domModification.fold(()=>hi({}),hi))($),X={"alloy.base.modification":te},ue=W.length>0?((Ye,Tt,Qt,no)=>{const oo={...Tt};Ie(Qt,jr=>{oo[jr.name()]=jr.exhibit(Ye,no)});const Uo=Mi(oo,(jr,gs)=>({name:jr,modification:gs})),pn=jr=>lo(jr,(gs,Vs)=>({...Vs.modification,...gs}),{}),Mn=lo(Uo.classes,(jr,gs)=>gs.modification.concat(jr),[]),ar=pn(Uo.attributes),dr=pn(Uo.styles);return hi({classes:Mn,attributes:ar,styles:dr})})(se,X,W,le):te;return ye=le,we=ue,{...ye,attributes:{...ye.attributes,...we.attributes},styles:{...ye.styles,...we.styles},classes:ye.classes.concat(we.classes)};var ye,we})(m,h,x),S=Tp(w,r),A=(($,W,se)=>{const le={"alloy.base.behaviour":pg($)};return((fe,te,X,ue)=>{const ye=((we,Ye,Tt)=>{const Qt={...Tt,...cm(Ye,we)};return Mi(Qt,zd)})(fe,X,ue);return Bu(ye,te)})(se,$.eventOrder,W,le).getOrDie()})(m,h,x),N=Sn(m.components),F={uid:e.uid,getSystem:l.get,config:$=>{const W=x;return(it(W[$.name()])?W[$.name()]:()=>{throw new Error("Could not find "+$.name()+" in "+JSON.stringify(e,null,2))})()},hasConfigured:$=>it(x[$.name()]),spec:e,readState:$=>x[$]().map(W=>W.state.readState()).getOr("not enabled"),getApis:()=>m.apis,connect:$=>{l.set($)},disconnect:()=>{l.set(Ke(s))},element:S,syncComponents:()=>{const $=wn(S),W=ct($,se=>l.get().getByDom(se).fold(()=>[],Fe));N.set(W)},components:N.get,events:A};return F},Ya=e=>{const r=Do(e);return ib({element:r})},ib=e=>{const r=fi("external.component",pi([Yt("element"),la("uid")]),e),s=Sn(Ke()),l=r.uid.getOrThunk(()=>G("external"));C(r.element,l);const m={uid:l,getSystem:s.get,config:R.none,hasConfigured:Bo,connect:g=>{s.set(g)},disconnect:()=>{s.set(Ke(()=>m))},getApis:()=>({}),element:r.element,spec:e,readState:me("No state"),syncComponents:he,components:me([]),events:{}};return pr(m)},Jy=G,Pf=(e,r)=>is(e).getOrThunk(()=>((s,l)=>{const{events:m,...g}=ce(s),h=((w,S)=>{const A=Xt(w,"components").getOr([]);return S.fold(()=>dt(A,yl),N=>dt(A,(F,$)=>Pf(F,Un(N,$))))})(g,l),x={...g,events:{...$m,...m},components:h};return Fr.value(zp(x,l))})((s=>Vo(s,"uid"))(e)?e:{uid:Jy(""),...e},r).getOrDie()),yl=e=>Pf(e,R.none()),Tc=pr;var rd,hg=(e,r,s,l,m)=>e(s,l)?R.some(s):it(m)&&m(s)?R.none():r(s,l,m);const lb=(e,r,s)=>{let l=e.dom;const m=it(s)?s:Bo;for(;l.parentNode;){l=l.parentNode;const g=St(l);if(r(g))return R.some(g);if(m(g))break}return R.none()},Um=(e,r,s)=>hg((l,m)=>m(l),lb,e,r,s),Hf=(e,r,s)=>Um(e,r,s).isSome(),ou=(e,r,s)=>lb(e,l=>Vr(l,r),s),um=(e,r)=>((s,l)=>to(s.dom.childNodes,m=>{return g=St(m),Vr(g,r);var g}).map(St))(e),vs=(e,r)=>((s,l)=>{const m=l===void 0?document:l.dom;return Br(m)?R.none():R.from(m.querySelector(s)).map(St)})(r,e),Vl=(e,r,s)=>hg((l,m)=>Vr(l,m),ou,e,r,s),bg="aria-controls",Ap=()=>{const e=un(bg);return{id:e,link:r=>{Kn(r,bg,e)},unlink:r=>{xa(r,bg)}}},si=(e,r)=>Hf(r,s=>Jo(s,e.element),Bo)||((s,l)=>(m=>Um(m,g=>{if(!wt(g))return!1;const h=Ma(g,"id");return h!==void 0&&h.indexOf(bg)>-1}).bind(g=>{const h=Ma(g,"id"),x=rr(g);return vs(x,`[${bg}="${h}"]`)}))(l).exists(m=>si(s,m)))(e,r);var ad;(function(e){e[e.STOP=0]="STOP",e[e.NORMAL=1]="NORMAL",e[e.LOGGING=2]="LOGGING"})(ad||(ad={}));const Op=Sn({}),cb=["alloy/data/Fields","alloy/debugging/Debugging"],Pu=(e,r,s)=>((l,m,g)=>{switch(Xt(Op.get(),l).orThunk(()=>{const h=Vt(Op.get());return Gt(h,x=>l.indexOf(x)>-1?R.some(Op.get()[x]):R.none())}).getOr(ad.NORMAL)){case ad.NORMAL:return g(e_());case ad.LOGGING:{const h=((w,S)=>{const A=[],N=new Date().getTime();return{logEventCut:(F,$,W)=>{A.push({outcome:"cut",target:$,purpose:W})},logEventStopped:(F,$,W)=>{A.push({outcome:"stopped",target:$,purpose:W})},logNoParent:(F,$,W)=>{A.push({outcome:"no-parent",target:$,purpose:W})},logEventNoHandlers:(F,$)=>{A.push({outcome:"no-handlers-left",target:$})},logEventResponse:(F,$,W)=>{A.push({outcome:"response",purpose:W,target:$})},write:()=>{const F=new Date().getTime();Rt(["mousemove","mouseover","mouseout",Lm()],w)||(F-N,S.dom,dt(A,$=>Rt(["cut","stopped","response"],$.outcome)?"{"+$.purpose+"} "+$.outcome+" at ("+Fc($.target)+")":$.outcome))}}})(l,m),x=g(h);return h.write(),x}case ad.STOP:return!0}})(e,r,s),e_=me({logEventCut:he,logEventStopped:he,logNoParent:he,logEventNoHandlers:he,logEventResponse:he,write:he}),Np=me([Yt("menu"),Yt("selectedMenu")]),Mp=me([Yt("item"),Yt("selectedItem")]);me(Cn(Mp().concat(Np())));const Qy=me(Cn(Mp())),e1=zi("initSize",[Yt("numColumns"),Yt("numRows")]),jf=()=>zi("markers",[Yt("backgroundMenu")].concat(Np()).concat(Mp())),Nd=e=>zi("markers",dt(e,Yt)),Vf=(e,r,s)=>((()=>{const l=new Error;if(l.stack!==void 0){const m=l.stack.split(`
`);to(m,g=>g.indexOf("alloy")>0&&!uo(cb,h=>g.indexOf(h)>-1)).getOr("unknown")}})(),oi(r,r,s,Ti(l=>Fr.value((...m)=>l.apply(void 0,m))))),Hr=e=>Vf(0,e,Dc(he)),Ol=e=>Vf(0,e,Dc(R.none)),nu=e=>Vf(0,e,{tag:"required",process:{}}),Dp=e=>Vf(0,e,{tag:"required",process:{}}),as=(e,r)=>ro(e,me(r)),db=e=>ro(e,Ze),t1=me(e1),Ji=(e,r,s,l,m,g,h,x=!1)=>({x:e,y:r,bubble:s,direction:l,placement:m,restriction:g,label:`${h}-${m}`,alwaysFit:x}),mm=Ui([{southeast:[]},{southwest:[]},{northeast:[]},{northwest:[]},{south:[]},{north:[]},{east:[]},{west:[]}]),ru=mm.southeast,gm=mm.southwest,Ht=mm.northeast,Rp=mm.northwest,ub=mm.south,Md=mm.north,o1=mm.east,n1=mm.west,yg=(e,r,s,l)=>{const m=e+r;return m>l?s:m<s?l:m},mc=(e,r,s)=>Math.min(Math.max(e,r),s),sl=(e,r)=>We(["left","right","top","bottom"],s=>Xt(r,s).map(l=>((m,g)=>{switch(g){case 1:return m.x;case 0:return m.x+m.width;case 2:return m.y;case 3:return m.y+m.height}})(e,l))),pm="layout",r1=e=>e.x,a1=(e,r)=>e.x+e.width/2-r.width/2,$f=(e,r)=>e.x+e.width-r.width,mb=(e,r)=>e.y-r.height,Uf=e=>e.y+e.height,gb=(e,r)=>e.y+e.height/2-r.height/2,Qi=(e,r,s)=>Ji(r1(e),Uf(e),s.southeast(),ru(),"southeast",sl(e,{left:1,top:3}),pm),Gs=(e,r,s)=>Ji($f(e,r),Uf(e),s.southwest(),gm(),"southwest",sl(e,{right:0,top:3}),pm),vl=(e,r,s)=>Ji(r1(e),mb(e,r),s.northeast(),Ht(),"northeast",sl(e,{left:1,bottom:2}),pm),Wa=(e,r,s)=>Ji($f(e,r),mb(e,r),s.northwest(),Rp(),"northwest",sl(e,{right:0,bottom:2}),pm),Nl=(e,r,s)=>Ji(a1(e,r),mb(e,r),s.north(),Md(),"north",sl(e,{bottom:2}),pm),yi=(e,r,s)=>Ji(a1(e,r),Uf(e),s.south(),ub(),"south",sl(e,{top:3}),pm),pb=(e,r,s)=>Ji((l=>l.x+l.width)(e),gb(e,r),s.east(),o1(),"east",sl(e,{left:0}),pm),Zf=(e,r,s)=>Ji(((l,m)=>l.x-m.width)(e,r),gb(e,r),s.west(),n1(),"west",sl(e,{right:1}),pm),$l=()=>[Qi,Gs,vl,Wa,yi,Nl,pb,Zf],zc=()=>[Gs,Qi,Wa,vl,yi,Nl,pb,Zf],s1=()=>[vl,Wa,Qi,Gs,Nl,yi],Zm=()=>[Wa,vl,Gs,Qi,Nl,yi],fb=()=>[Qi,Gs,vl,Wa,yi,Nl],Bp=()=>[Gs,Qi,Wa,vl,yi,Nl];var wv=Object.freeze({__proto__:null,events:e=>qa([Kt(Cd(),(r,s)=>{const l=e.channels,m=Vt(l),g=s,h=((x,w)=>w.universal?x:Pt(x,S=>Rt(w.channels,S)))(m,g);Ie(h,x=>{const w=l[x],S=w.schema,A=fi("channel["+x+`] data
Receiver: `+Fc(r.element),S,g.data);w.onReceive(r,A)})})])}),kv=[ni("channels",Cu(Fr.value,pi([nu("onReceive"),ft("schema",Cl())])))];const qf=(e,r,s)=>If((l,m)=>{s(l,e,r)}),_v=e=>({key:e,value:void 0}),i1=(e,r,s,l,m,g,h)=>{const x=A=>$n(A,s)?A[s]():R.none(),w=Zo(m,(A,N)=>((F,$,W)=>((se,le,fe)=>{const te=fe.toString(),X=te.indexOf(")")+1,ue=te.indexOf("("),ye=te.substring(ue+1,X-1).split(/,\s*/);return se.toFunctionAnnotation=()=>({name:le,parameters:Ao(ye.slice(0,1).concat(ye.slice(3)))}),se})((se,...le)=>{const fe=[se].concat(le);return se.config({name:me(F)}).fold(()=>{throw new Error("We could not find any behaviour configuration for: "+F+". Using API: "+W)},te=>{const X=Array.prototype.slice.call(fe,1);return $.apply(void 0,[se,te.config,te.state].concat(X))})},W,$))(s,A,N)),S={...Zo(g,(A,N)=>qo(A,N)),...w,revoke:rt(_v,s),config:A=>{const N=fi(s+"-config",e,A);return{key:s,value:{config:N,me:S,configAsRaw:Ee(()=>fi(s+"-config",e,A)),initialConfig:A,state:h}}},schema:me(r),exhibit:(A,N)=>vr(x(A),Xt(l,"exhibit"),(F,$)=>$(N,F.config,F.state)).getOrThunk(()=>hi({})),name:me(s),handlers:A=>x(A).map(N=>Xt(l,"events").getOr(()=>({}))(N.config,N.state)).getOr({})};return S},Oo=e=>Oi(e),sn=pi([Yt("fields"),Yt("name"),ft("active",{}),ft("apis",{}),ft("state",ha),ft("extra",{})]),Ri=e=>{const r=fi("Creating behaviour: "+e.name,sn,e);return((s,l,m,g,h,x)=>{const w=pi(s),S=gl(l,[(A=s,$i("config",pi(A)))]);var A;return i1(w,S,l,m,g,h,x)})(r.fields,r.name,r.active,r.apis,r.extra,r.state)},Wf=pi([Yt("branchKey"),Yt("branches"),Yt("name"),ft("active",{}),ft("apis",{}),ft("state",ha),ft("extra",{})]),Fp=e=>{const r=fi("Creating behaviour: "+e.name,Wf,e);return((s,l,m,g,h,x)=>{const w=s,S=gl(l,[$i("config",s)]);return i1(w,S,l,m,g,h,x)})(Ms(r.branchKey,r.branches),r.name,r.active,r.apis,r.extra,r.state)},l1=me(void 0),tc=Ri({fields:kv,name:"receiving",active:wv});var t_=Object.freeze({__proto__:null,exhibit:(e,r)=>hi({classes:[],styles:r.useFixed()?{}:{position:"relative"}})});const sd=(e,r=!1)=>e.dom.focus({preventScroll:r}),hb=e=>e.dom.blur(),Gf=e=>{const r=rr(e).dom;return e.dom===r.activeElement},Ts=(e=Xl())=>R.from(e.dom.activeElement).map(St),gc=e=>Ts(rr(e)).filter(r=>e.dom.contains(r.dom)),Kf=(e,r)=>{const s=rr(r),l=Ts(s).bind(g=>{const h=x=>Jo(g,x);return h(r)?R.some(r):((x,w)=>{const S=A=>{for(let N=0;N<A.childNodes.length;N++){const F=St(A.childNodes[N]);if(w(F))return R.some(F);const $=S(A.childNodes[N]);if($.isSome())return $}return R.none()};return S(x.dom)})(r,h)}),m=e(r);return l.each(g=>{Ts(s).filter(h=>Jo(h,g)).fold(()=>{sd(g)},he)}),m},Ic=(e,r,s,l,m)=>{const g=h=>h+"px";return{position:e,left:r.map(g),top:s.map(g),right:l.map(g),bottom:m.map(g)}},c1=(e,r)=>{go(e,(s=>({...s,position:R.some(s.position)}))(r))},Yf=Ui([{none:[]},{relative:["x","y","width","height"]},{fixed:["x","y","width","height"]}]),d1=(e,r,s,l,m,g)=>{const h=r.rect,x=h.x-s,w=h.y-l,S=m-(x+h.width),A=g-(w+h.height),N=R.some(x),F=R.some(w),$=R.some(S),W=R.some(A),se=R.none();return r.direction.fold(()=>Ic(e,N,F,se,se),()=>Ic(e,se,F,$,se),()=>Ic(e,N,se,se,W),()=>Ic(e,se,se,$,W),()=>Ic(e,N,F,se,se),()=>Ic(e,N,se,se,W),()=>Ic(e,N,F,se,se),()=>Ic(e,se,F,$,se))},bb=(e,r)=>e.fold(()=>{const s=r.rect;return Ic("absolute",R.some(s.x),R.some(s.y),R.none(),R.none())},(s,l,m,g)=>d1("absolute",r,s,l,m,g),(s,l,m,g)=>d1("fixed",r,s,l,m,g)),Xf=(e,r)=>{const s=rt(Es,r),l=e.fold(s,s,()=>{const h=pa();return Es(r).translate(-h.left,-h.top)}),m=Q(r),g=ho(r);return Ba(l.left,l.top,m,g)},o_=(e,r)=>r.fold(()=>e.fold(Ua,Ua,Ba),s=>e.fold(me(s),me(s),()=>{const l=yb(e,s.x,s.y);return Ba(l.left,l.top,s.width,s.height)})),yb=(e,r,s)=>{const l=kn(r,s);return e.fold(me(l),me(l),()=>{const m=pa();return l.translate(-m.left,-m.top)})};Yf.none;const Cv=Yf.relative,n_=Yf.fixed,Jf="data-alloy-placement",Sv=e=>Ca(e,Jf),Lp=Ui([{fit:["reposition"]},{nofit:["reposition","visibleW","visibleH","isVisible"]}]),oc=(e,r,s,l)=>{const m=e.bubble,g=m.offset,h=((ue,ye,we)=>{const Ye=(Uo,pn)=>ye[Uo].map(Mn=>{const ar=Uo==="top"||Uo==="bottom",dr=ar?we.top:we.left,jr=(Uo==="left"||Uo==="top"?Math.max:Math.min)(Mn,pn)+dr;return ar?mc(jr,ue.y,ue.bottom):mc(jr,ue.x,ue.right)}).getOr(pn),Tt=Ye("left",ue.x),Qt=Ye("top",ue.y),no=Ye("right",ue.right),oo=Ye("bottom",ue.bottom);return Ba(Tt,Qt,no-Tt,oo-Qt)})(l,e.restriction,g),x=e.x+g.left,w=e.y+g.top,S=Ba(x,w,r,s),{originInBounds:A,sizeInBounds:N,visibleW:F,visibleH:$}=((ue,ye)=>{const{x:we,y:Ye,right:Tt,bottom:Qt}=ye,{x:no,y:oo,right:Uo,bottom:pn,width:Mn,height:ar}=ue;return{originInBounds:no>=we&&no<=Tt&&oo>=Ye&&oo<=Qt,sizeInBounds:Uo<=Tt&&Uo>=we&&pn<=Qt&&pn>=Ye,visibleW:Math.min(Mn,no>=we?Tt-no:Uo-we),visibleH:Math.min(ar,oo>=Ye?Qt-oo:pn-Ye)}})(S,h),W=A&&N,se=W?S:((ue,ye)=>{const{x:we,y:Ye,right:Tt,bottom:Qt}=ye,{x:no,y:oo,width:Uo,height:pn}=ue,Mn=Math.max(we,Tt-Uo),ar=Math.max(Ye,Qt-pn),dr=mc(no,we,Mn),jr=mc(oo,Ye,ar),gs=Math.min(dr+Uo,Tt)-dr,Vs=Math.min(jr+pn,Qt)-jr;return Ba(dr,jr,gs,Vs)})(S,h),le=se.width>0&&se.height>0,{maxWidth:fe,maxHeight:te}=((ue,ye,we)=>{const Ye=me(ye.bottom-we.y),Tt=me(we.bottom-ye.y),Qt=((pn,Mn,ar,dr)=>pn.fold(Mn,Mn,dr,dr,Mn,dr,ar,ar))(ue,Tt,Tt,Ye),no=me(ye.right-we.x),oo=me(we.right-ye.x);return{maxWidth:((pn,Mn,ar,dr)=>pn.fold(Mn,dr,Mn,dr,ar,ar,Mn,dr))(ue,oo,oo,no),maxHeight:Qt}})(e.direction,se,l),X={rect:se,maxHeight:te,maxWidth:fe,direction:e.direction,placement:e.placement,classes:{on:m.classesOn,off:m.classesOff},layout:e.label,testY:w};return W||e.alwaysFit?Lp.fit(X):Lp.nofit(X,F,$,le)},Hu=e=>{const r=Sn(R.none()),s=()=>r.get().each(e);return{clear:()=>{s(),r.set(R.none())},isSet:()=>r.get().isSome(),get:()=>r.get(),set:l=>{s(),r.set(R.some(l))}}},vg=()=>Hu(e=>e.unbind()),ms=()=>{const e=Hu(he);return{...e,on:r=>e.get().each(r)}},u1=Ct,Ul=(e,r,s)=>((l,m,g,h)=>ie(l,m,g,h,!1))(e,r,u1,s),Qf=(e,r,s)=>((l,m,g,h)=>ie(l,m,g,h,!0))(e,r,u1,s),Ev=Ki,xg=["top","bottom","right","left"],eh="data-alloy-transition-timer",Tv=(e,r,s,l,m,g)=>{const h=((x,w,S)=>S.exists(A=>{const N=x.mode;return N==="all"||A[N]!==w[N]}))(l,m,g);if(h||((x,w)=>((S,A)=>gt(A,N=>Di(S,N)))(x,w.classes))(e,l)){Bn(e,"position",s.position);const x=Xf(r,e),w=bb(r,{...m,rect:x}),S=We(xg,A=>w[A]);((A,N)=>{const F=$=>parseFloat($).toFixed(3);return Ft(N,($,W)=>!((se,le,fe=de)=>vr(se,le,fe).getOr(se.isNone()&&le.isNone()))(A[W].map(F),$.map(F))).isSome()})(s,S)&&(go(e,S),h&&((A,N)=>{Lc(A,N.classes),Ca(A,eh).each(F=>{clearTimeout(parseInt(F,10)),xa(A,eh)}),((F,$)=>{const W=vg(),se=vg();let le;const fe=ye=>{var we;const Ye=(we=ye.raw.pseudoElement)!==null&&we!==void 0?we:"";return Jo(ye.target,F)&&$s(Ye)&&Rt(xg,ye.raw.propertyName)},te=ye=>{if(To(ye)||fe(ye)){W.clear(),se.clear();const we=ye?.raw.type;(To(we)||we===Ni())&&(clearTimeout(le),xa(F,eh),Zi(F,$.classes))}},X=Ul(F,td(),ye=>{fe(ye)&&(X.unbind(),W.set(Ul(F,Ni(),te)),se.set(Ul(F,Ka(),te)))}),ue=(ye=>{const we=no=>{const oo=aa(ye,no).split(/\s*,\s*/);return Pt(oo,ja)},Ye=no=>{if(io(no)&&/^[\d.]+/.test(no)){const oo=parseFloat(no);return cs(no,"ms")?oo:1e3*oo}return 0},Tt=we("transition-delay"),Qt=we("transition-duration");return zo(Qt,(no,oo,Uo)=>{const pn=Ye(Tt[Uo])+Ye(oo);return Math.max(no,pn)},0)})(F);requestAnimationFrame(()=>{le=setTimeout(te,ue+17),Kn(F,eh,le)})})(A,N)})(e,l),ne(e))}else Zi(e,l.classes)},th=(e,r)=>{((s,l)=>{const m=Pe.max(s,l,["margin-top","border-top-width","padding-top","padding-bottom","border-bottom-width","margin-bottom"]);Bn(s,"max-height",m+"px")})(e,Math.floor(r))},Ip=me((e,r)=>{th(e,r),ji(e,{"overflow-x":"hidden","overflow-y":"auto"})}),wg=me((e,r)=>{th(e,r)}),vb=(e,r,s)=>e[r]===void 0?s:e[r],xb=(e,r,s,l)=>{const m=((g,h,x,w)=>{Pr(h,"max-height"),Pr(h,"max-width");const S={width:Q(A=h),height:ho(A)};var A;return((N,F,$,W,se,le)=>{const fe=W.width,te=W.height,X=(ue,ye,we,Ye,Tt)=>{const Qt=ue($,W,se,N,le),no=oc(Qt,fe,te,le);return no.fold(me(no),(oo,Uo,pn,Mn)=>(Tt===Mn?pn>Ye||Uo>we:!Tt&&Mn)?no:Lp.nofit(ye,we,Ye,Tt))};return zo(F,(ue,ye)=>{const we=rt(X,ye);return ue.fold(me(ue),we)},Lp.nofit({rect:$,maxHeight:W.height,maxWidth:W.width,direction:ru(),placement:"southeast",classes:{on:[],off:[]},layout:"none",testY:$.y},-1,-1,!1)).fold(Ze,Ze)})(h,w.preference,g,S,x,w.bounds)})(e,r,s,l);return((g,h,x)=>{const w=bb(x.origin,h);x.transition.each(S=>{Tv(g,x.origin,w,S,h,x.lastPlacement)}),c1(g,w)})(r,m,l),((g,h)=>{((x,w)=>{Kn(x,Jf,w)})(g,h.placement)})(r,m),((g,h)=>{const x=h.classes;Zi(g,x.off),Lc(g,x.on)})(r,m),((g,h,x)=>{(0,x.maxHeightFunction)(g,h.maxHeight)})(r,m,l),((g,h,x)=>{(0,x.maxWidthFunction)(g,h.maxWidth)})(r,m,l),{layout:m.layout,placement:m.placement}},kg=["valignCentre","alignLeft","alignRight","alignCentre","top","bottom","left","right","inset"],au=(e,r,s,l=1)=>{const m=e*l,g=r*l,h=w=>Xt(s,w).getOr([]),x=(w,S,A)=>{const N=Oe(kg,A);return{offset:kn(w,S),classesOn:ct(A,h),classesOff:ct(N,h)}};return{southeast:()=>x(-e,r,["top","alignLeft"]),southwest:()=>x(e,r,["top","alignRight"]),south:()=>x(-e/2,r,["top","alignCentre"]),northeast:()=>x(-e,-r,["bottom","alignLeft"]),northwest:()=>x(e,-r,["bottom","alignRight"]),north:()=>x(-e/2,-r,["bottom","alignCentre"]),east:()=>x(e,-r/2,["valignCentre","left"]),west:()=>x(-e,-r/2,["valignCentre","right"]),insetNortheast:()=>x(m,g,["top","alignLeft","inset"]),insetNorthwest:()=>x(-m,g,["top","alignRight","inset"]),insetNorth:()=>x(-m/2,g,["top","alignCentre","inset"]),insetSoutheast:()=>x(m,-g,["bottom","alignLeft","inset"]),insetSouthwest:()=>x(-m,-g,["bottom","alignRight","inset"]),insetSouth:()=>x(-m/2,-g,["bottom","alignCentre","inset"]),insetEast:()=>x(-m,-g/2,["valignCentre","right","inset"]),insetWest:()=>x(m,-g/2,["valignCentre","left","inset"])}},_g=()=>au(0,0,{}),fm=Ze,su=(e,r)=>s=>r_(s)==="rtl"?r:e,r_=e=>aa(e,"direction")==="rtl"?"rtl":"ltr";var ju;(function(e){e.TopToBottom="toptobottom",e.BottomToTop="bottomtotop"})(ju||(ju={}));const oh="data-alloy-vertical-dir",zv=e=>Hf(e,r=>wt(r)&&Ma(r,"data-alloy-vertical-dir")===ju.BottomToTop),hm=()=>gl("layouts",[Yt("onLtr"),Yt("onRtl"),la("onBottomLtr"),la("onBottomRtl")]),Cg=(e,r,s,l,m,g,h)=>{const x=h.map(zv).getOr(!1),w=r.layouts.map(F=>F.onLtr(e)),S=r.layouts.map(F=>F.onRtl(e)),A=x?r.layouts.bind(F=>F.onBottomLtr.map($=>$(e))).or(w).getOr(m):w.getOr(s),N=x?r.layouts.bind(F=>F.onBottomRtl.map($=>$(e))).or(S).getOr(g):S.getOr(l);return su(A,N)(e)};var wb=[Yt("hotspot"),la("bubble"),ft("overrides",{}),hm(),as("placement",(e,r,s)=>{const l=r.hotspot,m=Xf(s,l.element),g=Cg(e.element,r,fb(),Bp(),s1(),Zm(),R.some(r.hotspot.element));return R.some(fm({anchorBox:m,bubble:r.bubble.getOr(_g()),overrides:r.overrides,layouts:g}))})],Av=[Yt("x"),Yt("y"),ft("height",0),ft("width",0),ft("bubble",_g()),ft("overrides",{}),hm(),as("placement",(e,r,s)=>{const l=yb(s,r.x,r.y),m=Ba(l.left,l.top,r.width,r.height),g=Cg(e.element,r,$l(),zc(),$l(),zc(),R.none());return R.some(fm({anchorBox:m,bubble:r.bubble,overrides:r.overrides,layouts:g}))})];const m1=Ui([{screen:["point"]},{absolute:["point","scrollLeft","scrollTop"]}]),kb=e=>e.fold(Ze,(r,s,l)=>r.translate(-s,-l)),a_=e=>e.fold(Ze,Ze),Sg=e=>zo(e,(r,s)=>r.translate(s.left,s.top),kn(0,0)),nh=e=>{const r=dt(e,a_);return Sg(r)},g1=m1.screen,Ov=m1.absolute,qm=(e,r,s)=>{const l=Ne(e.element),m=pa(l),g=((h,x,w)=>{const S=Ho(w.root).dom;return R.from(S.frameElement).map(St).filter(A=>{const N=Ne(A),F=Ne(h.element);return Jo(N,F)}).map(Or)})(e,0,s).getOr(m);return Ov(g,m.left,m.top)},Pp=(e,r,s,l)=>{const m=g1(kn(e,r));return R.some(((g,h,x)=>({point:g,width:h,height:x}))(m,s,l))},p1=(e,r,s,l,m)=>e.map(g=>{const h=[r,g.point],x=(w=()=>nh(h),S=()=>nh(h),A=()=>(X=>{const ue=dt(X,kb);return Sg(ue)})(h),l.fold(w,S,A));var w,S,A;const N=(se=x.left,le=x.top,fe=g.width,te=g.height,{x:se,y:le,width:fe,height:te}),F=s.showAbove?s1():fb(),$=s.showAbove?Zm():Bp(),W=Cg(m,s,F,$,F,$,R.none());var se,le,fe,te;return fm({anchorBox:N,bubble:s.bubble.getOr(_g()),overrides:s.overrides,layouts:W})});var _b=[Yt("node"),Yt("root"),la("bubble"),hm(),ft("overrides",{}),ft("showAbove",!1),as("placement",(e,r,s)=>{const l=qm(e,0,r);return r.node.filter(za).bind(m=>{const g=m.dom.getBoundingClientRect(),h=Pp(g.left,g.top,g.width,g.height),x=r.node.getOr(e.element);return p1(h,l,r,s,x)})})];const Cb=(e,r,s,l)=>({start:e,soffset:r,finish:s,foffset:l}),rh=Ui([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),Nv=(rh.before,rh.on,rh.after,e=>e.fold(Ze,Ze,Ze)),iu=Ui([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),Hp={domRange:iu.domRange,relative:iu.relative,exact:iu.exact,exactFromRange:e=>iu.exact(e.start,e.soffset,e.finish,e.foffset),getWin:e=>{const r=(s=>s.match({domRange:l=>St(l.startContainer),relative:(l,m)=>Nv(l),exact:(l,m,g,h)=>l}))(e);return Ho(r)},range:Cb},Mv=(e,r,s)=>{const l=e.document.createRange();var m;return m=l,r.fold(g=>{m.setStartBefore(g.dom)},(g,h)=>{m.setStart(g.dom,h)},g=>{m.setStartAfter(g.dom)}),((g,h)=>{h.fold(x=>{g.setEndBefore(x.dom)},(x,w)=>{g.setEnd(x.dom,w)},x=>{g.setEndAfter(x.dom)})})(l,s),l},Sb=(e,r,s,l,m)=>{const g=e.document.createRange();return g.setStart(r.dom,s),g.setEnd(l.dom,m),g},f1=e=>({left:e.left,top:e.top,right:e.right,bottom:e.bottom,width:e.width,height:e.height}),Eg=Ui([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),Dv=(e,r,s)=>r(St(s.startContainer),s.startOffset,St(s.endContainer),s.endOffset),Tg=(e,r)=>((s,l)=>{const m=((g,h)=>h.match({domRange:x=>({ltr:me(x),rtl:R.none}),relative:(x,w)=>({ltr:Ee(()=>Mv(g,x,w)),rtl:Ee(()=>R.some(Mv(g,w,x)))}),exact:(x,w,S,A)=>({ltr:Ee(()=>Sb(g,x,w,S,A)),rtl:Ee(()=>R.some(Sb(g,S,A,x,w)))})}))(s,l);return((g,h)=>{const x=h.ltr();return x.collapsed?h.rtl().filter(w=>w.collapsed===!1).map(w=>Eg.rtl(St(w.endContainer),w.endOffset,St(w.startContainer),w.startOffset)).getOrThunk(()=>Dv(0,Eg.ltr,x)):Dv(0,Eg.ltr,x)})(0,m)})(e,r).match({ltr:(s,l,m,g)=>{const h=e.document.createRange();return h.setStart(s.dom,l),h.setEnd(m.dom,g),h},rtl:(s,l,m,g)=>{const h=e.document.createRange();return h.setStart(m.dom,g),h.setEnd(s.dom,l),h}});Eg.ltr,Eg.rtl;const h1=(e,r,s)=>Pt(((l,m)=>{const g=it(m)?m:Bo;let h=l.dom;const x=[];for(;h.parentNode!==null&&h.parentNode!==void 0;){const w=h.parentNode,S=St(w);if(x.push(S),g(S)===!0)break;h=w}return x})(e,s),r),Zl=(e,r)=>((s,l)=>{const m=l===void 0?document:l.dom;return Br(m)?[]:dt(m.querySelectorAll(s),St)})(r,e),Rv=e=>{if(e.rangeCount>0){const r=e.getRangeAt(0),s=e.getRangeAt(e.rangeCount-1);return R.some(Cb(St(r.startContainer),r.startOffset,St(s.endContainer),s.endOffset))}return R.none()},Bv=e=>{if(e.anchorNode===null||e.focusNode===null)return Rv(e);{const r=St(e.anchorNode),s=St(e.focusNode);return((l,m,g,h)=>{const x=((S,A,N,F)=>{const $=Ne(S).dom.createRange();return $.setStart(S.dom,A),$.setEnd(N.dom,F),$})(l,m,g,h),w=Jo(l,g)&&m===h;return x.collapsed&&!w})(r,e.anchorOffset,s,e.focusOffset)?R.some(Cb(r,e.anchorOffset,s,e.focusOffset)):Rv(e)}},b1=(e,r)=>(s=>{const l=s.getClientRects(),m=l.length>0?l[0]:s.getBoundingClientRect();return m.width>0||m.height>0?R.some(m).map(f1):R.none()})(Tg(e,r)),s_=((e,r)=>{const s=l=>e(l)?R.from(l.dom.nodeValue):R.none();return{get:l=>{if(!e(l))throw new Error("Can only get text value of a text node");return s(l).getOr("")},getOption:s,set:(l,m)=>{if(!e(l))throw new Error("Can only set raw text value of a text node");l.dom.nodeValue=m}}})(It),Eb=(e,r)=>({element:e,offset:r}),y1=(e,r)=>It(e)?Eb(e,r):((s,l)=>{const m=wn(s);if(m.length===0)return Eb(s,l);if(l<m.length)return Eb(m[l],0);{const g=m[m.length-1],h=It(g)?(x=>s_.get(x))(g).length:wn(g).length;return Eb(g,h)}})(e,r),ah=e=>e.foffset!==void 0,sh=(e,r)=>r.getSelection.getOrThunk(()=>()=>(s=>(l=>R.from(l.getSelection()))(s).filter(l=>l.rangeCount>0).bind(Bv))(e))().map(s=>{if(ah(s)){const l=y1(s.start,s.soffset),m=y1(s.finish,s.foffset);return Hp.range(l.element,l.offset,m.element,m.offset)}return s});var Fv=[la("getSelection"),Yt("root"),la("bubble"),hm(),ft("overrides",{}),ft("showAbove",!1),as("placement",(e,r,s)=>{const l=Ho(r.root).dom,m=qm(e,0,r),g=sh(l,r).bind(x=>{if(ah(x))return((S,A)=>(N=>{const F=N.getBoundingClientRect();return F.width>0||F.height>0?R.some(F).map(f1):R.none()})(Tg(S,A)))(l,Hp.exactFromRange(x)).orThunk(()=>{const S=Do("\uFEFF");yt(x.start,S);const A=b1(l,Hp.exact(S,0,S,1));return ia(S),A}).bind(S=>Pp(S.left,S.top,S.width,S.height));{const w=Zo(x,A=>A.dom.getBoundingClientRect()),S={left:Math.min(w.firstCell.left,w.lastCell.left),right:Math.max(w.firstCell.right,w.lastCell.right),top:Math.min(w.firstCell.top,w.lastCell.top),bottom:Math.max(w.firstCell.bottom,w.lastCell.bottom)};return Pp(S.left,S.top,S.right-S.left,S.bottom-S.top)}}),h=sh(l,r).bind(x=>ah(x)?wt(x.start)?R.some(x.start):Go(x.start):R.some(x.firstCell)).getOr(e.element);return p1(g,m,r,s,h)})];const Tb="link-layout",zb=e=>e.x+e.width,v1=(e,r)=>e.x-r.width,zg=(e,r)=>e.y-r.height+e.height,Ab=e=>e.y,ih=(e,r,s)=>Ji(zb(e),Ab(e),s.southeast(),ru(),"southeast",sl(e,{left:0,top:2}),Tb),bm=(e,r,s)=>Ji(v1(e,r),Ab(e),s.southwest(),gm(),"southwest",sl(e,{right:1,top:2}),Tb),Lv=(e,r,s)=>Ji(zb(e),zg(e,r),s.northeast(),Ht(),"northeast",sl(e,{left:0,bottom:3}),Tb),x1=(e,r,s)=>Ji(v1(e,r),zg(e,r),s.northwest(),Rp(),"northwest",sl(e,{right:1,bottom:3}),Tb),lh=()=>[ih,bm,Lv,x1],Ag=()=>[bm,ih,x1,Lv];var i_=[Yt("item"),hm(),ft("overrides",{}),as("placement",(e,r,s)=>{const l=Xf(s,r.item.element),m=Cg(e.element,r,lh(),Ag(),lh(),Ag(),R.none());return R.some(fm({anchorBox:l,bubble:_g(),overrides:r.overrides,layouts:m}))})],Ob=Ms("type",{selection:Fv,node:_b,hotspot:wb,submenu:i_,makeshift:Av});const jp=[al("classes",wa),pl("mode","all",["all","layout","placement"])],Iv=[ft("useFixed",Bo),la("getBounds")],Nb=[ni("anchor",Ob),gl("transition",jp)],Mb=(e,r,s,l,m,g)=>{const h=fi("placement.info",Cn(Nb),m),x=h.anchor,w=l.element,S=s.get(l.uid);Kf(()=>{Bn(w,"position","fixed");const A=Ir(w,"visibility");Bn(w,"visibility","hidden");const N=r.useFixed()?(()=>{const F=document.documentElement;return n_(0,0,F.clientWidth,F.clientHeight)})():(F=>{const $=Or(F.element),W=F.element.dom.getBoundingClientRect();return Cv($.left,$.top,W.width,W.height)})(e);x.placement(e,x,N).each(F=>{const $=g.orThunk(()=>r.getBounds.map(gn)),W=((se,le,fe,te,X,ue)=>((ye,we,Ye,Tt,Qt,no,oo,Uo)=>{const pn=vb(oo,"maxHeightFunction",Ip()),Mn=vb(oo,"maxWidthFunction",he),ar=ye.anchorBox,dr=ye.origin,jr={bounds:o_(dr,no),origin:dr,preference:Tt,maxHeightFunction:pn,maxWidthFunction:Mn,lastPlacement:Qt,transition:Uo};return xb(ar,we,Ye,jr)})(((ye,we)=>((Ye,Tt)=>({anchorBox:Ye,origin:Tt}))(ye,we))(le.anchorBox,se),te.element,le.bubble,le.layouts,X,fe,le.overrides,ue))(N,F,$,l,S,h.transition);s.set(l.uid,W)}),A.fold(()=>{Pr(w,"visibility")},F=>{Bn(w,"visibility",F)}),Ir(w,"left").isNone()&&Ir(w,"top").isNone()&&Ir(w,"right").isNone()&&Ir(w,"bottom").isNone()&&Rr(Ir(w,"position"),"fixed")&&Pr(w,"position")},w)};var w1=Object.freeze({__proto__:null,position:(e,r,s,l,m)=>{const g=R.none();Mb(e,r,s,l,m,g)},positionWithinBounds:Mb,getMode:(e,r,s)=>r.useFixed()?"fixed":"absolute",reset:(e,r,s,l)=>{const m=l.element;Ie(["position","left","right","top","bottom"],g=>Pr(m,g)),(g=>{xa(g,Jf)})(m),s.clear(l.uid)}});const xl=Ri({fields:Iv,name:"positioning",active:t_,apis:w1,state:Object.freeze({__proto__:null,init:()=>{let e={};return Ia({readState:()=>e,clear:r=>{Ue(r)?delete e[r]:e={}},set:(r,s)=>{e[r]=s},get:r=>Xt(e,r)})}})}),ch=e=>e.getSystem().isConnected(),dh=e=>{$r(e,sm());const r=e.components();Ie(r,dh)},Dd=e=>{const r=e.components();Ie(r,Dd),$r(e,Rc())},k1=(e,r)=>{e.getSystem().addToWorld(r),za(e.element)&&Dd(r)},uh=e=>{dh(e),e.getSystem().removeFromWorld(e)},Og=(e,r)=>{ur(e.element,r.element)},ym=(e,r)=>{Db(e,r,ur)},Db=(e,r,s)=>{e.getSystem().addToWorld(r),s(e.element,r.element),za(e.element)&&Dd(r),e.syncComponents()},Rb=e=>{dh(e),ia(e.element),e.getSystem().removeFromWorld(e)},id=e=>{const r=rn(e.element).bind(s=>e.getSystem().getByDom(s).toOptional());Rb(e),r.each(s=>{s.syncComponents()})},lu=e=>{const r=e.components();Ie(r,Rb),ei(e.element),e.syncComponents()},mh=(e,r)=>{Pv(e,r,ur)},Vp=(e,r)=>{Pv(e,r,Lt)},Pv=(e,r,s)=>{s(e,r.element);const l=wn(r.element);Ie(l,m=>{r.getByDom(m).each(Dd)})},Hv=e=>{const r=wn(e.element);Ie(r,s=>{e.getByDom(s).each(dh)}),ia(e.element)},Bb=(e,r,s,l)=>{s.get().each(h=>{lu(e)});const m=r.getAttachPoint(e);ym(m,e);const g=e.getSystem().build(l);return ym(e,g),s.set(g),g},_1=(e,r,s,l)=>{const m=Bb(e,r,s,l);return r.onOpen(e,m),m},jv=(e,r,s)=>{s.get().each(l=>{lu(e),id(e),r.onClose(e,l),s.clear()})},Ng=(e,r,s)=>s.isOpen(),$p=(e,r,s)=>{const l=r.getAttachPoint(e);Bn(e.element,"position",xl.getMode(l)),((m,g,h,x)=>{Ir(m.element,g).fold(()=>{xa(m.element,h)},w=>{Kn(m.element,h,w)}),Bn(m.element,g,"hidden")})(e,"visibility",r.cloakVisibilityAttr)},vm=(e,r,s)=>{(l=>uo(["top","left","right","bottom"],m=>Ir(l,m).isSome()))(e.element)||Pr(e.element,"position"),((l,m,g)=>{Ca(l.element,g).fold(()=>Pr(l.element,m),h=>Bn(l.element,m,h))})(e,"visibility",r.cloakVisibilityAttr)};var Mg=Object.freeze({__proto__:null,cloak:$p,decloak:vm,open:_1,openWhileCloaked:(e,r,s,l,m)=>{$p(e,r),_1(e,r,s,l),m(),vm(e,r)},close:jv,isOpen:Ng,isPartOf:(e,r,s,l)=>Ng(0,0,s)&&s.get().exists(m=>r.isPartOf(e,m,l)),getState:(e,r,s)=>s.get(),setContent:(e,r,s,l)=>s.get().map(()=>Bb(e,r,s,l))}),Ac=Object.freeze({__proto__:null,events:(e,r)=>qa([Kt(Sd(),(s,l)=>{jv(s,e,r)})])}),cu=[Hr("onOpen"),Hr("onClose"),Yt("isPartOf"),Yt("getAttachPoint"),ft("cloakVisibilityAttr","data-precloak-visibility")],Rd=Object.freeze({__proto__:null,init:()=>{const e=ms(),r=me("not-implemented");return Ia({readState:r,isOpen:e.isSet,clear:e.clear,set:e.set,get:e.get})}});const Lr=Ri({fields:cu,name:"sandboxing",active:Ac,apis:Mg,state:Rd}),Bd=me("dismiss.popups"),Dg=me("reposition.popups"),C1=me("mouse.released"),Vv=pi([ft("isExtraPart",Bo),gl("fireEventInstead",[ft("event",Ou())])]),Rg=e=>{const r=fi("Dismissal",Vv,e);return{[Bd()]:{schema:pi([Yt("target")]),onReceive:(s,l)=>{Lr.isOpen(s)&&(Lr.isPartOf(s,l.target)||r.isExtraPart(s,l.target)||r.fireEventInstead.fold(()=>Lr.close(s),m=>$r(s,m.event)))}}}},Up=pi([gl("fireEventInstead",[ft("event",xp())]),ml("doReposition")]),Zp=e=>{const r=fi("Reposition",Up,e);return{[Dg()]:{onReceive:s=>{Lr.isOpen(s)&&r.fireEventInstead.fold(()=>r.doReposition(s),l=>$r(s,l.event))}}}},Fb=(e,r,s)=>{r.store.manager.onLoad(e,r,s)},xm=(e,r,s)=>{r.store.manager.onUnload(e,r,s)};var qp=Object.freeze({__proto__:null,onLoad:Fb,onUnload:xm,setValue:(e,r,s,l)=>{r.store.manager.setValue(e,r,s,l)},getValue:(e,r,s)=>r.store.manager.getValue(e,r,s),getState:(e,r,s)=>s}),Lb=Object.freeze({__proto__:null,events:(e,r)=>{const s=e.resetOnDom?[La((l,m)=>{Fb(l,e,r)}),od((l,m)=>{xm(l,e,r)})]:[qf(e,r,Fb)];return qa(s)}});const Wp=()=>{const e=Sn(null);return Ia({set:e.set,get:e.get,isNotSet:()=>e.get()===null,clear:()=>{e.set(null)},readState:()=>({mode:"memory",value:e.get()})})},Bi=()=>{const e=Sn({}),r=Sn({});return Ia({readState:()=>({mode:"dataset",dataByValue:e.get(),dataByText:r.get()}),lookup:s=>Xt(e.get(),s).orThunk(()=>Xt(r.get(),s)),update:s=>{const l=e.get(),m=r.get(),g={},h={};Ie(s,x=>{g[x.value]=x,Xt(x,"meta").each(w=>{Xt(w,"text").each(S=>{h[S]=x})})}),e.set({...l,...g}),r.set({...m,...h})},clear:()=>{e.set({}),r.set({})}})};var $v=Object.freeze({__proto__:null,memory:Wp,dataset:Bi,manual:()=>Ia({readState:he}),init:e=>e.store.manager.state(e)});const du=(e,r,s,l)=>{const m=r.store;s.update([l]),m.setValue(e,l),r.onSetValue(e,l)};var Ib=[la("initialValue"),Yt("getFallbackEntry"),Yt("getDataKey"),Yt("setValue"),as("manager",{setValue:du,getValue:(e,r,s)=>{const l=r.store,m=l.getDataKey(e);return s.lookup(m).getOrThunk(()=>l.getFallbackEntry(m))},onLoad:(e,r,s)=>{r.store.initialValue.each(l=>{du(e,r,s,l)})},onUnload:(e,r,s)=>{s.clear()},state:Bi})],Pb=[Yt("getValue"),ft("setValue",he),la("initialValue"),as("manager",{setValue:(e,r,s,l)=>{r.store.setValue(e,l),r.onSetValue(e,l)},getValue:(e,r,s)=>r.store.getValue(e),onLoad:(e,r,s)=>{r.store.initialValue.each(l=>{r.store.setValue(e,l)})},onUnload:he,state:ha.init})],Gp=[la("initialValue"),as("manager",{setValue:(e,r,s,l)=>{s.set(l),r.onSetValue(e,l)},getValue:(e,r,s)=>s.get(),onLoad:(e,r,s)=>{r.store.initialValue.each(l=>{s.isNotSet()&&s.set(l)})},onUnload:(e,r,s)=>{s.clear()},state:Wp})],Uv=[Ai("store",{mode:"memory"},Ms("mode",{memory:Gp,manual:Pb,dataset:Ib})),Hr("onSetValue"),ft("resetOnDom",!1)];const Wo=Ri({fields:Uv,name:"representing",active:Lb,apis:qp,extra:{setValueFrom:(e,r)=>{const s=Wo.getValue(r);Wo.setValue(e,s)}},state:$v}),qi=(e,r)=>Bm(e,{},dt(r,s=>{return l=s.name(),m="Cannot configure "+s.name()+" for "+e,oi(l,l,{tag:"option",process:{}},Xc(g=>Mc("The field: "+l+" is forbidden. "+m)));var l,m}).concat([ro("dump",Ze)])),Hb=e=>e.dump,Fi=(e,r)=>({...Oo(r),...e.dump}),nc=qi,Bg=Fi,S1="placeholder",gh=Ui([{single:["required","valueThunk"]},{multiple:["required","valueThunks"]}]),p=e=>Vo(e,"uiType"),b=(e,r,s,l)=>((m,g,h,x)=>p(h)&&h.uiType===S1?((w,S,A,N)=>w.exists(F=>F!==A.owner)?gh.single(!0,me(A)):Xt(N,A.name).fold(()=>{throw new Error("Unknown placeholder component: "+A.name+`
Known: [`+Vt(N)+`]
Namespace: `+w.getOr("none")+`
Spec: `+JSON.stringify(A,null,2))},F=>F.replace()))(m,0,h,x):gh.single(!1,me(h)))(e,0,s,l).fold((m,g)=>{const h=p(s)?g(r,s.config,s.validated):g(r),x=Xt(h,"components").getOr([]),w=ct(x,S=>b(e,r,S,l));return[{...h,components:w}]},(m,g)=>{if(p(s)){const h=g(r,s.config,s.validated);return s.validated.preprocess.getOr(Ze)(h)}return g(r)}),_=gh.single,T=gh.multiple,L=me(S1),I=Ui([{required:["data"]},{external:["data"]},{optional:["data"]},{group:["data"]}]),Z=ft("factory",{sketch:Ze}),Y=ft("schema",[]),ae=Yt("name"),be=oi("pname","pname",os(e=>"<alloy."+un(e.name)+">"),Cl()),Le=ro("schema",()=>[la("preprocess")]),_e=ft("defaults",me({})),Re=ft("overrides",me({})),Xe=Cn([Z,Y,ae,be,_e,Re]),Et=Cn([Z,Y,ae,_e,Re]),vt=Cn([Z,Y,ae,be,_e,Re]),qt=Cn([Z,Le,ae,Yt("unit"),be,_e,Re]),eo=e=>e.fold(R.some,R.none,R.some,R.some),bo=e=>{const r=s=>s.name;return e.fold(r,r,r,r)},ao=(e,r)=>s=>{const l=fi("Converting part type",r,s);return e(l)},Eo=ao(I.required,Xe),Ro=ao(I.external,Et),No=ao(I.optional,vt),Ln=ao(I.group,qt),qn=me("entirety");var Qr=Object.freeze({__proto__:null,required:Eo,external:Ro,optional:No,group:Ln,asNamedPart:eo,name:bo,asCommon:e=>e.fold(Ze,Ze,Ze,Ze),original:qn});const or=(e,r,s,l)=>Da(r.defaults(e,s,l),s,{uid:e.partUids[r.name]},r.overrides(e,s,l)),Mr=(e,r)=>{const s={};return Ie(r,l=>{eo(l).each(m=>{const g=Er(e,m.pname);s[m.name]=h=>{const x=fi("Part: "+m.name+" in "+e,Cn(m.schema),h);return{...g,config:h,validated:x}}})}),s},Er=(e,r)=>({uiType:L(),owner:e,name:r}),ca=(e,r,s)=>({uiType:L(),owner:e,name:r,config:s,validated:{}}),zs=e=>ct(e,r=>r.fold(R.none,R.some,R.none,R.none).map(s=>zi(s.name,s.schema.concat([db(qn())]))).toArray()),il=e=>dt(e,bo),ii=(e,r,s)=>((l,m,g)=>{const h={},x={};return Ie(g,w=>{w.fold(S=>{h[S.pname]=_(!0,(A,N,F)=>S.factory.sketch(or(A,S,N,F)))},S=>{const A=m.parts[S.name];x[S.name]=me(S.factory.sketch(or(m,S,A[qn()]),A))},S=>{h[S.pname]=_(!1,(A,N,F)=>S.factory.sketch(or(A,S,N,F)))},S=>{h[S.pname]=T(!0,(A,N,F)=>{const $=A[S.name];return dt($,W=>S.factory.sketch(Da(S.defaults(A,W,F),W,S.overrides(A,W))))})})}),{internals:me(h),externals:me(x)}})(0,r,s),ql=(e,r,s)=>((l,m,g,h)=>{const x=Zo(h,(S,A)=>((N,F)=>{let $=!1;return{name:me(N),required:()=>F.fold((W,se)=>W,(W,se)=>W),used:()=>$,replace:()=>{if($)throw new Error("Trying to use the same placeholder more than once: "+N);return $=!0,F}}})(A,S)),w=((S,A,N,F)=>ct(N,$=>b(S,A,$,F)))(l,m,g,x);return $o(x,S=>{if(S.used()===!1&&S.required())throw new Error("Placeholder: "+S.name()+` was not found in components list
Namespace: `+l.getOr("none")+`
Components: `+JSON.stringify(m.components,null,2))}),w})(R.some(e),r,r.components,s),ua=(e,r,s)=>{const l=r.partUids[s];return e.getSystem().getByUid(l).toOptional()},li=(e,r,s)=>ua(e,r,s).getOrDie("Could not find part: "+s),Vu=(e,r,s)=>{const l={},m=r.partUids,g=e.getSystem();return Ie(s,h=>{l[h]=me(g.getByUid(m[h]))}),l},Kp=(e,r)=>{const s=e.getSystem();return Zo(r.partUids,(l,m)=>me(s.getByUid(l)))},wm=e=>Vt(e.partUids),Fg=(e,r,s)=>{const l={},m=r.partUids,g=e.getSystem();return Ie(s,h=>{l[h]=me(g.getByUid(m[h]).getOrDie())}),l},Yp=(e,r)=>{const s=il(r);return Oi(dt(s,l=>({key:l,value:e+"-"+l})))},Xp=e=>oi("partUids","partUids",dc(r=>Yp(r.uid,e)),Cl());var O3=Object.freeze({__proto__:null,generate:Mr,generateOne:ca,schemas:zs,names:il,substitutes:ii,components:ql,defaultUids:Yp,defaultUidsSchema:Xp,getAllParts:Kp,getAllPartNames:wm,getPart:ua,getPartOrDie:li,getParts:Vu,getPartsOrDie:Fg});const Zv=(e,r,s,l,m)=>{const g=((h,x)=>(h.length>0?[zi("parts",h)]:[]).concat([Yt("uid"),ft("dom",{}),ft("components",[]),db("originalSpec"),ft("debug.sketcher",{})]).concat(x))(l,m);return fi(e+" [SpecSchema]",pi(g.concat(r)),s)},Jp=(e,r,s,l,m)=>{const g=qv(m),h=zs(s),x=Xp(s),w=Zv(e,r,g,h,[x]),S=ii(0,w,s);return l(w,ql(e,w,S.internals()),g,S.externals())},qv=e=>(r=>Vo(r,"uid"))(e)?e:{...e,uid:G("uid")},N3=pi([Yt("name"),Yt("factory"),Yt("configFields"),ft("apis",{}),ft("extraApis",{})]),Qp=pi([Yt("name"),Yt("factory"),Yt("configFields"),Yt("partFields"),ft("apis",{}),ft("extraApis",{})]),Pc=e=>{const r=fi("Sketcher for "+e.name,N3,e),s=Zo(r.apis,Nr),l=Zo(r.extraApis,(m,g)=>qo(m,g));return{name:r.name,configFields:r.configFields,sketch:m=>((g,h,x,w)=>{const S=qv(w);return x(Zv(g,h,S,[],[]),S)})(r.name,r.configFields,r.factory,m),...s,...l}},Wl=e=>{const r=fi("Sketcher for "+e.name,Qp,e),s=Mr(r.name,r.partFields),l=Zo(r.apis,Nr),m=Zo(r.extraApis,(g,h)=>qo(g,h));return{name:r.name,partFields:r.partFields,configFields:r.configFields,sketch:g=>Jp(r.name,r.configFields,r.partFields,r.factory,g),parts:s,...l,...m}},Lg=e=>sr("input")(e)&&Ma(e,"type")!=="radio"||sr("textarea")(e);var M3=Object.freeze({__proto__:null,getCurrent:(e,r,s)=>r.find(e)});const Wv=[Yt("find")],Gr=Ri({fields:Wv,name:"composing",apis:M3}),Wm=["input","button","textarea","select"],Fd=(e,r,s)=>{(r.disabled()?Gv:Kv)(e,r)},el=(e,r)=>r.useNative===!0&&Rt(Wm,gr(e.element)),l_=e=>{Kn(e.element,"disabled","disabled")},D3=e=>{xa(e.element,"disabled")},c_=e=>{Kn(e.element,"aria-disabled","true")},jb=e=>{Kn(e.element,"aria-disabled","false")},Gv=(e,r,s)=>{r.disableClass.each(l=>{Jr(e.element,l)}),(el(e,r)?l_:c_)(e),r.onDisabled(e)},Kv=(e,r,s)=>{r.disableClass.each(l=>{rs(e.element,l)}),(el(e,r)?D3:jb)(e),r.onEnabled(e)},R3=(e,r)=>el(e,r)?(s=>ds(s.element,"disabled"))(e):(s=>Ma(s.element,"aria-disabled")==="true")(e);var B3=Object.freeze({__proto__:null,enable:Kv,disable:Gv,isDisabled:R3,onLoad:Fd,set:(e,r,s,l)=>{(l?Gv:Kv)(e,r)}}),F3=Object.freeze({__proto__:null,exhibit:(e,r)=>hi({classes:r.disabled()?r.disableClass.toArray():[]}),events:(e,r)=>qa([Nu(fl(),(s,l)=>R3(s,e)),qf(e,r,Fd)])}),CA=[hs("disabled",Bo),ft("useNative",!0),la("disableClass"),Hr("onDisabled"),Hr("onEnabled")];const Qn=Ri({fields:CA,name:"disabling",active:F3,apis:B3}),d_=(e,r,s,l)=>{const m=Zl(e.element,"."+r.highlightClass);Ie(m,g=>{uo(l,h=>Jo(h.element,g))||(rs(g,r.highlightClass),e.getSystem().getByDom(g).each(h=>{r.onDehighlight(e,h),$r(h,Pm())}))})},Vb=(e,r,s,l)=>{d_(e,r,0,[l]),Yv(e,r,s,l)||(Jr(l.element,r.highlightClass),r.onHighlight(e,l),$r(l,dg()))},Yv=(e,r,s,l)=>Di(l.element,r.highlightClass),u_=(e,r,s)=>vs(e.element,"."+r.itemClass).bind(l=>e.getSystem().getByDom(l).toOptional()),E1=(e,r,s)=>{const l=Zl(e.element,"."+r.itemClass);return(l.length>0?R.some(l[l.length-1]):R.none()).bind(m=>e.getSystem().getByDom(m).toOptional())},m_=(e,r,s,l)=>{const m=Zl(e.element,"."+r.itemClass);return Se(m,g=>Di(g,r.highlightClass)).bind(g=>{const h=yg(g,l,0,m.length-1);return e.getSystem().getByDom(m[h]).toOptional()})},ef=(e,r,s)=>{const l=Zl(e.element,"."+r.itemClass);return Wt(dt(l,m=>e.getSystem().getByDom(m).toOptional()))};var T1=Object.freeze({__proto__:null,dehighlightAll:(e,r,s)=>d_(e,r,0,[]),dehighlight:(e,r,s,l)=>{Yv(e,r,s,l)&&(rs(l.element,r.highlightClass),r.onDehighlight(e,l),$r(l,Pm()))},highlight:Vb,highlightFirst:(e,r,s)=>{u_(e,r).each(l=>{Vb(e,r,s,l)})},highlightLast:(e,r,s)=>{E1(e,r).each(l=>{Vb(e,r,s,l)})},highlightAt:(e,r,s,l)=>{((m,g,h,x)=>{const w=Zl(m.element,"."+g.itemClass);return R.from(w[x]).fold(()=>Fr.error(new Error("No element found with index "+x)),m.getSystem().getByDom)})(e,r,0,l).fold(m=>{throw m},m=>{Vb(e,r,s,m)})},highlightBy:(e,r,s,l)=>{const m=ef(e,r);to(m,l).each(g=>{Vb(e,r,s,g)})},isHighlighted:Yv,getHighlighted:(e,r,s)=>vs(e.element,"."+r.highlightClass).bind(l=>e.getSystem().getByDom(l).toOptional()),getFirst:u_,getLast:E1,getPrevious:(e,r,s)=>m_(e,r,0,-1),getNext:(e,r,s)=>m_(e,r,0,1),getCandidates:ef}),SA=[Yt("highlightClass"),Yt("itemClass"),Hr("onHighlight"),Hr("onDehighlight")];const ba=Ri({fields:SA,name:"highlighting",apis:T1}),L3=[8],Ig=[9],km=[13],tf=[27],Hc=[32],z1=[37],$b=[38],A1=[39],ph=[40],I3=(e,r,s)=>{const l=pe(e.slice(0,r)),m=pe(e.slice(r+1));return to(l.concat(m),s)},P3=(e,r,s)=>{const l=pe(e.slice(0,r));return to(l,s)},mn=(e,r,s)=>{const l=e.slice(0,r),m=e.slice(r+1);return to(m.concat(l),s)},fh=(e,r,s)=>{const l=e.slice(r+1);return to(l,s)},ea=e=>r=>{const s=r.raw;return Rt(e,s.which)},Ld=e=>r=>gt(e,s=>s(r)),Pg=e=>e.raw.shiftKey===!0,H3=e=>e.raw.ctrlKey===!0,Ub=Yo(Pg),na=(e,r)=>({matches:e,classification:r}),Zb=(e,r,s)=>{r.exists(l=>s.exists(m=>Jo(m,l)))||_n(e,lg(),{prevFocus:r,newFocus:s})},Xv=()=>{const e=r=>gc(r.element);return{get:e,set:(r,s)=>{const l=e(r);r.getSystem().triggerFocus(s,r.element);const m=e(r);Zb(r,l,m)}}},j3=()=>{const e=r=>ba.getHighlighted(r).map(s=>s.element);return{get:e,set:(r,s)=>{const l=e(r);r.getSystem().getByDom(s).fold(he,g=>{ba.highlight(r,g)});const m=e(r);Zb(r,l,m)}}};var qb;(function(e){e.OnFocusMode="onFocus",e.OnEnterOrSpaceMode="onEnterOrSpace",e.OnApiMode="onApi"})(qb||(qb={}));const Hg=(e,r,s,l,m)=>{const g=(x,w,S,A,N)=>{return(F=S(x,w,A,N),$=w.event,to(F,W=>W.matches($)).map(W=>W.classification)).bind(W=>W(x,w,A,N));var F,$},h={schema:()=>e.concat([ft("focusManager",Xv()),Ai("focusInside","onFocus",Ti(x=>Rt(["onFocus","onEnterOrSpace","onApi"],x)?Fr.value(x):Fr.error("Invalid value for focusInside"))),as("handler",h),as("state",r),as("sendFocusIn",m)]),processKey:g,toEvents:(x,w)=>{const S=x.focusInside!==qb.OnFocusMode?R.none():m(x).map(N=>Kt(Xd(),(F,$)=>{N(F,x,w),$.stop()})),A=[Kt(fn(),(N,F)=>{g(N,F,s,x,w).fold(()=>{(($,W)=>{const se=ea(Hc.concat(km))(W.event);x.focusInside===qb.OnEnterOrSpaceMode&&se&&Tu($,W)&&m(x).each(le=>{le($,x,w),W.stop()})})(N,F)},$=>{F.stop()})}),Kt(ir(),(N,F)=>{g(N,F,l,x,w).each($=>{F.stop()})})];return qa(S.toArray().concat(A))}};return h},Gm=e=>{const r=[la("onEscape"),la("onEnter"),ft("selector",'[data-alloy-tabstop="true"]:not(:disabled)'),ft("firstTabstop",0),ft("useTabstopAt",Ct),la("visibilitySelector")].concat([e]),s=(A,N)=>{const F=A.visibilitySelector.bind($=>Vl(N,$)).getOr(N);return Nt(F)>0},l=(A,N)=>N.focusManager.get(A).bind(F=>Vl(F,N.selector)),m=(A,N,F)=>{(($,W)=>{const se=Zl($.element,W.selector),le=Pt(se,fe=>s(W,fe));return R.from(le[W.firstTabstop])})(A,N).each($=>{N.focusManager.set(A,$)})},g=(A,N,F,$)=>{const W=Zl(A.element,F.selector);return l(A,F).bind(se=>Se(W,rt(Jo,se)).bind(le=>((fe,te,X,ue,ye)=>ye(te,X,we=>((Ye,Tt)=>s(Ye,Tt)&&Ye.useTabstopAt(Tt))(ue,we)).fold(()=>ue.cyclic?R.some(!0):R.none(),we=>(ue.focusManager.set(fe,we),R.some(!0))))(A,W,le,F,$)))},h=(A,N,F)=>{const $=F.cyclic?I3:P3;return g(A,0,F,$)},x=(A,N,F)=>{const $=F.cyclic?mn:fh;return g(A,0,F,$)},w=me([na(Ld([Pg,ea(Ig)]),h),na(ea(Ig),x),na(Ld([Ub,ea(km)]),(A,N,F)=>F.onEnter.bind($=>$(A,N)))]),S=me([na(ea(tf),(A,N,F)=>F.onEscape.bind($=>$(A,N))),na(ea(Ig),(A,N,F)=>l(A,F).filter($=>!F.useTabstopAt($)).bind($=>((W=>(se=>rn(se))(W).bind(Ar).exists(se=>Jo(se,W)))($)?h:x)(A,N,F)))]);return Hg(r,ha.init,w,S,()=>R.some(m))};var Jv=Gm(ro("cyclic",Bo)),Wb=Gm(ro("cyclic",Ct));const of=(e,r,s)=>Lg(s)&&ea(Hc)(r.event)?R.none():((l,m,g)=>(kp(l,g,fl()),R.some(!0)))(e,0,s),Gb=(e,r)=>R.some(!0),V3=[ft("execute",of),ft("useSpace",!1),ft("useEnter",!0),ft("useControlEnter",!1),ft("useDown",!1)],Qv=(e,r,s)=>s.execute(e,r,e.element);var EA=Hg(V3,ha.init,(e,r,s,l)=>{const m=s.useSpace&&!Lg(e.element)?Hc:[],g=s.useEnter?km:[],h=s.useDown?ph:[],x=m.concat(g).concat(h);return[na(ea(x),Qv)].concat(s.useControlEnter?[na(Ld([H3,ea(km)]),Qv)]:[])},(e,r,s,l)=>s.useSpace&&!Lg(e.element)?[na(ea(Hc),Gb)]:[],()=>R.none());const g_=()=>{const e=ms();return Ia({readState:()=>e.get().map(r=>({numRows:String(r.numRows),numColumns:String(r.numColumns)})).getOr({numRows:"?",numColumns:"?"}),setGridSize:(r,s)=>{e.set({numRows:r,numColumns:s})},getNumRows:()=>e.get().map(r=>r.numRows),getNumColumns:()=>e.get().map(r=>r.numColumns)})};var p_=Object.freeze({__proto__:null,flatgrid:g_,init:e=>e.state(e)});const f_=e=>(r,s,l,m)=>{const g=e(r.element);return tx(g,r,s,l,m)},h_=(e,r)=>{const s=su(e,r);return f_(s)},b_=(e,r)=>{const s=su(r,e);return f_(s)},ex=e=>(r,s,l,m)=>tx(e,r,s,l,m),tx=(e,r,s,l,m)=>l.focusManager.get(r).bind(g=>e(r.element,g,l,m)).map(g=>(l.focusManager.set(r,g),!0)),y_=ex,O1=ex,hh=ex,N1=e=>!(r=>r.offsetWidth<=0&&r.offsetHeight<=0)(e.dom),nf=(e,r,s)=>{const l=Zl(e,s);return((m,g)=>Se(m,h=>Jo(h,r)).map(h=>({index:h,candidates:m})))(Pt(l,N1))},$3=(e,r)=>Se(e,s=>Jo(r,s)),v_=(e,r,s,l)=>l(Math.floor(r/s),r%s).bind(m=>{const g=m.row*s+m.column;return g>=0&&g<e.length?R.some(e[g]):R.none()}),x_=(e,r,s,l,m)=>v_(e,r,l,(g,h)=>{const x=g===s-1?e.length-g*l:l,w=yg(h,m,0,x-1);return R.some({row:g,column:w})}),U3=(e,r,s,l,m)=>v_(e,r,l,(g,h)=>{const x=yg(g,m,0,s-1),w=x===s-1?e.length-x*l:l,S=mc(h,0,w-1);return R.some({row:x,column:S})}),w_=[Yt("selector"),ft("execute",of),Ol("onEscape"),ft("captureTab",!1),t1()],Z3=(e,r,s)=>{vs(e.element,r.selector).each(l=>{r.focusManager.set(e,l)})},M1=e=>(r,s,l,m)=>nf(r,s,l.selector).bind(g=>e(g.candidates,g.index,m.getNumRows().getOr(l.initSize.numRows),m.getNumColumns().getOr(l.initSize.numColumns))),k_=(e,r,s)=>s.captureTab?R.some(!0):R.none(),q3=M1((e,r,s,l)=>x_(e,r,s,l,-1)),__=M1((e,r,s,l)=>x_(e,r,s,l,1)),TA=M1((e,r,s,l)=>U3(e,r,s,l,-1)),C_=M1((e,r,s,l)=>U3(e,r,s,l,1)),W3=me([na(ea(z1),h_(q3,__)),na(ea(A1),b_(q3,__)),na(ea($b),y_(TA)),na(ea(ph),O1(C_)),na(Ld([Pg,ea(Ig)]),k_),na(Ld([Ub,ea(Ig)]),k_),na(ea(Hc.concat(km)),(e,r,s,l)=>((m,g)=>g.focusManager.get(m).bind(h=>Vl(h,g.selector)))(e,s).bind(m=>s.execute(e,r,m)))]),G3=me([na(ea(tf),(e,r,s)=>s.onEscape(e,r)),na(ea(Hc),Gb)]);var K3=Hg(w_,g_,W3,G3,()=>R.some(Z3));const Y3=(e,r,s,l,m)=>{const g=(h,x,w)=>m(h,x,l,0,w.length-1,w[x],S=>{return A=w[S],gr(A)==="button"&&Ma(A,"disabled")==="disabled"?g(h,S,w):R.from(w[S]);var A});return nf(e,s,r).bind(h=>{const x=h.index,w=h.candidates;return g(x,x,w)})},X3=(e,r,s,l)=>Y3(e,r,s,l,(m,g,h,x,w,S,A)=>{const N=mc(g+h,x,w);return N===m?R.from(S):A(N)}),ox=(e,r,s,l)=>Y3(e,r,s,l,(m,g,h,x,w,S,A)=>{const N=yg(g,h,x,w);return N===m?R.none():A(N)}),zA=[Yt("selector"),ft("getInitial",R.none),ft("execute",of),Ol("onEscape"),ft("executeOnMove",!1),ft("allowVertical",!0),ft("allowHorizontal",!0),ft("cycles",!0)],bh=(e,r,s)=>((l,m)=>m.focusManager.get(l).bind(g=>Vl(g,m.selector)))(e,s).bind(l=>s.execute(e,r,l)),J3=(e,r,s)=>{r.getInitial(e).orThunk(()=>vs(e.element,r.selector)).each(l=>{r.focusManager.set(e,l)})},S_=(e,r,s)=>(s.cycles?ox:X3)(e,s.selector,r,-1),nx=(e,r,s)=>(s.cycles?ox:X3)(e,s.selector,r,1),E_=e=>(r,s,l,m)=>e(r,s,l,m).bind(()=>l.executeOnMove?bh(r,s,l):R.some(!0)),AA=me([na(ea(Hc),Gb),na(ea(tf),(e,r,s)=>s.onEscape(e,r))]);var Q3=Hg(zA,ha.init,(e,r,s,l)=>{const m=[...s.allowHorizontal?z1:[]].concat(s.allowVertical?$b:[]),g=[...s.allowHorizontal?A1:[]].concat(s.allowVertical?ph:[]);return[na(ea(m),E_(h_(S_,nx))),na(ea(g),E_(b_(S_,nx))),na(ea(km),bh),na(ea(Hc),bh)]},AA,()=>R.some(J3));const D1=(e,r,s)=>R.from(e[r]).bind(l=>R.from(l[s]).map(m=>({rowIndex:r,columnIndex:s,cell:m}))),e4=(e,r,s,l)=>{const m=e[r].length,g=yg(s,l,0,m-1);return D1(e,r,g)},t4=(e,r,s,l)=>{const m=yg(s,l,0,e.length-1),g=e[m].length,h=mc(r,0,g-1);return D1(e,m,h)},rx=(e,r,s,l)=>{const m=e[r].length,g=mc(s+l,0,m-1);return D1(e,r,g)},ax=(e,r,s,l)=>{const m=mc(s+l,0,e.length-1),g=e[m].length,h=mc(r,0,g-1);return D1(e,m,h)},o4=[zi("selectors",[Yt("row"),Yt("cell")]),ft("cycles",!0),ft("previousSelector",R.none),ft("execute",of)],uu=(e,r,s)=>{r.previousSelector(e).orThunk(()=>{const l=r.selectors;return vs(e.element,l.cell)}).each(l=>{r.focusManager.set(e,l)})},jg=(e,r)=>(s,l,m)=>{const g=m.cycles?e:r;return Vl(l,m.selectors.row).bind(h=>{const x=Zl(h,m.selectors.cell);return $3(x,l).bind(w=>{const S=Zl(s,m.selectors.row);return $3(S,h).bind(A=>{const N=((F,$)=>dt(F,W=>Zl(W,$.selectors.cell)))(S,m);return g(N,A,w).map(F=>F.cell)})})})},sx=jg((e,r,s)=>e4(e,r,s,-1),(e,r,s)=>rx(e,r,s,-1)),ix=jg((e,r,s)=>e4(e,r,s,1),(e,r,s)=>rx(e,r,s,1)),lx=jg((e,r,s)=>t4(e,s,r,-1),(e,r,s)=>ax(e,s,r,-1)),T_=jg((e,r,s)=>t4(e,s,r,1),(e,r,s)=>ax(e,s,r,1)),OA=me([na(ea(z1),h_(sx,ix)),na(ea(A1),b_(sx,ix)),na(ea($b),y_(lx)),na(ea(ph),O1(T_)),na(ea(Hc.concat(km)),(e,r,s)=>gc(e.element).bind(l=>s.execute(e,r,l)))]),NA=me([na(ea(Hc),Gb)]);var n4=Hg(o4,ha.init,OA,NA,()=>R.some(uu));const z_=[Yt("selector"),ft("execute",of),ft("moveOnTab",!1)],rf=(e,r,s)=>s.focusManager.get(e).bind(l=>s.execute(e,r,l)),r4=(e,r,s)=>{vs(e.element,r.selector).each(l=>{r.focusManager.set(e,l)})},cx=(e,r,s)=>ox(e,s.selector,r,-1),A_=(e,r,s)=>ox(e,s.selector,r,1),a4=me([na(ea($b),hh(cx)),na(ea(ph),hh(A_)),na(Ld([Pg,ea(Ig)]),(e,r,s,l)=>s.moveOnTab?hh(cx)(e,r,s,l):R.none()),na(Ld([Ub,ea(Ig)]),(e,r,s,l)=>s.moveOnTab?hh(A_)(e,r,s,l):R.none()),na(ea(km),rf),na(ea(Hc),rf)]),s4=me([na(ea(Hc),Gb)]);var i4=Hg(z_,ha.init,a4,s4,()=>R.some(r4));const l4=[Ol("onSpace"),Ol("onEnter"),Ol("onShiftEnter"),Ol("onLeft"),Ol("onRight"),Ol("onTab"),Ol("onShiftTab"),Ol("onUp"),Ol("onDown"),Ol("onEscape"),ft("stopSpaceKeyup",!1),la("focusIn")];var O_=Hg(l4,ha.init,(e,r,s)=>[na(ea(Hc),s.onSpace),na(Ld([Ub,ea(km)]),s.onEnter),na(Ld([Pg,ea(km)]),s.onShiftEnter),na(Ld([Pg,ea(Ig)]),s.onShiftTab),na(Ld([Ub,ea(Ig)]),s.onTab),na(ea($b),s.onUp),na(ea(ph),s.onDown),na(ea(z1),s.onLeft),na(ea(A1),s.onRight),na(ea(Hc),s.onSpace)],(e,r,s)=>[...s.stopSpaceKeyup?[na(ea(Hc),Gb)]:[],na(ea(tf),s.onEscape)],e=>e.focusIn);const MA=Jv.schema(),c4=Wb.schema(),d4=Q3.schema(),DA=K3.schema(),u4=n4.schema(),RA=EA.schema(),dx=i4.schema(),BA=O_.schema(),Dn=Fp({branchKey:"mode",branches:Object.freeze({__proto__:null,acyclic:MA,cyclic:c4,flow:d4,flatgrid:DA,matrix:u4,execution:RA,menu:dx,special:BA}),name:"keying",active:{events:(e,r)=>e.handler.toEvents(e,r)},apis:{focusIn:(e,r,s)=>{r.sendFocusIn(r).fold(()=>{e.getSystem().triggerFocus(e.element,e.element)},l=>{l(e,r,s)})},setGridSize:(e,r,s,l,m)=>{(g=>$n(g,"setGridSize"))(s)?s.setGridSize(l,m):console.error("Layout does not support setGridSize")}},state:p_}),pc=(e,r)=>{Kf(()=>{((s,l,m)=>{const g=s.components();(w=>{Ie(w.components(),S=>ia(S.element)),ei(w.element),w.syncComponents()})(s);const h=m(l),x=Oe(g,h);Ie(x,w=>{dh(w),s.getSystem().removeFromWorld(w)}),Ie(h,w=>{ch(w)?Og(s,w):(s.getSystem().addToWorld(w),Og(s,w),za(s.element)&&Dd(w))}),s.syncComponents()})(e,r,()=>dt(r,e.getSystem().build))},e.element)},m4=(e,r)=>{Kf(()=>{((s,l,m)=>{const g=s.components(),h=ct(l,S=>is(S).toArray());Ie(g,S=>{Rt(h,S)||uh(S)});const x=((S,A,N)=>Iu(S,A,(F,$)=>tu(S,$,F,N)))(e.element,r,e.getSystem().buildOrPatch),w=Oe(g,x);Ie(w,S=>{ch(S)&&uh(S)}),Ie(x,S=>{ch(S)||k1(s,S)}),s.syncComponents()})(e,r)},e.element)},g4=(e,r,s,l)=>{uh(r);const m=tu(e.element,s,l,e.getSystem().buildOrPatch);k1(e,m),e.syncComponents()},ux=(e,r,s)=>{const l=e.getSystem().build(s);Db(e,l,r)},p4=(e,r,s,l)=>{id(r),ux(e,(m,g)=>((h,x,w)=>{Un(h,w).fold(()=>{ur(h,x)},S=>{yt(S,x)})})(m,g,s),l)},R1=(e,r)=>e.components(),f4=(e,r,s,l,m)=>{const g=R1(e);return R.from(g[l]).map(h=>(m.fold(()=>id(h),x=>{(r.reuseDom?g4:p4)(e,h,l,x)}),h))};var FA=Object.freeze({__proto__:null,append:(e,r,s,l)=>{ux(e,ur,l)},prepend:(e,r,s,l)=>{ux(e,yn,l)},remove:(e,r,s,l)=>{const m=R1(e);to(m,h=>Jo(l.element,h.element)).each(id)},replaceAt:f4,replaceBy:(e,r,s,l,m)=>{const g=R1(e);return Se(g,l).bind(h=>f4(e,r,0,h,m))},set:(e,r,s,l)=>(r.reuseDom?m4:pc)(e,l),contents:R1});const fr=Ri({fields:[ri("reuseDom",!0)],name:"replacing",apis:FA}),Tr=(e,r)=>{const s=((l,m)=>{const g=qa(m);return Ri({fields:[Yt("enabled")],name:l,active:{events:me(g)}})})(e,r);return{key:e,value:{config:{},me:s,configAsRaw:me({}),initialConfig:{},state:ha}}},N_=(e,r)=>{r.ignore||(sd(e.element),r.onFocus(e))};var LA=Object.freeze({__proto__:null,focus:N_,blur:(e,r)=>{r.ignore||hb(e.element)},isFocused:e=>Gf(e.element)}),IA=Object.freeze({__proto__:null,exhibit:(e,r)=>{const s=r.ignore?{}:{attributes:{tabindex:"-1"}};return hi(s)},events:e=>qa([Kt(Xd(),(r,s)=>{N_(r,e),s.stop()})].concat(e.stopMousedown?[Kt(ai(),(r,s)=>{s.event.prevent()})]:[]))}),h4=[Hr("onFocus"),ft("stopMousedown",!1),ft("ignore",!1)];const er=Ri({fields:h4,name:"focusing",active:IA,apis:LA}),Kb=(e,r,s,l)=>{const m=s.get();s.set(l),((g,h,x)=>{h.toggleClass.each(w=>{x.get()?Jr(g.element,w):rs(g.element,w)})})(e,r,s),((g,h,x)=>{const w=h.aria;w.update(g,w,x.get())})(e,r,s),m!==l&&r.onToggled(e,l)},b4=(e,r,s)=>{Kb(e,r,s,!s.get())},M_=(e,r,s)=>{Kb(e,r,s,r.selected)};var y4=Object.freeze({__proto__:null,onLoad:M_,toggle:b4,isOn:(e,r,s)=>s.get(),on:(e,r,s)=>{Kb(e,r,s,!0)},off:(e,r,s)=>{Kb(e,r,s,!1)},set:Kb}),af=Object.freeze({__proto__:null,exhibit:()=>hi({}),events:(e,r)=>{const s=(l=e,m=r,g=b4,Cc(x=>{g(x,l,m)}));var l,m,g;const h=qf(e,r,M_);return qa($e([e.toggleOnExecute?[s]:[],[h]]))}});const D_=(e,r,s)=>{Kn(e.element,"aria-expanded",s)};var v4=[ft("selected",!1),la("toggleClass"),ft("toggleOnExecute",!0),Hr("onToggled"),Ai("aria",{mode:"none"},Ms("mode",{pressed:[ft("syncWithExpanded",!1),as("update",(e,r,s)=>{Kn(e.element,"aria-pressed",s),r.syncWithExpanded&&D_(e,0,s)})],checked:[as("update",(e,r,s)=>{Kn(e.element,"aria-checked",s)})],expanded:[as("update",D_)],selected:[as("update",(e,r,s)=>{Kn(e.element,"aria-selected",s)})],none:[as("update",he)]}))];const Dr=Ri({fields:v4,name:"toggling",active:af,apis:y4,state:{init:()=>{const e=Sn(!1);return{get:()=>e.get(),set:r=>e.set(r),clear:()=>e.set(!1),readState:()=>e.get()}}}}),x4=()=>{const e=(r,s)=>{s.stop(),Qd(r)};return[Kt(fa(),e),Kt(Fm(),e),jl(Ws()),jl(ai())]},B1=e=>qa($e([e.map(r=>Cc((s,l)=>{r(s),l.stop()})).toArray(),x4()])),mx="alloy.item-hover",gx="alloy.item-focus",w4="alloy.item-toggled",Vg=e=>{(gc(e.element).isNone()||er.isFocused(e))&&(er.isFocused(e)||er.focus(e),_n(e,mx,{item:e}))},R_=e=>{_n(e,gx,{item:e})},B_=me(mx),PA=me(gx),HA=me(w4),F1=e=>e.toggling.map(r=>r.exclusive?"menuitemradio":"menuitemcheckbox").getOr("menuitem"),L1=[Yt("data"),Yt("components"),Yt("dom"),ft("hasSubmenu",!1),la("toggling"),nc("itemBehaviours",[Dr,er,Dn,Wo]),ft("ignoreFocus",!1),ft("domModification",{}),as("builder",e=>({dom:e.dom,domModification:{...e.domModification,attributes:{role:F1(e),...e.domModification.attributes,"aria-haspopup":e.hasSubmenu,...e.hasSubmenu?{"aria-expanded":!1}:{}}},behaviours:Bg(e.itemBehaviours,[e.toggling.fold(Dr.revoke,r=>Dr.config((s=>({aria:{mode:"checked"},...ut(s,(l,m)=>m!=="exclusive"),onToggled:(l,m)=>{it(s.onToggled)&&s.onToggled(l,m),((g,h)=>{_n(g,w4,{item:g,state:h})})(l,m)}}))(r))),er.config({ignore:e.ignoreFocus,stopMousedown:e.ignoreFocus,onFocus:r=>{R_(r)}}),Dn.config({mode:"execution"}),Wo.config({store:{mode:"memory",initialValue:e.data}}),Tr("item-type-events",[...x4(),Kt(Te(),Vg),Kt(Jd(),er.focus)])]),components:e.components,eventOrder:e.eventOrder})),ft("eventOrder",{})],k4=[Yt("dom"),Yt("components"),as("builder",e=>({dom:e.dom,components:e.components,events:qa([sb(Jd())])}))],px=me("item-widget"),Km=me([Eo({name:"widget",overrides:e=>({behaviours:Oo([Wo.config({store:{mode:"manual",getValue:r=>e.data,setValue:he}})])})})]),sf=[Yt("uid"),Yt("data"),Yt("components"),Yt("dom"),ft("autofocus",!1),ft("ignoreFocus",!1),nc("widgetBehaviours",[Wo,er,Dn]),ft("domModification",{}),Xp(Km()),as("builder",e=>{const r=ii(px(),e,Km()),s=ql(px(),e,r.internals()),l=g=>ua(g,e,"widget").map(h=>(Dn.focusIn(h),h)),m=(g,h)=>(Lg(h.event.target)||e.autofocus&&h.setSource(g.element),R.none());return{dom:e.dom,components:s,domModification:e.domModification,events:qa([Cc((g,h)=>{l(g).each(x=>{h.stop()})}),Kt(Te(),Vg),Kt(Jd(),(g,h)=>{e.autofocus?l(g):er.focus(g)})]),behaviours:Bg(e.widgetBehaviours,[Wo.config({store:{mode:"memory",initialValue:e.data}}),er.config({ignore:e.ignoreFocus,onFocus:g=>{R_(g)}}),Dn.config({mode:"special",focusIn:e.autofocus?g=>{l(g)}:l1(),onLeft:m,onRight:m,onEscape:(g,h)=>er.isFocused(g)||e.autofocus?(e.autofocus&&h.setSource(g.element),R.none()):(er.focus(g),R.some(!0))})])}})],_4=Ms("type",{widget:sf,item:L1,separator:k4}),$g=me([Ln({factory:{sketch:e=>{const r=fi("menu.spec item",_4,e);return r.builder(r)}},name:"items",unit:"item",defaults:(e,r)=>Vo(r,"uid")?r:{...r,uid:G("item")},overrides:(e,r)=>({type:r.type,ignoreFocus:e.fakeFocus,domModification:{classes:[e.markers.item]}})})]),F_=me([Yt("value"),Yt("items"),Yt("dom"),Yt("components"),ft("eventOrder",{}),qi("menuBehaviours",[ba,Wo,Gr,Dn]),Ai("movement",{mode:"menu",moveOnTab:!0},Ms("mode",{grid:[t1(),as("config",(e,r)=>({mode:"flatgrid",selector:"."+e.markers.item,initSize:{numColumns:r.initSize.numColumns,numRows:r.initSize.numRows},focusManager:e.focusManager}))],matrix:[as("config",(e,r)=>({mode:"matrix",selectors:{row:r.rowSelector,cell:"."+e.markers.item},previousSelector:r.previousSelector,focusManager:e.focusManager})),Yt("rowSelector"),ft("previousSelector",R.none)],menu:[ft("moveOnTab",!0),as("config",(e,r)=>({mode:"menu",selector:"."+e.markers.item,moveOnTab:r.moveOnTab,focusManager:e.focusManager}))]})),ni("markers",Qy()),ft("fakeFocus",!1),ft("focusManager",Xv()),Hr("onHighlight"),Hr("onDehighlight")]),L_=me("alloy.menu-focus"),lf=Wl({name:"Menu",configFields:F_(),partFields:$g(),factory:(e,r,s,l)=>({uid:e.uid,dom:e.dom,markers:e.markers,behaviours:Fi(e.menuBehaviours,[ba.config({highlightClass:e.markers.selectedItem,itemClass:e.markers.item,onHighlight:e.onHighlight,onDehighlight:e.onDehighlight}),Wo.config({store:{mode:"memory",initialValue:e.value}}),Gr.config({find:R.some}),Dn.config(e.movement.config(e,e.movement))]),events:qa([Kt(PA(),(m,g)=>{const h=g.event;m.getSystem().getByDom(h.target).each(x=>{ba.highlight(m,x),g.stop(),_n(m,L_(),{menu:m,item:x})})}),Kt(B_(),(m,g)=>{const h=g.event.item;ba.highlight(m,h)}),Kt(HA(),(m,g)=>{const{item:h,state:x}=g.event;x&&Ma(h.element,"role")==="menuitemradio"&&((w,S)=>{const A=Zl(w.element,'[role="menuitemradio"][aria-checked="true"]');Ie(A,N=>{Jo(N,S.element)||w.getSystem().getByDom(N).each(F=>{Dr.off(F)})})})(m,h)})]),components:r,eventOrder:e.eventOrder,domModification:{attributes:{role:"menu"}}})}),I_=(e,r,s,l)=>Xt(s,l).bind(m=>Xt(e,m).bind(g=>{const h=I_(e,r,s,g);return R.some([g].concat(h))})).getOr([]),fx=e=>e.type==="prepared"?R.some(e.menu):R.none(),C4=()=>{const e=Sn({}),r=Sn({}),s=Sn({}),l=ms(),m=Sn({}),g=w=>h(w).bind(fx),h=w=>Xt(r.get(),w),x=w=>Xt(e.get(),w);return{setMenuBuilt:(w,S)=>{r.set({...r.get(),[w]:{type:"prepared",menu:S}})},setContents:(w,S,A,N)=>{l.set(w),e.set(A),r.set(S),m.set(N);const F=(($,W)=>{const se={};$o($,(X,ue)=>{Ie(X,ye=>{se[ye]=ue})});const le=W,fe=Gn(W,(X,ue)=>({k:X,v:ue})),te=Zo(fe,(X,ue)=>[ue].concat(I_(se,le,fe,ue)));return Zo(se,X=>Xt(te,X).getOr([X]))})(N,A);s.set(F)},expand:w=>Xt(e.get(),w).map(S=>{const A=Xt(s.get(),w).getOr([]);return[S].concat(A)}),refresh:w=>Xt(s.get(),w),collapse:w=>Xt(s.get(),w).bind(S=>S.length>1?R.some(S.slice(1)):R.none()),lookupMenu:h,lookupItem:x,otherMenus:w=>{const S=m.get();return Oe(Vt(S),w)},getPrimary:()=>l.get().bind(g),getMenus:()=>r.get(),clear:()=>{e.set({}),r.set({}),s.set({}),l.clear()},isClear:()=>l.get().isNone(),getTriggeringPath:(w,S)=>{const A=Pt(x(w).toArray(),N=>g(N).isSome());return Xt(s.get(),w).bind(N=>{const F=pe(A.concat(N));return($=>{const W=[];for(let se=0;se<$.length;se++){const le=$[se];if(!le.isSome())return R.none();W.push(le.getOrDie())}return R.some(W)})(ct(F,($,W)=>((se,le,fe)=>g(se).bind(te=>(X=>Ft(e.get(),(ue,ye)=>ue===X))(se).bind(X=>le(X).map(ue=>({triggeredMenu:te,triggeringItem:ue,triggeringPath:fe})))))($,S,F.slice(0,W+1)).fold(()=>Rr(l.get(),$)?[]:[R.none()],se=>[R.some(se)])))})}}},jA=fx,S4=un("tiered-menu-item-highlight"),E4=un("tiered-menu-item-dehighlight");var Gl;(function(e){e[e.HighlightMenuAndItem=0]="HighlightMenuAndItem",e[e.HighlightJustMenu=1]="HighlightJustMenu",e[e.HighlightNone=2]="HighlightNone"})(Gl||(Gl={}));const P_=me("collapse-item"),Ug=Pc({name:"TieredMenu",configFields:[Dp("onExecute"),Dp("onEscape"),nu("onOpenMenu"),nu("onOpenSubmenu"),Hr("onRepositionMenu"),Hr("onCollapseMenu"),ft("highlightOnOpen",Gl.HighlightMenuAndItem),zi("data",[Yt("primary"),Yt("menus"),Yt("expansions")]),ft("fakeFocus",!1),Hr("onHighlightItem"),Hr("onDehighlightItem"),Hr("onHover"),jf(),Yt("dom"),ft("navigateOnHover",!0),ft("stayInDom",!1),qi("tmenuBehaviours",[Dn,ba,Gr,fr]),ft("eventOrder",{})],apis:{collapseMenu:(e,r)=>{e.collapseMenu(r)},highlightPrimary:(e,r)=>{e.highlightPrimary(r)},repositionMenus:(e,r)=>{e.repositionMenus(r)}},factory:(e,r)=>{const s=ms(),l=C4(),m=X=>Wo.getValue(X).value,g=X=>Zo(e.data.menus,(ue,ye)=>ct(ue.items,we=>we.type==="separator"?[]:[we.data.value])),h=ba.highlight,x=(X,ue)=>{h(X,ue),ba.getHighlighted(ue).orThunk(()=>ba.getFirst(ue)).each(ye=>{e.fakeFocus?ba.highlight(ue,ye):kp(X,ye.element,Jd())})},w=(X,ue)=>Wt(dt(ue,ye=>X.lookupMenu(ye).bind(we=>we.type==="prepared"?R.some(we.menu):R.none()))),S=(X,ue,ye)=>{const we=w(ue,ue.otherMenus(ye));Ie(we,Ye=>{Zi(Ye.element,[e.markers.backgroundMenu]),e.stayInDom||fr.remove(X,Ye)})},A=(X,ue)=>{const ye=(we=>s.get().getOrThunk(()=>{const Ye={},Tt=Zl(we.element,`.${e.markers.item}`),Qt=Pt(Tt,no=>Ma(no,"aria-haspopup")==="true");return Ie(Qt,no=>{we.getSystem().getByDom(no).each(oo=>{const Uo=m(oo);Ye[Uo]=oo})}),s.set(Ye),Ye}))(X);$o(ye,(we,Ye)=>{const Tt=Rt(ue,Ye);Kn(we.element,"aria-expanded",Tt)})},N=(X,ue,ye)=>R.from(ye[0]).bind(we=>ue.lookupMenu(we).bind(Ye=>{if(Ye.type==="notbuilt")return R.none();{const Tt=Ye.menu,Qt=w(ue,ye.slice(1));return Ie(Qt,no=>{Jr(no.element,e.markers.backgroundMenu)}),za(Tt.element)||fr.append(X,Tc(Tt)),Zi(Tt.element,[e.markers.backgroundMenu]),x(X,Tt),S(X,ue,ye),R.some(Tt)}}));let F;(function(X){X[X.HighlightSubmenu=0]="HighlightSubmenu",X[X.HighlightParent=1]="HighlightParent"})(F||(F={}));const $=(X,ue,ye=F.HighlightSubmenu)=>{if(ue.hasConfigured(Qn)&&Qn.isDisabled(ue))return R.some(ue);{const we=m(ue);return l.expand(we).bind(Ye=>(A(X,Ye),R.from(Ye[0]).bind(Tt=>l.lookupMenu(Tt).bind(Qt=>{const no=((oo,Uo,pn)=>{if(pn.type==="notbuilt"){const Mn=oo.getSystem().build(pn.nbMenu());return l.setMenuBuilt(Uo,Mn),Mn}return pn.menu})(X,Tt,Qt);return za(no.element)||fr.append(X,Tc(no)),e.onOpenSubmenu(X,ue,no,pe(Ye)),ye===F.HighlightSubmenu?(ba.highlightFirst(no),N(X,l,Ye)):(ba.dehighlightAll(no),R.some(ue))}))))}},W=(X,ue)=>{const ye=m(ue);return l.collapse(ye).bind(we=>(A(X,we),N(X,l,we).map(Ye=>(e.onCollapseMenu(X,ue,Ye),Ye))))},se=X=>(ue,ye)=>Vl(ye.getSource(),`.${e.markers.item}`).bind(we=>ue.getSystem().getByDom(we).toOptional().bind(Ye=>X(ue,Ye).map(Ct))),le=qa([Kt(L_(),(X,ue)=>{const ye=ue.event.item;l.lookupItem(m(ye)).each(()=>{const we=ue.event.menu;ba.highlight(X,we);const Ye=m(ue.event.item);l.refresh(Ye).each(Tt=>S(X,l,Tt))})}),Cc((X,ue)=>{const ye=ue.event.target;X.getSystem().getByDom(ye).each(we=>{m(we).indexOf("collapse-item")===0&&W(X,we),$(X,we,F.HighlightSubmenu).fold(()=>{e.onExecute(X,we)},he)})}),La((X,ue)=>{(ye=>{const we=((Tt,Qt,no)=>Zo(no,(oo,Uo)=>{const pn=()=>lf.sketch({...oo,value:Uo,markers:e.markers,fakeFocus:e.fakeFocus,onHighlight:(Mn,ar)=>{_n(Mn,S4,{menuComp:Mn,itemComp:ar})},onDehighlight:(Mn,ar)=>{_n(Mn,E4,{menuComp:Mn,itemComp:ar})},focusManager:e.fakeFocus?j3():Xv()});return Uo===Qt?{type:"prepared",menu:Tt.getSystem().build(pn())}:{type:"notbuilt",nbMenu:pn}}))(ye,e.data.primary,e.data.menus),Ye=g();return l.setContents(e.data.primary,we,e.data.expansions,Ye),l.getPrimary()})(X).each(ye=>{fr.append(X,Tc(ye)),e.onOpenMenu(X,ye),e.highlightOnOpen===Gl.HighlightMenuAndItem?x(X,ye):e.highlightOnOpen===Gl.HighlightJustMenu&&h(X,ye)})}),Kt(S4,(X,ue)=>{e.onHighlightItem(X,ue.event.menuComp,ue.event.itemComp)}),Kt(E4,(X,ue)=>{e.onDehighlightItem(X,ue.event.menuComp,ue.event.itemComp)}),...e.navigateOnHover?[Kt(B_(),(X,ue)=>{const ye=ue.event.item;((we,Ye)=>{const Tt=m(Ye);l.refresh(Tt).bind(Qt=>(A(we,Qt),N(we,l,Qt)))})(X,ye),$(X,ye,F.HighlightParent),e.onHover(X,ye)})]:[]]),fe=X=>ba.getHighlighted(X).bind(ba.getHighlighted),te={collapseMenu:X=>{fe(X).each(ue=>{W(X,ue)})},highlightPrimary:X=>{l.getPrimary().each(ue=>{x(X,ue)})},repositionMenus:X=>{l.getPrimary().bind(ye=>fe(X).bind(we=>{const Ye=m(we),Tt=vo(l.getMenus()),Qt=Wt(dt(Tt,jA));return l.getTriggeringPath(Ye,no=>((oo,Uo,pn)=>Gt(Uo,Mn=>{if(!Mn.getSystem().isConnected())return R.none();const ar=ba.getCandidates(Mn);return to(ar,dr=>m(dr)===pn)}))(0,Qt,no))}).map(we=>({primary:ye,triggeringPath:we}))).fold(()=>{(ye=>R.from(ye.components()[0]).filter(we=>Ma(we.element,"role")==="menu"))(X).each(ye=>{e.onRepositionMenu(X,ye,[])})},({primary:ye,triggeringPath:we})=>{e.onRepositionMenu(X,ye,we)})}};return{uid:e.uid,dom:e.dom,markers:e.markers,behaviours:Fi(e.tmenuBehaviours,[Dn.config({mode:"special",onRight:se((X,ue)=>Lg(ue.element)?R.none():$(X,ue,F.HighlightSubmenu)),onLeft:se((X,ue)=>Lg(ue.element)?R.none():W(X,ue)),onEscape:se((X,ue)=>W(X,ue).orThunk(()=>e.onEscape(X,ue).map(()=>X))),focusIn:(X,ue)=>{l.getPrimary().each(ye=>{kp(X,ye.element,Jd())})}}),ba.config({highlightClass:e.markers.selectedMenu,itemClass:e.markers.menu}),Gr.config({find:X=>ba.getHighlighted(X)}),fr.config({})]),eventOrder:e.eventOrder,apis:te,events:le}},extraApis:{tieredData:(e,r,s)=>({primary:e,menus:r,expansions:s}),singleData:(e,r)=>({primary:e,menus:Xi(e,r),expansions:{}}),collapseItem:e=>({value:un(P_()),meta:{text:e}})}}),Rs=Pc({name:"InlineView",configFields:[Yt("lazySink"),Hr("onShow"),Hr("onHide"),Tl("onEscape"),qi("inlineBehaviours",[Lr,Wo,tc]),gl("fireDismissalEventInstead",[ft("event",Ou())]),gl("fireRepositionEventInstead",[ft("event",xp())]),ft("getRelated",R.none),ft("isExtraPart",Bo),ft("eventOrder",R.none)],factory:(e,r)=>{const s=(h,x,w,S)=>{const A=e.lazySink(h).getOrDie();Lr.openWhileCloaked(h,x,()=>xl.positionWithinBounds(A,h,w,S())),Wo.setValue(h,R.some({mode:"position",config:w,getBounds:S}))},l=(h,x,w,S)=>{const A=((N,F,$,W,se)=>{const le=()=>N.lazySink(F),fe=W.type==="horizontal"?{layouts:{onLtr:()=>fb(),onRtl:()=>Bp()}}:{},te=X=>(ue=>ue.length===2)(X)?fe:{};return Ug.sketch({dom:{tag:"div"},data:W.data,markers:W.menu.markers,highlightOnOpen:W.menu.highlightOnOpen,fakeFocus:W.menu.fakeFocus,onEscape:()=>(Lr.close(F),N.onEscape.map(X=>X(F)),R.some(!0)),onExecute:()=>R.some(!0),onOpenMenu:(X,ue)=>{xl.positionWithinBounds(le().getOrDie(),ue,$,se())},onOpenSubmenu:(X,ue,ye,we)=>{const Ye=le().getOrDie();xl.position(Ye,ye,{anchor:{type:"submenu",item:ue,...te(we)}})},onRepositionMenu:(X,ue,ye)=>{const we=le().getOrDie();xl.positionWithinBounds(we,ue,$,se()),Ie(ye,Ye=>{const Tt=te(Ye.triggeringPath);xl.position(we,Ye.triggeredMenu,{anchor:{type:"submenu",item:Ye.triggeringItem,...Tt}})})}})})(e,h,x,w,S);Lr.open(h,A),Wo.setValue(h,R.some({mode:"menu",menu:A}))},m=h=>{Lr.isOpen(h)&&Wo.getValue(h).each(x=>{switch(x.mode){case"menu":Lr.getState(h).each(Ug.repositionMenus);break;case"position":const w=e.lazySink(h).getOrDie();xl.positionWithinBounds(w,h,x.config,x.getBounds())}})},g={setContent:(h,x)=>{Lr.setContent(h,x)},showAt:(h,x,w)=>{const S=R.none;s(h,x,w,S)},showWithinBounds:s,showMenuAt:(h,x,w)=>{l(h,x,w,R.none)},showMenuWithinBounds:l,hide:h=>{Lr.isOpen(h)&&(Wo.setValue(h,R.none()),Lr.close(h))},getContent:h=>Lr.getState(h),reposition:m,isOpen:Lr.isOpen};return{uid:e.uid,dom:e.dom,behaviours:Fi(e.inlineBehaviours,[Lr.config({isPartOf:(h,x,w)=>si(x,w)||((S,A)=>e.getRelated(S).exists(N=>si(N,A)))(h,w),getAttachPoint:h=>e.lazySink(h).getOrDie(),onOpen:h=>{e.onShow(h)},onClose:h=>{e.onHide(h)}}),Wo.config({store:{mode:"memory",initialValue:R.none()}}),tc.config({channels:{...Rg({isExtraPart:r.isExtraPart,...e.fireDismissalEventInstead.map(h=>({fireEventInstead:{event:h.event}})).getOr({})}),...Zp({...e.fireRepositionEventInstead.map(h=>({fireEventInstead:{event:h.event}})).getOr({}),doReposition:m})}})]),eventOrder:e.eventOrder,apis:g}},apis:{showAt:(e,r,s,l)=>{e.showAt(r,s,l)},showWithinBounds:(e,r,s,l,m)=>{e.showWithinBounds(r,s,l,m)},showMenuAt:(e,r,s,l)=>{e.showMenuAt(r,s,l)},showMenuWithinBounds:(e,r,s,l,m)=>{e.showMenuWithinBounds(r,s,l,m)},hide:(e,r)=>{e.hide(r)},isOpen:(e,r)=>e.isOpen(r),getContent:(e,r)=>e.getContent(r),setContent:(e,r,s)=>{e.setContent(r,s)},reposition:(e,r)=>{e.reposition(r)}}});var hx=tinymce.util.Tools.resolve("tinymce.util.Delay");const wl=Pc({name:"Button",factory:e=>{const r=B1(e.action),s=e.dom.tag,l=m=>Xt(e.dom,"attributes").bind(g=>Xt(g,m));return{uid:e.uid,dom:e.dom,components:e.components,events:r,behaviours:Bg(e.buttonBehaviours,[er.config({}),Dn.config({mode:"execution",useSpace:!0,useEnter:!0})]),domModification:{attributes:s==="button"?{type:l("type").getOr("button"),...l("role").map(m=>({role:m})).getOr({})}:{role:e.role.getOr(l("role").getOr("button"))}},eventOrder:e.eventOrder}},configFields:[ft("uid",void 0),Yt("dom"),ft("components",[]),nc("buttonBehaviours",[er,Dn]),la("action"),la("role"),ft("eventOrder",{})]}),Ym=e=>{const r=tt(e),s=wn(r),l=(h=>{const x=h.dom.attributes!==void 0?h.dom.attributes:[];return zo(x,(w,S)=>S.name==="class"?w:{...w,[S.name]:S.value},{})})(r),m=(h=>Array.prototype.slice.call(h.dom.classList,0))(r),g=s.length===0?{}:{innerHtml:Sc(r)};return{tag:gr(r),classes:m,attributes:l,...g}},Ta=e=>{const r=(s=>s.uid!==void 0)(e)&&$n(e,"uid")?e.uid:G("memento");return{get:s=>s.getSystem().getByUid(r).getOrDie(),getOpt:s=>s.getSystem().getByUid(r).toOptional(),asSpec:()=>({...e,uid:r})}},{entries:H_,setPrototypeOf:bx,isFrozen:T4,getPrototypeOf:z4,getOwnPropertyDescriptor:I1}=Object;let{freeze:rc,seal:mu,create:A4}=Object,{apply:yx,construct:vx}=typeof Reflect<"u"&&Reflect;yx||(yx=function(e,r,s){return e.apply(r,s)}),rc||(rc=function(e){return e}),mu||(mu=function(e){return e}),vx||(vx=function(e,r){return new e(...r)});const O4=fc(Array.prototype.forEach),VA=fc(Array.prototype.pop),Yb=fc(Array.prototype.push),yh=fc(String.prototype.toLowerCase),P1=fc(String.prototype.toString),j_=fc(String.prototype.match),_m=fc(String.prototype.replace),N4=fc(String.prototype.indexOf),M4=fc(String.prototype.trim),gu=fc(RegExp.prototype.test),Xb=(D4=TypeError,function(){for(var e=arguments.length,r=new Array(e),s=0;s<e;s++)r[s]=arguments[s];return vx(D4,r)});var D4;function fc(e){return function(r){for(var s=arguments.length,l=new Array(s>1?s-1:0),m=1;m<s;m++)l[m-1]=arguments[m];return yx(e,r,l)}}function Va(e,r,s){var l;s=(l=s)!==null&&l!==void 0?l:yh,bx&&bx(e,null);let m=r.length;for(;m--;){let g=r[m];if(typeof g=="string"){const h=s(g);h!==g&&(T4(r)||(r[m]=h),g=h)}e[g]=!0}return e}function $u(e){const r=A4(null);for(const[s,l]of H_(e))r[s]=l;return r}function H1(e,r){for(;e!==null;){const s=I1(e,r);if(s){if(s.get)return fc(s.get);if(typeof s.value=="function")return fc(s.value)}e=z4(e)}return function(s){return console.warn("fallback value for",s),null}}const Zg=rc(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),ld=rc(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),xx=rc(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),R4=rc(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),wx=rc(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),V_=rc(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),B4=rc(["#text"]),j1=rc(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),V1=rc(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),$_=rc(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),$1=rc(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),F4=mu(/\{\{[\w\W]*|[\w\W]*\}\}/gm),$A=mu(/<%[\w\W]*|[\w\W]*%>/gm),L4=mu(/\${[\w\W]*}/gm),U_=mu(/^data-[\-\w.\u00B7-\uFFFF]/),I4=mu(/^aria-[\-\w]+$/),kx=mu(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),U1=mu(/^(?:\w+script|data):/i),_x=mu(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Z_=mu(/^html$/i);var q_=Object.freeze({__proto__:null,MUSTACHE_EXPR:F4,ERB_EXPR:$A,TMPLIT_EXPR:L4,DATA_ATTR:U_,ARIA_ATTR:I4,IS_ALLOWED_URI:kx,IS_SCRIPT_OR_DATA:U1,ATTR_WHITESPACE:_x,DOCTYPE_NAME:Z_});const W_=()=>typeof window>"u"?null:window;var P4=function e(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:W_();const s=Ot=>e(Ot);if(s.version="3.0.5",s.removed=[],!r||!r.document||r.document.nodeType!==9)return s.isSupported=!1,s;const l=r.document,m=l.currentScript;let{document:g}=r;const{DocumentFragment:h,HTMLTemplateElement:x,Node:w,Element:S,NodeFilter:A,NamedNodeMap:N=r.NamedNodeMap||r.MozNamedAttrMap,HTMLFormElement:F,DOMParser:$,trustedTypes:W}=r,se=S.prototype,le=H1(se,"cloneNode"),fe=H1(se,"nextSibling"),te=H1(se,"childNodes"),X=H1(se,"parentNode");if(typeof x=="function"){const Ot=g.createElement("template");Ot.content&&Ot.content.ownerDocument&&(g=Ot.content.ownerDocument)}let ue,ye="";const{implementation:we,createNodeIterator:Ye,createDocumentFragment:Tt,getElementsByTagName:Qt}=g,{importNode:no}=l;let oo={};s.isSupported=typeof H_=="function"&&typeof X=="function"&&we&&we.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:Uo,ERB_EXPR:pn,TMPLIT_EXPR:Mn,DATA_ATTR:ar,ARIA_ATTR:dr,IS_SCRIPT_OR_DATA:jr,ATTR_WHITESPACE:gs}=q_;let{IS_ALLOWED_URI:Vs}=q_,mr=null;const Bl=Va({},[...Zg,...ld,...xx,...wx,...B4]);let br=null;const Ii=Va({},[...j1,...V1,...$_,...$1]);let ls=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Nc=null,wi=null,Fl=!0,Ud=!0,Gk=!1,Kk=!0,Gy=!1,eb=!1,S3=!1,Ky=!1,tb=!1,hv=!1,bv=!1,E3=!0,yA=!1,T3=!0,Yy=!1,ob={},nb=null;const ps=Va({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let Xy=null;const hp=Va({},["audio","video","img","source","image","track"]);let C5=null;const FN=Va({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),vA="http://www.w3.org/1998/Math/MathML",xA="http://www.w3.org/2000/svg",rb="http://www.w3.org/1999/xhtml";let Yk=rb,S5=!1,E5=null;const dM=Va({},[vA,xA,rb],P1);let Xk;const uM=["application/xhtml+xml","text/html"];let Wc,Jk=null;const mM=g.createElement("form"),LN=function(Ot){return Ot instanceof RegExp||Ot instanceof Function},T5=function(Ot){if(!Jk||Jk!==Ot){if(Ot&&typeof Ot=="object"||(Ot={}),Ot=$u(Ot),Xk=Xk=uM.indexOf(Ot.PARSER_MEDIA_TYPE)===-1?"text/html":Ot.PARSER_MEDIA_TYPE,Wc=Xk==="application/xhtml+xml"?P1:yh,mr="ALLOWED_TAGS"in Ot?Va({},Ot.ALLOWED_TAGS,Wc):Bl,br="ALLOWED_ATTR"in Ot?Va({},Ot.ALLOWED_ATTR,Wc):Ii,E5="ALLOWED_NAMESPACES"in Ot?Va({},Ot.ALLOWED_NAMESPACES,P1):dM,C5="ADD_URI_SAFE_ATTR"in Ot?Va($u(FN),Ot.ADD_URI_SAFE_ATTR,Wc):FN,Xy="ADD_DATA_URI_TAGS"in Ot?Va($u(hp),Ot.ADD_DATA_URI_TAGS,Wc):hp,nb="FORBID_CONTENTS"in Ot?Va({},Ot.FORBID_CONTENTS,Wc):ps,Nc="FORBID_TAGS"in Ot?Va({},Ot.FORBID_TAGS,Wc):{},wi="FORBID_ATTR"in Ot?Va({},Ot.FORBID_ATTR,Wc):{},ob="USE_PROFILES"in Ot&&Ot.USE_PROFILES,Fl=Ot.ALLOW_ARIA_ATTR!==!1,Ud=Ot.ALLOW_DATA_ATTR!==!1,Gk=Ot.ALLOW_UNKNOWN_PROTOCOLS||!1,Kk=Ot.ALLOW_SELF_CLOSE_IN_ATTR!==!1,Gy=Ot.SAFE_FOR_TEMPLATES||!1,eb=Ot.WHOLE_DOCUMENT||!1,tb=Ot.RETURN_DOM||!1,hv=Ot.RETURN_DOM_FRAGMENT||!1,bv=Ot.RETURN_TRUSTED_TYPE||!1,Ky=Ot.FORCE_BODY||!1,E3=Ot.SANITIZE_DOM!==!1,yA=Ot.SANITIZE_NAMED_PROPS||!1,T3=Ot.KEEP_CONTENT!==!1,Yy=Ot.IN_PLACE||!1,Vs=Ot.ALLOWED_URI_REGEXP||kx,Yk=Ot.NAMESPACE||rb,ls=Ot.CUSTOM_ELEMENT_HANDLING||{},Ot.CUSTOM_ELEMENT_HANDLING&&LN(Ot.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(ls.tagNameCheck=Ot.CUSTOM_ELEMENT_HANDLING.tagNameCheck),Ot.CUSTOM_ELEMENT_HANDLING&&LN(Ot.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(ls.attributeNameCheck=Ot.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),Ot.CUSTOM_ELEMENT_HANDLING&&typeof Ot.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(ls.allowCustomizedBuiltInElements=Ot.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Gy&&(Ud=!1),hv&&(tb=!0),ob&&(mr=Va({},[...B4]),br=[],ob.html===!0&&(Va(mr,Zg),Va(br,j1)),ob.svg===!0&&(Va(mr,ld),Va(br,V1),Va(br,$1)),ob.svgFilters===!0&&(Va(mr,xx),Va(br,V1),Va(br,$1)),ob.mathMl===!0&&(Va(mr,wx),Va(br,$_),Va(br,$1))),Ot.ADD_TAGS&&(mr===Bl&&(mr=$u(mr)),Va(mr,Ot.ADD_TAGS,Wc)),Ot.ADD_ATTR&&(br===Ii&&(br=$u(br)),Va(br,Ot.ADD_ATTR,Wc)),Ot.ADD_URI_SAFE_ATTR&&Va(C5,Ot.ADD_URI_SAFE_ATTR,Wc),Ot.FORBID_CONTENTS&&(nb===ps&&(nb=$u(nb)),Va(nb,Ot.FORBID_CONTENTS,Wc)),T3&&(mr["#text"]=!0),eb&&Va(mr,["html","head","body"]),mr.table&&(Va(mr,["tbody"]),delete Nc.tbody),Ot.TRUSTED_TYPES_POLICY){if(typeof Ot.TRUSTED_TYPES_POLICY.createHTML!="function")throw Xb('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof Ot.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw Xb('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');ue=Ot.TRUSTED_TYPES_POLICY,ye=ue.createHTML("")}else ue===void 0&&(ue=function(In,yr){if(typeof In!="object"||typeof In.createPolicy!="function")return null;let fs=null;const ui="data-tt-policy-suffix";yr&&yr.hasAttribute(ui)&&(fs=yr.getAttribute(ui));const Pi="dompurify"+(fs?"#"+fs:"");try{return In.createPolicy(Pi,{createHTML:ki=>ki,createScriptURL:ki=>ki})}catch{return console.warn("TrustedTypes policy "+Pi+" could not be created."),null}}(W,m)),ue!==null&&typeof ye=="string"&&(ye=ue.createHTML(""));rc&&rc(Ot),Jk=Ot}},IN=Va({},["mi","mo","mn","ms","mtext"]),PN=Va({},["foreignobject","desc","title","annotation-xml"]),gM=Va({},["title","style","font","a","script"]),wA=Va({},ld);Va(wA,xx),Va(wA,R4);const z5=Va({},wx);Va(z5,V_);const yv=function(Ot){Yb(s.removed,{element:Ot});try{Ot.parentNode.removeChild(Ot)}catch{Ot.remove()}},z3=function(Ot,In){try{Yb(s.removed,{attribute:In.getAttributeNode(Ot),from:In})}catch{Yb(s.removed,{attribute:null,from:In})}if(In.removeAttribute(Ot),Ot==="is"&&!br[Ot])if(tb||hv)try{yv(In)}catch{}else try{In.setAttribute(Ot,"")}catch{}},HN=function(Ot){let In,yr;if(Ky)Ot="<remove></remove>"+Ot;else{const Pi=j_(Ot,/^[\r\n\t ]+/);yr=Pi&&Pi[0]}Xk==="application/xhtml+xml"&&Yk===rb&&(Ot='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+Ot+"</body></html>");const fs=ue?ue.createHTML(Ot):Ot;if(Yk===rb)try{In=new $().parseFromString(fs,Xk)}catch{}if(!In||!In.documentElement){In=we.createDocument(Yk,"template",null);try{In.documentElement.innerHTML=S5?ye:fs}catch{}}const ui=In.body||In.documentElement;return Ot&&yr&&ui.insertBefore(g.createTextNode(yr),ui.childNodes[0]||null),Yk===rb?Qt.call(In,eb?"html":"body")[0]:eb?In.documentElement:ui},jN=function(Ot){return Ye.call(Ot.ownerDocument||Ot,Ot,A.SHOW_ELEMENT|A.SHOW_COMMENT|A.SHOW_TEXT,null,!1)},kA=function(Ot){return typeof w=="object"?Ot instanceof w:Ot&&typeof Ot=="object"&&typeof Ot.nodeType=="number"&&typeof Ot.nodeName=="string"},ab=function(Ot,In,yr){oo[Ot]&&O4(oo[Ot],fs=>{fs.call(s,In,yr,Jk)})},VN=function(Ot){let In;if(ab("beforeSanitizeElements",Ot,null),(yr=Ot)instanceof F&&(typeof yr.nodeName!="string"||typeof yr.textContent!="string"||typeof yr.removeChild!="function"||!(yr.attributes instanceof N)||typeof yr.removeAttribute!="function"||typeof yr.setAttribute!="function"||typeof yr.namespaceURI!="string"||typeof yr.insertBefore!="function"||typeof yr.hasChildNodes!="function"))return yv(Ot),!0;var yr;const fs=Wc(Ot.nodeName);if(ab("uponSanitizeElement",Ot,{tagName:fs,allowedTags:mr}),Ot.hasChildNodes()&&!kA(Ot.firstElementChild)&&(!kA(Ot.content)||!kA(Ot.content.firstElementChild))&&gu(/<[/\w]/g,Ot.innerHTML)&&gu(/<[/\w]/g,Ot.textContent))return yv(Ot),!0;if(!mr[fs]||Nc[fs]){if(!Nc[fs]&&UN(fs)&&(ls.tagNameCheck instanceof RegExp&&gu(ls.tagNameCheck,fs)||ls.tagNameCheck instanceof Function&&ls.tagNameCheck(fs)))return!1;if(T3&&!nb[fs]){const ui=X(Ot)||Ot.parentNode,Pi=te(Ot)||Ot.childNodes;if(Pi&&ui)for(let ki=Pi.length-1;ki>=0;--ki)ui.insertBefore(le(Pi[ki],!0),fe(Ot))}return yv(Ot),!0}return Ot instanceof S&&!function(ui){let Pi=X(ui);Pi&&Pi.tagName||(Pi={namespaceURI:Yk,tagName:"template"});const ki=yh(ui.tagName),ol=yh(Pi.tagName);return!!E5[ui.namespaceURI]&&(ui.namespaceURI===xA?Pi.namespaceURI===rb?ki==="svg":Pi.namespaceURI===vA?ki==="svg"&&(ol==="annotation-xml"||IN[ol]):!!wA[ki]:ui.namespaceURI===vA?Pi.namespaceURI===rb?ki==="math":Pi.namespaceURI===xA?ki==="math"&&PN[ol]:!!z5[ki]:ui.namespaceURI===rb?!(Pi.namespaceURI===xA&&!PN[ol])&&!(Pi.namespaceURI===vA&&!IN[ol])&&!z5[ki]&&(gM[ki]||!wA[ki]):!(Xk!=="application/xhtml+xml"||!E5[ui.namespaceURI]))}(Ot)?(yv(Ot),!0):fs!=="noscript"&&fs!=="noembed"&&fs!=="noframes"||!gu(/<\/no(script|embed|frames)/i,Ot.innerHTML)?(Gy&&Ot.nodeType===3&&(In=Ot.textContent,In=_m(In,Uo," "),In=_m(In,pn," "),In=_m(In,Mn," "),Ot.textContent!==In&&(Yb(s.removed,{element:Ot.cloneNode()}),Ot.textContent=In)),ab("afterSanitizeElements",Ot,null),!1):(yv(Ot),!0)},$N=function(Ot,In,yr){if(E3&&(In==="id"||In==="name")&&(yr in g||yr in mM))return!1;if(!(Ud&&!wi[In]&&gu(ar,In))){if(!(Fl&&gu(dr,In))){if(!br[In]||wi[In]){if(!(UN(Ot)&&(ls.tagNameCheck instanceof RegExp&&gu(ls.tagNameCheck,Ot)||ls.tagNameCheck instanceof Function&&ls.tagNameCheck(Ot))&&(ls.attributeNameCheck instanceof RegExp&&gu(ls.attributeNameCheck,In)||ls.attributeNameCheck instanceof Function&&ls.attributeNameCheck(In))||In==="is"&&ls.allowCustomizedBuiltInElements&&(ls.tagNameCheck instanceof RegExp&&gu(ls.tagNameCheck,yr)||ls.tagNameCheck instanceof Function&&ls.tagNameCheck(yr))))return!1}else if(!C5[In]){if(!gu(Vs,_m(yr,gs,""))){if((In!=="src"&&In!=="xlink:href"&&In!=="href"||Ot==="script"||N4(yr,"data:")!==0||!Xy[Ot])&&!(Gk&&!gu(jr,_m(yr,gs,"")))){if(yr)return!1}}}}}return!0},UN=function(Ot){return Ot.indexOf("-")>0},ZN=function(Ot){let In,yr,fs,ui;ab("beforeSanitizeAttributes",Ot,null);const{attributes:Pi}=Ot;if(!Pi)return;const ki={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:br};for(ui=Pi.length;ui--;){In=Pi[ui];const{name:ol,namespaceURI:Qk}=In;yr=ol==="value"?In.value:M4(In.value);const fM=yr;if(fs=Wc(ol),ki.attrName=fs,ki.attrValue=yr,ki.keepAttr=!0,ki.forceKeepAttr=void 0,ab("uponSanitizeAttribute",Ot,ki),yr=ki.attrValue,ki.forceKeepAttr)continue;if(!ki.keepAttr){z3(ol,Ot);continue}if(!Kk&&gu(/\/>/i,yr)){z3(ol,Ot);continue}Gy&&(yr=_m(yr,Uo," "),yr=_m(yr,pn," "),yr=_m(yr,Mn," "));const qN=Wc(Ot.nodeName);if($N(qN,fs,yr)){if(!yA||fs!=="id"&&fs!=="name"||(z3(ol,Ot),yr="user-content-"+yr),ue&&typeof W=="object"&&typeof W.getAttributeType=="function"&&!Qk)switch(W.getAttributeType(qN,fs)){case"TrustedHTML":yr=ue.createHTML(yr);break;case"TrustedScriptURL":yr=ue.createScriptURL(yr)}if(yr!==fM)try{Qk?Ot.setAttributeNS(Qk,ol,yr):Ot.setAttribute(ol,yr)}catch{z3(ol,Ot)}}else z3(ol,Ot)}ab("afterSanitizeAttributes",Ot,null)},pM=function Ot(In){let yr;const fs=jN(In);for(ab("beforeSanitizeShadowDOM",In,null);yr=fs.nextNode();)ab("uponSanitizeShadowNode",yr,null),VN(yr)||(yr.content instanceof h&&Ot(yr.content),ZN(yr));ab("afterSanitizeShadowDOM",In,null)};return s.sanitize=function(Ot){let In,yr,fs,ui,Pi=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(S5=!Ot,S5&&(Ot="<!-->"),typeof Ot!="string"&&!kA(Ot)){if(typeof Ot.toString!="function")throw Xb("toString is not a function");if(typeof(Ot=Ot.toString())!="string")throw Xb("dirty is not a string, aborting")}if(!s.isSupported)return Ot;if(S3||T5(Pi),s.removed=[],typeof Ot=="string"&&(Yy=!1),Yy){if(Ot.nodeName){const Qk=Wc(Ot.nodeName);if(!mr[Qk]||Nc[Qk])throw Xb("root node is forbidden and cannot be sanitized in-place")}}else if(Ot instanceof w)In=HN("<!---->"),yr=In.ownerDocument.importNode(Ot,!0),yr.nodeType===1&&yr.nodeName==="BODY"||yr.nodeName==="HTML"?In=yr:In.appendChild(yr);else{if(!tb&&!Gy&&!eb&&Ot.indexOf("<")===-1)return ue&&bv?ue.createHTML(Ot):Ot;if(In=HN(Ot),!In)return tb?null:bv?ye:""}In&&Ky&&yv(In.firstChild);const ki=jN(Yy?Ot:In);for(;fs=ki.nextNode();)VN(fs)||(fs.content instanceof h&&pM(fs.content),ZN(fs));if(Yy)return Ot;if(tb){if(hv)for(ui=Tt.call(In.ownerDocument);In.firstChild;)ui.appendChild(In.firstChild);else ui=In;return(br.shadowroot||br.shadowrootmode)&&(ui=no.call(l,ui,!0)),ui}let ol=eb?In.outerHTML:In.innerHTML;return eb&&mr["!doctype"]&&In.ownerDocument&&In.ownerDocument.doctype&&In.ownerDocument.doctype.name&&gu(Z_,In.ownerDocument.doctype.name)&&(ol="<!DOCTYPE "+In.ownerDocument.doctype.name+`>
`+ol),Gy&&(ol=_m(ol,Uo," "),ol=_m(ol,pn," "),ol=_m(ol,Mn," ")),ue&&bv?ue.createHTML(ol):ol},s.setConfig=function(Ot){T5(Ot),S3=!0},s.clearConfig=function(){Jk=null,S3=!1},s.isValidAttribute=function(Ot,In,yr){Jk||T5({});const fs=Wc(Ot),ui=Wc(In);return $N(fs,ui,yr)},s.addHook=function(Ot,In){typeof In=="function"&&(oo[Ot]=oo[Ot]||[],Yb(oo[Ot],In))},s.removeHook=function(Ot){if(oo[Ot])return VA(oo[Ot])},s.removeHooks=function(Ot){oo[Ot]&&(oo[Ot]=[])},s.removeAllHooks=function(){oo={}},s}();const G_=e=>P4().sanitize(e);var jc=tinymce.util.Tools.resolve("tinymce.util.I18n");const H4={indent:!0,outdent:!0,"table-insert-column-after":!0,"table-insert-column-before":!0,"paste-column-after":!0,"paste-column-before":!0,"unordered-list":!0,"list-bull-circle":!0,"list-bull-default":!0,"list-bull-square":!0},j4="temporary-placeholder",Cx=e=>()=>Xt(e,j4).getOr("!not found!"),Z1=(e,r)=>{const s=e.toLowerCase();if(jc.isRtl()){const l=((m,g)=>cs(m,g)?m:((h,x)=>h+x)(m,g))(s,"-rtl");return Vo(r,l)?l:s}return s},K_=(e,r)=>Xt(r,Z1(e,r)),Y_=(e,r)=>{const s=r();return K_(e,s).getOrThunk(Cx(s))},X_=()=>Tr("add-focusable",[La(e=>{um(e.element,"svg").each(r=>Kn(r,"focusable","false"))})]),Sx=(e,r,s,l)=>{var m,g;const h=(w=>!!jc.isRtl()&&Vo(H4,w))(r)?["tox-icon--flip"]:[],x=Xt(s,Z1(r,s)).or(l).getOrThunk(Cx(s));return{dom:{tag:e.tag,attributes:(m=e.attributes)!==null&&m!==void 0?m:{},classes:e.classes.concat(h),innerHtml:x},behaviours:Oo([...(g=e.behaviours)!==null&&g!==void 0?g:[],X_()])}},Uu=(e,r,s,l=R.none())=>Sx(r,e,s(),l),V4={success:"checkmark",error:"warning",err:"error",warning:"warning",warn:"warning",info:"info"},q1=Pc({name:"Notification",factory:e=>{const r=Ta({dom:Ym(`<p>${G_(e.translationProvider(e.text))}</p>`),behaviours:Oo([fr.config({})])}),s=A=>({dom:{tag:"div",classes:["tox-bar"],styles:{width:`${A}%`}}}),l=A=>({dom:{tag:"div",classes:["tox-text"],innerHtml:`${A}%`}}),m=Ta({dom:{tag:"div",classes:e.progress?["tox-progress-bar","tox-progress-indicator"]:["tox-progress-bar"]},components:[{dom:{tag:"div",classes:["tox-bar-container"]},components:[s(0)]},l(0)],behaviours:Oo([fr.config({})])}),g={updateProgress:(A,N)=>{A.getSystem().isConnected()&&m.getOpt(A).each(F=>{fr.set(F,[{dom:{tag:"div",classes:["tox-bar-container"]},components:[s(N)]},l(N)])})},updateText:(A,N)=>{if(A.getSystem().isConnected()){const F=r.get(A);fr.set(F,[Ya(N)])}}},h=$e([e.icon.toArray(),e.level.toArray(),e.level.bind(A=>R.from(V4[A])).toArray()]),x=Ta(wl.sketch({dom:{tag:"button",classes:["tox-notification__dismiss","tox-button","tox-button--naked","tox-button--icon"]},components:[Uu("close",{tag:"span",classes:["tox-icon"],attributes:{"aria-label":e.translationProvider("Close")}},e.iconProvider)],action:A=>{e.onAction(A)}})),w=((A,N,F)=>{const $=F(),W=to(A,se=>Vo($,Z1(se,$)));return Sx({tag:"div",classes:["tox-notification__icon"]},W.getOr(j4),$,R.none())})(h,0,e.iconProvider),S=[w,{dom:{tag:"div",classes:["tox-notification__body"]},components:[r.asSpec()],behaviours:Oo([fr.config({})])}];return{uid:e.uid,dom:{tag:"div",attributes:{role:"alert"},classes:e.level.map(A=>["tox-notification","tox-notification--in",`tox-notification--${A}`]).getOr(["tox-notification","tox-notification--in"])},behaviours:Oo([er.config({}),Tr("notification-events",[Kt(He(),A=>{x.getOpt(A).each(er.focus)})])]),components:S.concat(e.progress?[m.asSpec()]:[]).concat(e.closeButton?[x.asSpec()]:[]),apis:g}},configFields:[la("level"),Yt("progress"),la("icon"),Yt("onAction"),Yt("text"),Yt("iconProvider"),Yt("translationProvider"),ri("closeButton",!0)],apis:{updateProgress:(e,r,s)=>{e.updateProgress(r,s)},updateText:(e,r,s)=>{e.updateText(r,s)}}});var Vc,Jb,Qb=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),J_=tinymce.util.Tools.resolve("tinymce.EditorManager"),Zu=tinymce.util.Tools.resolve("tinymce.Env");(function(e){e.default="wrap",e.floating="floating",e.sliding="sliding",e.scrolling="scrolling"})(Vc||(Vc={})),function(e){e.auto="auto",e.top="top",e.bottom="bottom"}(Jb||(Jb={}));const Xa=e=>r=>r.options.get(e),W1=e=>r=>R.from(e(r)),Ex=e=>{const r=Zu.deviceType.isPhone(),s=Zu.deviceType.isTablet()||r,l=e.options.register,m=h=>io(h)||h===!1,g=h=>io(h)||So(h);l("skin",{processor:h=>io(h)||h===!1,default:"oxide"}),l("skin_url",{processor:"string"}),l("height",{processor:g,default:Math.max(e.getElement().offsetHeight,400)}),l("width",{processor:g,default:Qb.DOM.getStyle(e.getElement(),"width")}),l("min_height",{processor:"number",default:100}),l("min_width",{processor:"number"}),l("max_height",{processor:"number"}),l("max_width",{processor:"number"}),l("style_formats",{processor:"object[]"}),l("style_formats_merge",{processor:"boolean",default:!1}),l("style_formats_autohide",{processor:"boolean",default:!1}),l("line_height_formats",{processor:"string",default:"1 1.1 1.2 1.3 1.4 1.5 2"}),l("font_family_formats",{processor:"string",default:"Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;Webdings=webdings;Wingdings=wingdings,zapf dingbats"}),l("font_size_formats",{processor:"string",default:"8pt 10pt 12pt 14pt 18pt 24pt 36pt"}),l("font_size_input_default_unit",{processor:"string",default:"pt"}),l("block_formats",{processor:"string",default:"Paragraph=p;Heading 1=h1;Heading 2=h2;Heading 3=h3;Heading 4=h4;Heading 5=h5;Heading 6=h6;Preformatted=pre"}),l("content_langs",{processor:"object[]"}),l("removed_menuitems",{processor:"string",default:""}),l("menubar",{processor:h=>io(h)||jo(h),default:!r}),l("menu",{processor:"object",default:{}}),l("toolbar",{processor:h=>jo(h)||io(h)||ko(h)?{value:h,valid:!0}:{valid:!1,message:"Must be a boolean, string or array."},default:!0}),Bt(9,h=>{l("toolbar"+(h+1),{processor:"string"})}),l("toolbar_mode",{processor:"string",default:s?"scrolling":"floating"}),l("toolbar_groups",{processor:"object",default:{}}),l("toolbar_location",{processor:"string",default:Jb.auto}),l("toolbar_persist",{processor:"boolean",default:!1}),l("toolbar_sticky",{processor:"boolean",default:e.inline}),l("toolbar_sticky_offset",{processor:"number",default:0}),l("fixed_toolbar_container",{processor:"string",default:""}),l("fixed_toolbar_container_target",{processor:"object"}),l("ui_mode",{processor:"string",default:"combined"}),l("file_picker_callback",{processor:"function"}),l("file_picker_validator_handler",{processor:"function"}),l("file_picker_types",{processor:"string"}),l("typeahead_urls",{processor:"boolean",default:!0}),l("anchor_top",{processor:m,default:"#top"}),l("anchor_bottom",{processor:m,default:"#bottom"}),l("draggable_modal",{processor:"boolean",default:!1}),l("statusbar",{processor:"boolean",default:!0}),l("elementpath",{processor:"boolean",default:!0}),l("branding",{processor:"boolean",default:!0}),l("promotion",{processor:"boolean",default:!0}),l("resize",{processor:h=>h==="both"||jo(h),default:!Zu.deviceType.isTouch()}),l("sidebar_show",{processor:"string"}),l("help_accessibility",{processor:"boolean",default:e.hasPlugin("help")}),l("default_font_stack",{processor:"string[]",default:[]})},Q_=Xa("readonly"),Tx=Xa("height"),zx=Xa("width"),Ax=W1(Xa("min_width")),G1=W1(Xa("min_height")),K1=W1(Xa("max_width")),vh=W1(Xa("max_height")),$4=W1(Xa("style_formats")),Ox=Xa("style_formats_merge"),Nx=Xa("style_formats_autohide"),Mx=Xa("content_langs"),Dx=Xa("removed_menuitems"),ey=Xa("toolbar_mode"),U4=Xa("toolbar_groups"),Y1=Xa("toolbar_location"),Z4=Xa("fixed_toolbar_container"),UA=Xa("fixed_toolbar_container_target"),q4=Xa("toolbar_persist"),Rx=Xa("toolbar_sticky_offset"),W4=Xa("menubar"),xh=Xa("toolbar"),Bx=Xa("file_picker_callback"),e2=Xa("file_picker_validator_handler"),Fx=Xa("font_size_input_default_unit"),Lx=Xa("file_picker_types"),t2=Xa("typeahead_urls"),Ix=Xa("anchor_top"),X1=Xa("anchor_bottom"),o2=Xa("draggable_modal"),Cm=Xa("statusbar"),Px=Xa("elementpath"),wh=Xa("branding"),n2=Xa("resize"),Hx=Xa("paste_as_text"),jx=Xa("sidebar_show"),Vx=Xa("promotion"),r2=Xa("help_accessibility"),a2=Xa("default_font_stack"),s2=e=>e.options.get("skin")===!1,J1=e=>e.options.get("menubar")!==!1,Q1=e=>{const r=e.options.get("skin_url");if(s2(e))return r;if(r)return e.documentBaseURI.toAbsolute(r);{const s=e.options.get("skin");return J_.baseURL+"/skins/ui/"+s}},e0=e=>R.from(e.options.get("skin_url")),ty=e=>e.options.get("line_height_formats").split(" "),t0=e=>{const r=xh(e),s=io(r),l=ko(r)&&r.length>0;return!oy(e)&&(l||s||r===!0)},$x=e=>{const r=Bt(9,l=>e.options.get("toolbar"+(l+1))),s=Pt(r,io);return ln(s.length>0,s)},oy=e=>$x(e).fold(()=>{const r=xh(e);return co(r,io)&&r.length>0},Ct),Ux=e=>Y1(e)===Jb.bottom,i2=e=>{var r;if(!e.inline)return R.none();const s=(r=Z4(e))!==null&&r!==void 0?r:"";if(s.length>0)return vs(ws(),s);const l=UA(e);return Ue(l)?R.some(St(l)):R.none()},kh=e=>e.inline&&i2(e).isSome(),Zx=e=>i2(e).getOrThunk(()=>Sr(rr(St(e.getElement())))),o0=e=>e.inline&&!J1(e)&&!t0(e)&&!oy(e),_h=e=>(e.options.get("toolbar_sticky")||e.inline)&&!kh(e)&&!o0(e),qg=e=>!kh(e)&&e.options.get("ui_mode")==="split",l2=e=>{const r=e.options.get("menu");return Zo(r,s=>({...s,items:s.items}))};var G4=Object.freeze({__proto__:null,get ToolbarMode(){return Vc},get ToolbarLocation(){return Jb},register:Ex,getSkinUrl:Q1,getSkinUrlOption:e0,isReadOnly:Q_,isSkinDisabled:s2,getHeightOption:Tx,getWidthOption:zx,getMinWidthOption:Ax,getMinHeightOption:G1,getMaxWidthOption:K1,getMaxHeightOption:vh,getUserStyleFormats:$4,shouldMergeStyleFormats:Ox,shouldAutoHideStyleFormats:Nx,getLineHeightFormats:ty,getContentLanguages:Mx,getRemovedMenuItems:Dx,isMenubarEnabled:J1,isMultipleToolbars:oy,isToolbarEnabled:t0,isToolbarPersist:q4,getMultipleToolbarsOption:$x,getUiContainer:Zx,useFixedContainer:kh,isSplitUiMode:qg,getToolbarMode:ey,isDraggableModal:o2,isDistractionFree:o0,isStickyToolbar:_h,getStickyToolbarOffset:Rx,getToolbarLocation:Y1,isToolbarLocationBottom:Ux,getToolbarGroups:U4,getMenus:l2,getMenubar:W4,getToolbar:xh,getFilePickerCallback:Bx,getFilePickerTypes:Lx,useTypeaheadUrls:t2,getAnchorTop:Ix,getAnchorBottom:X1,getFilePickerValidatorHandler:e2,getFontSizeInputDefaultUnit:Fx,useStatusBar:Cm,useElementPath:Px,promotionEnabled:Vx,useBranding:wh,getResize:n2,getPasteAsText:Hx,getSidebarShow:jx,useHelpAccessibility:r2,getDefaultFontStack:a2});const qx="[data-mce-autocompleter]",c2=e=>Vl(e,qx);var Wx;(function(e){e[e.CLOSE_ON_EXECUTE=0]="CLOSE_ON_EXECUTE",e[e.BUBBLE_TO_SANDBOX=1]="BUBBLE_TO_SANDBOX"})(Wx||(Wx={}));var Oc=Wx;const d2="tox-menu-nav__js",ny="tox-collection__item",n0="tox-swatch",K4={normal:d2,color:n0},u2="tox-collection__item--enabled",m2="tox-collection__item-icon",r0="tox-collection__item-label",g2="tox-collection__item-caret",ry="tox-collection__item--active",p2="tox-collection__item-container",f2="tox-collection__item-container--row",h2=e=>Xt(K4,e).getOr(d2),Y4=e=>e==="color"?"tox-swatches":"tox-menu",b2=e=>({backgroundMenu:"tox-background-menu",selectedMenu:"tox-selected-menu",selectedItem:"tox-collection__item--active",hasIcons:"tox-menu--has-icons",menu:Y4(e),tieredMenu:"tox-tiered-menu"}),cf=e=>{const r=b2(e);return{backgroundMenu:r.backgroundMenu,selectedMenu:r.selectedMenu,menu:r.menu,selectedItem:r.selectedItem,item:h2(e)}},a0=(e,r,s)=>{const l=b2(s);return{tag:"div",classes:$e([[l.menu,`tox-menu-${r}-column`],e?[l.hasIcons]:[]])}},X4=[lf.parts.items({})],Ch=(e,r,s)=>{const l=b2(s);return{dom:{tag:"div",classes:$e([[l.tieredMenu]])},markers:cf(s)}},y2=me([la("data"),ft("inputAttributes",{}),ft("inputStyles",{}),ft("tag","input"),ft("inputClasses",[]),Hr("onSetValue"),ft("styles",{}),ft("eventOrder",{}),qi("inputBehaviours",[Wo,er]),ft("selectOnFocus",!0)]),J4=e=>Oo([er.config({onFocus:e.selectOnFocus?r=>{const s=r.element,l=Lu(s);s.dom.setSelectionRange(0,l.length)}:he})]),Q4=e=>({...J4(e),...Fi(e.inputBehaviours,[Wo.config({store:{mode:"manual",...e.data.map(r=>({initialValue:r})).getOr({}),getValue:r=>Lu(r.element),setValue:(r,s)=>{Lu(r.element)!==s&&Ec(r.element,s)}},onSetValue:e.onSetValue})])}),v2=e=>({tag:e.tag,attributes:{type:"text",...e.inputAttributes},styles:e.inputStyles,classes:e.inputClasses}),df=Pc({name:"Input",configFields:y2(),factory:(e,r)=>({uid:e.uid,dom:v2(e),components:[],behaviours:Q4(e),eventOrder:e.eventOrder})}),x2=un("refetch-trigger-event"),w2=un("redirect-menu-item-interaction"),k2="tox-menu__searcher",s0=e=>vs(e.element,`.${k2}`).bind(r=>e.getSystem().getByDom(r).toOptional()),_2=s0,eE=e=>({fetchPattern:Wo.getValue(e),selectionStart:e.element.dom.selectionStart,selectionEnd:e.element.dom.selectionEnd}),tE=e=>{const r=(m,g)=>(g.cut(),R.none()),s=(m,g)=>{const h={interactionEvent:g.event,eventType:g.event.raw.type};return _n(m,w2,h),R.some(!0)},l="searcher-events";return{dom:{tag:"div",classes:[ny]},components:[df.sketch({inputClasses:[k2,"tox-textfield"],inputAttributes:{...e.placeholder.map(m=>({placeholder:e.i18n(m)})).getOr({}),type:"search","aria-autocomplete":"list"},inputBehaviours:Oo([Tr(l,[Kt(Hn(),m=>{$r(m,x2)}),Kt(fn(),(m,g)=>{g.event.raw.key==="Escape"&&g.stop()})]),Dn.config({mode:"special",onLeft:r,onRight:r,onSpace:r,onEnter:s,onEscape:s,onUp:s,onDown:s})]),eventOrder:{keydown:[l,Dn.name()]}})]}},ay="tox-collection--results__js",C2=e=>{var r;return e.dom?{...e,dom:{...e.dom,attributes:{...(r=e.dom.attributes)!==null&&r!==void 0?r:{},id:un("aria-item-search-result-id"),"aria-selected":"false"}}}:e},Gx=(e,r)=>s=>{const l=V(s,r);return dt(l,m=>({dom:e,components:m}))},oE=(e,r)=>{const s=[];let l=[];return Ie(e,(m,g)=>{r(m,g)?(l.length>0&&s.push(l),l=[],(Vo(m.dom,"innerHtml")||m.components&&m.components.length>0)&&l.push(m)):l.push(m)}),l.length>0&&s.push(l),dt(s,m=>({dom:{tag:"div",classes:["tox-collection__group"]},components:m}))},Kx=(e,r,s)=>lf.parts.items({preprocess:l=>{const m=dt(l,s);return e!=="auto"&&e>1?Gx({tag:"div",classes:["tox-collection__group"]},e)(m):oE(m,(g,h)=>r[h].type==="separator")}}),S2=(e,r,s=!0)=>({dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(e===1?["tox-collection--list"]:["tox-collection--grid"])},components:[Kx(e,r,Ze)]}),i0=e=>uo(e,r=>"icon"in r&&r.icon!==void 0),Sm=e=>(console.error(El(e)),R.none()),ZA=(e,r,s,l,m)=>{const g=(h=s,{dom:{tag:"div",classes:["tox-collection","tox-collection--horizontal"]},components:[lf.parts.items({preprocess:x=>oE(x,(w,S)=>h[S].type==="separator")})]});var h;return{value:e,dom:g.dom,components:g.components,items:s}},Yx=(e,r,s,l,m)=>{if(m.menuType==="color"){const g=(h=>({dom:{tag:"div",classes:["tox-menu","tox-swatches-menu"]},components:[{dom:{tag:"div",classes:["tox-swatches"]},components:[lf.parts.items({preprocess:h!=="auto"?Gx({tag:"div",classes:["tox-swatches__row"]},h):Ze})]}]}))(l);return{value:e,dom:g.dom,components:g.components,items:s}}if(m.menuType==="normal"&&l==="auto"){const g=S2(l,s);return{value:e,dom:g.dom,components:g.components,items:s}}if(m.menuType==="normal"||m.menuType==="searchable"){const g=m.menuType!=="searchable"?S2(l,s):m.searchMode.searchMode==="search-with-field"?((h,x,w)=>{const S=un("aria-controls-search-results");return{dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(h===1?["tox-collection--list"]:["tox-collection--grid"])},components:[tE({i18n:jc.translate,placeholder:w.placeholder}),{dom:{tag:"div",classes:[...h===1?["tox-collection--list"]:["tox-collection--grid"],ay],attributes:{id:S}},components:[Kx(h,x,C2)]}]}})(l,s,m.searchMode):((h,x,w=!0)=>{const S=un("aria-controls-search-results");return{dom:{tag:"div",classes:["tox-menu","tox-collection",ay].concat(h===1?["tox-collection--list"]:["tox-collection--grid"]),attributes:{id:S}},components:[Kx(h,x,C2)]}})(l,s);return{value:e,dom:g.dom,components:g.components,items:s}}if(m.menuType==="listpreview"&&l!=="auto"){const g=(h=>({dom:{tag:"div",classes:["tox-menu","tox-collection","tox-collection--toolbar","tox-collection--toolbar-lg"]},components:[lf.parts.items({preprocess:Gx({tag:"div",classes:["tox-collection__group"]},h)})]}))(l);return{value:e,dom:g.dom,components:g.components,items:s}}return{value:e,dom:a0(r,l,m.menuType),components:X4,items:s}},ci=us("type"),E2=us("name"),T2=us("label"),Wg=us("text"),$c=us("title"),qu=us("icon"),l0=us("value"),z2=ml("fetch"),A2=ml("getSubmenuItems"),sy=ml("onAction"),qA=ml("onItemAction"),Em=hs("onSetup",()=>he),Xx=Hs("name"),Xm=Hs("text"),pu=Hs("icon"),Id=Hs("tooltip"),O2=Hs("label"),WA=Hs("shortcut"),fu=Tl("select"),uf=ri("active",!1),nE=ri("borderless",!1),ll=ri("enabled",!0),Na=ri("primary",!1),Sh=e=>ft("columns",e),iy=ft("meta",{}),Jx=hs("onAction",he),Gg=e=>zl("type",e),c0=e=>oi("name","name",os(()=>un(`${e}-name`)),wa),rE=Cn([ci,Xm]),N2=Cn([Gg("autocompleteitem"),uf,ll,iy,l0,Xm,pu]),d0=[ll,Id,pu,Xm,Em],aE=Cn([ci,sy].concat(d0)),M2=e=>ka("toolbarbutton",aE,e),u0=[uf].concat(d0),sE=Cn(u0.concat([ci,sy])),m0=e=>ka("ToggleButton",sE,e),iE=[hs("predicate",Bo),pl("scope","node",["node","editor"]),pl("position","selection",["node","selection","line"])],GA=d0.concat([Gg("contextformbutton"),Na,sy,ro("original",Ze)]),KA=u0.concat([Gg("contextformbutton"),Na,sy,ro("original",Ze)]),YA=d0.concat([Gg("contextformbutton")]),XA=u0.concat([Gg("contextformtogglebutton")]),lE=Ms("type",{contextformbutton:GA,contextformtogglebutton:KA}),JA=Cn([Gg("contextform"),hs("initValue",me("")),O2,al("commands",lE),$i("launch",Ms("type",{contextformbutton:YA,contextformtogglebutton:XA}))].concat(iE)),QA=Cn([Gg("contexttoolbar"),us("items")].concat(iE)),cE=[ci,us("src"),Hs("alt"),uc("classes",[],wa)],dE=Cn(cE),eO=[ci,Wg,Xx,uc("classes",["tox-collection__item-label"],wa)],uE=Cn(eO),D2=Gd(()=>an("type",{cardimage:dE,cardtext:uE,cardcontainer:tO})),tO=Cn([ci,zl("direction","horizontal"),zl("align","left"),zl("valign","middle"),al("items",D2)]),ly=[ll,Xm,WA,oi("value","value",os(()=>un("menuitem-value")),Cl()),iy],oO=Cn([ci,O2,al("items",D2),Em,Jx].concat(ly)),nO=Cn([ci,uf,pu].concat(ly)),R2=[ci,us("fancytype"),Jx],Wu=[ft("initData",{})].concat(R2),rO=[Tl("select"),Bm("initData",{},[ri("allowCustomColors",!0),zl("storageKey","default"),ns("colors",Cl())])].concat(R2),B2=Ms("fancytype",{inserttable:Wu,colorswatch:rO}),mE=Cn([ci,Em,Jx,pu].concat(ly)),gE=Cn([ci,A2,Em,pu].concat(ly)),pE=Cn([ci,pu,uf,Em,sy].concat(ly)),Qx=(e,r,s)=>{const l=Zl(e.element,"."+s);if(l.length>0){const m=Se(l,g=>{const h=g.dom.getBoundingClientRect().top,x=l[0].dom.getBoundingClientRect().top;return Math.abs(h-x)>r}).getOr(l.length);return R.some({numColumns:m,numRows:Math.ceil(l.length/m)})}return R.none()},cy=e=>((r,s)=>Oo([Tr(r,s)]))(un("unnamed-events"),e),fE=un("tooltip.exclusive"),g0=un("tooltip.show"),p0=un("tooltip.hide"),F2=(e,r,s)=>{e.getSystem().broadcastOn([fE],{})};var hE=Object.freeze({__proto__:null,hideAllExclusive:F2,setComponents:(e,r,s,l)=>{s.getTooltip().each(m=>{m.getSystem().isConnected()&&fr.set(m,l)})}}),bE=Object.freeze({__proto__:null,events:(e,r)=>{const s=l=>{r.getTooltip().each(m=>{id(m),e.onHide(l,m),r.clearTooltip()}),r.clearTimer()};return qa($e([[Kt(g0,l=>{r.resetTimer(()=>{(m=>{if(!r.isShowing()){F2(m);const g=e.lazySink(m).getOrDie(),h=m.getSystem().build({dom:e.tooltipDom,components:e.tooltipComponents,events:qa(e.mode==="normal"?[Kt(Te(),x=>{$r(m,g0)}),Kt(H(),x=>{$r(m,p0)})]:[]),behaviours:Oo([fr.config({})])});r.setTooltip(h),ym(g,h),e.onShow(m,h),xl.position(g,h,{anchor:e.anchor(m)})}})(l)},e.delay)}),Kt(p0,l=>{r.resetTimer(()=>{s(l)},e.delay)}),Kt(Cd(),(l,m)=>{const g=m;g.universal||Rt(g.channels,fE)&&s(l)}),od(l=>{s(l)})],e.mode==="normal"?[Kt(He(),l=>{$r(l,g0)}),Kt(vp(),l=>{$r(l,p0)}),Kt(Te(),l=>{$r(l,g0)}),Kt(H(),l=>{$r(l,p0)})]:[Kt(dg(),(l,m)=>{$r(l,g0)}),Kt(Pm(),l=>{$r(l,p0)})]]))}}),dy=[Yt("lazySink"),Yt("tooltipDom"),ft("exclusive",!0),ft("tooltipComponents",[]),ft("delay",300),pl("mode","normal",["normal","follow-highlight"]),ft("anchor",e=>({type:"hotspot",hotspot:e,layouts:{onLtr:me([yi,Nl,Qi,vl,Gs,Wa]),onRtl:me([yi,Nl,Qi,vl,Gs,Wa])}})),Hr("onHide"),Hr("onShow")],yE=Object.freeze({__proto__:null,init:()=>{const e=ms(),r=ms(),s=()=>{e.on(clearTimeout)},l=me("not-implemented");return Ia({getTooltip:r.get,isShowing:r.isSet,setTooltip:r.set,clearTooltip:r.clear,clearTimer:s,resetTimer:(m,g)=>{s(),e.set(setTimeout(m,g))},readState:l})}});const L2=Ri({fields:dy,name:"tooltipping",active:bE,state:yE,apis:hE}),I2="silver.readonly",P2=Cn([ni("readonly",Qc)]),uy=(e,r)=>{const s=e.mainUi.outerContainer.element,l=[e.mainUi.mothership,...e.uiMotherships];r&&Ie(l,m=>{m.broadcastOn([Bd()],{target:s})}),Ie(l,m=>{m.broadcastOn([I2],{readonly:r})})},ew=(e,r)=>{e.on("init",()=>{e.mode.isReadOnly()&&uy(r,!0)}),e.on("SwitchMode",()=>uy(r,e.mode.isReadOnly())),Q_(e)&&e.mode.set("readonly")},Wi=()=>tc.config({channels:{[I2]:{schema:P2,onReceive:(e,r)=>{Qn.set(e,r.readonly)}}}}),my=e=>Qn.config({disabled:e}),H2=e=>Qn.config({disabled:e,disableClass:"tox-tbtn--disabled"}),j2=e=>Qn.config({disabled:e,disableClass:"tox-tbtn--disabled",useNative:!1}),f0=(e,r)=>{const s=e.getApi(r);return l=>{l(s)}},Kg=(e,r)=>La(s=>{f0(e,s)(l=>{const m=e.onSetup(l);it(m)&&r.set(m)})}),Yg=(e,r)=>od(s=>f0(e,s)(r.get())),aO=(e,r)=>Cc((s,l)=>{f0(e,s)(e.onAction),e.triggersSubmenu||r!==Oc.CLOSE_ON_EXECUTE||(s.getSystem().isConnected()&&$r(s,Sd()),l.stop())}),sO={[fl()]:["disabling","alloy.base.behaviour","toggling","item-events"]},Eh=Wt,gy=(e,r,s,l)=>{const m=Sn(he);return{type:"item",dom:r.dom,components:Eh(r.optComponents),data:e.data,eventOrder:sO,hasSubmenu:e.triggersSubmenu,itemBehaviours:Oo([Tr("item-events",[aO(e,s),Kg(e,m),Yg(e,m)]),(g=()=>!e.enabled||l.isDisabled(),Qn.config({disabled:g,disableClass:"tox-collection__item--state-disabled"})),Wi(),fr.config({})].concat(e.itemBehaviours))};var g},py=e=>({value:e.value,meta:{text:e.text.getOr(""),...e.meta}}),h0=e=>{const r=Zu.os.isMacOS()||Zu.os.isiOS(),s=r?{alt:"⌥",ctrl:"⌃",shift:"⇧",meta:"⌘",access:"⌃⌥"}:{meta:"Ctrl",access:"Shift+Alt"},l=e.split("+"),m=dt(l,g=>{const h=g.toLowerCase().trim();return Vo(s,h)?s[h]:g});return r?m.join(""):m.join("+")},tw=(e,r,s=[m2])=>Uu(e,{tag:"div",classes:s},r),V2=e=>({dom:{tag:"div",classes:[r0]},components:[Ya(jc.translate(e))]}),vE=(e,r)=>({dom:{tag:"div",classes:r,innerHtml:e}}),iO=(e,r)=>({dom:{tag:"div",classes:[r0]},components:[{dom:{tag:e.tag,styles:e.styles},components:[Ya(jc.translate(r))]}]}),ow=e=>({dom:{tag:"div",classes:["tox-collection__item-accessory"]},components:[Ya(h0(e))]}),nw=e=>tw("checkmark",e,["tox-collection__item-checkmark"]),rw=e=>{const r=e.map(s=>({attributes:{title:jc.translate(s),id:un("menu-item")}})).getOr({});return{tag:"div",classes:[d2,ny],...r}},fy=(e,r,s,l=R.none())=>e.presets==="color"?((m,g,h)=>{const x=m.ariaLabel,w=m.value,S=m.iconContent.map(A=>((N,F,$)=>{const W=F();return K_(N,W).or($).getOrThunk(Cx(W))})(A,g.icons,h));return{dom:(()=>{const A=n0,N=S.getOr(""),F=x.map(W=>({title:g.translate(W)})).getOr({}),$={tag:"div",attributes:F,classes:[A]};return w==="custom"?{...$,tag:"button",classes:[...$.classes,"tox-swatches__picker-btn"],innerHtml:N}:w==="remove"?{...$,classes:[...$.classes,"tox-swatch--remove"],innerHtml:N}:Ue(w)?{...$,attributes:{...$.attributes,"data-mce-color":w},styles:{"background-color":w},innerHtml:N}:$})(),optComponents:[]}})(e,r,l):((m,g,h,x)=>{const w={tag:"div",classes:[m2]},S=h?m.iconContent.map($=>Uu($,w,g.icons,x)).orThunk(()=>R.some({dom:w})):R.none(),A=m.checkMark,N=R.from(m.meta).fold(()=>V2,$=>Vo($,"style")?rt(iO,$.style):V2),F=m.htmlContent.fold(()=>m.textContent.map(N),$=>R.some(vE($,[r0])));return{dom:rw(m.ariaLabel),optComponents:[S,F,m.shortcutContent.map(ow),A,m.caret]}})(e,r,s,l),aw=(e,r)=>Xt(e,"tooltipWorker").map(s=>[L2.config({lazySink:r.getSink,tooltipDom:{tag:"div",classes:["tox-tooltip-worker-container"]},tooltipComponents:[],anchor:l=>({type:"submenu",item:l,overrides:{maxHeightFunction:wg}}),mode:"follow-highlight",onShow:(l,m)=>{s(g=>{L2.setComponents(l,[ib({element:St(g)})])})}})]).getOr([]),sw=(e,r)=>{const s=(l=>Qb.DOM.encode(l))(jc.translate(e));if(r.length>0){const l=new RegExp((m=>m.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"))(r),"gi");return s.replace(l,m=>`<span class="tox-autocompleter-highlight">${m}</span>`)}return s},b0=(e,r)=>dt(e,s=>{switch(s.type){case"cardcontainer":return((g,h)=>{const x=g.direction==="vertical"?"tox-collection__item-container--column":f2,w=g.align==="left"?"tox-collection__item-container--align-left":"tox-collection__item-container--align-right";return{dom:{tag:"div",classes:[p2,x,w,(()=>{switch(g.valign){case"top":return"tox-collection__item-container--valign-top";case"middle":return"tox-collection__item-container--valign-middle";case"bottom":return"tox-collection__item-container--valign-bottom"}})()]},components:h}})(s,b0(s.items,r));case"cardimage":return((g,h,x)=>({dom:{tag:"img",classes:h,attributes:{src:g,alt:x.getOr("")}}}))(s.src,s.classes,s.alt);case"cardtext":const l=s.name.exists(g=>Rt(r.cardText.highlightOn,g)),m=l?R.from(r.cardText.matchText).getOr(""):"";return vE(sw(s.text,m),s.classes)}}),$2=Mr(px(),Km()),U2=e=>({value:Z2(e)}),Tm=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,iw=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,Li=e=>Tm.test(e)||iw.test(e),Z2=e=>Ys(e,"#").toUpperCase(),lw=e=>{const r=e.toString(16);return(r.length===1?"0"+r:r).toUpperCase()},hy=e=>{const r=lw(e.red)+lw(e.green)+lw(e.blue);return U2(r)},q2=Math.min,W2=Math.max,y0=Math.round,lO=/^\s*rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)\s*$/i,cO=/^\s*rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d?(?:\.\d+)?)\s*\)\s*$/i,Xg=(e,r,s,l)=>({red:e,green:r,blue:s,alpha:l}),v0=e=>{const r=parseInt(e,10);return r.toString()===e&&r>=0&&r<=255},xE=e=>{let r,s,l;const m=(e.hue||0)%360;let g=e.saturation/100,h=e.value/100;if(g=W2(0,q2(g,1)),h=W2(0,q2(h,1)),g===0)return r=s=l=y0(255*h),Xg(r,s,l,1);const x=m/60,w=h*g,S=w*(1-Math.abs(x%2-1)),A=h-w;switch(Math.floor(x)){case 0:r=w,s=S,l=0;break;case 1:r=S,s=w,l=0;break;case 2:r=0,s=w,l=S;break;case 3:r=0,s=S,l=w;break;case 4:r=S,s=0,l=w;break;case 5:r=w,s=0,l=S;break;default:r=s=l=0}return r=y0(255*(r+A)),s=y0(255*(s+A)),l=y0(255*(l+A)),Xg(r,s,l,1)},x0=e=>{const r=(g=>{const h=(w=>({value:w.value.replace(Tm,(A,N,F,$)=>N+N+F+F+$+$)}))(g),x=iw.exec(h.value);return x===null?["FFFFFF","FF","FF","FF"]:x})(e),s=parseInt(r[1],16),l=parseInt(r[2],16),m=parseInt(r[3],16);return Xg(s,l,m,1)},wE=(e,r,s,l)=>{const m=parseInt(e,10),g=parseInt(r,10),h=parseInt(s,10),x=parseFloat(l);return Xg(m,g,h,x)},cw=e=>{if(e==="transparent")return R.some(Xg(0,0,0,0));const r=lO.exec(e);if(r!==null)return R.some(wE(r[1],r[2],r[3],"1"));const s=cO.exec(e);return s!==null?R.some(wE(s[1],s[2],s[3],s[4])):R.none()},G2=e=>`rgba(${e.red},${e.green},${e.blue},${e.alpha})`,kE=Xg(255,0,0,1),K2=(e,r)=>{e.dispatch("ResizeContent",r)},Y2=(e,r)=>{e.dispatch("TextColorChange",r)},dO=(e,r)=>e.dispatch("ResolveName",{name:r.nodeName.toLowerCase(),target:r}),dw=(e,r)=>()=>{e(),r()},hc=e=>Jm(e,"NodeChange",r=>{r.setEnabled(e.selection.isEditable())}),Th=(e,r)=>s=>{const l=hc(e)(s),m=((g,h)=>x=>{const w=vg(),S=()=>{x.setActive(g.formatter.match(h));const A=g.formatter.formatChanged(h,x.setActive);w.set(A)};return g.initialized?S():g.once("init",S),()=>{g.off("init",S),w.clear()}})(e,r)(s);return()=>{l(),m()}},Jm=(e,r,s)=>l=>{const m=()=>s(l),g=()=>{s(l),e.on(r,m)};return e.initialized?g():e.once("init",g),()=>{e.off("init",g),e.off(r,m)}},w0=e=>r=>()=>{e.undoManager.transact(()=>{e.focus(),e.execCommand("mceToggleFormat",!1,r.format)})},Kl=(e,r)=>()=>e.execCommand(r);var mf=tinymce.util.Tools.resolve("tinymce.util.LocalStorage");const X2={},_E=e=>Xt(X2,e).getOrThunk(()=>{const r=`tinymce-custom-colors-${e}`,s=mf.getItem(r);if(To(s)){const m=mf.getItem("tinymce-custom-colors");mf.setItem(r,Ue(m)?m:"[]")}const l=((m,g=10)=>{const h=mf.getItem(m),x=io(h)?JSON.parse(h):[],w=g-(S=x).length<0?S.slice(0,g):S;var S;const A=N=>{w.splice(N,1)};return{add:N=>{ht(w,N).each(A),w.unshift(N),w.length>g&&w.pop(),mf.setItem(m,JSON.stringify(w))},state:()=>w.slice(0)}})(r,10);return X2[e]=l,l}),CE=(e,r)=>{_E(e).add(r)},k0=(e,r,s)=>({hue:e,saturation:r,value:s}),J2=e=>{let r=0,s=0,l=0;const m=e.red/255,g=e.green/255,h=e.blue/255,x=Math.min(m,Math.min(g,h)),w=Math.max(m,Math.max(g,h));return x===w?(l=x,k0(0,0,100*l)):(r=m===x?3:h===x?1:5,r=60*(r-(m===x?g-h:h===x?m-g:h-m)/(w-x)),s=(w-x)/w,l=w,k0(Math.round(r),Math.round(100*s),Math.round(100*l)))},Q2=e=>hy(xE(e)),by=e=>{return(r=e,Li(r)?R.some({value:Z2(r)}):R.none()).orThunk(()=>cw(e).map(hy)).getOrThunk(()=>{const s=document.createElement("canvas");s.height=1,s.width=1;const l=s.getContext("2d");l.clearRect(0,0,s.width,s.height),l.fillStyle="#FFFFFF",l.fillStyle=e,l.fillRect(0,0,1,1);const m=l.getImageData(0,0,1,1).data,g=m[0],h=m[1],x=m[2],w=m[3];return hy(Xg(g,h,x,w))});var r},Jg="forecolor",uw="hilitecolor",SE=e=>{const r=[];for(let s=0;s<e.length;s+=2)r.push({text:e[s+1],value:"#"+by(e[s]).value,icon:"checkmark",type:"choiceitem"});return r},hu=e=>r=>r.options.get(e),zh="#000000",gf=(e,r)=>r===Jg&&e.options.isSet("color_map_foreground")?hu("color_map_foreground")(e):r===uw&&e.options.isSet("color_map_background")?hu("color_map_background")(e):hu("color_map")(e),yy=(e,r="default")=>Math.max(5,Math.ceil(Math.sqrt(gf(e,r).length))),mw=(e,r)=>{const s=hu("color_cols")(e),l=yy(e,r);return s===yy(e)?l:s},eC=(e,r="default")=>Math.round(r===Jg?hu("color_cols_foreground")(e):r===uw?hu("color_cols_background")(e):hu("color_cols")(e)),EE=hu("custom_colors"),TE=hu("color_default_foreground"),uO=hu("color_default_background"),zE=(e,r)=>{const s=St(e.selection.getStart()),l=r==="hilitecolor"?qs(s,m=>{if(wt(m)){const g=aa(m,"background-color");return ln(cw(g).exists(h=>h.alpha!==0),g)}return R.none()}).getOr("rgba(0, 0, 0, 0)"):aa(s,"color");return cw(l).map(m=>"#"+hy(m).value)},tC=e=>{const r="choiceitem",s={type:r,text:"Remove color",icon:"color-swatch-remove-color",value:"remove"};return e?[s,{type:r,text:"Custom color",icon:"color-picker",value:"custom"}]:[s]},gw=(e,r,s,l)=>{s==="custom"?rC(e)(m=>{m.each(g=>{CE(r,g),e.execCommand("mceApplyTextcolor",r,g),l(g)})},zE(e,r).getOr(zh)):s==="remove"?(l(""),e.execCommand("mceRemoveTextcolor",r)):(l(s),e.execCommand("mceApplyTextcolor",r,s))},oC=(e,r,s)=>e.concat((l=>dt(_E(l).state(),m=>({type:"choiceitem",text:m,icon:"checkmark",value:m})))(r).concat(tC(s))),nC=(e,r,s)=>l=>{l(oC(e,r,s))},pf=(e,r,s)=>{const l=r==="forecolor"?"tox-icon-text-color__color":"tox-icon-highlight-bg-color__color";e.setIconFill(l,s)},AE=(e,r)=>{e.setTooltip(r)},OE=(e,r)=>s=>{const l=zE(e,r);return Rr(l,s.toUpperCase())},vy=(e,r,s)=>{if($s(s))return r==="forecolor"?"Text color":"Background color";const l=r==="forecolor"?"Text color {0}":"Background color {0}",m=oC(gf(e,r),r,!1),g=to(m,h=>h.value===s).getOr({text:""}).text;return e.translate([l,e.translate(g)])},Pd=(e,r,s,l)=>{e.ui.registry.addSplitButton(r,{tooltip:vy(e,s,l.get()),presets:"color",icon:r==="forecolor"?"text-color":"highlight-bg-color",select:OE(e,s),columns:eC(e,s),fetch:nC(gf(e,s),s,EE(e)),onAction:m=>{gw(e,s,l.get(),he)},onItemAction:(m,g)=>{gw(e,s,g,h=>{l.set(h),Y2(e,{name:r,color:h})})},onSetup:m=>{pf(m,r,l.get());const g=h=>{h.name===r&&(pf(m,h.name,h.color),AE(m,vy(e,s,h.color)))};return e.on("TextColorChange",g),dw(hc(e)(m),()=>{e.off("TextColorChange",g)})}})},pw=(e,r,s,l,m)=>{e.ui.registry.addNestedMenuItem(r,{text:l,icon:r==="forecolor"?"text-color":"highlight-bg-color",onSetup:g=>(AE(g,vy(e,s,m.get())),pf(g,r,m.get()),hc(e)(g)),getSubmenuItems:()=>[{type:"fancymenuitem",fancytype:"colorswatch",select:OE(e,s),initData:{storageKey:s},onAction:g=>{gw(e,s,g.value,h=>{m.set(h),Y2(e,{name:r,color:h})})}}]})},rC=e=>(r,s)=>{let l=!1;const m={colorpicker:s};e.windowManager.open({title:"Color Picker",size:"normal",body:{type:"panel",items:[{type:"colorpicker",name:"colorpicker",label:"Color"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:m,onAction:(g,h)=>{h.name==="hex-valid"&&(l=h.value)},onSubmit:g=>{const h=g.getData().colorpicker;l?(r(R.from(h)),g.close()):e.windowManager.alert(e.translate(["Invalid hex color code: {0}",h]))},onClose:he,onCancel:()=>{r(R.none())}})},aC=(e,r,s,l,m,g,h,x)=>{const w=i0(r),S=mO(r,s,l,m!=="color"?"normal":"color",g,h,x);return Yx(e,w,S,l,{menuType:m})},mO=(e,r,s,l,m,g,h)=>Wt(dt(e,x=>{return x.type==="choiceitem"?(w=x,ka("choicemenuitem",nO,w)).fold(Sm,S=>R.some(((A,N,F,$,W,se,le,fe=!0)=>{const te=fy({presets:F,textContent:N?A.text:R.none(),htmlContent:R.none(),ariaLabel:A.text,iconContent:A.icon,shortcutContent:N?A.shortcut:R.none(),checkMark:N?R.some(nw(le.icons)):R.none(),caret:R.none(),value:A.value},le,fe);return Da(gy({data:py(A),enabled:A.enabled,getApi:X=>({setActive:ue=>{Dr.set(X,ue)},isActive:()=>Dr.isOn(X),isEnabled:()=>!Qn.isDisabled(X),setEnabled:ue=>Qn.set(X,!ue)}),onAction:X=>$(A.value),onSetup:X=>(X.setActive(W),he),triggersSubmenu:!1,itemBehaviours:[]},te,se,le),{toggling:{toggleClass:u2,toggleOnExecute:!1,selected:A.active,exclusive:!0}})})(S,s===1,l,r,g(S.value),m,h,i0(e)))):R.none();var w})),_0=(e,r)=>{const s=cf(r);return e===1?{mode:"menu",moveOnTab:!0}:e==="auto"?{mode:"grid",selector:"."+s.item,initSize:{numColumns:1,numRows:1}}:{mode:"matrix",rowSelector:"."+(r==="color"?"tox-swatches__row":"tox-collection__group"),previousSelector:l=>r==="color"?vs(l.element,"[aria-checked=true]"):R.none()}},sC=un("cell-over"),iC=un("cell-execute"),gO=(e,r,s)=>{const l=g=>_n(g,iC,{row:e,col:r}),m=(g,h)=>{h.stop(),l(g)};return yl({dom:{tag:"div",attributes:{role:"button","aria-label":s}},behaviours:Oo([Tr("insert-table-picker-cell",[Kt(Te(),er.focus),Kt(fl(),l),Kt(fa(),m),Kt(Fm(),m)]),Dr.config({toggleClass:"tox-insert-table-picker__selected",toggleOnExecute:!1}),er.config({onFocus:g=>_n(g,sC,{row:e,col:r})})])})},NE=e=>ct(e,r=>dt(r,Tc)),lC=(e,r)=>Ya(`${r}x${e}`),ME={inserttable:(e,r)=>{const s=(h=>(x,w)=>h.shared.providers.translate(["{0} columns, {1} rows",w,x]))(r),l=((h,x,w)=>{const S=[];for(let A=0;A<10;A++){const N=[];for(let F=0;F<10;F++){const $=h(A+1,F+1);N.push(gO(A,F,$))}S.push(N)}return S})(s),m=lC(0,0),g=Ta({dom:{tag:"span",classes:["tox-insert-table-picker__label"]},components:[m],behaviours:Oo([fr.config({})])});return{type:"widget",data:{value:un("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[$2.widget({dom:{tag:"div",classes:["tox-insert-table-picker"]},components:NE(l).concat(g.asSpec()),behaviours:Oo([Tr("insert-table-picker",[La(h=>{fr.set(g.get(h),[m])}),Lf(sC,(h,x,w)=>{const{row:S,col:A}=w.event;((N,F,$,W,se)=>{for(let le=0;le<10;le++)for(let fe=0;fe<10;fe++)Dr.set(N[le][fe],le<=F&&fe<=$)})(l,S,A),fr.set(g.get(h),[lC(S+1,A+1)])}),Lf(iC,(h,x,w)=>{const{row:S,col:A}=w.event;e.onAction({numRows:S+1,numColumns:A+1}),$r(h,Sd())})]),Dn.config({initSize:{numRows:10,numColumns:10},mode:"flatgrid",selector:'[role="button"]'})])})]}},colorswatch:(e,r)=>{const s=((h,x)=>{const w=h.initData.allowCustomColors&&x.colorinput.hasCustomColors();return h.initData.colors.fold(()=>oC(x.colorinput.getColors(h.initData.storageKey),h.initData.storageKey,w),S=>S.concat(tC(w)))})(e,r),l=r.colorinput.getColorCols(e.initData.storageKey),m="color",g={...aC(un("menu-value"),s,h=>{e.onAction({value:h})},l,m,Oc.CLOSE_ON_EXECUTE,e.select.getOr(Bo),r.shared.providers),markers:cf(m),movement:_0(l,m)};return{type:"widget",data:{value:un("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[$2.widget(lf.sketch(g))]}}},DE=e=>({type:"separator",dom:{tag:"div",classes:[ny,"tox-collection__group-heading"]},components:e.text.map(Ya).toArray()});var cC=Object.freeze({__proto__:null,getCoupled:(e,r,s,l)=>s.getOrCreate(e,r,l),getExistingCoupled:(e,r,s,l)=>s.getExisting(e,r,l)}),RE=[ni("others",Cu(Fr.value,Cl()))],BE=Object.freeze({__proto__:null,init:()=>{const e={},r=(l,m)=>{if(Vt(l.others).length===0)throw new Error("Cannot find any known coupled components");return Xt(e,m)},s=me({});return Ia({readState:s,getExisting:(l,m,g)=>r(m,g).orThunk(()=>(Xt(m.others,g).getOrDie("No information found for coupled component: "+g),R.none())),getOrCreate:(l,m,g)=>r(m,g).getOrThunk(()=>{const h=Xt(m.others,g).getOrDie("No information found for coupled component: "+g)(l),x=l.getSystem().build(h);return e[g]=x,x})})}});const js=Ri({fields:RE,name:"coupling",apis:cC,state:BE}),dC=e=>{let r=R.none(),s=[];const l=h=>{m()?g(h):s.push(h)},m=()=>r.isSome(),g=h=>{r.each(x=>{setTimeout(()=>{h(x)},0)})};return e(h=>{m()||(r=R.some(h),Ie(s,g),s=[])}),{get:l,map:h=>dC(x=>{l(w=>{x(h(w))})}),isReady:m}},pO={nu:dC,pure:e=>dC(r=>{r(e)})},FE=e=>{setTimeout(()=>{throw e},0)},Ah=e=>{const r=s=>{e().then(s,FE)};return{map:s=>Ah(()=>e().then(s)),bind:s=>Ah(()=>e().then(l=>s(l).toPromise())),anonBind:s=>Ah(()=>e().then(()=>s.toPromise())),toLazy:()=>pO.nu(r),toCached:()=>{let s=null;return Ah(()=>(s===null&&(s=e()),s))},toPromise:e,get:r}},Qg=e=>Ah(()=>new Promise(e)),zm=e=>Ah(()=>Promise.resolve(e)),uC=me("sink"),LE=me(No({name:uC(),overrides:me({dom:{tag:"div"},behaviours:Oo([xl.config({useFixed:Ct})]),events:qa([jl(fn()),jl(ai()),jl(fa())])})})),fw=(e,r)=>{const s=e.getHotspot(r).getOr(r),l="hotspot",m=e.getAnchorOverrides();return e.layouts.fold(()=>({type:l,hotspot:s,overrides:m}),g=>({type:l,hotspot:s,overrides:m,layouts:g}))},Gu=(e,r,s,l,m,g,h)=>((w,S,A,N,F,$,W)=>{const se=((fe,te,X)=>(0,fe.fetch)(X).map(te))(w,S,N),le=IE(N,w);return se.map(fe=>fe.bind(te=>R.from(Ug.sketch({...$.menu(),uid:G(""),data:te,highlightOnOpen:W,onOpenMenu:(X,ue)=>{const ye=le().getOrDie();xl.position(ye,ue,{anchor:A}),Lr.decloak(F)},onOpenSubmenu:(X,ue,ye)=>{const we=le().getOrDie();xl.position(we,ye,{anchor:{type:"submenu",item:ue}}),Lr.decloak(F)},onRepositionMenu:(X,ue,ye)=>{const we=le().getOrDie();xl.position(we,ue,{anchor:A}),Ie(ye,Ye=>{xl.position(we,Ye.triggeredMenu,{anchor:{type:"submenu",item:Ye.triggeringItem}})})},onEscape:()=>(er.focus(N),Lr.close(F),R.some(!0))}))))})(e,r,fw(e,s),s,l,m,h).map(w=>(w.fold(()=>{Lr.isOpen(l)&&Lr.close(l)},S=>{Lr.cloak(l),Lr.open(l,S),g(l)}),l)),C0=(e,r,s,l,m,g,h)=>(Lr.close(l),zm(l)),S0=(e,r,s,l,m,g)=>{const h=js.getCoupled(s,"sandbox");return(Lr.isOpen(h)?C0:Gu)(e,r,s,h,l,m,g)},IE=(e,r)=>e.getSystem().getByUid(r.uid+"-"+uC()).map(s=>()=>Fr.value(s)).getOrThunk(()=>r.lazySink.fold(()=>()=>Fr.error(new Error("No internal sink is specified, nor could an external sink be found")),s=>()=>s(e))),PE=e=>{Lr.getState(e).each(r=>{Ug.repositionMenus(r)})},hw=(e,r,s)=>{const l=Ap(),m=IE(r,e);return{dom:{tag:"div",classes:e.sandboxClasses,attributes:{id:l.id,role:"listbox"}},behaviours:Bg(e.sandboxBehaviours,[Wo.config({store:{mode:"memory",initialValue:r}}),Lr.config({onOpen:(g,h)=>{const x=fw(e,r);l.link(r.element),e.matchWidth&&((w,S,A)=>{const N=Gr.getCurrent(S).getOr(S),F=Ga(w.element);A?Bn(N.element,"min-width",F+"px"):(($,W)=>{ma.set($,W)})(N.element,F)})(x.hotspot,h,e.useMinWidth),e.onOpen(x,g,h),s!==void 0&&s.onOpen!==void 0&&s.onOpen(g,h)},onClose:(g,h)=>{l.unlink(r.element),s!==void 0&&s.onClose!==void 0&&s.onClose(g,h)},isPartOf:(g,h,x)=>si(h,x)||si(r,x),getAttachPoint:()=>m().getOrDie()}),Gr.config({find:g=>Lr.getState(g).bind(h=>Gr.getCurrent(h))}),tc.config({channels:{...Rg({isExtraPart:Bo}),...Zp({doReposition:PE})}})])}},bw=e=>{const r=js.getCoupled(e,"sandbox");PE(r)},E0=()=>[ft("sandboxClasses",[]),nc("sandboxBehaviours",[Gr,tc,Lr,Wo])],mC=me([Yt("dom"),Yt("fetch"),Hr("onOpen"),Ol("onExecute"),ft("getHotspot",R.some),ft("getAnchorOverrides",me({})),hm(),qi("dropdownBehaviours",[Dr,js,Dn,er]),Yt("toggleClass"),ft("eventOrder",{}),la("lazySink"),ft("matchWidth",!1),ft("useMinWidth",!1),la("role")].concat(E0())),bu=me([Ro({schema:[jf(),ft("fakeFocus",!1)],name:"menu",defaults:e=>({onExecute:e.onExecute})}),LE()]),Hd=Wl({name:"Dropdown",configFields:mC(),partFields:bu(),factory:(e,r,s,l)=>{const m=w=>{Lr.getState(w).each(S=>{Ug.highlightPrimary(S)})},g=(w,S,A)=>S0(e,Ze,w,l,S,A),h={expand:w=>{Dr.isOn(w)||g(w,he,Gl.HighlightNone).get(he)},open:w=>{Dr.isOn(w)||g(w,he,Gl.HighlightMenuAndItem).get(he)},refetch:w=>js.getExistingCoupled(w,"sandbox").fold(()=>g(w,he,Gl.HighlightMenuAndItem).map(he),S=>Gu(e,Ze,w,S,l,he,Gl.HighlightMenuAndItem).map(he)),isOpen:Dr.isOn,close:w=>{Dr.isOn(w)&&g(w,he,Gl.HighlightMenuAndItem).get(he)},repositionMenus:w=>{Dr.isOn(w)&&bw(w)}},x=(w,S)=>(Qd(w),R.some(!0));return{uid:e.uid,dom:e.dom,components:r,behaviours:Fi(e.dropdownBehaviours,[Dr.config({toggleClass:e.toggleClass,aria:{mode:"expanded"}}),js.config({others:{sandbox:w=>hw(e,w,{onOpen:()=>Dr.on(w),onClose:()=>Dr.off(w)})}}),Dn.config({mode:"special",onSpace:x,onEnter:x,onDown:(w,S)=>{if(Hd.isOpen(w)){const A=js.getCoupled(w,"sandbox");m(A)}else Hd.open(w);return R.some(!0)},onEscape:(w,S)=>Hd.isOpen(w)?(Hd.close(w),R.some(!0)):R.none()}),er.config({})]),events:B1(R.some(w=>{g(w,m,Gl.HighlightMenuAndItem).get(he)})),eventOrder:{...e.eventOrder,[fl()]:["disabling","toggling","alloy.base.behaviour"]},apis:h,domModification:{attributes:{"aria-haspopup":"true",...e.role.fold(()=>({}),w=>({role:w})),...e.dom.tag==="button"?{type:Xt(e.dom,"attributes").bind(w=>Xt(w,"type")).getOr("button")}:{}}}}},apis:{open:(e,r)=>e.open(r),refetch:(e,r)=>e.refetch(r),expand:(e,r)=>e.expand(r),close:(e,r)=>e.close(r),isOpen:(e,r)=>e.isOpen(r),repositionMenus:(e,r)=>e.repositionMenus(r)}}),gC=(e,r,s)=>{_2(e).each(l=>{var m;((g,h)=>{Ca(h.element,"id").each(x=>Kn(g.element,"aria-activedescendant",x))})(l,s),(Di((m=r).element,ay)?R.some(m.element):vs(m.element,"."+ay)).each(g=>{Ca(g,"id").each(h=>Kn(l.element,"aria-controls",h))})}),Kn(s.element,"aria-selected","true")},fO=(e,r,s)=>{Kn(s.element,"aria-selected","false")},HE=e=>js.getExistingCoupled(e,"sandbox").bind(s0).map(eE).map(r=>r.fetchPattern).getOr("");var xy;(function(e){e[e.ContentFocus=0]="ContentFocus",e[e.UiFocus=1]="UiFocus"})(xy||(xy={}));const pC=(e,r,s,l,m)=>{const g=s.shared.providers,h=w=>m?{...w,shortcut:R.none(),icon:w.text.isSome()?R.none():w.icon}:w;switch(e.type){case"menuitem":return(x=e,ka("menuitem",mE,x)).fold(Sm,w=>R.some(((S,A,N,F=!0)=>{const $=fy({presets:"normal",iconContent:S.icon,textContent:S.text,htmlContent:R.none(),ariaLabel:S.text,caret:R.none(),checkMark:R.none(),shortcutContent:S.shortcut},N,F);return gy({data:py(S),getApi:W=>({isEnabled:()=>!Qn.isDisabled(W),setEnabled:se=>Qn.set(W,!se)}),enabled:S.enabled,onAction:S.onAction,onSetup:S.onSetup,triggersSubmenu:!1,itemBehaviours:[]},$,A,N)})(h(w),r,g,l)));case"nestedmenuitem":return(w=>ka("nestedmenuitem",gE,w))(e).fold(Sm,w=>R.some(((S,A,N,F=!0,$=!1)=>{const W=$?(se=N.icons,tw("chevron-down",se,[g2])):(fe=>tw("chevron-right",fe,[g2]))(N.icons);var se;const le=fy({presets:"normal",iconContent:S.icon,textContent:S.text,htmlContent:R.none(),ariaLabel:S.text,caret:R.some(W),checkMark:R.none(),shortcutContent:S.shortcut},N,F);return gy({data:py(S),getApi:fe=>({isEnabled:()=>!Qn.isDisabled(fe),setEnabled:te=>Qn.set(fe,!te),setIconFill:(te,X)=>{vs(fe.element,`svg path[class="${te}"], rect[class="${te}"]`).each(ue=>{Kn(ue,"fill",X)})},setTooltip:te=>{const X=N.translate(te);Os(fe.element,{"aria-label":X,title:X})}}),enabled:S.enabled,onAction:he,onSetup:S.onSetup,triggersSubmenu:!0,itemBehaviours:[]},le,A,N)})(h(w),r,g,l,m)));case"togglemenuitem":return(w=>ka("togglemenuitem",pE,w))(e).fold(Sm,w=>R.some(((S,A,N,F=!0)=>{const $=fy({iconContent:S.icon,textContent:S.text,htmlContent:R.none(),ariaLabel:S.text,checkMark:R.some(nw(N.icons)),caret:R.none(),shortcutContent:S.shortcut,presets:"normal",meta:S.meta},N,F);return Da(gy({data:py(S),enabled:S.enabled,getApi:W=>({setActive:se=>{Dr.set(W,se)},isActive:()=>Dr.isOn(W),isEnabled:()=>!Qn.isDisabled(W),setEnabled:se=>Qn.set(W,!se)}),onAction:S.onAction,onSetup:S.onSetup,triggersSubmenu:!1,itemBehaviours:[]},$,A,N),{toggling:{toggleClass:u2,toggleOnExecute:!1,selected:S.active}})})(h(w),r,g,l)));case"separator":return(w=>ka("separatormenuitem",rE,w))(e).fold(Sm,w=>R.some(DE(w)));case"fancymenuitem":return(w=>ka("fancymenuitem",B2,w))(e).fold(Sm,w=>((S,A)=>Xt(ME,S.fancytype).map(N=>N(S,A)))(w,s));default:return console.error("Unknown item in general menu",e),R.none()}var x},wy=(e,r,s,l,m,g,h)=>{const x=l===1,w=!x||i0(e);return Wt(dt(e,S=>{switch(S.type){case"separator":return(A=S,ka("Autocompleter.Separator",rE,A)).fold(Sm,N=>R.some(DE(N)));case"cardmenuitem":return(N=>ka("cardmenuitem",oO,N))(S).fold(Sm,N=>R.some(((F,$,W,se)=>{const le={dom:rw(F.label),optComponents:[R.some({dom:{tag:"div",classes:[p2,f2]},components:b0(F.items,se)})]};return gy({data:py({text:R.none(),...F}),enabled:F.enabled,getApi:fe=>({isEnabled:()=>!Qn.isDisabled(fe),setEnabled:te=>{Qn.set(fe,!te),Ie(Zl(fe.element,"*"),X=>{fe.getSystem().getByDom(X).each(ue=>{ue.hasConfigured(Qn)&&Qn.set(ue,!te)})})}}),onAction:F.onAction,onSetup:F.onSetup,triggersSubmenu:!1,itemBehaviours:R.from(se.itemBehaviours).getOr([])},le,$,W.providers)})({...N,onAction:F=>{N.onAction(F),s(N.value,N.meta)}},m,g,{itemBehaviours:aw(N.meta,g),cardText:{matchText:r,highlightOn:h}})));default:return(N=>ka("Autocompleter.Item",N2,N))(S).fold(Sm,N=>R.some(((F,$,W,se,le,fe,te,X=!0)=>{const ue=fy({presets:se,textContent:R.none(),htmlContent:W?F.text.map(ye=>sw(ye,$)):R.none(),ariaLabel:F.text,iconContent:F.icon,shortcutContent:R.none(),checkMark:R.none(),caret:R.none(),value:F.value},te.providers,X,F.icon);return gy({data:py(F),enabled:F.enabled,getApi:me({}),onAction:ye=>le(F.value,F.meta),onSetup:me(he),triggersSubmenu:!1,itemBehaviours:aw(F.meta,te)},ue,fe,te.providers)})(N,r,x,"normal",s,m,g,w)))}var A}))},fC=(e,r,s,l,m,g)=>{const h=i0(r),x=Wt(dt(r,S=>{const A=N=>pC(N,s,l,(F=>m?!Vo(F,"text"):h)(N),m);return S.type==="nestedmenuitem"&&S.getSubmenuItems().length<=0?A({...S,enabled:!1}):A(S)})),w=(S=>S.searchMode==="no-search"?{menuType:"normal"}:{menuType:"searchable",searchMode:S})(g);return(m?ZA:Yx)(e,h,x,1,w)},yw=e=>Ug.singleData(e.value,e),jE=(e,r)=>{const s=un("autocompleter"),l=Sn(!1),m=Sn(!1),g=yl(Rs.sketch({dom:{tag:"div",classes:["tox-autocompleter"],attributes:{id:s}},components:[],fireDismissalEventInstead:{},inlineBehaviours:Oo([Tr("dismissAutocompleter",[Kt(Ou(),()=>A()),Kt(dg(),($,W)=>{Ca(W.event.target,"id").each(se=>Kn(St(e.getBody()),"aria-activedescendant",se))})])]),lazySink:r.getSink})),h=()=>Rs.isOpen(g),x=m.get,w=()=>{if(h()){Rs.hide(g),e.dom.remove(s,!1);const $=St(e.getBody());Ca($,"aria-owns").filter(W=>W===s).each(()=>{xa($,"aria-owns"),xa($,"aria-activedescendant")})}},S=()=>Rs.getContent(g).bind($=>Me($.components(),0)),A=()=>e.execCommand("mceAutocompleterClose"),N=$=>{const W=(se=>{const le=Gt(se,fe=>R.from(fe.columns)).getOr(1);return ct(se,fe=>{const te=fe.items;return wy(te,fe.matchText,(X,ue)=>{const ye=e.selection.getRng();((we,Ye)=>c2(St(Ye.startContainer)).map(Tt=>{const Qt=we.createRng();return Qt.selectNode(Tt.dom),Qt}))(e.dom,ye).each(we=>{const Ye={hide:()=>A(),reload:Tt=>{w(),e.execCommand("mceAutocompleterReload",!1,{fetchOptions:Tt})}};l.set(!0),fe.onAction(Ye,we,X,ue),l.set(!1)})},le,Oc.BUBBLE_TO_SANDBOX,r,fe.highlightOn)})})($);W.length>0?(((se,le)=>{var fe;(fe=St(e.getBody()),vs(fe,qx)).each(te=>{const X=Gt(se,ue=>R.from(ue.columns)).getOr(1);Rs.showMenuAt(g,{anchor:{type:"node",root:St(e.getBody()),node:R.from(te)}},((ue,ye,we,Ye)=>{const Tt=_0(ye,Ye),Qt=cf(Ye);return{data:yw({...ue,movement:Tt,menuBehaviours:cy(ye!=="auto"?[]:[La((no,oo)=>{Qx(no,4,Qt.item).each(({numColumns:Uo,numRows:pn})=>{Dn.setGridSize(no,pn,Uo)})})])}),menu:{markers:cf(Ye),fakeFocus:we===xy.ContentFocus}}})(Yx("autocompleter-value",!0,le,X,{menuType:"normal"}),X,xy.ContentFocus,"normal"))}),S().each(ba.highlightFirst)})($,W),Kn(St(e.getBody()),"aria-owns",s),e.inline||F()):w()},F=()=>{e.dom.get(s)&&e.dom.remove(s,!1);const $=e.getDoc().documentElement,W=e.selection.getNode(),se=(le=>Vm(le,!0))(g.element);ji(se,{border:"0",clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:"0",position:"absolute",width:"1px",top:`${W.offsetTop}px`,left:`${W.offsetLeft}px`}),e.dom.add($,se.dom),vs(se,'[role="menu"]').each(le=>{Pr(le,"position"),Pr(le,"max-height")})};e.on("AutocompleterStart",({lookupData:$})=>{m.set(!0),l.set(!1),N($)}),e.on("AutocompleterUpdate",({lookupData:$})=>N($)),e.on("AutocompleterEnd",()=>{w(),m.set(!1),l.set(!1)}),(($,W)=>{const se=(fe,te)=>{_n(fe,fn(),{raw:te})},le=()=>$.getMenu().bind(ba.getHighlighted);W.on("keydown",fe=>{const te=fe.which;$.isActive()&&($.isMenuOpen()?te===13?(le().each(Qd),fe.preventDefault()):te===40?(le().fold(()=>{$.getMenu().each(ba.highlightFirst)},X=>{se(X,fe)}),fe.preventDefault(),fe.stopImmediatePropagation()):te!==37&&te!==38&&te!==39||le().each(X=>{se(X,fe),fe.preventDefault(),fe.stopImmediatePropagation()}):te!==13&&te!==38&&te!==40||$.cancelIfNecessary())}),W.on("NodeChange",fe=>{$.isActive()&&!$.isProcessingAction()&&c2(St(fe.element)).isNone()&&$.cancelIfNecessary()})})({cancelIfNecessary:A,isMenuOpen:h,isActive:x,isProcessingAction:l.get,getMenu:S},e)},vw=["visible","hidden","clip"],VE=e=>Ha(e).length>0&&!Rt(vw,e),$E=e=>{if(Ae(e)){const r=aa(e,"overflow-x"),s=aa(e,"overflow-y");return VE(r)||VE(s)}return!1},ff=(e,r)=>qg(e)?(s=>{const l=h1(s,$E),m=l.length===0?va(s).map(Cs).map(g=>h1(g,$E)).getOr([]):l;return at(m).map(g=>({element:g,others:m.slice(1)}))})(r):R.none(),Oh=e=>{const r=[...dt(e.others,Fa),Ua()];return((s,l)=>zo(l,(m,g)=>Kc(m,g),s))(Fa(e.element),r)},Nh=(e,r,s)=>Vl(e,r,s).isSome(),hC=(e,r)=>{let s=null;return{cancel:()=>{s!==null&&(clearTimeout(s),s=null)},schedule:(...l)=>{s=setTimeout(()=>{e.apply(null,l),s=null},r)}}},bc=e=>{const r=e.raw;return r.touches===void 0||r.touches.length!==1?R.none():R.some(r.touches[0])},UE=(e,r)=>{const s={stopBackspace:!0,...r},l=(N=>{const F=ms(),$=Sn(!1),W=hC(le=>{N.triggerEvent(ys(),le),$.set(!0)},400),se=Oi([{key:Ws(),value:le=>(bc(le).each(fe=>{W.cancel();const te={x:fe.clientX,y:fe.clientY,target:le.target};W.schedule(le),$.set(!1),F.set(te)}),R.none())},{key:ed(),value:le=>(W.cancel(),bc(le).each(fe=>{F.on(te=>{((X,ue)=>{const ye=Math.abs(X.clientX-ue.x),we=Math.abs(X.clientY-ue.y);return ye>5||we>5})(fe,te)&&F.clear()})}),R.none())},{key:Hl(),value:le=>(W.cancel(),F.get().filter(fe=>Jo(fe.target,le.target)).map(fe=>$.get()?(le.prevent(),!1):N.triggerEvent(Fm(),le)))}]);return{fireIfReady:(le,fe)=>Xt(se,fe).bind(te=>te(le))}})(s),m=dt(["touchstart","touchmove","touchend","touchcancel","gesturestart","mousedown","mouseup","mouseover","mousemove","mouseout","click"].concat(["selectstart","input","contextmenu","change","transitionend","transitioncancel","drag","dragstart","dragend","dragenter","dragleave","dragover","drop","keyup"]),N=>Ul(e,N,F=>{l.fireIfReady(F,N).each($=>{$&&F.kill()}),s.triggerEvent(N,F)&&F.kill()})),g=ms(),h=Ul(e,"paste",N=>{l.fireIfReady(N,"paste").each(F=>{F&&N.kill()}),s.triggerEvent("paste",N)&&N.kill(),g.set(setTimeout(()=>{s.triggerEvent(am(),N)},0))}),x=Ul(e,"keydown",N=>{s.triggerEvent("keydown",N)?N.kill():s.stopBackspace&&(F=>F.raw.which===L3[0]&&!Rt(["input","textarea"],gr(F.target))&&!Nh(F.target,'[contenteditable="true"]'))(N)&&N.prevent()}),w=Ul(e,"focusin",N=>{s.triggerEvent("focusin",N)&&N.kill()}),S=ms(),A=Ul(e,"focusout",N=>{s.triggerEvent("focusout",N)&&N.kill(),S.set(setTimeout(()=>{s.triggerEvent(vp(),N)},0))});return{unbind:()=>{Ie(m,N=>{N.unbind()}),x.unbind(),w.unbind(),A.unbind(),h.unbind(),g.on(clearTimeout),S.on(clearTimeout)}}},ZE=(e,r)=>{const s=Xt(e,"target").getOr(r);return Sn(s)},T0=Ui([{stopped:[]},{resume:["element"]},{complete:[]}]),bC=(e,r,s,l,m,g)=>{const h=e(r,l),x=((w,S)=>{const A=Sn(!1),N=Sn(!1);return{stop:()=>{A.set(!0)},cut:()=>{N.set(!0)},isStopped:A.get,isCut:N.get,event:w,setSource:S.set,getSource:S.get}})(s,m);return h.fold(()=>(g.logEventNoHandlers(r,l),T0.complete()),w=>{const S=w.descHandler;return Td(S)(x),x.isStopped()?(g.logEventStopped(r,w.element,S.purpose),T0.stopped()):x.isCut()?(g.logEventCut(r,w.element,S.purpose),T0.complete()):rn(w.element).fold(()=>(g.logNoParent(r,w.element,S.purpose),T0.complete()),A=>(g.logEventResponse(r,w.element,S.purpose),T0.resume(A)))})},qE=(e,r,s,l,m,g)=>bC(e,r,s,l,m,g).fold(Ct,h=>qE(e,r,s,h,m,g),Bo),WE=(e,r,s,l,m)=>{const g=ZE(s,l);return qE(e,r,s,l,g,m)},hO=()=>{const e=(()=>{const l={};return{registerId:(m,g,h)=>{$o(h,(x,w)=>{const S=l[w]!==void 0?l[w]:{};S[g]=((A,N)=>({cHandler:rt.apply(void 0,[A.handler].concat(N)),purpose:A.purpose}))(x,m),l[w]=S})},unregisterId:m=>{$o(l,(g,h)=>{Vo(g,m)&&delete g[m]})},filterByType:m=>Xt(l,m).map(g=>zt(g,(h,x)=>((w,S)=>({id:w,descHandler:S}))(x,h))).getOr([]),find:(m,g,h)=>Xt(l,g).bind(x=>qs(h,w=>((S,A)=>D(A).bind(N=>Xt(S,N)).map(N=>((F,$)=>({element:F,descHandler:$}))(A,N)))(x,w),m))}})(),r={},s=l=>{D(l.element).each(m=>{delete r[m],e.unregisterId(m)})};return{find:(l,m,g)=>e.find(l,m,g),filter:l=>e.filterByType(l),register:l=>{const m=(h=>{const x=h.element;return D(x).getOrThunk(()=>((w,S)=>{const A=un(Du+"uid-");return C(S,A),A})(0,h.element))})(l);$n(r,m)&&((h,x)=>{const w=r[x];if(w!==h)throw new Error('The tagId "'+x+'" is already used by: '+Fc(w.element)+`
Cannot use it for: `+Fc(h.element)+`
The conflicting element is`+(za(w.element)?" ":" not ")+"already in the DOM");s(h)})(l,m);const g=[l];e.registerId(g,m,l.events),r[m]=l},unregister:s,getById:l=>Xt(r,l)}},Ku=Pc({name:"Container",factory:e=>{const{attributes:r,...s}=e.dom;return{uid:e.uid,dom:{tag:"div",attributes:{role:"presentation",...r},...s},components:e.components,behaviours:Hb(e.containerBehaviours),events:e.events,domModification:e.domModification,eventOrder:e.eventOrder}},configFields:[ft("components",[]),qi("containerBehaviours",[]),ft("events",{}),ft("domModification",{}),ft("eventOrder",{})]}),Yu=e=>{const r=le=>rn(e.element).fold(Ct,fe=>Jo(le,fe)),s=hO(),l=(le,fe)=>s.find(r,le,fe),m=UE(e.element,{triggerEvent:(le,fe)=>Pu(le,fe.target,te=>((X,ue,ye,we)=>WE(X,ue,ye,ye.target,we))(l,le,fe,te))}),g={debugInfo:me("real"),triggerEvent:(le,fe,te)=>{Pu(le,fe,X=>WE(l,le,te,fe,X))},triggerFocus:(le,fe)=>{D(le).fold(()=>{sd(le)},te=>{Pu(Xd(),le,X=>(((ue,ye,we,Ye,Tt)=>{const Qt=ZE(we,Ye);bC(ue,ye,we,Ye,Qt,Tt)})(l,Xd(),{originator:fe,kill:he,prevent:he,target:le},le,X),!1))})},triggerEscape:(le,fe)=>{g.triggerEvent("keydown",le.element,fe.event)},getByUid:le=>W(le),getByDom:le=>se(le),build:yl,buildOrPatch:Pf,addToGui:le=>{w(le)},removeFromGui:le=>{S(le)},addToWorld:le=>{h(le)},removeFromWorld:le=>{x(le)},broadcast:le=>{N(le)},broadcastOn:(le,fe)=>{F(le,fe)},broadcastEvent:(le,fe)=>{$(le,fe)},isConnected:Ct},h=le=>{le.connect(g),It(le.element)||(s.register(le),Ie(le.components(),h),g.triggerEvent(Lm(),le.element,{target:le.element}))},x=le=>{It(le.element)||(Ie(le.components(),x),s.unregister(le)),le.disconnect()},w=le=>{ym(e,le)},S=le=>{id(le)},A=le=>{const fe=s.filter(Cd());Ie(fe,te=>{const X=te.descHandler;Td(X)(le)})},N=le=>{A({universal:!0,data:le})},F=(le,fe)=>{A({universal:!1,channels:le,data:fe})},$=(le,fe)=>((te,X,ue)=>{const ye=(we=>{const Ye=Sn(!1);return{stop:()=>{Ye.set(!0)},cut:he,isStopped:Ye.get,isCut:Bo,event:we,setSource:$t("Cannot set source of a broadcasted event"),getSource:$t("Cannot get source of a broadcasted event")}})(X);return Ie(te,we=>{const Ye=we.descHandler;Td(Ye)(ye)}),ye.isStopped()})(s.filter(le),fe),W=le=>s.getById(le).fold(()=>Fr.error(new Error('Could not find component with uid: "'+le+'" in system.')),Fr.value),se=le=>{const fe=D(le).getOr("not found");return W(fe)};return h(e),{root:e,element:e.element,destroy:()=>{m.unbind(),ia(e.element)},add:w,remove:S,getByUid:W,getByDom:se,addToWorld:h,removeFromWorld:x,broadcast:N,broadcastOn:F,broadcastEvent:$}},yC=me([ft("prefix","form-field"),qi("fieldBehaviours",[Gr,Wo])]),GE=me([No({schema:[Yt("dom")],name:"label"}),No({factory:{sketch:e=>({uid:e.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:e.text}})},schema:[Yt("text")],name:"aria-descriptor"}),Eo({factory:{sketch:e=>{const r=((s,l)=>{const m={};return $o(s,(g,h)=>{Rt(l,h)||(m[h]=g)}),m})(e,["factory"]);return e.factory.sketch(r)}},schema:[Yt("factory")],name:"field"})]),ya=Wl({name:"FormField",configFields:yC(),partFields:GE(),factory:(e,r,s,l)=>{const m=Fi(e.fieldBehaviours,[Gr.config({find:x=>ua(x,e,"field")}),Wo.config({store:{mode:"manual",getValue:x=>Gr.getCurrent(x).bind(Wo.getValue),setValue:(x,w)=>{Gr.getCurrent(x).each(S=>{Wo.setValue(S,w)})}}})]),g=qa([La((x,w)=>{const S=Vu(x,e,["label","field","aria-descriptor"]);S.field().each(A=>{const N=un(e.prefix);S.label().each(F=>{Kn(F.element,"for",N),Kn(A.element,"id",N)}),S["aria-descriptor"]().each(F=>{const $=un(e.prefix);Kn(F.element,"id",$),Kn(A.element,"aria-describedby",$)})})})]),h={getField:x=>ua(x,e,"field"),getLabel:x=>ua(x,e,"label")};return{uid:e.uid,dom:e.dom,components:r,behaviours:m,events:g,apis:h}},apis:{getField:(e,r)=>e.getField(r),getLabel:(e,r)=>e.getLabel(r)}});var vC=Object.freeze({__proto__:null,exhibit:(e,r)=>hi({attributes:Oi([{key:r.tabAttr,value:"true"}])})}),bO=[ft("tabAttr","data-alloy-tabstop")];const Bs=Ri({fields:bO,name:"tabstopping",active:vC});var yO=tinymce.util.Tools.resolve("tinymce.html.Entities");const ky=(e,r,s,l)=>{const m=Qm(e,r,s,l);return ya.sketch(m)},Qm=(e,r,s,l)=>({dom:z0(s),components:e.toArray().concat([r]),fieldBehaviours:Oo(l)}),z0=e=>({tag:"div",classes:["tox-form__group"].concat(e)}),hf=(e,r)=>ya.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[Ya(r.translate(e))]}),cd=un("form-component-change"),_y=un("form-close"),ep=un("form-cancel"),Xu=un("form-action"),bf=un("form-submit"),Mh=un("form-block"),Dh=un("form-unblock"),xC=un("form-tabchange"),wC=un("form-resize"),KE=(e,r,s)=>{const l=e.label.map(N=>hf(N,r)),m=r.icons(),g=N=>(F,$)=>{Vl($.event.target,"[data-collection-item-value]").each(W=>{N(F,$,W,Ma(W,"data-collection-item-value"))})},h=g((N,F,$,W)=>{F.stop(),r.isDisabled()||_n(N,Xu,{name:e.name,value:W})}),x=[Kt(Te(),g((N,F,$)=>{sd($)})),Kt(fa(),h),Kt(Fm(),h),Kt(He(),g((N,F,$)=>{vs(N.element,"."+ry).each(W=>{rs(W,ry)}),Jr($,ry)})),Kt(_o(),g(N=>{vs(N.element,"."+ry).each(F=>{rs(F,ry)})})),Cc(g((N,F,$,W)=>{_n(N,Xu,{name:e.name,value:W})}))],w=(N,F)=>dt(Zl(N.element,".tox-collection__item"),F),S=ya.parts.field({dom:{tag:"div",classes:["tox-collection"].concat(e.columns!==1?["tox-collection--grid"]:["tox-collection--list"])},components:[],factory:{sketch:Ze},behaviours:Oo([Qn.config({disabled:r.isDisabled,onDisabled:N=>{w(N,F=>{Jr(F,"tox-collection__item--state-disabled"),Kn(F,"aria-disabled",!0)})},onEnabled:N=>{w(N,F=>{rs(F,"tox-collection__item--state-disabled"),xa(F,"aria-disabled")})}}),Wi(),fr.config({}),Wo.config({store:{mode:"memory",initialValue:s.getOr([])},onSetValue:(N,F)=>{(($,W)=>{const se=dt(W,te=>{const X=jc.translate(te.text),ue=e.columns===1?`<div class="tox-collection__item-label">${X}</div>`:"",ye=`<div class="tox-collection__item-icon">${(Tt=>{var Qt;return(Qt=m[Tt])!==null&&Qt!==void 0?Qt:Tt})(te.icon)}</div>`,we={_:" "," - ":" ","-":" "},Ye=X.replace(/\_| \- |\-/g,Tt=>we[Tt]);return`<div class="tox-collection__item${r.isDisabled()?" tox-collection__item--state-disabled":""}" tabindex="-1" data-collection-item-value="${yO.encodeAllRaw(te.value)}" title="${Ye}" aria-label="${Ye}">${ye}${ue}</div>`}),le=e.columns!=="auto"&&e.columns>1?V(se,e.columns):[se],fe=dt(le,te=>`<div class="tox-collection__group">${te.join("")}</div>`);Ds($.element,fe.join(""))})(N,F),e.columns==="auto"&&Qx(N,5,"tox-collection__item").each(({numRows:$,numColumns:W})=>{Dn.setGridSize(N,$,W)}),$r(N,wC)}}),Bs.config({}),Dn.config((A=e.columns,A===1?{mode:"menu",moveOnTab:!1,selector:".tox-collection__item"}:A==="auto"?{mode:"flatgrid",selector:".tox-collection__item",initSize:{numColumns:1,numRows:1}}:{mode:"matrix",selectors:{row:".tox-collection__group",cell:`.${ny}`}})),Tr("collection-events",x)]),eventOrder:{[fl()]:["disabling","alloy.base.behaviour","collection-events"]}});var A;return ky(l,S,["tox-form__group--collection"],[])},YE=["input","textarea"],XE=e=>{const r=gr(e);return Rt(YE,r)},JE=(e,r)=>{const s=r.getRoot(e).getOr(e.element);rs(s,r.invalidClass),r.notify.each(l=>{XE(e.element)&&Kn(e.element,"aria-invalid",!1),l.getContainer(e).each(m=>{Ds(m,l.validHtml)}),l.onValid(e)})},QE=(e,r,s,l)=>{const m=r.getRoot(e).getOr(e.element);Jr(m,r.invalidClass),r.notify.each(g=>{XE(e.element)&&Kn(e.element,"aria-invalid",!0),g.getContainer(e).each(h=>{Ds(h,l)}),g.onInvalid(e,l)})},kC=(e,r,s)=>r.validator.fold(()=>zm(Fr.value(!0)),l=>l.validate(e)),xw=(e,r,s)=>(r.notify.each(l=>{l.onValidate(e)}),kC(e,r).map(l=>e.getSystem().isConnected()?l.fold(m=>(QE(e,r,0,m),Fr.error(m)),m=>(JE(e,r),Fr.value(m))):Fr.error("No longer in system")));var eT=Object.freeze({__proto__:null,markValid:JE,markInvalid:QE,query:kC,run:xw,isInvalid:(e,r)=>{const s=r.getRoot(e).getOr(e.element);return Di(s,r.invalidClass)}}),vO=Object.freeze({__proto__:null,events:(e,r)=>e.validator.map(s=>qa([Kt(s.onEvent,l=>{xw(l,e).get(Ze)})].concat(s.validateOnLoad?[La(l=>{xw(l,e).get(he)})]:[]))).getOr({})}),tT=[Yt("invalidClass"),ft("getRoot",R.none),gl("notify",[ft("aria","alert"),ft("getContainer",R.none),ft("validHtml",""),Hr("onValid"),Hr("onInvalid"),Hr("onValidate")]),gl("validator",[Yt("validate"),ft("onEvent","input"),ft("validateOnLoad",!0)])];const jd=Ri({fields:tT,name:"invalidating",active:vO,apis:eT,extra:{validation:e=>r=>{const s=Wo.getValue(r);return zm(e(s))}}}),Cy=Ri({fields:[],name:"unselecting",active:Object.freeze({__proto__:null,events:()=>qa([Nu(Bf(),Ct)]),exhibit:()=>hi({styles:{"-webkit-user-select":"none","user-select":"none","-ms-user-select":"none","-moz-user-select":"-moz-none"},attributes:{unselectable:"on"}})})}),oT=un("color-input-change"),nT=un("color-swatch-change"),_C=un("color-picker-cancel"),rT=No({schema:[Yt("dom")],name:"label"}),eg=e=>No({name:e+"-edge",overrides:r=>r.model.manager.edgeActions[e].fold(()=>({}),s=>({events:qa([lm(Ws(),(l,m,g)=>s(l,g),[r]),lm(ai(),(l,m,g)=>s(l,g),[r]),lm(z(),(l,m,g)=>{g.mouseIsDown.get()&&s(l,g)},[r])])}))}),tp=eg("top-left"),CC=eg("top"),aT=eg("top-right"),sT=eg("right"),SC=eg("bottom-right"),iT=eg("bottom"),ww=eg("bottom-left"),lT=eg("left"),cT=Eo({name:"thumb",defaults:me({dom:{styles:{position:"absolute"}}}),overrides:e=>({events:qa([jm(Ws(),e,"spectrum"),jm(ed(),e,"spectrum"),jm(Hl(),e,"spectrum"),jm(ai(),e,"spectrum"),jm(z(),e,"spectrum"),jm(J(),e,"spectrum")])})}),kw=e=>Pg(e.event);var dT=[rT,lT,sT,CC,iT,tp,aT,ww,SC,cT,Eo({schema:[ro("mouseIsDown",()=>Sn(!1))],name:"spectrum",overrides:e=>{const r=e.model.manager,s=(l,m)=>r.getValueFromEvent(m).map(g=>r.setValueFrom(l,e,g));return{behaviours:Oo([Dn.config({mode:"special",onLeft:(l,m)=>r.onLeft(l,e,kw(m)),onRight:(l,m)=>r.onRight(l,e,kw(m)),onUp:(l,m)=>r.onUp(l,e,kw(m)),onDown:(l,m)=>r.onDown(l,e,kw(m))}),Bs.config({}),er.config({})]),events:qa([Kt(Ws(),s),Kt(ed(),s),Kt(ai(),s),Kt(z(),(l,m)=>{e.mouseIsDown.get()&&s(l,m)})])}}})];const Sy=me("slider.change.value"),EC=e=>{const r=e.event.raw;if((s=>s.type.indexOf("touch")!==-1)(r)){const s=r;return s.touches!==void 0&&s.touches.length===1?R.some(s.touches[0]).map(l=>kn(l.clientX,l.clientY)):R.none()}{const s=r;return s.clientX!==void 0?R.some(s).map(l=>kn(l.clientX,l.clientY)):R.none()}},Rh=e=>e.model.minX,Bh=e=>e.model.minY,Fh=e=>e.model.minX-1,A0=e=>e.model.minY-1,yf=e=>e.model.maxX,op=e=>e.model.maxY,O0=e=>e.model.maxX+1,_w=e=>e.model.maxY+1,TC=(e,r,s)=>r(e)-s(e),Cw=e=>TC(e,yf,Rh),zC=e=>TC(e,op,Bh),AC=e=>Cw(e)/2,OC=e=>zC(e)/2,Ey=(e,r)=>r?e.stepSize*e.speedMultiplier:e.stepSize,Sw=e=>e.snapToGrid,uT=e=>e.snapStart,Ty=e=>e.rounded,zy=(e,r)=>e[r+"-edge"]!==void 0,Ew=e=>zy(e,"left"),Tw=e=>zy(e,"right"),NC=e=>zy(e,"top"),MC=e=>zy(e,"bottom"),tg=e=>e.model.value.get(),np=(e,r)=>({x:e,y:r}),yu=(e,r)=>{_n(e,Sy(),{value:r})},zw=(e,r,s,l)=>e<r?e:e>s?s:e===r?r-1:Math.max(r,e-l),Aw=(e,r,s,l)=>e>s?e:e<r?r:e===s?s+1:Math.min(s,e+l),DC=(e,r,s)=>Math.max(r,Math.min(s,e)),mT=e=>{const{min:r,max:s,range:l,value:m,step:g,snap:h,snapStart:x,rounded:w,hasMinEdge:S,hasMaxEdge:A,minBound:N,maxBound:F,screenRange:$}=e,W=S?r-1:r,se=A?s+1:s;if(m<N)return W;if(m>F)return se;{const le=((te,X,ue)=>Math.min(ue,Math.max(te,X))-X)(m,N,F),fe=DC(le/$*l+r,W,se);return h&&fe>=r&&fe<=s?((te,X,ue,ye,we)=>we.fold(()=>{const Ye=te-X,Tt=Math.round(Ye/ye)*ye;return DC(X+Tt,X-1,ue+1)},Ye=>{const Tt=(te-Ye)%ye,Qt=Math.round(Tt/ye),no=Math.floor((te-Ye)/ye),oo=Math.floor((ue-Ye)/ye),Uo=Ye+Math.min(oo,no+Qt)*ye;return Math.max(Ye,Uo)}))(fe,r,s,g,x):w?Math.round(fe):fe}},RC=e=>{const{min:r,max:s,range:l,value:m,hasMinEdge:g,hasMaxEdge:h,maxBound:x,maxOffset:w,centerMinEdge:S,centerMaxEdge:A}=e;return m<r?g?0:S:m>s?h?x:A:(m-r)/l*w},N0="top",gT="right",pT="bottom",Ow="left",og=e=>e.element.dom.getBoundingClientRect(),vu=(e,r)=>e[r],M0=e=>{const r=og(e);return vu(r,Ow)},fT=e=>{const r=og(e);return vu(r,gT)},D0=e=>{const r=og(e);return vu(r,N0)},hT=e=>{const r=og(e);return vu(r,pT)},BC=e=>{const r=og(e);return vu(r,"width")},FC=e=>{const r=og(e);return vu(r,"height")},LC=(e,r,s)=>(e+r)/2-s,IC=(e,r)=>{const s=og(e),l=og(r),m=vu(s,Ow),g=vu(s,gT),h=vu(l,Ow);return LC(m,g,h)},PC=(e,r)=>{const s=og(e),l=og(r),m=vu(s,N0),g=vu(s,pT),h=vu(l,N0);return LC(m,g,h)},Lh=(e,r)=>{_n(e,Sy(),{value:r})},HC=(e,r,s)=>{const l={min:Rh(r),max:yf(r),range:Cw(r),value:s,step:Ey(r),snap:Sw(r),snapStart:uT(r),rounded:Ty(r),hasMinEdge:Ew(r),hasMaxEdge:Tw(r),minBound:M0(e),maxBound:fT(e),screenRange:BC(e)};return mT(l)},jC=e=>(r,s,l)=>((m,g,h,x)=>{const w=(m>0?Aw:zw)(tg(h),Rh(h),yf(h),Ey(h,x));return Lh(g,w),R.some(w)})(e,r,s,l).map(Ct),Nw=(e,r,s,l,m,g)=>{const h=((x,w,S,A,N)=>{const F=BC(x),$=A.bind(le=>R.some(IC(le,x))).getOr(0),W=N.bind(le=>R.some(IC(le,x))).getOr(F),se={min:Rh(w),max:yf(w),range:Cw(w),value:S,hasMinEdge:Ew(w),hasMaxEdge:Tw(w),minBound:M0(x),minOffset:0,maxBound:fT(x),maxOffset:F,centerMinEdge:$,centerMaxEdge:W};return RC(se)})(r,g,s,l,m);return M0(r)-M0(e)+h},bT=jC(-1),yT=jC(1),lr=R.none,R0=R.none,vT={"top-left":R.none(),top:R.none(),"top-right":R.none(),right:R.some((e,r)=>{yu(e,O0(r))}),"bottom-right":R.none(),bottom:R.none(),"bottom-left":R.none(),left:R.some((e,r)=>{yu(e,Fh(r))})};var xT=Object.freeze({__proto__:null,setValueFrom:(e,r,s)=>{const l=HC(e,r,s);return Lh(e,l),l},setToMin:(e,r)=>{const s=Rh(r);Lh(e,s)},setToMax:(e,r)=>{const s=yf(r);Lh(e,s)},findValueOfOffset:HC,getValueFromEvent:e=>EC(e).map(r=>r.left),findPositionOfValue:Nw,setPositionFromValue:(e,r,s,l)=>{const m=tg(s),g=Nw(e,l.getSpectrum(e),m,l.getLeftEdge(e),l.getRightEdge(e),s),h=Ga(r.element)/2;Bn(r.element,"left",g-h+"px")},onLeft:bT,onRight:yT,onUp:lr,onDown:R0,edgeActions:vT});const B0=(e,r)=>{_n(e,Sy(),{value:r})},Mw=(e,r,s)=>{const l={min:Bh(r),max:op(r),range:zC(r),value:s,step:Ey(r),snap:Sw(r),snapStart:uT(r),rounded:Ty(r),hasMinEdge:NC(r),hasMaxEdge:MC(r),minBound:D0(e),maxBound:hT(e),screenRange:FC(e)};return mT(l)},VC=e=>(r,s,l)=>((m,g,h,x)=>{const w=(m>0?Aw:zw)(tg(h),Bh(h),op(h),Ey(h,x));return B0(g,w),R.some(w)})(e,r,s,l).map(Ct),Ih=(e,r,s,l,m,g)=>{const h=((x,w,S,A,N)=>{const F=FC(x),$=A.bind(le=>R.some(PC(le,x))).getOr(0),W=N.bind(le=>R.some(PC(le,x))).getOr(F),se={min:Bh(w),max:op(w),range:zC(w),value:S,hasMinEdge:NC(w),hasMaxEdge:MC(w),minBound:D0(x),minOffset:0,maxBound:hT(x),maxOffset:F,centerMinEdge:$,centerMaxEdge:W};return RC(se)})(r,g,s,l,m);return D0(r)-D0(e)+h},wT=R.none,kT=R.none,$C=VC(-1),_T=VC(1),CT={"top-left":R.none(),top:R.some((e,r)=>{yu(e,A0(r))}),"top-right":R.none(),right:R.none(),"bottom-right":R.none(),bottom:R.some((e,r)=>{yu(e,_w(r))}),"bottom-left":R.none(),left:R.none()};var xO=Object.freeze({__proto__:null,setValueFrom:(e,r,s)=>{const l=Mw(e,r,s);return B0(e,l),l},setToMin:(e,r)=>{const s=Bh(r);B0(e,s)},setToMax:(e,r)=>{const s=op(r);B0(e,s)},findValueOfOffset:Mw,getValueFromEvent:e=>EC(e).map(r=>r.top),findPositionOfValue:Ih,setPositionFromValue:(e,r,s,l)=>{const m=tg(s),g=Ih(e,l.getSpectrum(e),m,l.getTopEdge(e),l.getBottomEdge(e),s),h=Nt(r.element)/2;Bn(r.element,"top",g-h+"px")},onLeft:wT,onRight:kT,onUp:$C,onDown:_T,edgeActions:CT});const Dw=(e,r)=>{_n(e,Sy(),{value:r})},F0=(e,r)=>({x:e,y:r}),Rw=(e,r)=>(s,l,m)=>((g,h,x,w,S)=>{const A=g>0?Aw:zw,N=h?tg(w).x:A(tg(w).x,Rh(w),yf(w),Ey(w,S)),F=h?A(tg(w).y,Bh(w),op(w),Ey(w,S)):tg(w).y;return Dw(x,F0(N,F)),R.some(N)})(e,r,s,l,m).map(Ct),wO=Rw(-1,!1),kO=Rw(1,!1),ST=Rw(-1,!0),_O=Rw(1,!0),ET={"top-left":R.some((e,r)=>{yu(e,np(Fh(r),A0(r)))}),top:R.some((e,r)=>{yu(e,np(AC(r),A0(r)))}),"top-right":R.some((e,r)=>{yu(e,np(O0(r),A0(r)))}),right:R.some((e,r)=>{yu(e,np(O0(r),OC(r)))}),"bottom-right":R.some((e,r)=>{yu(e,np(O0(r),_w(r)))}),bottom:R.some((e,r)=>{yu(e,np(AC(r),_w(r)))}),"bottom-left":R.some((e,r)=>{yu(e,np(Fh(r),_w(r)))}),left:R.some((e,r)=>{yu(e,np(Fh(r),OC(r)))})};var TT=Object.freeze({__proto__:null,setValueFrom:(e,r,s)=>{const l=HC(e,r,s.left),m=Mw(e,r,s.top),g=F0(l,m);return Dw(e,g),g},setToMin:(e,r)=>{const s=Rh(r),l=Bh(r);Dw(e,F0(s,l))},setToMax:(e,r)=>{const s=yf(r),l=op(r);Dw(e,F0(s,l))},getValueFromEvent:e=>EC(e),setPositionFromValue:(e,r,s,l)=>{const m=tg(s),g=Nw(e,l.getSpectrum(e),m.x,l.getLeftEdge(e),l.getRightEdge(e),s),h=Ih(e,l.getSpectrum(e),m.y,l.getTopEdge(e),l.getBottomEdge(e),s),x=Ga(r.element)/2,w=Nt(r.element)/2;Bn(r.element,"left",g-x+"px"),Bn(r.element,"top",h-w+"px")},onLeft:wO,onRight:kO,onUp:ST,onDown:_O,edgeActions:ET});const Vd=Wl({name:"Slider",configFields:[ft("stepSize",1),ft("speedMultiplier",10),ft("onChange",he),ft("onChoose",he),ft("onInit",he),ft("onDragStart",he),ft("onDragEnd",he),ft("snapToGrid",!1),ft("rounded",!0),la("snapStart"),ni("model",Ms("mode",{x:[ft("minX",0),ft("maxX",100),ro("value",e=>Sn(e.mode.minX)),Yt("getInitialValue"),as("manager",xT)],y:[ft("minY",0),ft("maxY",100),ro("value",e=>Sn(e.mode.minY)),Yt("getInitialValue"),as("manager",xO)],xy:[ft("minX",0),ft("maxX",100),ft("minY",0),ft("maxY",100),ro("value",e=>Sn({x:e.mode.minX,y:e.mode.minY})),Yt("getInitialValue"),as("manager",TT)]})),qi("sliderBehaviours",[Dn,Wo]),ro("mouseIsDown",()=>Sn(!1))],partFields:dT,factory:(e,r,s,l)=>{const m=te=>li(te,e,"thumb"),g=te=>li(te,e,"spectrum"),h=te=>ua(te,e,"left-edge"),x=te=>ua(te,e,"right-edge"),w=te=>ua(te,e,"top-edge"),S=te=>ua(te,e,"bottom-edge"),A=e.model,N=A.manager,F=(te,X)=>{N.setPositionFromValue(te,X,e,{getLeftEdge:h,getRightEdge:x,getTopEdge:w,getBottomEdge:S,getSpectrum:g})},$=(te,X)=>{A.value.set(X);const ue=m(te);F(te,ue)},W=te=>{const X=e.mouseIsDown.get();e.mouseIsDown.set(!1),X&&ua(te,e,"thumb").each(ue=>{const ye=A.value.get();e.onChoose(te,ue,ye)})},se=(te,X)=>{X.stop(),e.mouseIsDown.set(!0),e.onDragStart(te,m(te))},le=(te,X)=>{X.stop(),e.onDragEnd(te,m(te)),W(te)},fe=te=>{ua(te,e,"spectrum").map(Dn.focusIn)};return{uid:e.uid,dom:e.dom,components:r,behaviours:Fi(e.sliderBehaviours,[Dn.config({mode:"special",focusIn:fe}),Wo.config({store:{mode:"manual",getValue:te=>A.value.get(),setValue:$}}),tc.config({channels:{[C1()]:{onReceive:W}}})]),events:qa([Kt(Sy(),(te,X)=>{((ue,ye)=>{$(ue,ye);const we=m(ue);e.onChange(ue,we,ye)})(te,X.event.value)}),La((te,X)=>{const ue=A.getInitialValue();A.value.set(ue);const ye=m(te);F(te,ye);const we=g(te);e.onInit(te,ye,we,A.value.get())}),Kt(Ws(),se),Kt(Hl(),le),Kt(ai(),(te,X)=>{fe(te),se(te,X)}),Kt(J(),le)]),apis:{resetToMin:te=>{N.setToMin(te,e)},resetToMax:te=>{N.setToMax(te,e)},setValue:$,refresh:F},domModification:{styles:{position:"relative"}}}},apis:{setValue:(e,r,s)=>{e.setValue(r,s)},resetToMin:(e,r)=>{e.resetToMin(r)},resetToMax:(e,r)=>{e.resetToMax(r)},refresh:(e,r)=>{e.refresh(r)}}}),Bw=un("rgb-hex-update"),UC=un("slider-update"),zT=un("palette-update"),ZC="form",Am=[qi("formBehaviours",[Wo])],L0=e=>"<alloy.field."+e+">",Fw=(e,r)=>({uid:e.uid,dom:e.dom,components:r,behaviours:Fi(e.formBehaviours,[Wo.config({store:{mode:"manual",getValue:s=>{const l=Kp(s,e);return Zo(l,(m,g)=>m().bind(h=>{return x=Gr.getCurrent(h),w=new Error(`Cannot find a current component to extract the value from for form part '${g}': `+Fc(h.element)),x.fold(()=>Fr.error(w),Fr.value);var x,w}).map(Wo.getValue))},setValue:(s,l)=>{$o(l,(m,g)=>{ua(s,e,g).each(h=>{Gr.getCurrent(h).each(x=>{Wo.setValue(x,m)})})})}}})]),apis:{getField:(s,l)=>ua(s,e,l).bind(Gr.getCurrent)}}),vf={getField:Nr((e,r,s)=>e.getField(r,s)),sketch:e=>{const r=(()=>{const g=[];return{field:(h,x)=>(g.push(h),ca(ZC,L0(h),x)),record:me(g)}})(),s=e(r),l=r.record(),m=dt(l,g=>Eo({name:g,pname:L0(g)}));return Jp(ZC,Am,m,Fw,s)}},Lw=un("valid-input"),qC=un("invalid-input"),Iw=un("validating-input"),Pw="colorcustom.rgb.",AT=(e,r,s,l)=>{const m=(A,N)=>jd.config({invalidClass:r("invalid"),notify:{onValidate:F=>{_n(F,Iw,{type:A})},onValid:F=>{_n(F,Lw,{type:A,value:Wo.getValue(F)})},onInvalid:F=>{_n(F,qC,{type:A,value:Wo.getValue(F)})}},validator:{validate:F=>{const $=Wo.getValue(F),W=N($)?Fr.value(!0):Fr.error(e("aria.input.invalid"));return zm(W)},validateOnLoad:!1}}),g=(A,N,F,$,W)=>{const se=e(Pw+"range"),le=ya.parts.label({dom:{tag:"label",attributes:{"aria-label":$}},components:[Ya(F)]}),fe=ya.parts.field({data:W,factory:df,inputAttributes:{type:"text",...N==="hex"?{"aria-live":"polite"}:{}},inputClasses:[r("textfield")],inputBehaviours:Oo([m(N,A),Bs.config({})]),onSetValue:ue=>{jd.isInvalid(ue)&&jd.run(ue).get(he)}}),te=[le,fe],X=N!=="hex"?[ya.parts["aria-descriptor"]({text:se})]:[];return{dom:{tag:"div",attributes:{role:"presentation"}},components:te.concat(X)}},h=(A,N)=>{const F=N.red,$=N.green,W=N.blue;Wo.setValue(A,{red:F,green:$,blue:W})},x=Ta({dom:{tag:"div",classes:[r("rgba-preview")],styles:{"background-color":"white"},attributes:{role:"presentation"}}}),w=(A,N)=>{x.getOpt(A).each(F=>{Bn(F.element,"background-color","#"+N.value)})};return Pc({factory:()=>{const A={red:Sn(R.some(255)),green:Sn(R.some(255)),blue:Sn(R.some(255)),hex:Sn(R.some("ffffff"))},N=ye=>A[ye].get(),F=(ye,we)=>{A[ye].set(we)},$=ye=>{const we=ye.red,Ye=ye.green,Tt=ye.blue;F("red",R.some(we)),F("green",R.some(Ye)),F("blue",R.some(Tt))},W=(ye,we)=>{const Ye=we.event;Ye.type!=="hex"?F(Ye.type,R.none()):l(ye)},se=(ye,we)=>{const Ye=we.event;(Tt=>Tt.type==="hex")(Ye)?((Tt,Qt)=>{s(Tt);const no=U2(Qt);F("hex",R.some(no.value));const oo=x0(no);h(Tt,oo),$(oo),_n(Tt,Bw,{hex:no}),w(Tt,no)})(ye,Ye.value):((Tt,Qt,no)=>{const oo=parseInt(no,10);F(Qt,R.some(oo)),N("red").bind(Uo=>N("green").bind(pn=>N("blue").map(Mn=>Xg(Uo,pn,Mn,1)))).each(Uo=>{const pn=((Mn,ar)=>{const dr=hy(ar);return vf.getField(Mn,"hex").each(jr=>{er.isFocused(jr)||Wo.setValue(Mn,{hex:dr.value})}),dr})(Tt,Uo);_n(Tt,Bw,{hex:pn}),w(Tt,pn)})})(ye,Ye.type,Ye.value)},le=ye=>({label:e(Pw+ye+".label"),description:e(Pw+ye+".description")}),fe=le("red"),te=le("green"),X=le("blue"),ue=le("hex");return Da(vf.sketch(ye=>({dom:{tag:"form",classes:[r("rgb-form")],attributes:{"aria-label":e("aria.color.picker")}},components:[ye.field("red",ya.sketch(g(v0,"red",fe.label,fe.description,255))),ye.field("green",ya.sketch(g(v0,"green",te.label,te.description,255))),ye.field("blue",ya.sketch(g(v0,"blue",X.label,X.description,255))),ye.field("hex",ya.sketch(g(Li,"hex",ue.label,ue.description,"ffffff"))),x.asSpec()],formBehaviours:Oo([jd.config({invalidClass:r("form-invalid")}),Tr("rgb-form-events",[Kt(Lw,se),Kt(qC,W),Kt(Iw,W)])])})),{apis:{updateHex:(ye,we)=>{Wo.setValue(ye,{hex:we.value}),((Ye,Tt)=>{const Qt=x0(Tt);h(Ye,Qt),$(Qt)})(ye,we),w(ye,we)}}})},name:"RgbForm",configFields:[],apis:{updateHex:(A,N,F)=>{A.updateHex(N,F)}},extraApis:{}})},WC=(e,r)=>Pc({name:"ColourPicker",configFields:[Yt("dom"),ft("onValidHex",he),ft("onInvalidHex",he)],factory:l=>{const m=AT(e,r,l.onValidHex,l.onInvalidHex),g=((se,le)=>{const fe=Vd.parts.spectrum({dom:{tag:"canvas",attributes:{role:"presentation"},classes:[le("sv-palette-spectrum")]}}),te=Vd.parts.thumb({dom:{tag:"div",attributes:{role:"presentation"},classes:[le("sv-palette-thumb")],innerHtml:`<div class=${le("sv-palette-inner-thumb")} role="presentation"></div>`}}),X=(ue,ye)=>{const{width:we,height:Ye}=ue,Tt=ue.getContext("2d");if(Tt===null)return;Tt.fillStyle=ye,Tt.fillRect(0,0,we,Ye);const Qt=Tt.createLinearGradient(0,0,we,0);Qt.addColorStop(0,"rgba(255,255,255,1)"),Qt.addColorStop(1,"rgba(255,255,255,0)"),Tt.fillStyle=Qt,Tt.fillRect(0,0,we,Ye);const no=Tt.createLinearGradient(0,0,0,Ye);no.addColorStop(0,"rgba(0,0,0,0)"),no.addColorStop(1,"rgba(0,0,0,1)"),Tt.fillStyle=no,Tt.fillRect(0,0,we,Ye)};return Pc({factory:ue=>{const ye=me({x:0,y:0}),we=Oo([Gr.config({find:R.some}),er.config({})]);return Vd.sketch({dom:{tag:"div",attributes:{role:"slider","aria-valuetext":se(["Saturation {0}%, Brightness {1}%",0,0])},classes:[le("sv-palette")]},model:{mode:"xy",getInitialValue:ye},rounded:!1,components:[fe,te],onChange:(Ye,Tt,Qt)=>{So(Qt)||Kn(Ye.element,"aria-valuetext",se(["Saturation {0}%, Brightness {1}%",Math.floor(Qt.x),Math.floor(100-Qt.y)])),_n(Ye,zT,{value:Qt})},onInit:(Ye,Tt,Qt,no)=>{X(Qt.element.dom,G2(kE))},sliderBehaviours:we})},name:"SaturationBrightnessPalette",configFields:[],apis:{setHue:(ue,ye,we)=>{((Ye,Tt)=>{const Qt=Ye.components()[0].element.dom,no=k0(Tt,100,100),oo=xE(no);X(Qt,G2(oo))})(ye,we)},setThumb:(ue,ye,we)=>{((Ye,Tt)=>{const Qt=J2(x0(Tt));Vd.setValue(Ye,{x:Qt.saturation,y:100-Qt.value}),Kn(Ye.element,"aria-valuetext",se(["Saturation {0}%, Brightness {1}%",Qt.saturation,Qt.value]))})(ye,we)}},extraApis:{}})})(e,r),h={paletteRgba:Sn(kE),paletteHue:Sn(0)},x=Ta(((se,le)=>{const fe=Vd.parts.spectrum({dom:{tag:"div",classes:[le("hue-slider-spectrum")],attributes:{role:"presentation"}}}),te=Vd.parts.thumb({dom:{tag:"div",classes:[le("hue-slider-thumb")],attributes:{role:"presentation"}}});return Vd.sketch({dom:{tag:"div",classes:[le("hue-slider")],attributes:{role:"slider","aria-valuemin":0,"aria-valuemax":360,"aria-valuenow":120}},rounded:!1,model:{mode:"y",getInitialValue:me(0)},components:[fe,te],sliderBehaviours:Oo([er.config({})]),onChange:(X,ue,ye)=>{Kn(X.element,"aria-valuenow",Math.floor(360-3.6*ye)),_n(X,UC,{value:ye})}})})(0,r)),w=Ta(g.sketch({})),S=Ta(m.sketch({})),A=(se,le,fe)=>{w.getOpt(se).each(te=>{g.setHue(te,fe)})},N=(se,le)=>{S.getOpt(se).each(fe=>{m.updateHex(fe,le)})},F=(se,le,fe)=>{x.getOpt(se).each(te=>{Vd.setValue(te,(X=>100-X/360*100)(fe))})},$=(se,le)=>{w.getOpt(se).each(fe=>{g.setThumb(fe,le)})},W=(se,le,fe,te)=>{((X,ue)=>{const ye=x0(X);h.paletteRgba.set(ye),h.paletteHue.set(ue)})(le,fe),Ie(te,X=>{X(se,le,fe)})};return{uid:l.uid,dom:l.dom,components:[w.asSpec(),x.asSpec(),S.asSpec()],behaviours:Oo([Tr("colour-picker-events",[Kt(Bw,(()=>{const se=[A,F,$];return(le,fe)=>{const te=fe.event.hex,X=(ue=>J2(x0(ue)))(te);W(le,te,X.hue,se)}})()),Kt(zT,(()=>{const se=[N];return(le,fe)=>{const te=fe.event.value,X=h.paletteHue.get(),ue=k0(X,te.x,100-te.y),ye=Q2(ue);W(le,ye,X,se)}})()),Kt(UC,(()=>{const se=[A,N];return(le,fe)=>{const te=(Ye=>(100-Ye)/100*360)(fe.event.value),X=h.paletteRgba.get(),ue=J2(X),ye=k0(te,ue.saturation,ue.value),we=Q2(ye);W(le,we,te,se)}})())]),Gr.config({find:se=>S.getOpt(se)}),Dn.config({mode:"acyclic"})])}}}),rp=()=>Gr.config({find:R.some}),Hw=e=>Gr.config({find:r=>Un(r.element,e).bind(s=>r.getSystem().getByDom(s).toOptional())}),OT=Cn([ft("preprocess",Ze),ft("postprocess",Ze)]),NT=(e,r)=>{const s=fi("RepresentingConfigs.memento processors",OT,r);return Wo.config({store:{mode:"manual",getValue:l=>{const m=e.get(l),g=Wo.getValue(m);return s.postprocess(g)},setValue:(l,m)=>{const g=s.preprocess(m),h=e.get(l);Wo.setValue(h,g)}}})},Uc=(e,r,s)=>Wo.config({store:{mode:"manual",...e.map(l=>({initialValue:l})).getOr({}),getValue:r,setValue:s}}),jw=(e,r,s)=>Uc(e,l=>r(l.element),(l,m)=>s(l.element,m)),ap=e=>Wo.config({store:{mode:"memory",initialValue:e}}),I0={"colorcustom.rgb.red.label":"R","colorcustom.rgb.red.description":"Red component","colorcustom.rgb.green.label":"G","colorcustom.rgb.green.description":"Green component","colorcustom.rgb.blue.label":"B","colorcustom.rgb.blue.description":"Blue component","colorcustom.rgb.hex.label":"#","colorcustom.rgb.hex.description":"Hex color code","colorcustom.rgb.range":"Range 0 to 255","aria.color.picker":"Color Picker","aria.input.invalid":"Invalid input"};var CO=tinymce.util.Tools.resolve("tinymce.Resource"),Om=tinymce.util.Tools.resolve("tinymce.util.Tools");const Ay=(e,r)=>{let s=null;const l=()=>{Mo(s)||(clearTimeout(s),s=null)};return{cancel:l,throttle:(...m)=>{l(),s=setTimeout(()=>{s=null,e.apply(null,m)},r)}}},GC=un("alloy-fake-before-tabstop"),KC=un("alloy-fake-after-tabstop"),Vw=e=>({dom:{tag:"div",styles:{width:"1px",height:"1px",outline:"none"},attributes:{tabindex:"0"},classes:e},behaviours:Oo([er.config({ignore:!0}),Bs.config({})])}),YC=(e,r)=>({dom:{tag:"div",classes:["tox-navobj",...e.getOr([])]},components:[Vw([GC]),r,Vw([KC])],behaviours:Oo([Hw(1)])}),MT=(e,r)=>{_n(e,fn(),{raw:{which:9,shiftKey:r}})},DT=(e,r)=>{const s=r.element;Di(s,GC)?MT(e,!0):Di(s,KC)&&MT(e,!1)},Ph=e=>Nh(e,["."+GC,"."+KC].join(","),Bo),$w=un("update-dialog"),XC=un("update-title"),RT=un("update-body"),Uw=un("update-footer"),JC=un("body-send-message"),Zw=un("dialog-focus-shifted"),qw=Yl().browser,P0=qw.isSafari(),Ww=qw.isFirefox(),BT=P0||Ww,Gw=qw.isChromium(),SO=({scrollTop:e,scrollHeight:r,clientHeight:s})=>Math.ceil(e)+s>=r,Kw=(e,r)=>e.scrollTo(0,r==="bottom"?99999999:r),Oy=(e,r,s)=>{const l=e.dom;R.from(l.contentDocument).fold(s,m=>{let g=0;const h=((w,S)=>{const A=w.body;return R.from(!/^<!DOCTYPE (html|HTML)/.test(S)&&(!Gw&&!P0||Ue(A)&&(A.scrollTop!==0||Math.abs(A.scrollHeight-A.clientHeight)>1))?A:w.documentElement)})(m,r).map(w=>(g=w.scrollTop,w)).forall(SO),x=()=>{const w=l.contentWindow;Ue(w)&&(h?Kw(w,"bottom"):!h&&BT&&g!==0&&Kw(w,g))};P0&&l.addEventListener("load",x,{once:!0}),m.open(),m.write(r),m.close(),P0||x()})},FT=ln(BT,P0?500:200).map(e=>((r,s)=>{let l=null,m=null;return{cancel:()=>{Mo(l)||(clearTimeout(l),l=null,m=null)},throttle:(...g)=>{m=g,Mo(l)&&(l=setTimeout(()=>{const h=m;l=null,m=null,r.apply(null,h)},s))}}})(Oy,e)),QC=un("toolbar.button.execute"),xf=un("common-button-display-events"),eS={[fl()]:["disabling","alloy.base.behaviour","toggling","toolbar-button-events"],[Rc()]:["toolbar-button-events",xf],[ai()]:["focusing","alloy.base.behaviour",xf]},H0=e=>Bn(e.element,"width",aa(e.element,"width")),j0=(e,r,s)=>Uu(e,{tag:"span",classes:["tox-icon","tox-tbtn__icon-wrap"],behaviours:s},r),wf=(e,r)=>j0(e,r,[]),sp=(e,r)=>j0(e,r,[fr.config({})]),tS=(e,r,s)=>({dom:{tag:"span",classes:[`${r}__select-label`]},components:[Ya(s.translate(e))],behaviours:Oo([fr.config({})])}),dd=un("update-menu-text"),ip=un("update-menu-icon"),oS=(e,r,s)=>{const l=Sn(he),m=e.text.map(F=>Ta(tS(F,r,s.providers))),g=e.icon.map(F=>Ta(sp(F,s.providers.icons))),h=(F,$)=>{const W=Wo.getValue(F);return er.focus(W),_n(W,"keydown",{raw:$.event.raw}),Hd.close(W),R.some(!0)},x=e.role.fold(()=>({}),F=>({role:F})),w=e.tooltip.fold(()=>({}),F=>{const $=s.providers.translate(F);return{title:$,"aria-label":$}}),S=Uu("chevron-down",{tag:"div",classes:[`${r}__select-chevron`]},s.providers.icons),A=un("common-button-display-events");return Ta(Hd.sketch({...e.uid?{uid:e.uid}:{},...x,dom:{tag:"button",classes:[r,`${r}--select`].concat(dt(e.classes,F=>`${r}--${F}`)),attributes:{...w}},components:Eh([g.map(F=>F.asSpec()),m.map(F=>F.asSpec()),R.some(S)]),matchWidth:!0,useMinWidth:!0,onOpen:(F,$,W)=>{e.searchable&&(se=>{_2(se).each(le=>er.focus(le))})(W)},dropdownBehaviours:Oo([...e.dropdownBehaviours,my(()=>e.disabled||s.providers.isDisabled()),Wi(),Cy.config({}),fr.config({}),Tr("dropdown-events",[Kg(e,l),Yg(e,l)]),Tr(A,[La((F,$)=>H0(F))]),Tr("menubutton-update-display-text",[Kt(dd,(F,$)=>{m.bind(W=>W.getOpt(F)).each(W=>{fr.set(W,[Ya(s.providers.translate($.event.text))])})}),Kt(ip,(F,$)=>{g.bind(W=>W.getOpt(F)).each(W=>{fr.set(W,[sp($.event.icon,s.providers.icons)])})})])]),eventOrder:Da(eS,{mousedown:["focusing","alloy.base.behaviour","item-type-events","normal-dropdown-events"],[Rc()]:["toolbar-button-events","dropdown-events",A]}),sandboxBehaviours:Oo([Dn.config({mode:"special",onLeft:h,onRight:h}),Tr("dropdown-sandbox-events",[Kt(x2,(F,$)=>{(W=>{const se=Wo.getValue(W),le=s0(W).map(eE);Hd.refetch(se).get(()=>{const fe=js.getCoupled(se,"sandbox");le.each(te=>s0(fe).each(X=>((ue,ye)=>{Wo.setValue(ue,ye.fetchPattern),ue.element.dom.selectionStart=ye.selectionStart,ue.element.dom.selectionEnd=ye.selectionEnd})(X,te)))})})(F),$.stop()}),Kt(w2,(F,$)=>{((W,se)=>{(le=>Lr.getState(le).bind(ba.getHighlighted).bind(ba.getHighlighted))(W).each(le=>{((fe,te,X,ue)=>{const ye={...ue,target:te};fe.getSystem().triggerEvent(X,te,ye)})(W,le.element,se.event.eventType,se.event.interactionEvent)})})(F,$),$.stop()})])]),lazySink:s.getSink,toggleClass:`${r}--active`,parts:{menu:{...Ch(0,e.columns,e.presets),fakeFocus:e.searchable,onHighlightItem:gC,onCollapseMenu:(F,$,W)=>{ba.getHighlighted(W).each(se=>{gC(F,W,se)})},onDehighlightItem:fO}},getAnchorOverrides:()=>({maxHeightFunction:(F,$)=>{Ip()(F,$-10)}}),fetch:F=>Qg(rt(e.fetch,F))})).asSpec()},LT=e=>e.type==="separator",nS={type:"separator"},IT=(e,r)=>{const s=((l,m)=>{const g=zo(l,(h,x)=>(w=>io(w))(x)?x===""?h:x==="|"?h.length>0&&!LT(h[h.length-1])?h.concat([nS]):h:Vo(m,x.toLowerCase())?h.concat([m[x.toLowerCase()]]):h:h.concat([x]),[]);return g.length>0&&LT(g[g.length-1])&&g.pop(),g})(io(e)?e.split(" "):e,r);return lo(s,(l,m)=>{if((g=>Vo(g,"getSubmenuItems"))(m)){const g=(x=>{const w=Xt(x,"value").getOrThunk(()=>un("generated-menu-item"));return Da({value:w},x)})(m),h=((x,w)=>{const S=x.getSubmenuItems(),A=IT(S,w);return{item:x,menus:Da(A.menus,{[x.value]:A.items}),expansions:Da(A.expansions,{[x.value]:x.value})}})(g,r);return{menus:Da(l.menus,h.menus),items:[h.item,...l.items],expansions:Da(l.expansions,h.expansions)}}return{...l,items:[m,...l.items]}},{menus:{},expansions:{},items:[]})},Ny=(e,r,s,l)=>{const m=un("primary-menu"),g=IT(e,s.shared.providers.menuItems());if(g.items.length===0)return R.none();const h=(N=>N.search.fold(()=>({searchMode:"no-search"}),F=>({searchMode:"search-with-field",placeholder:F.placeholder})))(l),x=fC(m,g.items,r,s,l.isHorizontalMenu,h),w=(N=>N.search.fold(()=>({searchMode:"no-search"}),F=>({searchMode:"search-with-results"})))(l),S=Zo(g.menus,(N,F)=>fC(F,N,r,s,!1,w)),A=Da(S,Xi(m,x));return R.from(Ug.tieredData(m,A,g.expansions))},rS=e=>!Vo(e,"items"),PT="data-value",HT=(e,r,s,l)=>dt(s,m=>rS(m)?{type:"togglemenuitem",text:m.text,value:m.value,active:m.value===l,onAction:()=>{Wo.setValue(e,m.value),_n(e,cd,{name:r}),er.focus(e)}}:{type:"nestedmenuitem",text:m.text,getSubmenuItems:()=>HT(e,r,m.items,l)}),aS=(e,r)=>Gt(e,s=>rS(s)?ln(s.value===r,s):aS(s.items,r)),EO=Pc({name:"HtmlSelect",configFields:[Yt("options"),qi("selectBehaviours",[er,Wo]),ft("selectClasses",[]),ft("selectAttributes",{}),la("data")],factory:(e,r)=>{const s=dt(e.options,m=>({dom:{tag:"option",value:m.value,innerHtml:m.text}})),l=e.data.map(m=>Xi("initialValue",m)).getOr({});return{uid:e.uid,dom:{tag:"select",classes:e.selectClasses,attributes:e.selectAttributes},components:s,behaviours:Fi(e.selectBehaviours,[er.config({}),Wo.config({store:{mode:"manual",getValue:m=>Lu(m.element),setValue:(m,g)=>{const h=at(e.options);to(e.options,x=>x.value===g).isSome()?Ec(m.element,g):m.element.dom.selectedIndex===-1&&g===""&&h.each(x=>Ec(m.element,x.value))},...l}})])}}}),jT=me([ft("field1Name","field1"),ft("field2Name","field2"),nu("onLockedChange"),Nd(["lockClass"]),ft("locked",!1),nc("coupledFieldBehaviours",[Gr,Wo])]),My=(e,r)=>Eo({factory:ya,name:e,overrides:s=>({fieldBehaviours:Oo([Tr("coupled-input-behaviour",[Kt(Hn(),l=>{((m,g,h)=>ua(m,g,h).bind(Gr.getCurrent))(l,s,r).each(m=>{ua(l,s,"lock").each(g=>{Dr.isOn(g)&&s.onLockedChange(l,m,g)})})})])])})}),TO=me([My("field1","field2"),My("field2","field1"),Eo({factory:wl,schema:[Yt("dom")],name:"lock",overrides:e=>({buttonBehaviours:Oo([Dr.config({selected:e.locked,toggleClass:e.markers.lockClass,aria:{mode:"pressed"}})])})})]),ud=Wl({name:"FormCoupledInputs",configFields:jT(),partFields:TO(),factory:(e,r,s,l)=>({uid:e.uid,dom:e.dom,components:r,behaviours:Bg(e.coupledFieldBehaviours,[Gr.config({find:R.some}),Wo.config({store:{mode:"manual",getValue:m=>{const g=Fg(m,e,["field1","field2"]);return{[e.field1Name]:Wo.getValue(g.field1()),[e.field2Name]:Wo.getValue(g.field2())}},setValue:(m,g)=>{const h=Fg(m,e,["field1","field2"]);$n(g,e.field1Name)&&Wo.setValue(h.field1(),g[e.field1Name]),$n(g,e.field2Name)&&Wo.setValue(h.field2(),g[e.field2Name])}}})]),apis:{getField1:m=>ua(m,e,"field1"),getField2:m=>ua(m,e,"field2"),getLock:m=>ua(m,e,"lock")}}),apis:{getField1:(e,r)=>e.getField1(r),getField2:(e,r)=>e.getField2(r),getLock:(e,r)=>e.getLock(r)}}),V0=e=>{const r=/^\s*(\d+(?:\.\d+)?)\s*(|cm|mm|in|px|pt|pc|em|ex|ch|rem|vw|vh|vmin|vmax|%)\s*$/.exec(e);if(r!==null){const s=parseFloat(r[1]),l=r[2];return Fr.value({value:s,unit:l})}return Fr.error(e)},sS=(e,r)=>{const s={"":96,px:96,pt:72,cm:2.54,pc:12,mm:25.4,in:1},l=m=>Vo(s,m);return e.unit===r?R.some(e.value):l(e.unit)&&l(r)?s[e.unit]===s[r]?R.some(e.value):R.some(e.value/s[e.unit]*s[r]):R.none()},iS=e=>R.none(),VT=(e,r)=>{const s=e.label.map(A=>hf(A,r)),l=[Qn.config({disabled:()=>e.disabled||r.isDisabled()}),Wi(),Dn.config({mode:"execution",useEnter:e.multiline!==!0,useControlEnter:e.multiline===!0,execute:A=>($r(A,bf),R.some(!0))}),Tr("textfield-change",[Kt(Hn(),(A,N)=>{_n(A,cd,{name:e.name})}),Kt(am(),(A,N)=>{_n(A,cd,{name:e.name})})]),Bs.config({})],m=e.validation.map(A=>jd.config({getRoot:N=>Go(N.element),invalidClass:"tox-invalid",validator:{validate:N=>{const F=Wo.getValue(N),$=A.validator(F);return zm($===!0?Fr.value(F):Fr.error($))},validateOnLoad:A.validateOnLoad}})).toArray(),g={...e.placeholder.fold(me({}),A=>({placeholder:r.translate(A)})),...e.inputMode.fold(me({}),A=>({inputmode:A}))},h=ya.parts.field({tag:e.multiline===!0?"textarea":"input",...e.data.map(A=>({data:A})).getOr({}),inputAttributes:g,inputClasses:[e.classname],inputBehaviours:Oo($e([l,m])),selectOnFocus:!1,factory:df}),x=e.multiline?{dom:{tag:"div",classes:["tox-textarea-wrap"]},components:[h]}:h,w=(e.flex?["tox-form__group--stretched"]:[]).concat(e.maximized?["tox-form-group--maximize"]:[]),S=[Qn.config({disabled:()=>e.disabled||r.isDisabled(),onDisabled:A=>{ya.getField(A).each(Qn.disable)},onEnabled:A=>{ya.getField(A).each(Qn.enable)}}),Wi()];return ky(s,x,w,S)},$0=(e,r)=>r.getAnimationRoot.fold(()=>e.element,s=>s(e)),lp=e=>e.dimension.property,Hh=(e,r)=>e.dimension.getDimension(r),Yw=(e,r)=>{const s=$0(e,r);Zi(s,[r.shrinkingClass,r.growingClass])},lS=(e,r)=>{rs(e.element,r.openClass),Jr(e.element,r.closedClass),Bn(e.element,lp(r),"0px"),ne(e.element)},cS=(e,r)=>{rs(e.element,r.closedClass),Jr(e.element,r.openClass),Pr(e.element,lp(r))},$T=(e,r,s,l)=>{s.setCollapsed(),Bn(e.element,lp(r),Hh(r,e.element)),Yw(e,r),lS(e,r),r.onStartShrink(e),r.onShrunk(e)},UT=(e,r,s,l)=>{const m=l.getOrThunk(()=>Hh(r,e.element));s.setCollapsed(),Bn(e.element,lp(r),m),ne(e.element);const g=$0(e,r);rs(g,r.growingClass),Jr(g,r.shrinkingClass),lS(e,r),r.onStartShrink(e)},dS=(e,r,s)=>{const l=Hh(r,e.element);(l==="0px"?$T:UT)(e,r,s,R.some(l))},U0=(e,r,s)=>{const l=$0(e,r),m=Di(l,r.shrinkingClass),g=Hh(r,e.element);cS(e,r);const h=Hh(r,e.element);(m?()=>{Bn(e.element,lp(r),g),ne(e.element)}:()=>{lS(e,r)})(),rs(l,r.shrinkingClass),Jr(l,r.growingClass),cS(e,r),Bn(e.element,lp(r),h),s.setExpanded(),r.onStartGrow(e)},uS=(e,r,s)=>{const l=$0(e,r);return Di(l,r.growingClass)===!0},mS=(e,r,s)=>{const l=$0(e,r);return Di(l,r.shrinkingClass)===!0};var ZT=Object.freeze({__proto__:null,refresh:(e,r,s)=>{if(s.isExpanded()){Pr(e.element,lp(r));const l=Hh(r,e.element);Bn(e.element,lp(r),l)}},grow:(e,r,s)=>{s.isExpanded()||U0(e,r,s)},shrink:(e,r,s)=>{s.isExpanded()&&dS(e,r,s)},immediateShrink:(e,r,s)=>{s.isExpanded()&&$T(e,r,s)},hasGrown:(e,r,s)=>s.isExpanded(),hasShrunk:(e,r,s)=>s.isCollapsed(),isGrowing:uS,isShrinking:mS,isTransitioning:(e,r,s)=>uS(e,r)||mS(e,r),toggleGrow:(e,r,s)=>{(s.isExpanded()?dS:U0)(e,r,s)},disableTransitions:Yw,immediateGrow:(e,r,s)=>{s.isExpanded()||(cS(e,r),Bn(e.element,lp(r),Hh(r,e.element)),Yw(e,r),s.setExpanded(),r.onStartGrow(e),r.onGrown(e))}}),qT=Object.freeze({__proto__:null,exhibit:(e,r,s)=>{const l=r.expanded;return hi(l?{classes:[r.openClass],styles:{}}:{classes:[r.closedClass],styles:Xi(r.dimension.property,"0px")})},events:(e,r)=>qa([Mu(Ni(),(s,l)=>{l.event.raw.propertyName===e.dimension.property&&(Yw(s,e),r.isExpanded()&&Pr(s.element,e.dimension.property),(r.isExpanded()?e.onGrown:e.onShrunk)(s))})])}),zO=[Yt("closedClass"),Yt("openClass"),Yt("shrinkingClass"),Yt("growingClass"),la("getAnimationRoot"),Hr("onShrunk"),Hr("onStartShrink"),Hr("onGrown"),Hr("onStartGrow"),ft("expanded",!1),ni("dimension",Ms("property",{width:[as("property","width"),as("getDimension",e=>Ga(e)+"px")],height:[as("property","height"),as("getDimension",e=>Nt(e)+"px")]}))];const Ml=Ri({fields:zO,name:"sliding",active:qT,apis:ZT,state:Object.freeze({__proto__:null,init:e=>{const r=Sn(e.expanded);return Ia({isExpanded:()=>r.get()===!0,isCollapsed:()=>r.get()===!1,setCollapsed:rt(r.set,!1),setExpanded:rt(r.set,!0),readState:()=>"expanded: "+r.get()})}})}),gS=e=>({isEnabled:()=>!Qn.isDisabled(e),setEnabled:r=>Qn.set(e,!r),setActive:r=>{const s=e.element;r?(Jr(s,"tox-tbtn--enabled"),Kn(s,"aria-pressed",!0)):(rs(s,"tox-tbtn--enabled"),xa(s,"aria-pressed"))},isActive:()=>Di(e.element,"tox-tbtn--enabled"),setText:r=>{_n(e,dd,{text:r})},setIcon:r=>_n(e,ip,{icon:r})}),cp=(e,r,s,l,m=!0)=>oS({text:e.text,icon:e.icon,tooltip:e.tooltip,searchable:e.search.isSome(),role:l,fetch:(g,h)=>{const x={pattern:e.search.isSome()?HE(g):""};e.fetch(w=>{h(Ny(w,Oc.CLOSE_ON_EXECUTE,s,{isHorizontalMenu:!1,search:e.search}))},x,gS(g))},onSetup:e.onSetup,getApi:gS,columns:1,presets:"normal",classes:[],dropdownBehaviours:[...m?[Bs.config({})]:[]]},r,s.shared),Xw=(e,r,s)=>{const l=g=>h=>{const x=!h.isActive();h.setActive(x),g.storage.set(x),s.shared.getSink().each(w=>{r().getOpt(w).each(S=>{sd(S.element),_n(S,Xu,{name:g.name,value:g.storage.get()})})})},m=g=>h=>{h.setActive(g.storage.get())};return g=>{g(dt(e,h=>{const x=h.text.fold(()=>({}),w=>({text:w}));return{type:h.type,active:!1,...x,onAction:l(h),onSetup:m(h)}}))}},pS=e=>({dom:{tag:"span",classes:["tox-tree__label"],attributes:{title:e,"aria-label":e}},components:[Ya(e)]}),fS=un("leaf-label-event-id"),Jw=({leaf:e,onLeafAction:r,visible:s,treeId:l,selectedId:m,backstage:g})=>{const h=e.menu.map(w=>cp(w,"tox-mbtn",g,R.none(),s)),x=[pS(e.title)];return h.each(w=>x.push(w)),wl.sketch({dom:{tag:"div",classes:["tox-tree--leaf__label","tox-trbtn"].concat(s?["tox-tree--leaf__label--visible"]:[])},components:x,role:"treeitem",action:w=>{r(e.id),w.getSystem().broadcastOn([`update-active-item-${l}`],{value:e.id})},eventOrder:{[fn()]:[fS,"keying"]},buttonBehaviours:Oo([...s?[Bs.config({})]:[],Dr.config({toggleClass:"tox-trbtn--enabled",toggleOnExecute:!1,aria:{mode:"selected"}}),tc.config({channels:{[`update-active-item-${l}`]:{onReceive:(w,S)=>{(S.value===e.id?Dr.on:Dr.off)(w)}}}}),Tr(fS,[La((w,S)=>{m.each(A=>{(A===e.id?Dr.on:Dr.off)(w)})}),Kt(fn(),(w,S)=>{const A=S.event.raw.code==="ArrowLeft",N=S.event.raw.code==="ArrowRight";A?(ou(w.element,".tox-tree--directory").each(F=>{w.getSystem().getByDom(F).each($=>{um(F,".tox-tree--directory__label").each(W=>{$.getSystem().getByDom(W).each(er.focus)})})}),S.stop()):N&&S.stop()})])])})},WT=un("directory-label-event-id"),Dy=({directory:e,visible:r,noChildren:s,backstage:l})=>{const m=e.menu.map(S=>cp(S,"tox-mbtn",l,R.none())),g=[{dom:{tag:"div",classes:["tox-chevron"]},components:[(h="chevron-right",x=l.shared.providers.icons,((S,A,N)=>Uu(S,{tag:"span",classes:["tox-tree__icon-wrap","tox-icon"],behaviours:[]},A))(h,x))]},pS(e.title)];var h,x;m.each(S=>{g.push(S)});const w=S=>{ou(S.element,".tox-tree--directory").each(A=>{S.getSystem().getByDom(A).each(N=>{const F=!Dr.isOn(N);Dr.toggle(N),_n(S,"expand-tree-node",{expanded:F,node:e.id})})})};return wl.sketch({dom:{tag:"div",classes:["tox-tree--directory__label","tox-trbtn"].concat(r?["tox-tree--directory__label--visible"]:[])},components:g,action:w,eventOrder:{[fn()]:[WT,"keying"]},buttonBehaviours:Oo([...r?[Bs.config({})]:[],Tr(WT,[Kt(fn(),(S,A)=>{const N=A.event.raw.code==="ArrowRight",F=A.event.raw.code==="ArrowLeft";N&&s&&A.stop(),(N||F)&&ou(S.element,".tox-tree--directory").each($=>{S.getSystem().getByDom($).each(W=>{!Dr.isOn(W)&&N||Dr.isOn(W)&&F?(w(S),A.stop()):F&&!Dr.isOn(W)&&(ou(W.element,".tox-tree--directory").each(se=>{um(se,".tox-tree--directory__label").each(le=>{W.getSystem().getByDom(le).each(er.focus)})}),A.stop())})})})])])})},Z0=({children:e,onLeafAction:r,visible:s,treeId:l,expandedIds:m,selectedId:g,backstage:h})=>({dom:{tag:"div",classes:["tox-tree--directory__children"]},components:e.map(x=>x.type==="leaf"?Jw({leaf:x,selectedId:g,onLeafAction:r,visible:s,treeId:l,backstage:h}):q0({directory:x,expandedIds:m,selectedId:g,onLeafAction:r,labelTabstopping:s,treeId:l,backstage:h})),behaviours:Oo([Ml.config({dimension:{property:"height"},closedClass:"tox-tree--directory__children--closed",openClass:"tox-tree--directory__children--open",growingClass:"tox-tree--directory__children--growing",shrinkingClass:"tox-tree--directory__children--shrinking",expanded:s}),fr.config({})])}),hS=un("directory-event-id"),q0=({directory:e,onLeafAction:r,labelTabstopping:s,treeId:l,backstage:m,expandedIds:g,selectedId:h})=>{const{children:x}=e,w=Sn(g),S=g.includes(e.id);return{dom:{tag:"div",classes:["tox-tree--directory"],attributes:{role:"treeitem"}},components:[Dy({directory:e,visible:s,noChildren:e.children.length===0,backstage:m}),Z0({children:x,expandedIds:g,selectedId:h,onLeafAction:r,visible:S,treeId:l,backstage:m})],behaviours:Oo([Tr(hS,[La((A,N)=>{Dr.set(A,S)}),Kt("expand-tree-node",(A,N)=>{const{expanded:F,node:$}=N.event;w.set(F?[...w.get(),$]:w.get().filter(W=>W!==$))})]),Dr.config({...e.children.length>0?{aria:{mode:"expanded"}}:{},toggleClass:"tox-tree--directory--expanded",onToggled:(A,N)=>{const F=A.components()[1],$=(W=N,x.map(se=>se.type==="leaf"?Jw({leaf:se,selectedId:h,onLeafAction:r,visible:W,treeId:l,backstage:m}):q0({directory:se,expandedIds:w.get(),selectedId:h,onLeafAction:r,labelTabstopping:W,treeId:l,backstage:m})));var W;N?Ml.grow(F):Ml.shrink(F),fr.set(F,$)}})])}},W0=un("tree-event-id");var GT=Object.freeze({__proto__:null,events:(e,r)=>{const s=e.stream.streams.setup(e,r);return qa([Kt(e.event,s),od(()=>r.cancel())].concat(e.cancelEvent.map(l=>[Kt(l,()=>r.cancel())]).getOr([])))}});const bS=e=>{const r=Sn(null);return Ia({readState:()=>({timer:r.get()!==null?"set":"unset"}),setTimer:s=>{r.set(s)},cancel:()=>{const s=r.get();s!==null&&s.cancel()}})};var KT=Object.freeze({__proto__:null,throttle:bS,init:e=>e.stream.streams.state(e)}),yS=[ni("stream",Ms("mode",{throttle:[Yt("delay"),ft("stopEvent",!0),as("streams",{setup:(e,r)=>{const s=e.stream,l=Ay(e.onStream,s.delay);return r.setTimer(l),(m,g)=>{l.throttle(m,g),s.stopEvent&&g.stop()}},state:bS})]})),ft("event","input"),la("cancelEvent"),nu("onStream")];const Ry=Ri({fields:yS,name:"streaming",active:GT,state:KT}),jh=(e,r,s)=>{const l=Wo.getValue(s);Wo.setValue(r,l),YT(r)},vS=(e,r)=>{const s=e.element,l=Lu(s),m=s.dom;Ma(s,"type")!=="number"&&r(m,l)},YT=e=>{vS(e,(r,s)=>r.setSelectionRange(s.length,s.length))},G0=me("alloy.typeahead.itemexecute"),xS=me([la("lazySink"),Yt("fetch"),ft("minChars",5),ft("responseTime",1e3),Hr("onOpen"),ft("getHotspot",R.some),ft("getAnchorOverrides",me({})),ft("layouts",R.none()),ft("eventOrder",{}),Bm("model",{},[ft("getDisplayText",e=>e.meta!==void 0&&e.meta.text!==void 0?e.meta.text:e.value),ft("selectsOver",!0),ft("populateFromBrowse",!0)]),Hr("onSetValue"),Ol("onExecute"),Hr("onItemExecute"),ft("inputClasses",[]),ft("inputAttributes",{}),ft("inputStyles",{}),ft("matchWidth",!0),ft("useMinWidth",!1),ft("dismissOnBlur",!0),Nd(["openClass"]),la("initialData"),qi("typeaheadBehaviours",[er,Wo,Ry,Dn,Dr,js]),ro("lazyTypeaheadComp",()=>Sn(R.none)),ro("previewing",()=>Sn(!0))].concat(y2()).concat(E0())),wS=me([Ro({schema:[jf()],name:"menu",overrides:e=>({fakeFocus:!0,onHighlightItem:(r,s,l)=>{e.previewing.get()?e.lazyTypeaheadComp.get().each(m=>{((g,h,x)=>{if(g.selectsOver){const w=Wo.getValue(h),S=g.getDisplayText(w),A=Wo.getValue(x);return g.getDisplayText(A).indexOf(S)===0?R.some(()=>{jh(0,h,x),((N,F)=>{vS(N,($,W)=>$.setSelectionRange(F,W.length))})(h,S.length)}):R.none()}return R.none()})(e.model,m,l).fold(()=>{e.model.selectsOver?(ba.dehighlight(s,l),e.previewing.set(!0)):e.previewing.set(!1)},g=>{g(),e.previewing.set(!1)})}):e.lazyTypeaheadComp.get().each(m=>{e.model.populateFromBrowse&&jh(e.model,m,l),Ca(l.element,"id").each(g=>Kn(m.element,"aria-activedescendant",g))})},onExecute:(r,s)=>e.lazyTypeaheadComp.get().map(l=>(_n(l,G0(),{item:s}),!0)),onHover:(r,s)=>{e.previewing.set(!1),e.lazyTypeaheadComp.get().each(l=>{e.model.populateFromBrowse&&jh(e.model,l,s)})}})})]),XT=Wl({name:"Typeahead",configFields:xS(),partFields:wS(),factory:(e,r,s,l)=>{const m=(N,F,$)=>{e.previewing.set(!1);const W=js.getCoupled(N,"sandbox");if(Lr.isOpen(W))Gr.getCurrent(W).each(se=>{ba.getHighlighted(se).fold(()=>{$(se)},()=>{Bc(W,se.element,"keydown",F)})});else{const se=le=>{Gr.getCurrent(le).each($)};Gu(e,h(N),N,W,l,se,Gl.HighlightMenuAndItem).get(he)}},g=J4(e),h=N=>F=>F.map($=>{const W=vo($.menus),se=ct(W,le=>Pt(le.items,fe=>fe.type==="item"));return Wo.getState(N).update(dt(se,le=>le.data)),$}),x=N=>Gr.getCurrent(N),w="typeaheadevents",S=[er.config({}),Wo.config({onSetValue:e.onSetValue,store:{mode:"dataset",getDataKey:N=>Lu(N.element),getFallbackEntry:N=>({value:N,meta:{}}),setValue:(N,F)=>{Ec(N.element,e.model.getDisplayText(F))},...e.initialData.map(N=>Xi("initialValue",N)).getOr({})}}),Ry.config({stream:{mode:"throttle",delay:e.responseTime,stopEvent:!1},onStream:(N,F)=>{const $=js.getCoupled(N,"sandbox");if(er.isFocused(N)&&Lu(N.element).length>=e.minChars){const W=x($).bind(le=>ba.getHighlighted(le).map(Wo.getValue));e.previewing.set(!0);const se=le=>{x($).each(fe=>{W.fold(()=>{e.model.selectsOver&&ba.highlightFirst(fe)},te=>{ba.highlightBy(fe,X=>Wo.getValue(X).value===te.value),ba.getHighlighted(fe).orThunk(()=>(ba.highlightFirst(fe),R.none()))})})};Gu(e,h(N),N,$,l,se,Gl.HighlightJustMenu).get(he)}},cancelEvent:ig()}),Dn.config({mode:"special",onDown:(N,F)=>(m(N,F,ba.highlightFirst),R.some(!0)),onEscape:N=>{const F=js.getCoupled(N,"sandbox");return Lr.isOpen(F)?(Lr.close(F),R.some(!0)):R.none()},onUp:(N,F)=>(m(N,F,ba.highlightLast),R.some(!0)),onEnter:N=>{const F=js.getCoupled(N,"sandbox"),$=Lr.isOpen(F);if($&&!e.previewing.get())return x(F).bind(W=>ba.getHighlighted(W)).map(W=>(_n(N,G0(),{item:W}),!0));{const W=Wo.getValue(N);return $r(N,ig()),e.onExecute(F,N,W),$&&Lr.close(F),R.some(!0)}}}),Dr.config({toggleClass:e.markers.openClass,aria:{mode:"expanded"}}),js.config({others:{sandbox:N=>hw(e,N,{onOpen:()=>Dr.on(N),onClose:()=>{e.lazyTypeaheadComp.get().each(F=>xa(F.element,"aria-activedescendant")),Dr.off(N)}})}}),Tr(w,[La(N=>{e.lazyTypeaheadComp.set(R.some(N))}),od(N=>{e.lazyTypeaheadComp.set(R.none())}),Cc(N=>{const F=he;S0(e,h(N),N,l,F,Gl.HighlightMenuAndItem).get(he)}),Kt(G0(),(N,F)=>{const $=js.getCoupled(N,"sandbox");jh(e.model,N,F.event.item),$r(N,ig()),e.onItemExecute(N,$,F.event.item,Wo.getValue(N)),Lr.close($),YT(N)})].concat(e.dismissOnBlur?[Kt(vp(),N=>{const F=js.getCoupled(N,"sandbox");gc(F.element).isNone()&&Lr.close(F)})]:[]))],A={[sm()]:[Wo.name(),Ry.name(),w],...e.eventOrder};return{uid:e.uid,dom:v2(Da(e,{inputAttributes:{role:"combobox","aria-autocomplete":"list","aria-haspopup":"true"}})),behaviours:{...g,...Fi(e.typeaheadBehaviours,S)},eventOrder:A}}}),kf=e=>({...e,toCached:()=>kf(e.toCached()),bindFuture:r=>kf(e.bind(s=>s.fold(l=>zm(Fr.error(l)),l=>r(l)))),bindResult:r=>kf(e.map(s=>s.bind(r))),mapResult:r=>kf(e.map(s=>s.map(r))),mapError:r=>kf(e.map(s=>s.mapError(r))),foldResult:(r,s)=>e.map(l=>l.fold(r,s)),withTimeout:(r,s)=>kf(Qg(l=>{let m=!1;const g=setTimeout(()=>{m=!0,l(Fr.error(s()))},r);e.get(h=>{m||(clearTimeout(g),l(h))})}))}),AO=e=>kf(Qg(e)),Qw=(e,r,s=[],l,m,g)=>{const h=r.fold(()=>({}),S=>({action:S})),x={buttonBehaviours:Oo([my(()=>!e.enabled||g.isDisabled()),Wi(),Bs.config({}),Tr("button press",[_p("click"),_p("mousedown")])].concat(s)),eventOrder:{click:["button press","alloy.base.behaviour"],mousedown:["button press","alloy.base.behaviour"]},...h},w=Da(x,{dom:l});return Da(w,{components:m})},OO=(e,r,s,l=[])=>{const m={tag:"button",classes:["tox-tbtn"],attributes:e.tooltip.map(x=>({"aria-label":s.translate(x),title:s.translate(x)})).getOr({})},g=e.icon.map(x=>wf(x,s.icons)),h=Eh([g]);return Qw(e,r,l,m,h,s)},ek=e=>{switch(e){case"primary":return["tox-button"];case"toolbar":return["tox-tbtn"];default:return["tox-button","tox-button--secondary"]}},JT=(e,r,s,l=[],m=[])=>{const g=s.translate(e.text),h=e.icon.map(A=>wf(A,s.icons)),x=[h.getOrThunk(()=>Ya(g))],w=e.buttonType.getOr(e.primary||e.borderless?"primary":"secondary"),S=[...ek(w),...h.isSome()?["tox-button--icon"]:[],...e.borderless?["tox-button--naked"]:[],...m];return Qw(e,r,l,{tag:"button",classes:S,attributes:{title:g}},x,s)},QT=(e,r,s,l=[],m=[])=>{const g=JT(e,R.some(r),s,l,m);return wl.sketch(g)},kS=(e,r)=>s=>{r==="custom"?_n(s,Xu,{name:e,value:{}}):r==="submit"?$r(s,bf):r==="cancel"?$r(s,ep):console.error("Unknown button type: ",r)},K0=(e,r,s)=>{if(((l,m)=>m==="menu")(0,r)){const l=()=>h,m=e,g={...e,type:"menubutton",search:R.none(),onSetup:x=>(x.setEnabled(e.enabled),he),fetch:Xw(m.items,l,s)},h=Ta(cp(g,"tox-tbtn",s,R.none()));return h.asSpec()}if(((l,m)=>m==="custom"||m==="cancel"||m==="submit")(0,r)){const l=kS(e.name,r),m={...e,borderless:!1};return QT(m,l,s.shared.providers,[])}if(((l,m)=>m==="togglebutton")(0,r))return((l,m)=>{var g,h;const x=l.icon.map(te=>sp(te,m.icons)).map(Ta),w=l.buttonType.getOr(l.primary?"primary":"secondary"),S={...l,name:(g=l.name)!==null&&g!==void 0?g:"",primary:w==="primary",tooltip:R.from(l.tooltip),enabled:(h=l.enabled)!==null&&h!==void 0&&h,borderless:!1},A=S.tooltip.map(te=>({"aria-label":m.translate(te),title:m.translate(te)})).getOr({}),N=ek(w??"secondary"),F=l.icon.isSome()&&l.text.isSome(),$={tag:"button",classes:[...N.concat(l.icon.isSome()?["tox-button--icon"]:[]),...l.active?["tox-button--enabled"]:[],...F?["tox-button--icon-and-text"]:[]],attributes:A},W=m.translate(l.text.getOr("")),se=Ya(W),le=[...Eh([x.map(te=>te.asSpec())]),...l.text.isSome()?[se]:[]],fe=Qw(S,R.some(te=>{_n(te,Xu,{name:l.name,value:{setIcon:X=>{x.map(ue=>ue.getOpt(te).each(ye=>{fr.set(ye,[sp(X,m.icons)])}))}}})}),[],$,le,m);return wl.sketch(fe)})(e,s.shared.providers);throw console.error("Unknown footer button type: ",r),new Error("Unknown footer button type")},$d={type:"separator"},NO=e=>({type:"menuitem",value:e.url,text:e.title,meta:{attach:e.attach},onAction:he}),tk=(e,r)=>({type:"menuitem",value:r,text:e,meta:{attach:void 0},onAction:he}),_S=(e,r)=>(s=>dt(s,NO))(((s,l)=>Pt(l,m=>m.type===s))(e,r)),MO=e=>_S("header",e.targets),Y0=e=>_S("anchor",e.targets),ok=e=>R.from(e.anchorTop).map(r=>tk("<top>",r)).toArray(),DO=e=>R.from(e.anchorBottom).map(r=>tk("<bottom>",r)).toArray(),By=(e,r)=>{const s=e.toLowerCase();return Pt(r,l=>{var m;const g=l.meta!==void 0&&l.meta.text!==void 0?l.meta.text:l.text,h=(m=l.value)!==null&&m!==void 0?m:"";return Yr(g.toLowerCase(),s)||Yr(h.toLowerCase(),s)})},ez=un("aria-invalid"),RO=(e,r)=>{e.dom.checked=r},xu=e=>e.dom.checked,vi=e=>(r,s,l,m)=>Xt(s,"name").fold(()=>e(s,m,R.none()),g=>r.field(g,e(s,m,Xt(l,g)))),tz={bar:vi((e,r)=>((s,l)=>({dom:{tag:"div",classes:["tox-bar","tox-form__controls-h-stack"]},components:dt(s.items,l.interpreter)}))(e,r.shared)),collection:vi((e,r,s)=>KE(e,r.shared.providers,s)),alertbanner:vi((e,r)=>((s,l)=>{const m=Y_(s.icon,l.icons);return Ku.sketch({dom:{tag:"div",attributes:{role:"alert"},classes:["tox-notification","tox-notification--in",`tox-notification--${s.level}`]},components:[{dom:{tag:"div",classes:["tox-notification__icon"],innerHtml:s.url?void 0:m},components:s.url?[wl.sketch({dom:{tag:"button",classes:["tox-button","tox-button--naked","tox-button--icon"],innerHtml:m,attributes:{title:l.translate(s.iconTooltip)}},action:g=>_n(g,Xu,{name:"alert-banner",value:s.url}),buttonBehaviours:Oo([X_()])})]:void 0},{dom:{tag:"div",classes:["tox-notification__body"],innerHtml:l.translate(s.text)}}]})})(e,r.shared.providers)),input:vi((e,r,s)=>((l,m,g)=>VT({name:l.name,multiline:!1,label:l.label,inputMode:l.inputMode,placeholder:l.placeholder,flex:!1,disabled:!l.enabled,classname:"tox-textfield",validation:R.none(),maximized:l.maximized,data:g},m))(e,r.shared.providers,s)),textarea:vi((e,r,s)=>((l,m,g)=>VT({name:l.name,multiline:!0,label:l.label,inputMode:R.none(),placeholder:l.placeholder,flex:!0,disabled:!l.enabled,classname:"tox-textarea",validation:R.none(),maximized:l.maximized,data:g},m))(e,r.shared.providers,s)),label:vi((e,r)=>((s,l)=>{const m="tox-label";return{dom:{tag:"div",classes:["tox-form__group"]},components:[{dom:{tag:"label",classes:[m,...s.align==="center"?[`${m}--center`]:[],...s.align==="end"?[`${m}--end`]:[]]},components:[Ya(l.providers.translate(s.label))]},...dt(s.items,l.interpreter)],behaviours:Oo([rp(),fr.config({}),(g=R.none(),jw(g,Sc,Ds)),Dn.config({mode:"acyclic"})])};var g})(e,r.shared)),iframe:(Ez=(e,r,s)=>((l,m,g)=>{const h="tox-dialog__iframe",x=l.transparent?[]:[`${h}--opaque`],w=l.border?["tox-navobj-bordered"]:[],S={...l.label.map($=>({title:$})).getOr({}),...g.map($=>({srcdoc:$})).getOr({}),...l.sandboxed?{sandbox:"allow-scripts allow-same-origin"}:{}},A=(($,W)=>{const se=Sn($.getOr(""));return{getValue:le=>se.get(),setValue:(le,fe)=>{if(se.get()!==fe){const te=le.element,X=()=>Kn(te,"srcdoc",fe);W?FT.fold(me(Oy),ue=>ue.throttle)(te,fe,X):X()}se.set(fe)}}})(g,l.streamContent),N=l.label.map($=>hf($,m)),F=ya.parts.field({factory:{sketch:$=>YC(R.from(w),{uid:$.uid,dom:{tag:"iframe",attributes:S,classes:[h,...x]},behaviours:Oo([Bs.config({}),er.config({}),Uc(g,A.getValue,A.setValue),tc.config({channels:{[Zw]:{onReceive:(W,se)=>{se.newFocus.each(le=>{Go(W.element).each(fe=>{(Jo(W.element,le)?Jr:rs)(fe,"tox-navobj-bordered-focus")})})}}}})])})}});return ky(N,F,["tox-form__group--stretched"],[])})(e,r.shared.providers,s),(e,r,s,l)=>{const m=Da(r,{source:"dynamic"});return vi(Ez)(e,m,s,l)}),button:vi((e,r)=>((s,l)=>{const m=kS(s.name,"custom");return g=R.none(),h=ya.parts.field({factory:wl,...JT(s,R.some(m),l,[ap(""),rp()])}),ky(g,h,[],[]);var g,h})(e,r.shared.providers)),checkbox:vi((e,r,s)=>((l,m,g)=>{const h=N=>(N.element.dom.click(),R.some(!0)),x=ya.parts.field({factory:{sketch:Ze},dom:{tag:"input",classes:["tox-checkbox__input"],attributes:{type:"checkbox"}},behaviours:Oo([rp(),Qn.config({disabled:()=>!l.enabled||m.isDisabled(),onDisabled:N=>{Go(N.element).each(F=>Jr(F,"tox-checkbox--disabled"))},onEnabled:N=>{Go(N.element).each(F=>rs(F,"tox-checkbox--disabled"))}}),Bs.config({}),er.config({}),jw(g,xu,RO),Dn.config({mode:"special",onEnter:h,onSpace:h,stopSpaceKeyup:!0}),Tr("checkbox-events",[Kt(Tn(),(N,F)=>{_n(N,cd,{name:l.name})})])])}),w=ya.parts.label({dom:{tag:"span",classes:["tox-checkbox__label"]},components:[Ya(m.translate(l.label))],behaviours:Oo([Cy.config({})])}),S=N=>Uu(N==="checked"?"selected":"unselected",{tag:"span",classes:["tox-icon","tox-checkbox-icon__"+N]},m.icons),A=Ta({dom:{tag:"div",classes:["tox-checkbox__icons"]},components:[S("checked"),S("unchecked")]});return ya.sketch({dom:{tag:"label",classes:["tox-checkbox"]},components:[x,A.asSpec(),w],fieldBehaviours:Oo([Qn.config({disabled:()=>!l.enabled||m.isDisabled()}),Wi()])})})(e,r.shared.providers,s)),colorinput:vi((e,r,s)=>((l,m,g,h)=>{const x=ya.parts.field({factory:df,inputClasses:["tox-textfield"],data:h,onSetValue:N=>jd.run(N).get(he),inputBehaviours:Oo([Qn.config({disabled:m.providers.isDisabled}),Wi(),Bs.config({}),jd.config({invalidClass:"tox-textbox-field-invalid",getRoot:N=>Go(N.element),notify:{onValid:N=>{const F=Wo.getValue(N);_n(N,oT,{color:F})}},validator:{validateOnLoad:!1,validate:N=>{const F=Wo.getValue(N);if(F.length===0)return zm(Fr.value(!0));{const $=_t("span");Bn($,"background-color",F);const W=Ir($,"background-color").fold(()=>Fr.error("blah"),se=>Fr.value(F));return zm(W)}}}})]),selectOnFocus:!1}),w=l.label.map(N=>hf(N,m.providers)),S=(N,F)=>{_n(N,nT,{value:F})},A=Ta(((N,F)=>Hd.sketch({dom:N.dom,components:N.components,toggleClass:"mce-active",dropdownBehaviours:Oo([my(F.providers.isDisabled),Wi(),Cy.config({}),Bs.config({})]),layouts:N.layouts,sandboxClasses:["tox-dialog__popups"],lazySink:F.getSink,fetch:$=>Qg(W=>N.fetch(W)).map(W=>R.from(yw(Da(aC(un("menu-value"),W,se=>{N.onItemAction($,se)},N.columns,N.presets,Oc.CLOSE_ON_EXECUTE,Bo,F.providers),{movement:_0(N.columns,N.presets)})))),parts:{menu:Ch(0,0,N.presets)}}))({dom:{tag:"span",attributes:{"aria-label":m.providers.translate("Color swatch")}},layouts:{onRtl:()=>[Gs,Qi,yi],onLtr:()=>[Qi,Gs,yi]},components:[],fetch:nC(g.getColors(l.storageKey),l.storageKey,g.hasCustomColors()),columns:g.getColorCols(l.storageKey),presets:"color",onItemAction:(N,F)=>{A.getOpt(N).each($=>{F==="custom"?g.colorPicker(W=>{W.fold(()=>$r($,_C),se=>{S($,se),CE(l.storageKey,se)})},"#ffffff"):S($,F==="remove"?"":F)})}},m));return ya.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:w.toArray().concat([{dom:{tag:"div",classes:["tox-color-input"]},components:[x,A.asSpec()]}]),fieldBehaviours:Oo([Tr("form-field-events",[Kt(oT,(N,F)=>{A.getOpt(N).each($=>{Bn($.element,"background-color",F.event.color)}),_n(N,cd,{name:l.name})}),Kt(nT,(N,F)=>{ya.getField(N).each($=>{Wo.setValue($,F.event.value),Gr.getCurrent(N).each(er.focus)})}),Kt(_C,(N,F)=>{ya.getField(N).each($=>{Gr.getCurrent(N).each(er.focus)})})])])})})(e,r.shared,r.colorinput,s)),colorpicker:vi((e,r,s)=>((l,m,g)=>{const h=S=>"tox-"+S,x=WC((S=>A=>io(A)?S.translate(I0[A]):S.translate(A))(m),h),w=Ta(x.sketch({dom:{tag:"div",classes:[h("color-picker-container")],attributes:{role:"presentation"}},onValidHex:S=>{_n(S,Xu,{name:"hex-valid",value:!0})},onInvalidHex:S=>{_n(S,Xu,{name:"hex-valid",value:!1})}}));return{dom:{tag:"div"},components:[w.asSpec()],behaviours:Oo([Uc(g,S=>{const A=w.get(S);return Gr.getCurrent(A).bind(N=>Wo.getValue(N).hex).map(N=>"#"+Ys(N,"#")).getOr("")},(S,A)=>{const N=R.from(/^#([a-fA-F0-9]{3}(?:[a-fA-F0-9]{3})?)/.exec(A)).bind($=>Me($,1)),F=w.get(S);Gr.getCurrent(F).fold(()=>{},$=>{Wo.setValue($,{hex:N.getOr("")}),vf.getField($,"hex").each(W=>{$r(W,Hn())})})}),rp()])}})(0,r.shared.providers,s)),dropzone:vi((e,r,s)=>((l,m,g)=>{const h=(W,se)=>{se.stop()},x=W=>(se,le)=>{Ie(W,fe=>{fe(se,le)})},w=(W,se)=>{var le;if(!Qn.isDisabled(W)){const fe=se.event.raw;A(W,(le=fe.dataTransfer)===null||le===void 0?void 0:le.files)}},S=(W,se)=>{const le=se.event.raw.target;A(W,le.files)},A=(W,se)=>{se&&(Wo.setValue(W,((le,fe)=>{const te=Om.explode(fe.getOption("images_file_types"));return Pt(Ge(le),X=>uo(te,ue=>cs(X.name.toLowerCase(),`.${ue.toLowerCase()}`)))})(se,m)),_n(W,cd,{name:l.name}))},N=Ta({dom:{tag:"input",attributes:{type:"file",accept:"image/*"},styles:{display:"none"}},behaviours:Oo([Tr("input-file-events",[jl(fa()),jl(Fm())])])}),F=l.label.map(W=>hf(W,m)),$=ya.parts.field({factory:{sketch:W=>({uid:W.uid,dom:{tag:"div",classes:["tox-dropzone-container"]},behaviours:Oo([ap(g.getOr([])),rp(),Qn.config({}),Dr.config({toggleClass:"dragenter",toggleOnExecute:!1}),Tr("dropzone-events",[Kt("dragenter",x([h,Dr.toggle])),Kt("dragleave",x([h,Dr.toggle])),Kt("dragover",h),Kt("drop",x([h,w])),Kt(Tn(),S)])]),components:[{dom:{tag:"div",classes:["tox-dropzone"],styles:{}},components:[{dom:{tag:"p"},components:[Ya(m.translate("Drop an image here"))]},wl.sketch({dom:{tag:"button",styles:{position:"relative"},classes:["tox-button","tox-button--secondary"]},components:[Ya(m.translate("Browse for an image")),N.asSpec()],action:se=>{N.get(se).element.dom.click()},buttonBehaviours:Oo([Bs.config({}),my(m.isDisabled),Wi()])})]}]})}});return ky(F,$,["tox-form__group--stretched"],[])})(e,r.shared.providers,s)),grid:vi((e,r)=>((s,l)=>({dom:{tag:"div",classes:["tox-form__grid",`tox-form__grid--${s.columns}col`]},components:dt(s.items,l.interpreter)}))(e,r.shared)),listbox:vi((e,r,s)=>((l,m,g)=>{const h=m.shared.providers,x=g.bind(N=>aS(l.items,N)).orThunk(()=>at(l.items).filter(rS)),w=l.label.map(N=>hf(N,h)),S=ya.parts.field({dom:{},factory:{sketch:N=>oS({uid:N.uid,text:x.map(F=>F.text),icon:R.none(),tooltip:l.label,role:R.none(),fetch:(F,$)=>{const W=HT(F,l.name,l.items,Wo.getValue(F));$(Ny(W,Oc.CLOSE_ON_EXECUTE,m,{isHorizontalMenu:!1,search:R.none()}))},onSetup:me(he),getApi:me({}),columns:1,presets:"normal",classes:[],dropdownBehaviours:[Bs.config({}),Uc(x.map(F=>F.value),F=>Ma(F.element,PT),(F,$)=>{aS(l.items,$).each(W=>{Kn(F.element,PT,W.value),_n(F,dd,{text:W.text})})})]},"tox-listbox",m.shared)}}),A={dom:{tag:"div",classes:["tox-listboxfield"]},components:[S]};return ya.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:$e([w.toArray(),[A]]),fieldBehaviours:Oo([Qn.config({disabled:me(!l.enabled),onDisabled:N=>{ya.getField(N).each(Qn.disable)},onEnabled:N=>{ya.getField(N).each(Qn.enable)}})])})})(e,r,s)),selectbox:vi((e,r,s)=>((l,m,g)=>{const h=dt(l.items,N=>({text:m.translate(N.text),value:N.value})),x=l.label.map(N=>hf(N,m)),w=ya.parts.field({dom:{},...g.map(N=>({data:N})).getOr({}),selectAttributes:{size:l.size},options:h,factory:EO,selectBehaviours:Oo([Qn.config({disabled:()=>!l.enabled||m.isDisabled()}),Bs.config({}),Tr("selectbox-change",[Kt(Tn(),(N,F)=>{_n(N,cd,{name:l.name})})])])}),S=l.size>1?R.none():R.some(Uu("chevron-down",{tag:"div",classes:["tox-selectfield__icon-js"]},m.icons)),A={dom:{tag:"div",classes:["tox-selectfield"]},components:$e([[w],S.toArray()])};return ya.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:$e([x.toArray(),[A]]),fieldBehaviours:Oo([Qn.config({disabled:()=>!l.enabled||m.isDisabled(),onDisabled:N=>{ya.getField(N).each(Qn.disable)},onEnabled:N=>{ya.getField(N).each(Qn.enable)}}),Wi()])})})(e,r.shared.providers,s)),sizeinput:vi((e,r)=>((s,l)=>{let m=iS;const g=un("ratio-event"),h=$=>Uu($,{tag:"span",classes:["tox-icon","tox-lock-icon__"+$]},l.icons),x=ud.parts.lock({dom:{tag:"button",classes:["tox-lock","tox-button","tox-button--naked","tox-button--icon"],attributes:{title:l.translate(s.label.getOr("Constrain proportions"))}},components:[h("lock"),h("unlock")],buttonBehaviours:Oo([Qn.config({disabled:()=>!s.enabled||l.isDisabled()}),Wi(),Bs.config({})])}),w=$=>({dom:{tag:"div",classes:["tox-form__group"]},components:$}),S=$=>ya.parts.field({factory:df,inputClasses:["tox-textfield"],inputBehaviours:Oo([Qn.config({disabled:()=>!s.enabled||l.isDisabled()}),Wi(),Bs.config({}),Tr("size-input-events",[Kt(He(),(W,se)=>{_n(W,g,{isField1:$})}),Kt(Tn(),(W,se)=>{_n(W,cd,{name:s.name})})])]),selectOnFocus:!1}),A=$=>({dom:{tag:"label",classes:["tox-label"]},components:[Ya(l.translate($))]}),N=ud.parts.field1(w([ya.parts.label(A("Width")),S(!0)])),F=ud.parts.field2(w([ya.parts.label(A("Height")),S(!1)]));return ud.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:[{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:[N,F,w([A(" "),x])]}],field1Name:"width",field2Name:"height",locked:!0,markers:{lockClass:"tox-locked"},onLockedChange:($,W,se)=>{V0(Wo.getValue($)).each(le=>{m(le).each(fe=>{Wo.setValue(W,(te=>{const X={"":0,px:0,pt:1,mm:1,pc:2,ex:2,em:2,ch:2,rem:2,cm:3,in:4,"%":4};let ue=te.value.toFixed((ye=te.unit)in X?X[ye]:1);var ye;return ue.indexOf(".")!==-1&&(ue=ue.replace(/\.?0*$/,"")),ue+te.unit})(fe))})})},coupledFieldBehaviours:Oo([Qn.config({disabled:()=>!s.enabled||l.isDisabled(),onDisabled:$=>{ud.getField1($).bind(ya.getField).each(Qn.disable),ud.getField2($).bind(ya.getField).each(Qn.disable),ud.getLock($).each(Qn.disable)},onEnabled:$=>{ud.getField1($).bind(ya.getField).each(Qn.enable),ud.getField2($).bind(ya.getField).each(Qn.enable),ud.getLock($).each(Qn.enable)}}),Wi(),Tr("size-input-events2",[Kt(g,($,W)=>{const se=W.event.isField1,le=se?ud.getField1($):ud.getField2($),fe=se?ud.getField2($):ud.getField1($),te=le.map(Wo.getValue).getOr(""),X=fe.map(Wo.getValue).getOr("");m=((ue,ye)=>{const we=V0(ue).toOptional(),Ye=V0(ye).toOptional();return vr(we,Ye,(Tt,Qt)=>sS(Tt,Qt.unit).map(no=>Qt.value/no).map(no=>{return oo=no,Uo=Qt.unit,pn=>sS(pn,Uo).map(Mn=>({value:Mn*oo,unit:Uo}));var oo,Uo}).getOr(iS)).getOr(iS)})(te,X)})])])})})(e,r.shared.providers)),slider:vi((e,r,s)=>((l,m,g)=>{const h=Vd.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[Ya(m.translate(l.label))]}),x=Vd.parts.spectrum({dom:{tag:"div",classes:["tox-slider__rail"],attributes:{role:"presentation"}}}),w=Vd.parts.thumb({dom:{tag:"div",classes:["tox-slider__handle"],attributes:{role:"presentation"}}});return Vd.sketch({dom:{tag:"div",classes:["tox-slider"],attributes:{role:"presentation"}},model:{mode:"x",minX:l.min,maxX:l.max,getInitialValue:me(g.getOrThunk(()=>(Math.abs(l.max)-Math.abs(l.min))/2))},components:[h,x,w],sliderBehaviours:Oo([rp(),er.config({})]),onChoose:(S,A,N)=>{_n(S,cd,{name:l.name,value:N})}})})(e,r.shared.providers,s)),urlinput:vi((e,r,s)=>((l,m,g,h)=>{const x=m.shared.providers,w=te=>{const X=Wo.getValue(te);g.addToHistory(X.value,l.filetype)},S={...h.map(te=>({initialData:te})).getOr({}),dismissOnBlur:!0,inputClasses:["tox-textfield"],sandboxClasses:["tox-dialog__popups"],inputAttributes:{"aria-errormessage":ez,type:"url"},minChars:0,responseTime:0,fetch:te=>{const X=((ye,we,Ye)=>{var Tt,Qt;const no=Wo.getValue(we),oo=(Qt=(Tt=no?.meta)===null||Tt===void 0?void 0:Tt.text)!==null&&Qt!==void 0?Qt:no.value;return Ye.getLinkInformation().fold(()=>[],Uo=>{const pn=By(oo,(ar=>dt(ar,dr=>tk(dr,dr)))(Ye.getHistory(ye)));return ye==="file"?(Mn=[pn,By(oo,MO(Uo)),By(oo,$e([ok(Uo),Y0(Uo),DO(Uo)]))],zo(Mn,(ar,dr)=>ar.length===0||dr.length===0?ar.concat(dr):ar.concat($d,dr),[])):pn;var Mn})})(l.filetype,te,g),ue=Ny(X,Oc.BUBBLE_TO_SANDBOX,m,{isHorizontalMenu:!1,search:R.none()});return zm(ue)},getHotspot:te=>le.getOpt(te),onSetValue:(te,X)=>{te.hasConfigured(jd)&&jd.run(te).get(he)},typeaheadBehaviours:Oo([...g.getValidationHandler().map(te=>jd.config({getRoot:X=>Go(X.element),invalidClass:"tox-control-wrap--status-invalid",notify:{onInvalid:(X,ue)=>{F.getOpt(X).each(ye=>{Kn(ye.element,"title",x.translate(ue))})}},validator:{validate:X=>{const ue=Wo.getValue(X);return AO(ye=>{te({type:l.filetype,url:ue.value},we=>{if(we.status==="invalid"){const Ye=Fr.error(we.message);ye(Ye)}else{const Ye=Fr.value(we.message);ye(Ye)}})})},validateOnLoad:!1}})).toArray(),Qn.config({disabled:()=>!l.enabled||x.isDisabled()}),Bs.config({}),Tr("urlinput-events",[Kt(Hn(),te=>{const X=Lu(te.element),ue=X.trim();ue!==X&&Ec(te.element,ue),l.filetype==="file"&&_n(te,cd,{name:l.name})}),Kt(Tn(),te=>{_n(te,cd,{name:l.name}),w(te)}),Kt(am(),te=>{_n(te,cd,{name:l.name}),w(te)})])]),eventOrder:{[Hn()]:["streaming","urlinput-events","invalidating"]},model:{getDisplayText:te=>te.value,selectsOver:!1,populateFromBrowse:!1},markers:{openClass:"tox-textfield--popup-open"},lazySink:m.shared.getSink,parts:{menu:Ch(0,0,"normal")},onExecute:(te,X,ue)=>{_n(X,bf,{})},onItemExecute:(te,X,ue,ye)=>{w(te),_n(te,cd,{name:l.name})}},A=ya.parts.field({...S,factory:XT}),N=l.label.map(te=>hf(te,x)),F=Ta(((te,X,ue=te,ye=te)=>Uu(ue,{tag:"div",classes:["tox-icon","tox-control-wrap__status-icon-"+te],attributes:{title:x.translate(ye),"aria-live":"polite",...X.fold(()=>({}),we=>({id:we}))}},x.icons))("invalid",R.some(ez),"warning")),$=Ta({dom:{tag:"div",classes:["tox-control-wrap__status-icon-wrap"]},components:[F.asSpec()]}),W=g.getUrlPicker(l.filetype),se=un("browser.url.event"),le=Ta({dom:{tag:"div",classes:["tox-control-wrap"]},components:[A,$.asSpec()],behaviours:Oo([Qn.config({disabled:()=>!l.enabled||x.isDisabled()})])}),fe=Ta(QT({name:l.name,icon:R.some("browse"),text:l.picker_text.or(l.label).getOr(""),enabled:l.enabled,primary:!1,buttonType:R.none(),borderless:!0},te=>$r(te,se),x,[],["tox-browse-url"]));return ya.sketch({dom:z0([]),components:N.toArray().concat([{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:$e([[le.asSpec()],W.map(()=>fe.asSpec()).toArray()])}]),fieldBehaviours:Oo([Qn.config({disabled:()=>!l.enabled||x.isDisabled(),onDisabled:te=>{ya.getField(te).each(Qn.disable),fe.getOpt(te).each(Qn.disable)},onEnabled:te=>{ya.getField(te).each(Qn.enable),fe.getOpt(te).each(Qn.enable)}}),Wi(),Tr("url-input-events",[Kt(se,te=>{Gr.getCurrent(te).each(X=>{const ue=Wo.getValue(X),ye={fieldname:l.name,...ue};W.each(we=>{we(ye).get(Ye=>{Wo.setValue(X,Ye),_n(te,cd,{name:l.name})})})})})])])})})(e,r,r.urlinput,s)),customeditor:vi(e=>{const r=ms(),s=Ta({dom:{tag:e.tag}}),l=ms();return{dom:{tag:"div",classes:["tox-custom-editor"]},behaviours:Oo([Tr("custom-editor-events",[La(m=>{s.getOpt(m).each(g=>{((h=>Vo(h,"init"))(e)?e.init(g.element.dom):CO.load(e.scriptId,e.scriptUrl).then(h=>h(g.element.dom,e.settings))).then(h=>{l.on(x=>{h.setValue(x)}),l.clear(),r.set(h)})})})]),Uc(R.none(),()=>r.get().fold(()=>l.get().getOr(""),m=>m.getValue()),(m,g)=>{r.get().fold(()=>l.set(g),h=>h.setValue(g))}),rp()]),components:[s.asSpec()]}}),htmlpanel:vi(e=>e.presets==="presentation"?Ku.sketch({dom:{tag:"div",classes:["tox-form__group"],innerHtml:e.html}}):Ku.sketch({dom:{tag:"div",classes:["tox-form__group"],innerHtml:e.html,attributes:{role:"document"}},containerBehaviours:Oo([Bs.config({}),er.config({})])})),imagepreview:vi((e,r,s)=>((l,m)=>{const g=Sn(m.getOr({url:""})),h=Ta({dom:{tag:"img",classes:["tox-imagepreview__image"],attributes:m.map(A=>({src:A.url})).getOr({})}}),x=Ta({dom:{tag:"div",classes:["tox-imagepreview__container"],attributes:{role:"presentation"}},components:[h.asSpec()]}),w={};l.height.each(A=>w.height=A);const S=m.map(A=>({url:A.url,zoom:R.from(A.zoom),cachedWidth:R.from(A.cachedWidth),cachedHeight:R.from(A.cachedHeight)}));return{dom:{tag:"div",classes:["tox-imagepreview"],styles:w,attributes:{role:"presentation"}},components:[x.asSpec()],behaviours:Oo([rp(),Uc(S,()=>g.get(),(A,N)=>{const F={url:N.url};N.zoom.each(W=>F.zoom=W),N.cachedWidth.each(W=>F.cachedWidth=W),N.cachedHeight.each(W=>F.cachedHeight=W),g.set(F);const $=()=>{const{cachedWidth:W,cachedHeight:se,zoom:le}=F;if(!tn(W)&&!tn(se)){if(tn(le)){const te=((X,ue,ye)=>{const we=Ga(X),Ye=Nt(X);return Math.min(we/ue,Ye/ye,1)})(A.element,W,se);F.zoom=te}const fe=((te,X,ue,ye,we)=>{const Ye=ue*we,Tt=ye*we,Qt=Math.max(0,te/2-Ye/2),no=Math.max(0,X/2-Tt/2);return{left:Qt.toString()+"px",top:no.toString()+"px",width:Ye.toString()+"px",height:Tt.toString()+"px"}})(Ga(A.element),Nt(A.element),W,se,F.zoom);x.getOpt(A).each(te=>{ji(te.element,fe)})}};h.getOpt(A).each(W=>{const se=W.element;var le;N.url!==Ma(se,"src")&&(Kn(se,"src",N.url),rs(A.element,"tox-imagepreview__loaded")),$(),(le=se,new Promise((fe,te)=>{const X=()=>{ye(),fe(le)},ue=[Ul(le,"load",X),Ul(le,"error",()=>{ye(),te("Unable to load data from image: "+le.dom.src)})],ye=()=>Ie(ue,we=>we.unbind());le.dom.complete&&X()})).then(fe=>{A.getSystem().isConnected()&&(Jr(A.element,"tox-imagepreview__loaded"),F.cachedWidth=fe.dom.naturalWidth,F.cachedHeight=fe.dom.naturalHeight,$())})})})])}})(e,s)),table:vi((e,r)=>((s,l)=>{const m=x=>({dom:{tag:"td",innerHtml:l.translate(x)}});return{dom:{tag:"table",classes:["tox-dialog__table"]},components:[(h=s.header,{dom:{tag:"thead"},components:[{dom:{tag:"tr"},components:dt(h,x=>({dom:{tag:"th",innerHtml:l.translate(x)}}))}]}),(g=s.cells,{dom:{tag:"tbody"},components:dt(g,x=>({dom:{tag:"tr"},components:dt(x,m)}))})],behaviours:Oo([Bs.config({}),er.config({})])};var g,h})(e,r.shared.providers)),tree:vi((e,r)=>((s,l)=>{const m=s.onLeafAction.getOr(he),g=s.onToggleExpand.getOr(he),h=s.defaultExpandedIds,x=Sn(h),w=Sn(s.defaultSelectedId),S=un("tree-id"),A=(N,F)=>s.items.map($=>$.type==="leaf"?Jw({leaf:$,selectedId:N,onLeafAction:m,visible:!0,treeId:S,backstage:l}):q0({directory:$,selectedId:N,onLeafAction:m,expandedIds:F,labelTabstopping:!0,treeId:S,backstage:l}));return{dom:{tag:"div",classes:["tox-tree"],attributes:{role:"tree"}},components:A(w.get(),x.get()),behaviours:Oo([Dn.config({mode:"flow",selector:".tox-tree--leaf__label--visible, .tox-tree--directory__label--visible",cycles:!1}),Tr(W0,[Kt("expand-tree-node",(N,F)=>{const{expanded:$,node:W}=F.event;x.set($?[...x.get(),W]:x.get().filter(se=>se!==W)),g(x.get(),{expanded:$,node:W})})]),tc.config({channels:{[`update-active-item-${S}`]:{onReceive:(N,F)=>{w.set(R.some(F.value)),fr.set(N,A(R.some(F.value),x.get()))}}}}),fr.config({})])}})(e,r)),panel:vi((e,r)=>((s,l)=>({dom:{tag:"div",classes:s.classes},components:dt(s.items,l.shared.interpreter)}))(e,r))},oz={field:(e,r)=>r,record:me([])},nz=(e,r,s,l)=>{const m=Da(l,{shared:{interpreter:g=>nk(e,g,s,m)}});return nk(e,r,s,m)},nk=(e,r,s,l)=>Xt(tz,r.type).fold(()=>(console.error(`Unknown factory type "${r.type}", defaulting to container: `,r),r),m=>m(e,r,s,l)),rz=(e,r,s)=>nk(oz,e,r,s),dp="layout-inset",rk=e=>e.x,CS=(e,r)=>e.x+e.width/2-r.width/2,ak=(e,r)=>e.x+e.width-r.width,sk=e=>e.y,ik=(e,r)=>e.y+e.height-r.height,SS=(e,r)=>e.y+e.height/2-r.height/2,lk=(e,r,s)=>Ji(ak(e,r),ik(e,r),s.insetSouthwest(),Rp(),"southwest",sl(e,{right:0,bottom:3}),dp),ck=(e,r,s)=>Ji(rk(e),ik(e,r),s.insetSoutheast(),Ht(),"southeast",sl(e,{left:1,bottom:3}),dp),X0=(e,r,s)=>Ji(ak(e,r),sk(e),s.insetNorthwest(),gm(),"northwest",sl(e,{right:0,top:2}),dp),J0=(e,r,s)=>Ji(rk(e),sk(e),s.insetNortheast(),ru(),"northeast",sl(e,{left:1,top:2}),dp),Ju=(e,r,s)=>Ji(CS(e,r),sk(e),s.insetNorth(),ub(),"north",sl(e,{top:2}),dp),Fy=(e,r,s)=>Ji(CS(e,r),ik(e,r),s.insetSouth(),Md(),"south",sl(e,{bottom:3}),dp),dk=(e,r,s)=>Ji(ak(e,r),SS(e,r),s.insetEast(),n1(),"east",sl(e,{right:0}),dp),Q0=(e,r,s)=>Ji(rk(e),SS(e,r),s.insetWest(),o1(),"west",sl(e,{left:1}),dp),az=e=>{switch(e){case"north":return Ju;case"northeast":return J0;case"northwest":return X0;case"south":return Fy;case"southeast":return ck;case"southwest":return lk;case"east":return dk;case"west":return Q0}},sz=(e,r,s,l,m)=>Sv(l).map(az).getOr(Ju)(e,r,s,l,m),BO=e=>{switch(e){case"north":return Fy;case"northeast":return ck;case"northwest":return lk;case"south":return Ju;case"southeast":return J0;case"southwest":return X0;case"east":return Q0;case"west":return dk}},FO=(e,r,s,l,m)=>Sv(l).map(BO).getOr(Ju)(e,r,s,l,m),Vh={valignCentre:[],alignCentre:[],alignLeft:[],alignRight:[],right:[],left:[],bottom:[],top:[]},uk=(e,r,s)=>{const l={maxHeightFunction:wg()};return()=>s()?{type:"node",root:Sr(rr(e())),node:R.from(e()),bubble:au(12,12,Vh),layouts:{onRtl:()=>[J0],onLtr:()=>[X0]},overrides:l}:{type:"hotspot",hotspot:r(),bubble:au(-12,12,Vh),layouts:{onRtl:()=>[Qi,Gs,yi],onLtr:()=>[Gs,Qi,yi]},overrides:l}},iz=(e,r,s,l)=>{const m={maxHeightFunction:wg()};return()=>l()?{type:"node",root:Sr(rr(r())),node:R.from(r()),bubble:au(12,12,Vh),layouts:{onRtl:()=>[Ju],onLtr:()=>[Ju]},overrides:m}:e?{type:"node",root:Sr(rr(r())),node:R.from(r()),bubble:au(0,-ho(r()),Vh),layouts:{onRtl:()=>[Nl],onLtr:()=>[Nl]},overrides:m}:{type:"hotspot",hotspot:s(),bubble:au(0,0,Vh),layouts:{onRtl:()=>[Nl],onLtr:()=>[Nl]},overrides:m}},lz=(e,r,s)=>()=>s()?{type:"node",root:Sr(rr(e())),node:R.from(e()),layouts:{onRtl:()=>[Ju],onLtr:()=>[Ju]}}:{type:"hotspot",hotspot:r(),layouts:{onRtl:()=>[yi],onLtr:()=>[yi]}},ES=(e,r)=>()=>({type:"selection",root:r(),getSelection:()=>{const s=e.selection.getRng(),l=e.model.table.getSelectedCells();if(l.length>1){const m=l[0],g=l[l.length-1],h={firstCell:St(m),lastCell:St(g)};return R.some(h)}return R.some(Hp.range(St(s.startContainer),s.startOffset,St(s.endContainer),s.endOffset))}}),LO=e=>r=>({type:"node",root:e(),node:r}),cz=(e,r,s,l)=>{const m=kh(e),g=()=>St(e.getBody()),h=()=>St(e.getContentAreaContainer()),x=()=>m||!l();return{inlineDialog:uk(h,r,x),inlineBottomDialog:iz(e.inline,h,s,x),banner:lz(h,r,x),cursor:ES(e,g),node:LO(g)}},Ly=e=>(r,s)=>{rC(e)(r,s)},dz=e=>()=>EE(e),IO=e=>r=>gf(e,r),PO=e=>r=>eC(e,r),TS=e=>()=>o2(e),zS=e=>$n(e,"items"),AS=e=>$n(e,"format"),ev=[{title:"Headings",items:[{title:"Heading 1",format:"h1"},{title:"Heading 2",format:"h2"},{title:"Heading 3",format:"h3"},{title:"Heading 4",format:"h4"},{title:"Heading 5",format:"h5"},{title:"Heading 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",format:"bold"},{title:"Italic",format:"italic"},{title:"Underline",format:"underline"},{title:"Strikethrough",format:"strikethrough"},{title:"Superscript",format:"superscript"},{title:"Subscript",format:"subscript"},{title:"Code",format:"code"}]},{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]},{title:"Align",items:[{title:"Left",format:"alignleft"},{title:"Center",format:"aligncenter"},{title:"Right",format:"alignright"},{title:"Justify",format:"alignjustify"}]}],mk=e=>zo(e,(r,s)=>{if(Vo(s,"items")){const l=mk(s.items);return{customFormats:r.customFormats.concat(l.customFormats),formats:r.formats.concat([{title:s.title,items:l.formats}])}}if(Vo(s,"inline")||(l=>Vo(l,"block"))(s)||(l=>Vo(l,"selector"))(s)){const l=`custom-${io(s.name)?s.name:s.title.toLowerCase()}`;return{customFormats:r.customFormats.concat([{name:l,format:s}]),formats:r.formats.concat([{title:s.title,format:l,icon:s.icon}])}}return{...r,formats:r.formats.concat(s)}},{customFormats:[],formats:[]}),uz=e=>$4(e).map(r=>{const s=((l,m)=>{const g=mk(m),h=x=>{Ie(x,w=>{l.formatter.has(w.name)||l.formatter.register(w.name,w.format)})};return l.formatter?h(g.customFormats):l.on("init",()=>{h(g.customFormats)}),g.formats})(e,r);return Ox(e)?ev.concat(s):s}).getOr(ev),OS=(e,r,s)=>({...e,type:"formatter",isSelected:r(e.format),getStylePreview:s(e.format)}),NS=(e,r,s,l)=>{const m=g=>dt(g,h=>zS(h)?(x=>{const w=m(x.items);return{...x,type:"submenu",getStyleItems:me(w)}})(h):AS(h)?(x=>OS(x,s,l))(h):(x=>{const w=Vt(x);return w.length===1&&Rt(w,"title")})(h)?{...h,type:"separator"}:(x=>{const w=io(x.name)?x.name:un(x.title),S=`custom-${w}`,A={...x,type:"formatter",format:S,isSelected:s(S),getStylePreview:l(S)};return e.formatter.register(w,A),A})(h));return m(r)},MS=Om.trim,mz=e=>r=>!!((s=>Ue(s)&&s.nodeType===1)(r)&&(r.contentEditable===e||r.getAttribute("data-mce-contenteditable")===e)),gz=mz("true"),pz=mz("false"),DS=(e,r,s,l,m)=>({type:e,title:r,url:s,level:l,attach:m}),RS=e=>e.innerText||e.textContent,BS=e=>(r=>r&&r.nodeName==="A"&&(r.id||r.name)!==void 0)(e)&&fz(e),gk=e=>e&&/^(H[1-6])$/.test(e.nodeName),fz=e=>(r=>{let s=r;for(;s=s.parentNode;){const l=s.contentEditable;if(l&&l!=="inherit")return gz(s)}return!1})(e)&&!pz(e),HO=e=>gk(e)&&fz(e),jO=e=>{var r;const s=(l=>l.id?l.id:un("h"))(e);return DS("header",(r=RS(e))!==null&&r!==void 0?r:"","#"+s,(l=>gk(l)?parseInt(l.nodeName.substr(1),10):0)(e),()=>{e.id=s})},VO=e=>{const r=e.id||e.name,s=RS(e);return DS("anchor",s||"#"+r,"#"+r,0,he)},hz=e=>MS(e.title).length>0,pk=e=>{const r=(s=>dt(Zl(St(s),"h1,h2,h3,h4,h5,h6,a:not([href])"),m=>m.dom))(e);return Pt((s=>dt(Pt(s,HO),jO))(r).concat((s=>dt(Pt(s,BS),VO))(r)),hz)},Iy="tinymce-url-history",FS=e=>io(e)&&/^https?/.test(e),up=e=>Po(e)&&Ft(e,r=>{return!(ko(s=r)&&s.length<=5&&gt(s,FS));var s}).isNone(),LS=()=>{const e=mf.getItem(Iy);if(e===null)return{};let r;try{r=JSON.parse(e)}catch(s){if(s instanceof SyntaxError)return""+Iy,{};throw s}return up(r)?r:(""+Iy,{})},bz=e=>{const r=LS();return Xt(r,e).getOr([])},IS=(e,r)=>{if(!FS(e))return;const s=LS(),l=Xt(s,r).getOr([]),m=Pt(l,g=>g!==e);s[r]=[e].concat(m).slice(0,5),(g=>{if(!up(g))throw new Error(`Bad format for history:
`+JSON.stringify(g));mf.setItem(Iy,JSON.stringify(g))})(s)},yz=e=>!!e,vz=e=>Zo(Om.makeMap(e,/[, ]/),yz),fk=e=>R.from(Bx(e)),PS=e=>R.from(e).filter(io).getOrUndefined(),xz=e=>({getHistory:bz,addToHistory:IS,getLinkInformation:()=>(r=>t2(r)?R.some({targets:pk(r.getBody()),anchorTop:PS(Ix(r)),anchorBottom:PS(X1(r))}):R.none())(e),getValidationHandler:()=>(r=>R.from(e2(r)))(e),getUrlPicker:r=>((s,l)=>((m,g)=>{const h=(x=>{const w=R.from(Lx(x)).filter(yz).map(vz);return fk(x).fold(Bo,S=>w.fold(Ct,A=>Vt(A).length>0&&A))})(m);return jo(h)?h?fk(m):R.none():h[g]?fk(m):R.none()})(s,l).map(m=>g=>Qg(h=>{const x={filetype:l,fieldname:g.fieldname,...R.from(g.meta).getOr({})};m.call(s,(w,S)=>{if(!io(w))throw new Error("Expected value to be string");if(S!==void 0&&!Po(S))throw new Error("Expected meta to be a object");h({value:w,meta:S})},g.value,x)})))(e,r)}),tl=O3,Nm=Qr,$O=me([ft("shell",!1),Yt("makeItem"),ft("setupItem",he),nc("listBehaviours",[fr])]),wz=No({name:"items",overrides:()=>({behaviours:Oo([fr.config({})])})}),UO=me([wz]),kz=Wl({name:me("CustomList")(),configFields:$O(),partFields:UO(),factory:(e,r,s,l)=>{const m=e.shell?{behaviours:[fr.config({})],components:[]}:{behaviours:[],components:r};return{uid:e.uid,dom:e.dom,components:m.components,behaviours:Fi(e.listBehaviours,m.behaviours),apis:{setItems:(g,h)=>{var x;(x=g,e.shell?R.some(x):ua(x,e,"items")).fold(()=>{throw console.error("Custom List was defined to not be a shell, but no item container was specified in components"),new Error("Custom List was defined to not be a shell, but no item container was specified in components")},w=>{const S=fr.contents(w),A=h.length,N=A-S.length,F=N>0?Bt(N,()=>e.makeItem()):[],$=S.slice(A);Ie($,se=>fr.remove(w,se)),Ie(F,se=>fr.append(w,se));const W=fr.contents(w);Ie(W,(se,le)=>{e.setupItem(g,se,h[le],le)})})}}}},apis:{setItems:(e,r,s)=>{e.setItems(r,s)}}}),Py=me([Yt("dom"),ft("shell",!0),qi("toolbarBehaviours",[fr])]),_z=me([No({name:"groups",overrides:()=>({behaviours:Oo([fr.config({})])})})]),Mm=Wl({name:"Toolbar",configFields:Py(),partFields:_z(),factory:(e,r,s,l)=>{const m=e.shell?{behaviours:[fr.config({})],components:[]}:{behaviours:[],components:r};return{uid:e.uid,dom:e.dom,components:m.components,behaviours:Fi(e.toolbarBehaviours,m.behaviours),apis:{setGroups:(g,h)=>{var x;(x=g,e.shell?R.some(x):ua(x,e,"groups")).fold(()=>{throw console.error("Toolbar was defined to not be a shell, but no groups container was specified in components"),new Error("Toolbar was defined to not be a shell, but no groups container was specified in components")},w=>{fr.set(w,h)})},refresh:he},domModification:{attributes:{role:"group"}}}},apis:{setGroups:(e,r,s)=>{e.setGroups(r,s)}}}),Cz=he,Sz=Bo,HS=me([]);var Ez,Hy=Object.freeze({__proto__:null,setup:Cz,isDocked:Sz,getBehaviours:HS});const jS=e=>(Rr(Ir(e,"position"),"fixed")?R.none():hn(e)).orThunk(()=>{const r=_t("span");return rn(e).bind(s=>{ur(s,r);const l=hn(r);return ia(r),l})}),Tz=e=>jS(e).map(Or).getOrThunk(()=>kn(0,0)),ZO=(e,r)=>{const s=e.element;Jr(s,r.transitionClass),rs(s,r.fadeOutClass),Jr(s,r.fadeInClass),r.onShow(e)},qO=(e,r)=>{const s=e.element;Jr(s,r.transitionClass),rs(s,r.fadeInClass),Jr(s,r.fadeOutClass),r.onHide(e)},hk=(e,r)=>e.y>=r.y,VS=(e,r)=>e.bottom<=r.bottom,bk=(e,r,s)=>({location:"top",leftX:r,topY:s.bounds.y-e.y}),yk=(e,r,s)=>({location:"bottom",leftX:r,bottomY:e.bottom-s.bounds.bottom}),$S=e=>e.box.x-e.win.x,vk=(e,r,s)=>s.getInitialPos().map(l=>{const m=((g,h)=>{const x=h.optScrollEnv.fold(me(g.bounds.y),w=>w.scrollElmTop+(g.bounds.y-w.currentScrollTop));return kn(g.bounds.x,x)})(l,r);return{box:Ba(m.left,m.top,Ga(e),Nt(e)),location:l.location}}),zz=(e,r,s,l,m)=>{const g=((x,w)=>{const S=w.optScrollEnv.fold(me(x.y),A=>x.y+A.currentScrollTop-A.scrollElmTop);return kn(x.x,S)})(r,s),h=Ba(g.left,g.top,r.width,r.height);l.setInitialPos({style:gi(e),position:aa(e,"position")||"static",bounds:h,location:m.location})},Az=(e,r,s)=>s.getInitialPos().bind(l=>{var m;switch(s.clearInitialPos(),l.position){case"static":return R.some({morph:"static"});case"absolute":const g=jS(e).getOr(ws()),h=Fa(g),x=(m=g.dom.scrollTop)!==null&&m!==void 0?m:0;return R.some({morph:"absolute",positionCss:Ic("absolute",Xt(l.style,"left").map(w=>r.x-h.x),Xt(l.style,"top").map(w=>r.y-h.y+x),Xt(l.style,"right").map(w=>h.right-r.right),Xt(l.style,"bottom").map(w=>h.bottom-r.bottom))});default:return R.none()}}),jy=e=>{switch(e.location){case"top":return R.some({morph:"fixed",positionCss:Ic("fixed",R.some(e.leftX),R.some(e.topY),R.none(),R.none())});case"bottom":return R.some({morph:"fixed",positionCss:Ic("fixed",R.some(e.leftX),R.none(),R.none(),R.some(e.bottomY))});default:return R.none()}},Oz=(e,r,s)=>{const l=e.element;return Rr(Ir(l,"position"),"fixed")?((m,g,h)=>((x,w,S)=>vk(x,w,S).filter(({box:A})=>((N,F,$)=>gt(N,W=>{switch(W){case"bottom":return VS(F,$.bounds);case"top":return hk(F,$.bounds)}}))(S.getModes(),A,w)).bind(({box:A})=>Az(x,A,S)))(m,g,h).orThunk(()=>g.optScrollEnv.bind(x=>vk(m,g,h)).bind(({box:x,location:w})=>{const S=Ua(),A=$S({win:S,box:x}),N=w==="top"?bk(S,A,g):yk(S,A,g);return jy(N)})))(l,r,s):((m,g,h)=>{const x=Fa(m),w=Ua(),S=((A,N,F)=>{const $=N.win,W=N.box,se=$S(N);return Gt(A,le=>{switch(le){case"bottom":return VS(W,F.bounds)?R.none():R.some(yk($,se,F));case"top":return hk(W,F.bounds)?R.none():R.some(bk($,se,F));default:return R.none()}}).getOr({location:"no-dock"})})(h.getModes(),{win:w,box:x},g);return S.location==="top"||S.location==="bottom"?(zz(m,x,g,h,S),jy(S)):R.none()})(l,r,s)},US=(e,r,s)=>{s.setDocked(!1),Ie(["left","right","top","bottom","position"],l=>Pr(e.element,l)),r.onUndocked(e)},xk=(e,r,s,l)=>{const m=l.position==="fixed";s.setDocked(m),c1(e.element,l),(m?r.onDocked:r.onUndocked)(e)},ZS=(e,r,s,l,m=!1)=>{r.contextual.each(g=>{g.lazyContext(e).each(h=>{const x=((w,S)=>w.y<S.bottom&&w.bottom>S.y)(h,l.bounds);x!==s.isVisible()&&(s.setVisible(x),m&&!x?(Lc(e.element,[g.fadeOutClass]),g.onHide(e)):(x?ZO:qO)(e,g))})})},qS=(e,r,s,l,m)=>{ZS(e,r,s,l,!0),xk(e,r,s,m.positionCss)},_f=(e,r,s)=>{e.getSystem().isConnected()&&((l,m,g)=>{const h=m.lazyViewport(l);ZS(l,m,g,h),Oz(l,h,g).each(x=>{((w,S,A,N,F)=>{switch(F.morph){case"static":return US(w,S,A);case"absolute":return xk(w,S,A,F.positionCss);case"fixed":qS(w,S,A,N,F)}})(l,m,g,h,x)})})(e,r,s)},Nz=(e,r,s)=>{s.isDocked()&&((l,m,g)=>{const h=l.element;g.setDocked(!1);const x=m.lazyViewport(l);((w,S,A)=>{const N=w.element;return vk(N,S,A).bind(({box:F})=>Az(N,F,A))})(l,x,g).each(w=>{switch(w.morph){case"static":US(l,m,g);break;case"absolute":xk(l,m,g,w.positionCss)}}),g.setVisible(!0),m.contextual.each(w=>{Zi(h,[w.fadeInClass,w.fadeOutClass,w.transitionClass]),w.onShow(l)}),_f(l,m,g)})(e,r,s)},WS=e=>(r,s,l)=>{const m=s.lazyViewport(r);((g,h,x,w)=>{const S=Fa(g),A=Ua(),N=w(A,$S({win:A,box:S}),h);return N.location==="bottom"||N.location==="top"?(((F,$,W,se,le)=>{se.getInitialPos().fold(()=>zz(F,$,W,se,le),()=>he)})(g,S,h,x,N),jy(N)):R.none()})(r.element,m,l,e).each(g=>{qS(r,s,l,m,g)})},Mz=WS(bk),WO=WS(yk);var tv=Object.freeze({__proto__:null,refresh:_f,reset:Nz,isDocked:(e,r,s)=>s.isDocked(),getModes:(e,r,s)=>s.getModes(),setModes:(e,r,s,l)=>s.setModes(l),forceDockToTop:Mz,forceDockToBottom:WO}),Dz=Object.freeze({__proto__:null,events:(e,r)=>qa([Mu(Ni(),(s,l)=>{e.contextual.each(m=>{Di(s.element,m.transitionClass)&&(Zi(s.element,[m.transitionClass,m.fadeInClass]),(r.isVisible()?m.onShown:m.onHidden)(s)),l.stop()})}),Kt(zu(),(s,l)=>{_f(s,e,r)}),Kt(wp(),(s,l)=>{_f(s,e,r)}),Kt(Au(),(s,l)=>{Nz(s,e,r)})])}),GO=[gl("contextual",[us("fadeInClass"),us("fadeOutClass"),us("transitionClass"),ml("lazyContext"),Hr("onShow"),Hr("onShown"),Hr("onHide"),Hr("onHidden")]),hs("lazyViewport",()=>({bounds:Ua(),optScrollEnv:R.none()})),uc("modes",["top","bottom"],wa),Hr("onDocked"),Hr("onUndocked")];const di=Ri({fields:GO,name:"docking",active:Dz,apis:tv,state:Object.freeze({__proto__:null,init:e=>{const r=Sn(!1),s=Sn(!0),l=ms(),m=Sn(e.modes);return Ia({isDocked:r.get,setDocked:r.set,getInitialPos:l.get,setInitialPos:l.set,clearInitialPos:l.clear,isVisible:s.get,setVisible:s.set,getModes:m.get,setModes:m.set,readState:()=>`docked:  ${r.get()}, visible: ${s.get()}, modes: ${m.get().join(",")}`})}})}),wk=me(un("toolbar-height-change")),Qu={fadeInClass:"tox-editor-dock-fadein",fadeOutClass:"tox-editor-dock-fadeout",transitionClass:"tox-editor-dock-transition"},GS="tox-tinymce--toolbar-sticky-on",KS="tox-tinymce--toolbar-sticky-off",mp=(e,r)=>Rt(di.getModes(e),r),Vy=e=>{const r=e.element;Go(r).each(s=>{const l="padding-"+di.getModes(e)[0];if(di.isDocked(e)){const m=Ga(s);Bn(r,"width",m+"px"),Bn(s,l,(g=>ho(g)+(parseInt(aa(g,"margin-top"),10)||0)+(parseInt(aa(g,"margin-bottom"),10)||0))(r)+"px")}else Pr(r,"width"),Pr(s,l)})},kk=(e,r)=>{r?(rs(e,Qu.fadeOutClass),Lc(e,[Qu.transitionClass,Qu.fadeInClass])):(rs(e,Qu.fadeInClass),Lc(e,[Qu.fadeOutClass,Qu.transitionClass]))},YS=(e,r)=>{const s=St(e.getContainer());r?(Jr(s,GS),rs(s,KS)):(Jr(s,KS),rs(s,GS))},XS=(e,r)=>{const s=ms(),l=r.getSink,m=x=>{l().each(w=>x(w.element))},g=x=>{e.inline||Vy(x),YS(e,di.isDocked(x)),x.getSystem().broadcastOn([Dg()],{}),l().each(w=>w.getSystem().broadcastOn([Dg()],{}))},h=e.inline?[]:[tc.config({channels:{[wk()]:{onReceive:Vy}}})];return[er.config({}),di.config({contextual:{lazyContext:x=>{const w=ho(x.element),S=e.inline?e.getContentAreaContainer():e.getContainer();return R.from(S).map(A=>{const N=Fa(St(A));return ff(e,x.element).fold(()=>{const F=N.height-w,$=N.y+(mp(x,"top")?0:w);return Ba(N.x,$,N.width,F)},F=>{const $=Kc(N,Oh(F)),W=mp(x,"top")?$.y:$.y+w;return Ba($.x,W,$.width,$.height-w)})})},onShow:()=>{m(x=>kk(x,!0))},onShown:x=>{m(w=>Zi(w,[Qu.transitionClass,Qu.fadeInClass])),s.get().each(w=>{((S,A)=>{const N=Ne(A);Ts(N).filter(F=>!Jo(A,F)).filter(F=>Jo(F,St(N.dom.body))||Ce(S,F)).each(()=>sd(A))})(x.element,w),s.clear()})},onHide:x=>{((w,S)=>gc(w).orThunk(()=>S().toOptional().bind(A=>gc(A.element))))(x.element,l).fold(s.clear,s.set),m(w=>kk(w,!1))},onHidden:()=>{m(x=>Zi(x,[Qu.transitionClass]))},...Qu},lazyViewport:x=>ff(e,x.element).fold(()=>{const w=Ua(),S=Rx(e),A=w.y+(mp(x,"top")?S:0),N=w.height-(mp(x,"bottom")?S:0);return{bounds:Ba(w.x,A,w.width,N),optScrollEnv:R.none()}},w=>({bounds:Oh(w),optScrollEnv:R.some({currentScrollTop:w.element.dom.scrollTop,scrollElmTop:Or(w.element).top})})),modes:[r.header.getDockingMode()],onDocked:g,onUndocked:g}),...h]};var Rz=Object.freeze({__proto__:null,setup:(e,r,s)=>{e.inline||(r.header.isPositionedAtTop()||e.on("ResizeEditor",()=>{s().each(di.reset)}),e.on("ResizeWindow ResizeEditor",()=>{s().each(Vy)}),e.on("SkinLoaded",()=>{s().each(l=>{di.isDocked(l)?di.reset(l):di.refresh(l)})}),e.on("FullscreenStateChanged",()=>{s().each(di.reset)})),e.on("AfterScrollIntoView",l=>{s().each(m=>{di.refresh(m);const g=m.element;N1(g)&&((h,x)=>{const w=Ne(x),S=Ho(x).dom.innerHeight,A=pa(w),N=St(h.elm),F=ts(N),$=Nt(N),W=F.y,se=W+$,le=Or(x),fe=Nt(x),te=le.top,X=te+fe,ue=Math.abs(te-A.top)<2,ye=Math.abs(X-(A.top+S))<2;if(ue&&W<X)Ps(A.left,W-fe,w);else if(ye&&se>te){const we=W-S+$+fe;Ps(A.left,we,w)}})(l,g)})}),e.on("PostRender",()=>{YS(e,!1)})},isDocked:e=>e().map(di.isDocked).getOr(!1),getBehaviours:XS});const Bz=Cn([ci,ni("items",ec([Kd([E2,al("items",wa)]),wa]))].concat(d0)),_k=[Hs("text"),Hs("tooltip"),Hs("icon"),Ai("search",!1,ec([Qc,Cn([Hs("placeholder")])],e=>jo(e)?e?R.some({placeholder:R.none()}):R.none():R.some(e))),ml("fetch"),hs("onSetup",()=>he)],JS=Cn([ci,..._k]),QS=e=>ka("menubutton",JS,e),e3=Cn([ci,Id,pu,Xm,fu,z2,Em,pl("presets","normal",["normal","color","listpreview"]),Sh(1),sy,qA]);var Ck=Pc({factory:(e,r)=>{const s={focus:Dn.focusIn,setMenus:(l,m)=>{const g=dt(m,h=>{const x={type:"menubutton",text:h.text,fetch:S=>{S(h.getItems())}},w=QS(x).mapError(S=>El(S)).getOrDie();return cp(w,"tox-mbtn",r.backstage,R.some("menuitem"))});fr.set(l,g)}};return{uid:e.uid,dom:e.dom,components:[],behaviours:Oo([fr.config({}),Tr("menubar-events",[La(l=>{e.onSetup(l)}),Kt(Te(),(l,m)=>{vs(l.element,".tox-mbtn--active").each(g=>{Vl(m.event.target,".tox-mbtn").each(h=>{Jo(g,h)||l.getSystem().getByDom(g).each(x=>{l.getSystem().getByDom(h).each(w=>{Hd.expand(w),Hd.close(x),er.focus(w)})})})})}),Kt(lg(),(l,m)=>{m.event.prevFocus.bind(g=>l.getSystem().getByDom(g).toOptional()).each(g=>{m.event.newFocus.bind(h=>l.getSystem().getByDom(h).toOptional()).each(h=>{Hd.isOpen(g)&&(Hd.expand(h),Hd.close(g))})})})]),Dn.config({mode:"flow",selector:".tox-mbtn",onEscape:l=>(e.onEscape(l),R.some(!0))}),Bs.config({})]),apis:s,domModification:{attributes:{role:"menubar"}}}},name:"silver.Menubar",configFields:[Yt("dom"),Yt("uid"),Yt("onEscape"),Yt("backstage"),ft("onSetup",he)],apis:{focus:(e,r)=>{e.focus(r)},setMenus:(e,r,s)=>{e.setMenus(r,s)}}});const Fz="container",Sk=[qi("slotBehaviours",[])],t3=e=>"<alloy.field."+e+">",Lz=(e,r)=>{const s=A=>wm(e),l=(A,N)=>(F,$)=>ua(F,e,$).map(W=>A(W,$)).getOr(N),m=(A,N)=>Ma(A.element,"aria-hidden")!=="true",g=l(m,!1),h=l((A,N)=>{if(m(A)){const F=A.element;Bn(F,"display","none"),Kn(F,"aria-hidden","true"),_n(A,cg(),{name:N,visible:!1})}}),x=(A=>(N,F)=>{Ie(F,$=>A(N,$))})(h),w=l((A,N)=>{if(!m(A)){const F=A.element;Pr(F,"display"),xa(F,"aria-hidden"),_n(A,cg(),{name:N,visible:!0})}}),S={getSlotNames:s,getSlot:(A,N)=>ua(A,e,N),isShowing:g,hideSlot:h,hideAllSlots:A=>x(A,s()),showSlot:w};return{uid:e.uid,dom:e.dom,components:r,behaviours:Hb(e.slotBehaviours),apis:S}},Iz=Zo({getSlotNames:(e,r)=>e.getSlotNames(r),getSlot:(e,r,s)=>e.getSlot(r,s),isShowing:(e,r,s)=>e.isShowing(r,s),hideSlot:(e,r,s)=>e.hideSlot(r,s),hideAllSlots:(e,r)=>e.hideAllSlots(r),showSlot:(e,r,s)=>e.showSlot(r,s)},e=>Nr(e)),ac={...Iz,sketch:e=>{const r=(()=>{const g=[];return{slot:(h,x)=>(g.push(h),ca(Fz,t3(h),x)),record:me(g)}})(),s=e(r),l=r.record(),m=dt(l,g=>Eo({name:g,pname:t3(g)}));return Jp(Fz,Sk,m,Lz,s)}},Pz=Cn([pu,Id,hs("onShow",he),hs("onHide",he),Em]),KO=e=>({element:()=>e.element.dom}),o3=(e,r)=>{const s=dt(Vt(r),l=>{const m=r[l],g=Sl((h=>ka("sidebar",Pz,h))(m));return{name:l,getApi:KO,onSetup:g.onSetup,onShow:g.onShow,onHide:g.onHide}});return dt(s,l=>{const m=Sn(he);return e.slot(l.name,{dom:{tag:"div",classes:["tox-sidebar__pane"]},behaviours:cy([Kg(l,m),Yg(l,m),Kt(cg(),(g,h)=>{const x=h.event;to(s,S=>S.name===x.name).each(S=>{(x.visible?S.onShow:S.onHide)(S.getApi(g))})})])})})},YO=e=>ac.sketch(r=>({dom:{tag:"div",classes:["tox-sidebar__pane-container"]},components:o3(r,e),slotBehaviours:cy([La(s=>ac.hideAllSlots(s))])})),$y=(e,r)=>{Kn(e,"role",r)},Hz=e=>Gr.getCurrent(e).bind(r=>Ml.isGrowing(r)||Ml.hasGrown(r)?Gr.getCurrent(r).bind(s=>to(ac.getSlotNames(s),l=>ac.isShowing(s,l))):R.none()),Ek=un("FixSizeEvent"),ov=un("AutoSizeEvent");var jz=Object.freeze({__proto__:null,block:(e,r,s,l)=>{Kn(e.element,"aria-busy",!0);const m=r.getRoot(e).getOr(e),g=Oo([Dn.config({mode:"special",onTab:()=>R.some(!0),onShiftTab:()=>R.some(!0)}),er.config({})]),h=l(m,g),x=m.getSystem().build(h);fr.append(m,Tc(x)),x.hasConfigured(Dn)&&r.focus&&Dn.focusIn(x),s.isBlocked()||r.onBlock(e),s.blockWith(()=>fr.remove(m,x))},unblock:(e,r,s)=>{xa(e.element,"aria-busy"),s.isBlocked()&&r.onUnblock(e),s.clear()},isBlocked:(e,r,s)=>s.isBlocked()}),n3=[hs("getRoot",R.none),ri("focus",!0),Hr("onBlock"),Hr("onUnblock")];const em=Ri({fields:n3,name:"blocking",apis:jz,state:Object.freeze({__proto__:null,init:()=>{const e=Hu(r=>r.destroy());return Ia({readState:e.isSet,blockWith:r=>{e.set({destroy:r})},clear:e.clear,isBlocked:e.isSet})}})}),Vz=e=>Gr.getCurrent(e).each(r=>sd(r.element,!0)),r3=(e,r,s)=>{const l=Sn(!1),m=ms(),g=x=>{var w;l.get()&&(!(S=>S.type==="focusin")(w=x)||!(w.composed?at(w.composedPath()):R.from(w.target)).map(St).filter(wt).exists(S=>Di(S,"mce-pastebin")))&&(x.preventDefault(),Vz(r()),e.editorManager.setActive(e))};e.inline||e.on("PreInit",()=>{e.dom.bind(e.getWin(),"focusin",g),e.on("BeforeExecCommand",x=>{x.command.toLowerCase()==="mcefocus"&&x.value!==!0&&g(x)})});const h=x=>{x!==l.get()&&(l.set(x),((w,S,A,N)=>{const F=S.element;if((($,W)=>{const se="tabindex",le=`data-mce-${se}`;R.from($.iframeElement).map(St).each(fe=>{W?(Ca(fe,se).each(te=>Kn(fe,le,te)),Kn(fe,se,-1)):(xa(fe,se),Ca(fe,le).each(te=>{Kn(fe,se,te),xa(fe,le)}))})})(w,A),A)em.block(S,($=>(W,se)=>({dom:{tag:"div",attributes:{"aria-label":$.translate("Loading..."),tabindex:"0"},classes:["tox-throbber__busy-spinner"]},components:[{dom:Ym('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}))(N)),Pr(F,"display"),xa(F,"aria-hidden"),w.hasFocus()&&Vz(S);else{const $=Gr.getCurrent(S).exists(W=>Gf(W.element));em.unblock(S),Bn(F,"display","none"),Kn(F,"aria-hidden","true"),$&&w.focus()}})(e,r(),x,s.providers),((w,S)=>{w.dispatch("AfterProgressState",{state:S})})(e,x))};e.on("ProgressState",x=>{if(m.on(clearTimeout),So(x.time)){const w=hx.setEditorTimeout(e,()=>h(x.state),x.time);m.set(w)}else h(x.state),m.clear()})},Tk=(e,r,s)=>({within:e,extra:r,withinWidth:s}),a3=(e,r,s)=>{const l=zo(e,(h,x)=>((w,S)=>{const A=s(w);return R.some({element:w,start:S,finish:S+A,width:A})})(x,h.len).fold(me(h),w=>({len:w.finish,list:h.list.concat([w])})),{len:0,list:[]}).list,m=Pt(l,h=>h.finish<=r),g=lo(m,(h,x)=>h+x.width,0);return{within:m,extra:l.slice(m.length),withinWidth:g}},nv=e=>dt(e,r=>r.element),$z=(e,r)=>{const s=dt(r,l=>Tc(l));Mm.setGroups(e,s)},Cf=(e,r,s)=>{const l=r.builtGroups.get();if(l.length===0)return;const m=li(e,r,"primary"),g=js.getCoupled(e,"overflowGroup");Bn(m.element,"visibility","hidden");const h=l.concat([g]),x=Gt(h,S=>gc(S.element).bind(A=>S.getSystem().getByDom(A).toOptional()));s([]),$z(m,h);const w=((S,A,N,F)=>{const $=((fe,te,X)=>{const ue=a3(te,fe,X);return ue.extra.length===0?R.some(ue):R.none()})(S,A,N).getOrThunk(()=>a3(A,S-N(F),N)),W=$.within,se=$.extra,le=$.withinWidth;return se.length===1&&se[0].width<=N(F)?((fe,te,X)=>{const ue=nv(fe.concat(te));return Tk(ue,[],X)})(W,se,le):se.length>=1?((fe,te,X,ue)=>{const ye=nv(fe).concat([X]);return Tk(ye,nv(te),ue)})(W,se,F,le):((fe,te,X)=>Tk(nv(fe),[],X))(W,0,le)})(Ga(m.element),r.builtGroups.get(),S=>Ga(S.element),g);w.extra.length===0?(fr.remove(m,g),s([])):($z(m,w.within),s(w.extra)),Pr(m.element,"visibility"),ne(m.element),x.each(er.focus)},s3=me([qi("splitToolbarBehaviours",[js]),ro("builtGroups",()=>Sn([]))]),Uz=me([Nd(["overflowToggledClass"]),Tl("getOverflowBounds"),Yt("lazySink"),ro("overflowGroups",()=>Sn([])),Hr("onOpened"),Hr("onClosed")].concat(s3())),XO=me([Eo({factory:Mm,schema:Py(),name:"primary"}),Ro({schema:Py(),name:"overflow"}),Ro({name:"overflow-button"}),Ro({name:"overflow-group"})]),zk=me((e,r)=>{((s,l)=>{const m=ma.max(s,l,["margin-left","border-left-width","padding-left","padding-right","border-right-width","margin-right"]);Bn(s,"max-width",m+"px")})(e,Math.floor(r))}),Zz=me([Nd(["toggledClass"]),Yt("lazySink"),ml("fetch"),Tl("getBounds"),gl("fireDismissalEventInstead",[ft("event",Ou())]),hm(),Hr("onToggled")]),JO=me([Ro({name:"button",overrides:e=>({dom:{attributes:{"aria-haspopup":"true"}},buttonBehaviours:Oo([Dr.config({toggleClass:e.markers.toggledClass,aria:{mode:"expanded"},toggleOnExecute:!1,onToggled:e.onToggled})])})}),Ro({factory:Mm,schema:Py(),name:"toolbar",overrides:e=>({toolbarBehaviours:Oo([Dn.config({mode:"cyclic",onEscape:r=>(ua(r,e,"button").each(er.focus),R.none())})])})})]),Sf=ms(),i3=(e,r)=>{const s=js.getCoupled(e,"toolbarSandbox");Lr.isOpen(s)?Lr.close(s):Lr.open(s,r.toolbar())},rv=(e,r,s,l)=>{const m=s.getBounds.map(h=>h()),g=s.lazySink(e).getOrDie();xl.positionWithinBounds(g,r,{anchor:{type:"hotspot",hotspot:e,layouts:l,overrides:{maxWidthFunction:zk()}}},m)},qz=(e,r,s,l,m)=>{Mm.setGroups(r,m),rv(e,r,s,l),Dr.on(e)},Ef=Wl({name:"FloatingToolbarButton",factory:(e,r,s,l)=>({...wl.sketch({...l.button(),action:m=>{i3(m,l)},buttonBehaviours:Bg({dump:l.button().buttonBehaviours},[js.config({others:{toolbarSandbox:m=>((g,h,x)=>{const w=Ap();return{dom:{tag:"div",attributes:{id:w.id}},behaviours:Oo([Dn.config({mode:"special",onEscape:S=>(Lr.close(S),R.some(!0))}),Lr.config({onOpen:(S,A)=>{const N=Sf.get().getOr(!1);x.fetch().get(F=>{qz(g,A,x,h.layouts,F),w.link(g.element),N||Dn.focusIn(A)})},onClose:()=>{Dr.off(g),Sf.get().getOr(!1)||er.focus(g),w.unlink(g.element)},isPartOf:(S,A,N)=>si(A,N)||si(g,N),getAttachPoint:()=>x.lazySink(g).getOrDie()}),tc.config({channels:{...Rg({isExtraPart:Bo,...x.fireDismissalEventInstead.map(S=>({fireEventInstead:{event:S.event}})).getOr({})}),...Zp({doReposition:()=>{Lr.getState(js.getCoupled(g,"toolbarSandbox")).each(S=>{rv(g,S,x,h.layouts)})}})}})])}})(m,s,e)}})])}),apis:{setGroups:(m,g)=>{Lr.getState(js.getCoupled(m,"toolbarSandbox")).each(h=>{qz(m,h,e,s.layouts,g)})},reposition:m=>{Lr.getState(js.getCoupled(m,"toolbarSandbox")).each(g=>{rv(m,g,e,s.layouts)})},toggle:m=>{i3(m,l)},toggleWithoutFocusing:m=>{((g,h)=>{Sf.set(!0),i3(g,h),Sf.clear()})(m,l)},getToolbar:m=>Lr.getState(js.getCoupled(m,"toolbarSandbox")),isOpen:m=>Lr.isOpen(js.getCoupled(m,"toolbarSandbox"))}}),configFields:Zz(),partFields:JO(),apis:{setGroups:(e,r,s)=>{e.setGroups(r,s)},reposition:(e,r)=>{e.reposition(r)},toggle:(e,r)=>{e.toggle(r)},toggleWithoutFocusing:(e,r)=>{e.toggleWithoutFocusing(r)},getToolbar:(e,r)=>e.getToolbar(r),isOpen:(e,r)=>e.isOpen(r)}}),QO=me([Yt("items"),Nd(["itemSelector"]),qi("tgroupBehaviours",[Dn])]),e5=me([Ln({name:"items",unit:"item"})]),Ak=Wl({name:"ToolbarGroup",configFields:QO(),partFields:e5(),factory:(e,r,s,l)=>({uid:e.uid,dom:e.dom,components:r,behaviours:Fi(e.tgroupBehaviours,[Dn.config({mode:"flow",selector:e.markers.itemSelector})]),domModification:{attributes:{role:"toolbar"}}})}),av=e=>dt(e,r=>Tc(r)),Wz=(e,r,s)=>{Cf(e,s,l=>{s.overflowGroups.set(l),r.getOpt(e).each(m=>{Ef.setGroups(m,av(l))})})},Gz=Wl({name:"SplitFloatingToolbar",configFields:Uz(),partFields:XO(),factory:(e,r,s,l)=>{const m=Ta(Ef.sketch({fetch:()=>Qg(g=>{g(av(e.overflowGroups.get()))}),layouts:{onLtr:()=>[Gs,Qi],onRtl:()=>[Qi,Gs],onBottomLtr:()=>[Wa,vl],onBottomRtl:()=>[vl,Wa]},getBounds:s.getOverflowBounds,lazySink:e.lazySink,fireDismissalEventInstead:{},markers:{toggledClass:e.markers.overflowToggledClass},parts:{button:l["overflow-button"](),toolbar:l.overflow()},onToggled:(g,h)=>e[h?"onOpened":"onClosed"](g)}));return{uid:e.uid,dom:e.dom,components:r,behaviours:Fi(e.splitToolbarBehaviours,[js.config({others:{overflowGroup:()=>Ak.sketch({...l["overflow-group"](),items:[m.asSpec()]})}})]),apis:{setGroups:(g,h)=>{e.builtGroups.set(dt(h,g.getSystem().build)),Wz(g,m,e)},refresh:g=>Wz(g,m,e),toggle:g=>{m.getOpt(g).each(h=>{Ef.toggle(h)})},toggleWithoutFocusing:g=>{m.getOpt(g).each(Ef.toggleWithoutFocusing)},isOpen:g=>m.getOpt(g).map(Ef.isOpen).getOr(!1),reposition:g=>{m.getOpt(g).each(h=>{Ef.reposition(h)})},getOverflow:g=>m.getOpt(g).bind(Ef.getToolbar)},domModification:{attributes:{role:"group"}}}},apis:{setGroups:(e,r,s)=>{e.setGroups(r,s)},refresh:(e,r)=>{e.refresh(r)},reposition:(e,r)=>{e.reposition(r)},toggle:(e,r)=>{e.toggle(r)},toggleWithoutFocusing:(e,r)=>{e.toggle(r)},isOpen:(e,r)=>e.isOpen(r),getOverflow:(e,r)=>e.getOverflow(r)}}),Kz=me([Nd(["closedClass","openClass","shrinkingClass","growingClass","overflowToggledClass"]),Hr("onOpened"),Hr("onClosed")].concat(s3())),t5=me([Eo({factory:Mm,schema:Py(),name:"primary"}),Eo({factory:Mm,schema:Py(),name:"overflow",overrides:e=>({toolbarBehaviours:Oo([Ml.config({dimension:{property:"height"},closedClass:e.markers.closedClass,openClass:e.markers.openClass,shrinkingClass:e.markers.shrinkingClass,growingClass:e.markers.growingClass,onShrunk:r=>{ua(r,e,"overflow-button").each(s=>{Dr.off(s),er.focus(s)}),e.onClosed(r)},onGrown:r=>{Dn.focusIn(r),e.onOpened(r)},onStartGrow:r=>{ua(r,e,"overflow-button").each(Dr.on)}}),Dn.config({mode:"acyclic",onEscape:r=>(ua(r,e,"overflow-button").each(er.focus),R.some(!0))})])})}),Ro({name:"overflow-button",overrides:e=>({buttonBehaviours:Oo([Dr.config({toggleClass:e.markers.overflowToggledClass,aria:{mode:"pressed"},toggleOnExecute:!1})])})}),Ro({name:"overflow-group"})]),Yz=(e,r)=>{ua(e,r,"overflow-button").bind(()=>ua(e,r,"overflow")).each(s=>{l3(e,r),Ml.toggleGrow(s)})},l3=(e,r)=>{ua(e,r,"overflow").each(s=>{Cf(e,r,l=>{const m=dt(l,g=>Tc(g));Mm.setGroups(s,m)}),ua(e,r,"overflow-button").each(l=>{Ml.hasGrown(s)&&Dr.on(l)}),Ml.refresh(s)})},sv=Wl({name:"SplitSlidingToolbar",configFields:Kz(),partFields:t5(),factory:(e,r,s,l)=>{const m="alloy.toolbar.toggle";return{uid:e.uid,dom:e.dom,components:r,behaviours:Fi(e.splitToolbarBehaviours,[js.config({others:{overflowGroup:g=>Ak.sketch({...l["overflow-group"](),items:[wl.sketch({...l["overflow-button"](),action:h=>{$r(g,m)}})]})}}),Tr("toolbar-toggle-events",[Kt(m,g=>{Yz(g,e)})])]),apis:{setGroups:(g,h)=>{((x,w)=>{const S=dt(w,x.getSystem().build);e.builtGroups.set(S)})(g,h),l3(g,e)},refresh:g=>l3(g,e),toggle:g=>Yz(g,e),isOpen:g=>((h,x)=>ua(h,x,"overflow").map(Ml.hasGrown).getOr(!1))(g,e)},domModification:{attributes:{role:"group"}}}},apis:{setGroups:(e,r,s)=>{e.setGroups(r,s)},refresh:(e,r)=>{e.refresh(r)},toggle:(e,r)=>{e.toggle(r)},isOpen:(e,r)=>e.isOpen(r)}}),c3=e=>{const r=e.title.fold(()=>({}),s=>({attributes:{title:s}}));return{dom:{tag:"div",classes:["tox-toolbar__group"],...r},components:[Ak.parts.items({})],items:e.items,markers:{itemSelector:"*:not(.tox-split-button) > .tox-tbtn:not([disabled]), .tox-split-button:not([disabled]), .tox-toolbar-nav-js:not([disabled]), .tox-number-input:not([disabled])"},tgroupBehaviours:Oo([Bs.config({}),er.config({})])}},Ok=e=>Ak.sketch(c3(e)),d3=(e,r)=>{const s=La(l=>{const m=dt(e.initGroups,Ok);Mm.setGroups(l,m)});return Oo([j2(e.providers.isDisabled),Wi(),Dn.config({mode:r,onEscape:e.onEscape,selector:".tox-toolbar__group"}),Tr("toolbar-events",[s])])},Xz=e=>{const r=e.cyclicKeying?"cyclic":"acyclic";return{uid:e.uid,dom:{tag:"div",classes:["tox-toolbar-overlord"]},parts:{"overflow-group":c3({title:R.none(),items:[]}),"overflow-button":OO({name:"more",icon:R.some("more-drawer"),enabled:!0,tooltip:R.some("Reveal or hide additional toolbar items"),primary:!1,buttonType:R.none(),borderless:!1},R.none(),e.providers)},splitToolbarBehaviours:d3(e,r)}},o5=e=>{const r=Xz(e),s=Gz.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}});return Gz.sketch({...r,lazySink:e.getSink,getOverflowBounds:()=>{const l=e.moreDrawerData.lazyHeader().element,m=ts(l),g=Lo(l),h=ts(g),x=Math.max(g.dom.scrollHeight,h.height);return Ba(m.x+4,h.y,m.width-8,x)},parts:{...r.parts,overflow:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:e.attributes}}},components:[s],markers:{overflowToggledClass:"tox-tbtn--enabled"},onOpened:l=>e.onToggled(l,!0),onClosed:l=>e.onToggled(l,!1)})},Jz=e=>{const r=sv.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}}),s=sv.parts.overflow({dom:{tag:"div",classes:["tox-toolbar__overflow"]}}),l=Xz(e);return sv.sketch({...l,components:[r,s],markers:{openClass:"tox-toolbar__overflow--open",closedClass:"tox-toolbar__overflow--closed",growingClass:"tox-toolbar__overflow--growing",shrinkingClass:"tox-toolbar__overflow--shrinking",overflowToggledClass:"tox-tbtn--enabled"},onOpened:m=>{m.getSystem().broadcastOn([wk()],{type:"opened"}),e.onToggled(m,!0)},onClosed:m=>{m.getSystem().broadcastOn([wk()],{type:"closed"}),e.onToggled(m,!1)}})},Nk=e=>{const r=e.cyclicKeying?"cyclic":"acyclic";return Mm.sketch({uid:e.uid,dom:{tag:"div",classes:["tox-toolbar"].concat(e.type===Vc.scrolling?["tox-toolbar--scrolling"]:[])},components:[Mm.parts.groups({})],toolbarBehaviours:d3(e,r)})},Tf=[Xm,pu,Hs("tooltip"),pl("buttonType","secondary",["primary","secondary"]),ri("borderless",!1),ml("onAction")],Mk={button:[...Tf,Wg,da("type",["button"])],togglebutton:[...Tf,ri("active",!1),da("type",["togglebutton"])]},Dk=[da("type",["group"]),uc("buttons",[],Ms("type",Mk))],$h=Ms("type",{...Mk,group:Dk}),Qz=Cn([uc("buttons",[],$h),ml("onShow"),ml("onHide")]),eA=(e,r)=>((s,l)=>{var m,g;const h=s.type==="togglebutton",x=s.icon.map(te=>sp(te,l.icons)).map(Ta),w={...s,name:h?s.text.getOr(s.icon.getOr("")):(m=s.text)!==null&&m!==void 0?m:s.icon.getOr(""),primary:s.buttonType==="primary",buttonType:R.from(s.buttonType),tooltip:s.tooltip,icon:s.icon,enabled:!0,borderless:s.borderless},S=ek((g=s.buttonType)!==null&&g!==void 0?g:"secondary"),A=h?s.text.map(l.translate):R.some(l.translate(s.text)),N=A.map(Ya),F=w.tooltip.or(A).map(te=>({"aria-label":l.translate(te),title:l.translate(te)})).getOr({}),$=x.map(te=>te.asSpec()),W=Eh([$,N]),se=s.icon.isSome()&&N.isSome(),le={tag:"button",classes:S.concat(...s.icon.isSome()&&!se?["tox-button--icon"]:[]).concat(...se?["tox-button--icon-and-text"]:[]).concat(...s.borderless?["tox-button--naked"]:[]).concat(...s.type==="togglebutton"&&s.active?["tox-button--enabled"]:[]),attributes:F},fe=Qw(w,R.some(te=>{const X=ue=>{x.map(ye=>ye.getOpt(te).each(we=>{fr.set(we,[sp(ue,l.icons)])}))};return h?s.onAction({setIcon:X,setActive:ue=>{const ye=te.element;ue?(Jr(ye,"tox-button--enabled"),Kn(ye,"aria-pressed",!0)):(rs(ye,"tox-button--enabled"),xa(ye,"aria-pressed"))},isActive:()=>Di(te.element,"tox-button--enabled")}):s.type==="button"?s.onAction({setIcon:X}):void 0}),[],le,W,l);return wl.sketch(fe)})(e,r),tA=Yl().deviceType,u3=tA.isPhone(),iv=tA.isTablet();var zf=Wl({name:"silver.View",configFields:[Yt("viewConfig")],partFields:[No({factory:{sketch:e=>{let r=!1;const s=dt(e.buttons,l=>l.type==="group"?(r=!0,((m,g)=>({dom:{tag:"div",classes:["tox-view__toolbar__group"]},components:dt(m.buttons,h=>eA(h,g))}))(l,e.providers)):eA(l,e.providers));return{uid:e.uid,dom:{tag:"div",classes:[r?"tox-view__toolbar":"tox-view__header",...u3||iv?["tox-view--mobile","tox-view--scrolling"]:[]]},behaviours:Oo([er.config({}),Dn.config({mode:"flow",selector:"button, .tox-button",focusInside:qb.OnEnterOrSpaceMode})]),components:r?s:[Ku.sketch({dom:{tag:"div",classes:["tox-view__header-start"]},components:[]}),Ku.sketch({dom:{tag:"div",classes:["tox-view__header-end"]},components:s})]}}},schema:[Yt("buttons"),Yt("providers")],name:"header"}),No({factory:{sketch:e=>({uid:e.uid,dom:{tag:"div",classes:["tox-view__pane"]}})},schema:[],name:"pane"})],factory:(e,r,s,l)=>{const m={getPane:g=>tl.getPart(g,e,"pane"),getOnShow:g=>e.viewConfig.onShow,getOnHide:g=>e.viewConfig.onHide};return{uid:e.uid,dom:e.dom,components:r,apis:m}},apis:{getPane:(e,r)=>e.getPane(r),getOnShow:(e,r)=>e.getOnShow(r),getOnHide:(e,r)=>e.getOnHide(r)}});const Rk=(e,r,s)=>zt(r,(l,m)=>{const g=Sl(ka("view",Qz,l));return e.slot(m,zf.sketch({dom:{tag:"div",classes:["tox-view"]},viewConfig:g,components:[...g.buttons.length>0?[zf.parts.header({buttons:g.buttons,providers:s})]:[],zf.parts.pane({})]}))}),Uh=(e,r)=>ac.sketch(s=>({dom:{tag:"div",classes:["tox-view-wrap__slot-container"]},components:Rk(s,e,r),slotBehaviours:cy([La(l=>ac.hideAllSlots(l))])})),lv=e=>to(ac.getSlotNames(e),r=>ac.isShowing(e,r)),m3=(e,r,s)=>{ac.getSlot(e,r).each(l=>{zf.getPane(l).each(m=>{var g;s(l)((g=m.element.dom,{getContainer:me(g)}))})})};var cv=Pc({factory:(e,r)=>{const s={setViews:(l,m)=>{fr.set(l,[Uh(m,r.backstage.shared.providers)])},whichView:l=>Gr.getCurrent(l).bind(lv),toggleView:(l,m,g,h)=>Gr.getCurrent(l).exists(x=>{const w=lv(x),S=w.exists(N=>h===N),A=ac.getSlot(x,h).isSome();return A&&(ac.hideAllSlots(x),S?((N=>{const F=N.element;Bn(F,"display","none"),Kn(F,"aria-hidden","true")})(l),m()):(g(),(N=>{const F=N.element;Pr(F,"display"),xa(F,"aria-hidden")})(l),ac.showSlot(x,h),((N,F)=>{m3(N,F,zf.getOnShow)})(x,h)),w.each(N=>((F,$)=>m3(F,$,zf.getOnHide))(x,N))),A})};return{uid:e.uid,dom:{tag:"div",classes:["tox-view-wrap"],attributes:{"aria-hidden":"true"},styles:{display:"none"}},components:[],behaviours:Oo([fr.config({}),Gr.config({find:l=>{const m=fr.contents(l);return at(m)}})]),apis:s}},name:"silver.ViewWrapper",configFields:[Yt("backstage")],apis:{setViews:(e,r,s)=>e.setViews(r,s),toggleView:(e,r,s,l,m)=>e.toggleView(r,s,l,m),whichView:(e,r)=>e.whichView(r)}});const oA=Nm.optional({factory:Ck,name:"menubar",schema:[Yt("backstage")]}),n5=Nm.optional({factory:{sketch:e=>kz.sketch({uid:e.uid,dom:e.dom,listBehaviours:Oo([Dn.config({mode:"acyclic",selector:".tox-toolbar"})]),makeItem:()=>Nk({type:e.type,uid:un("multiple-toolbar-item"),cyclicKeying:!1,initGroups:[],providers:e.providers,onEscape:()=>(e.onEscape(),R.some(!0))}),setupItem:(r,s,l,m)=>{Mm.setGroups(s,l)},shell:!0})},name:"multiple-toolbar",schema:[Yt("dom"),Yt("onEscape")]}),nA=Nm.optional({factory:{sketch:e=>(s=>s.type===Vc.sliding?Jz:s.type===Vc.floating?o5:Nk)(e)({type:e.type,uid:e.uid,onEscape:()=>(e.onEscape(),R.some(!0)),onToggled:(s,l)=>e.onToolbarToggled(l),cyclicKeying:!1,initGroups:[],getSink:e.getSink,providers:e.providers,moreDrawerData:{lazyToolbar:e.lazyToolbar,lazyMoreButton:e.lazyMoreButton,lazyHeader:e.lazyHeader},attributes:e.attributes})},name:"toolbar",schema:[Yt("dom"),Yt("onEscape"),Yt("getSink")]}),rA=Nm.optional({factory:{sketch:e=>{const r=e.editor,s=e.sticky?XS:HS;return{uid:e.uid,dom:e.dom,components:e.components,behaviours:Oo(s(r,e.sharedBackstage))}}},name:"header",schema:[Yt("dom")]}),g3=Nm.optional({factory:{sketch:e=>({uid:e.uid,dom:e.dom,components:[{dom:{tag:"a",attributes:{href:"https://www.tiny.cloud/tinymce-self-hosted-premium-features/?utm_campaign=self_hosted_upgrade_promo&utm_source=tiny&utm_medium=referral",rel:"noopener",target:"_blank","aria-hidden":"true"},classes:["tox-promotion-link"],innerHtml:"⚡️Upgrade"}}]})},name:"promotion",schema:[Yt("dom")]}),r5=Nm.optional({name:"socket",schema:[Yt("dom")]}),aA=Nm.optional({factory:{sketch:e=>({uid:e.uid,dom:{tag:"div",classes:["tox-sidebar"],attributes:{role:"presentation"}},components:[{dom:{tag:"div",classes:["tox-sidebar__slider"]},components:[],behaviours:Oo([Bs.config({}),er.config({}),Ml.config({dimension:{property:"width"},closedClass:"tox-sidebar--sliding-closed",openClass:"tox-sidebar--sliding-open",shrinkingClass:"tox-sidebar--sliding-shrinking",growingClass:"tox-sidebar--sliding-growing",onShrunk:r=>{Gr.getCurrent(r).each(ac.hideAllSlots),$r(r,ov)},onGrown:r=>{$r(r,ov)},onStartGrow:r=>{_n(r,Ek,{width:Ir(r.element,"width").getOr("")})},onStartShrink:r=>{_n(r,Ek,{width:Ga(r.element)+"px"})}}),fr.config({}),Gr.config({find:r=>{const s=fr.contents(r);return at(s)}})])}],behaviours:Oo([Hw(0),Tr("sidebar-sliding-events",[Kt(Ek,(r,s)=>{Bn(r.element,"width",s.event.width)}),Kt(ov,(r,s)=>{Pr(r.element,"width")})])])})},name:"sidebar",schema:[Yt("dom")]}),p3=Nm.optional({factory:{sketch:e=>({uid:e.uid,dom:{tag:"div",attributes:{"aria-hidden":"true"},classes:["tox-throbber"],styles:{display:"none"}},behaviours:Oo([fr.config({}),em.config({focus:!1}),Gr.config({find:r=>at(r.components())})]),components:[]})},name:"throbber",schema:[Yt("dom")]}),f3=Nm.optional({factory:cv,name:"viewWrapper",schema:[Yt("backstage")]}),a5=Nm.optional({factory:{sketch:e=>({uid:e.uid,dom:{tag:"div",classes:["tox-editor-container"]},components:e.components})},name:"editorContainer",schema:[]});var Ja=Wl({name:"OuterContainer",factory:(e,r,s)=>{let l=!1;const m={getSocket:g=>tl.getPart(g,e,"socket"),setSidebar:(g,h,x)=>{tl.getPart(g,e,"sidebar").each(w=>((S,A,N)=>{Gr.getCurrent(S).each(F=>{fr.set(F,[YO(A)]);const $=N?.toLowerCase();io($)&&Vo(A,$)&&Gr.getCurrent(F).each(W=>{ac.showSlot(W,$),Ml.immediateGrow(F),Pr(F.element,"width"),$y(S.element,"region")})})})(w,h,x))},toggleSidebar:(g,h)=>{tl.getPart(g,e,"sidebar").each(x=>((w,S)=>{Gr.getCurrent(w).each(A=>{Gr.getCurrent(A).each(N=>{Ml.hasGrown(A)?ac.isShowing(N,S)?(Ml.shrink(A),$y(w.element,"presentation")):(ac.hideAllSlots(N),ac.showSlot(N,S),$y(w.element,"region")):(ac.hideAllSlots(N),ac.showSlot(N,S),Ml.grow(A),$y(w.element,"region"))})})})(x,h))},whichSidebar:g=>tl.getPart(g,e,"sidebar").bind(Hz).getOrNull(),getHeader:g=>tl.getPart(g,e,"header"),getToolbar:g=>tl.getPart(g,e,"toolbar"),setToolbar:(g,h)=>{tl.getPart(g,e,"toolbar").each(x=>{const w=dt(h,Ok);x.getApis().setGroups(x,w)})},setToolbars:(g,h)=>{tl.getPart(g,e,"multiple-toolbar").each(x=>{const w=dt(h,S=>dt(S,Ok));kz.setItems(x,w)})},refreshToolbar:g=>{tl.getPart(g,e,"toolbar").each(h=>h.getApis().refresh(h))},toggleToolbarDrawer:g=>{tl.getPart(g,e,"toolbar").each(h=>{Fn(h.getApis().toggle,x=>x(h))})},toggleToolbarDrawerWithoutFocusing:g=>{tl.getPart(g,e,"toolbar").each(h=>{Fn(h.getApis().toggleWithoutFocusing,x=>x(h))})},isToolbarDrawerToggled:g=>tl.getPart(g,e,"toolbar").bind(h=>R.from(h.getApis().isOpen).map(x=>x(h))).getOr(!1),getThrobber:g=>tl.getPart(g,e,"throbber"),focusToolbar:g=>{tl.getPart(g,e,"toolbar").orThunk(()=>tl.getPart(g,e,"multiple-toolbar")).each(h=>{Dn.focusIn(h)})},setMenubar:(g,h)=>{tl.getPart(g,e,"menubar").each(x=>{Ck.setMenus(x,h)})},focusMenubar:g=>{tl.getPart(g,e,"menubar").each(h=>{Ck.focus(h)})},setViews:(g,h)=>{tl.getPart(g,e,"viewWrapper").each(x=>{cv.setViews(x,h)})},toggleView:(g,h)=>tl.getPart(g,e,"viewWrapper").exists(x=>cv.toggleView(x,()=>m.showMainView(g),()=>m.hideMainView(g),h)),whichView:g=>tl.getPart(g,e,"viewWrapper").bind(cv.whichView).getOrNull(),hideMainView:g=>{l=m.isToolbarDrawerToggled(g),l&&m.toggleToolbarDrawer(g),tl.getPart(g,e,"editorContainer").each(h=>{const x=h.element;Bn(x,"display","none"),Kn(x,"aria-hidden","true")})},showMainView:g=>{l&&m.toggleToolbarDrawer(g),tl.getPart(g,e,"editorContainer").each(h=>{const x=h.element;Pr(x,"display"),xa(x,"aria-hidden")})}};return{uid:e.uid,dom:e.dom,components:r,apis:m,behaviours:e.behaviours}},configFields:[Yt("dom"),Yt("behaviours")],partFields:[rA,oA,nA,n5,r5,aA,g3,p3,f3,a5],apis:{getSocket:(e,r)=>e.getSocket(r),setSidebar:(e,r,s,l)=>{e.setSidebar(r,s,l)},toggleSidebar:(e,r,s)=>{e.toggleSidebar(r,s)},whichSidebar:(e,r)=>e.whichSidebar(r),getHeader:(e,r)=>e.getHeader(r),getToolbar:(e,r)=>e.getToolbar(r),setToolbar:(e,r,s)=>{e.setToolbar(r,s)},setToolbars:(e,r,s)=>{e.setToolbars(r,s)},refreshToolbar:(e,r)=>e.refreshToolbar(r),toggleToolbarDrawer:(e,r)=>{e.toggleToolbarDrawer(r)},toggleToolbarDrawerWithoutFocusing:(e,r)=>{e.toggleToolbarDrawerWithoutFocusing(r)},isToolbarDrawerToggled:(e,r)=>e.isToolbarDrawerToggled(r),getThrobber:(e,r)=>e.getThrobber(r),setMenubar:(e,r,s)=>{e.setMenubar(r,s)},focusMenubar:(e,r)=>{e.focusMenubar(r)},focusToolbar:(e,r)=>{e.focusToolbar(r)},setViews:(e,r,s)=>{e.setViews(r,s)},toggleView:(e,r,s)=>e.toggleView(r,s),whichView:(e,r)=>e.whichView(r)}});const sA={file:{title:"File",items:"newdocument restoredraft | preview | export print | deleteallconversations"},edit:{title:"Edit",items:"undo redo | cut copy paste pastetext | selectall | searchreplace"},view:{title:"View",items:"code | visualaid visualchars visualblocks | spellchecker | preview fullscreen | showcomments"},insert:{title:"Insert",items:"image link media addcomment pageembed template inserttemplate codesample inserttable accordion | charmap emoticons hr | pagebreak nonbreaking anchor tableofcontents footnotes | mergetags | insertdatetime"},format:{title:"Format",items:"bold italic underline strikethrough superscript subscript codeformat | styles blocks fontfamily fontsize align lineheight | forecolor backcolor | language | removeformat"},tools:{title:"Tools",items:"aidialog aishortcuts | spellchecker spellcheckerlanguage | autocorrect capitalization | a11ycheck code typography wordcount addtemplate"},table:{title:"Table",items:"inserttable | cell row column | advtablesort | tableprops deletetable"},help:{title:"Help",items:"help"}},Bk=e=>e.split(" "),iA=(e,r)=>{const s={...sA,...r.menus},l=Vt(r.menus).length>0,m=r.menubar===void 0||r.menubar===!0?Bk("file edit view insert format tools table help"):Bk(r.menubar===!1?"":r.menubar),g=Pt(m,x=>{const w=Vo(sA,x);return l?w||Xt(r.menus,x).exists(S=>Vo(S,"items")):w}),h=dt(g,x=>{const w=s[x];return((S,A,N)=>{const F=Dx(N).split(/[ ,]/);return{text:S.title,getItems:()=>ct(S.items,$=>{const W=$.toLowerCase();return W.trim().length===0||uo(F,se=>se===W)?[]:W==="separator"||W==="|"?[{type:"separator"}]:A.menuItems[W]?[A.menuItems[W]]:[]})}})({title:w.title,items:Bk(w.items)},r,e)});return Pt(h,x=>x.getItems().length>0&&uo(x.getItems(),w=>io(w)||w.type!=="separator"))},Af=(e,r,s)=>(e.on("remove",()=>s.unload(r)),s.load(r)),Fk=(e,r,s,l)=>(e.on("remove",()=>l.unloadRawCss(r)),l.loadRawCss(r,s)),s5=async(e,r)=>{const s="ui/"+e0(e).getOr("default")+"/skin.css",l=tinymce.Resource.get(s);return io(l)?Promise.resolve(Fk(e,s,l,e.ui.styleSheetLoader)):Af(e,r+"/skin.min.css",e.ui.styleSheetLoader)},Lk=async(e,r)=>{var s;if(s=St(e.getElement()),va(s).isSome()){const l="ui/"+e0(e).getOr("default")+"/skin.shadowdom.css",m=tinymce.Resource.get(l);return io(m)?(Fk(e,l,m,Qb.DOM.styleSheetLoader),Promise.resolve()):Af(e,r+"/skin.shadowdom.min.css",Qb.DOM.styleSheetLoader)}},Zh=(e,r)=>(async(s,l)=>{e0(l).fold(()=>{const g=Q1(l);g&&l.contentCSS.push(g+(s?"/content.inline":"/content")+".min.css")},g=>{const h="ui/"+g+(s?"/content.inline":"/content")+".css",x=tinymce.Resource.get(h);if(io(x))Fk(l,h,x,l.ui.styleSheetLoader);else{const w=Q1(l);w&&l.contentCSS.push(w+(s?"/content.inline":"/content")+".min.css")}});const m=Q1(l);if(!s2(l)&&io(m))return Promise.all([s5(l,m),Lk(l,m)]).then()})(e,r).then((s=>{const l=()=>{s._skinLoaded=!0,(m=>{m.dispatch("SkinLoaded")})(s)};return()=>{s.initialized?l():s.on("init",l)}})(r),((s,l)=>()=>((m,g)=>{m.dispatch("SkinLoadError",g)})(s,{message:"Skin could not be loaded"}))(r)),Ik=rt(Zh,!1),Pk=rt(Zh,!0),qh=(e,r,s)=>e.translate([r,e.translate(s)]),Zc=(e,r)=>{const s=(g,h,x,w)=>{const S=e.shared.providers.translate(g.title);if(g.type==="separator")return R.some({type:"separator",text:S});if(g.type==="submenu"){const A=ct(g.getStyleItems(),N=>l(N,h,w));return h===0&&A.length<=0?R.none():R.some({type:"nestedmenuitem",text:S,enabled:A.length>0,getSubmenuItems:()=>ct(g.getStyleItems(),N=>l(N,h,w))})}return R.some({type:"togglemenuitem",text:S,icon:g.icon,active:g.isSelected(w),enabled:!x,onAction:r.onAction(g),...g.getStylePreview().fold(()=>({}),A=>({meta:{style:A}}))})},l=(g,h,x)=>{const w=g.type==="formatter"&&r.isInvalid(g);return h===0?w?[]:s(g,h,!1,x).toArray():s(g,h,w,x).toArray()},m=g=>{const h=r.getCurrentValue(),x=r.shouldHide?0:1;return ct(g,w=>l(w,x,h))};return{validateItems:m,getFetch:(g,h)=>(x,w)=>{const S=h(),A=m(S);w(Ny(A,Oc.CLOSE_ON_EXECUTE,g,{isHorizontalMenu:!1,search:R.none()}))}}},gp=(e,r,s)=>{const l=s.dataset,m=l.type==="basic"?()=>dt(l.data,g=>OS(g,s.isSelectedFor,s.getPreviewFor)):l.getData;return{items:Zc(r,s),getStyleItems:m}},Uy=(e,r,s,l,m)=>{const{items:g,getStyleItems:h}=gp(0,r,s);return oS({text:s.icon.isSome()?R.none():s.text,icon:s.icon,tooltip:R.from(s.tooltip),role:R.none(),fetch:g.getFetch(r,h),onSetup:x=>{const w=S=>x.setTooltip(qh(e,l,S.value));return e.on(m,w),dw(Jm(e,"NodeChange",S=>{const A=S.getComponent();s.updateText(A),Qn.set(S.getComponent(),!e.selection.isEditable())})(x),()=>e.off(m,w))},getApi:x=>({getComponent:me(x),setTooltip:w=>{const S=r.shared.providers.translate(w);Os(x.element,{"aria-label":S,title:S})}}),columns:1,presets:"normal",classes:s.icon.isSome()?[]:["bespoke"],dropdownBehaviours:[]},"tox-tbtn",r.shared)};var Wh;(function(e){e[e.SemiColon=0]="SemiColon",e[e.Space=1]="Space"})(Wh||(Wh={}));const h3=(e,r,s)=>{const l=(m=((g,h)=>h===Wh.SemiColon?g.replace(/;$/,"").split(";"):g.split(" "))(e.options.get(r),s),dt(m,g=>{let h=g,x=g;const w=g.split("=");return w.length>1&&(h=w[0],x=w[1]),{title:h,format:x}}));var m;return{type:"basic",data:l}},pp="Alignment {0}",lA="left",Hk=[{title:"Left",icon:"align-left",format:"alignleft",command:"JustifyLeft"},{title:"Center",icon:"align-center",format:"aligncenter",command:"JustifyCenter"},{title:"Right",icon:"align-right",format:"alignright",command:"JustifyRight"},{title:"Justify",icon:"align-justify",format:"alignjustify",command:"JustifyFull"}],Gh=e=>{const r={type:"basic",data:Hk};return{tooltip:qh(e,pp,lA),text:R.none(),icon:R.some("align-left"),isSelectedFor:s=>()=>e.formatter.match(s),getCurrentValue:R.none,getPreviewFor:s=>R.none,onAction:s=>()=>to(Hk,l=>l.format===s.format).each(l=>e.execCommand(l.command)),updateText:s=>{const l=to(Hk,m=>e.formatter.match(m.format)).fold(me(lA),m=>m.title.toLowerCase());_n(s,ip,{icon:`align-${l}`}),((m,g)=>{m.dispatch("AlignTextUpdate",g)})(e,{value:l})},dataset:r,shouldHide:!1,isInvalid:s=>!e.formatter.canApply(s.format)}},dv=(e,r)=>{const s=r(),l=dt(s,m=>m.format);return R.from(e.formatter.closest(l)).bind(m=>to(s,g=>g.format===m)).orThunk(()=>ln(e.formatter.match("p"),{title:"Paragraph",format:"p"}))},b3="Block {0}",Of="Paragraph",cA=e=>{const r=h3(e,"block_formats",Wh.SemiColon);return{tooltip:qh(e,b3,Of),text:R.some(Of),icon:R.none(),isSelectedFor:s=>()=>e.formatter.match(s),getCurrentValue:R.none,getPreviewFor:s=>()=>{const l=e.formatter.get(s);return l?R.some({tag:l.length>0&&(l[0].inline||l[0].block)||"div",styles:e.dom.parseStyle(e.formatter.getCssText(s))}):R.none()},onAction:w0(e),updateText:s=>{const l=dv(e,()=>r.data).fold(me(Of),m=>m.title);_n(s,dd,{text:l}),((m,g)=>{m.dispatch("BlocksTextUpdate",g)})(e,{value:l})},dataset:r,shouldHide:!1,isInvalid:s=>!e.formatter.canApply(s.format)}},dA="Font {0}",Kh="System Font",i5=["-apple-system","Segoe UI","Roboto","Helvetica Neue","sans-serif"],y3=e=>{const r=e.split(/\s*,\s*/);return dt(r,s=>s.replace(/^['"]+|['"]+$/g,""))},t=(e,r)=>r.length>0&&gt(r,s=>e.indexOf(s.toLowerCase())>-1),o=e=>{const r=()=>{const l=S=>S?y3(S)[0]:"",m=e.queryCommandValue("FontName"),g=s.data,h=m?m.toLowerCase():"",x=a2(e);return{matchOpt:to(g,S=>{const A=S.format;return A.toLowerCase()===h||l(A).toLowerCase()===l(h).toLowerCase()}).orThunk(()=>ln(((S,A)=>{if(S.indexOf("-apple-system")===0||A.length>0){const N=y3(S.toLowerCase());return t(N,i5)||t(N,A)}return!1})(h,x),{title:Kh,format:h})),font:m}},s=h3(e,"font_family_formats",Wh.SemiColon);return{tooltip:qh(e,dA,Kh),text:R.some(Kh),icon:R.none(),isSelectedFor:l=>m=>m.exists(g=>g.format===l),getCurrentValue:()=>{const{matchOpt:l}=r();return l},getPreviewFor:l=>()=>R.some({tag:"div",styles:l.indexOf("dings")===-1?{"font-family":l}:{}}),onAction:l=>()=>{e.undoManager.transact(()=>{e.focus(),e.execCommand("FontName",!1,l.format)})},updateText:l=>{const{matchOpt:m,font:g}=r(),h=m.fold(me(g),x=>x.title);_n(l,dd,{text:h}),((x,w)=>{x.dispatch("FontFamilyTextUpdate",w)})(e,{value:h})},dataset:s,shouldHide:!1,isInvalid:Bo}},n={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},a=(()=>{const e="[0-9]+",r="[eE][+-]?"+e,s=m=>`(?:${m})?`,l=["Infinity",e+"\\."+s(e)+s(r),"\\."+e+s(r),e+s(r)].join("|");return new RegExp(`^([+-]?(?:${l}))(.*)$`)})(),i=(e,r)=>R.from(a.exec(e)).bind(s=>{const l=Number(s[1]),m=s[2];return((g,h)=>uo(h,x=>uo(n[x],w=>g===w)))(m,r)?R.some({value:l,unit:m}):R.none()}),c={tab:me(9),escape:me(27),enter:me(13),backspace:me(8),delete:me(46),left:me(37),up:me(38),right:me(39),down:me(40),space:me(32),home:me(36),end:me(35),pageUp:me(33),pageDown:me(34)},d="Font size {0}",u="12pt",f={"8pt":"1","10pt":"2","12pt":"3","14pt":"4","18pt":"5","24pt":"6","36pt":"7"},y={"xx-small":"7pt","x-small":"8pt",small:"10pt",medium:"12pt",large:"14pt","x-large":"18pt","xx-large":"24pt"},v=(e,r)=>/[0-9.]+px$/.test(e)?((s,l)=>{const m=Math.pow(10,l);return Math.round(s*m)/m})(72*parseInt(e,10)/96,r||0)+"pt":Xt(y,e).getOr(e),k=e=>Xt(f,e).getOr(""),E=e=>{const r=()=>{let m=R.none();const g=l.data,h=e.queryCommandValue("FontSize");if(h)for(let x=3;m.isNone()&&x>=0;x--){const w=v(h,x),S=k(w);m=to(g,A=>A.format===h||A.format===w||A.format===S)}return{matchOpt:m,size:h}},s=me(R.none),l=h3(e,"font_size_formats",Wh.Space);return{tooltip:qh(e,d,u),text:R.some(u),icon:R.none(),isSelectedFor:m=>g=>g.exists(h=>h.format===m),getPreviewFor:s,getCurrentValue:()=>{const{matchOpt:m}=r();return m},onAction:m=>()=>{e.undoManager.transact(()=>{e.focus(),e.execCommand("FontSize",!1,m.format)})},updateText:m=>{const{matchOpt:g,size:h}=r(),x=g.fold(me(h),w=>w.title);_n(m,dd,{text:x}),((w,S)=>{w.dispatch("FontSizeTextUpdate",S)})(e,{value:x})},dataset:l,shouldHide:!1,isInvalid:Bo}},B="Format {0}",O=(e,r)=>{const s="Paragraph";return{tooltip:qh(e,B,s),text:R.some(s),icon:R.none(),isSelectedFor:l=>()=>e.formatter.match(l),getCurrentValue:R.none,getPreviewFor:l=>()=>{const m=e.formatter.get(l);return m!==void 0?R.some({tag:m.length>0&&(m[0].inline||m[0].block)||"div",styles:e.dom.parseStyle(e.formatter.getCssText(l))}):R.none()},onAction:w0(e),updateText:l=>{const m=x=>zS(x)?ct(x.items,m):AS(x)?[{title:x.title,format:x.format}]:[],g=ct(uz(e),m),h=dv(e,me(g)).fold(me(s),x=>x.title);_n(l,dd,{text:h}),((x,w)=>{x.dispatch("StylesTextUpdate",w)})(e,{value:h})},shouldHide:Nx(e),isInvalid:l=>!e.formatter.canApply(l.format),dataset:r}},P=me([Yt("toggleClass"),Yt("fetch"),nu("onExecute"),ft("getHotspot",R.some),ft("getAnchorOverrides",me({})),hm(),nu("onItemExecute"),la("lazySink"),Yt("dom"),Hr("onOpen"),qi("splitDropdownBehaviours",[js,Dn,er]),ft("matchWidth",!1),ft("useMinWidth",!1),ft("eventOrder",{}),la("role")].concat(E0())),M=Eo({factory:wl,schema:[Yt("dom")],name:"arrow",defaults:()=>({buttonBehaviours:Oo([er.revoke()])}),overrides:e=>({dom:{tag:"span",attributes:{role:"presentation"}},action:r=>{r.getSystem().getByUid(e.uid).each(Qd)},buttonBehaviours:Oo([Dr.config({toggleOnExecute:!1,toggleClass:e.toggleClass})])})}),j=Eo({factory:wl,schema:[Yt("dom")],name:"button",defaults:()=>({buttonBehaviours:Oo([er.revoke()])}),overrides:e=>({dom:{tag:"span",attributes:{role:"presentation"}},action:r=>{r.getSystem().getByUid(e.uid).each(s=>{e.onExecute(s,r)})}})}),q=me([M,j,No({factory:{sketch:e=>({uid:e.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:e.text}})},schema:[Yt("text")],name:"aria-descriptor"}),Ro({schema:[jf()],name:"menu",defaults:e=>({onExecute:(r,s)=>{r.getSystem().getByUid(e.uid).each(l=>{e.onItemExecute(l,r,s)})}})}),LE()]),K=Wl({name:"SplitDropdown",configFields:P(),partFields:q(),factory:(e,r,s,l)=>{const m=S=>{Gr.getCurrent(S).each(A=>{ba.highlightFirst(A),Dn.focusIn(A)})},g=S=>{S0(e,Ze,S,l,m,Gl.HighlightMenuAndItem).get(he)},h=S=>{const A=li(S,e,"button");return Qd(A),R.some(!0)},x={...qa([La((S,A)=>{ua(S,e,"aria-descriptor").each(N=>{const F=un("aria");Kn(N.element,"id",F),Kn(S.element,"aria-describedby",F)})})]),...B1(R.some(g))},w={repositionMenus:S=>{Dr.isOn(S)&&bw(S)}};return{uid:e.uid,dom:e.dom,components:r,apis:w,eventOrder:{...e.eventOrder,[fl()]:["disabling","toggling","alloy.base.behaviour"]},events:x,behaviours:Fi(e.splitDropdownBehaviours,[js.config({others:{sandbox:S=>{const A=li(S,e,"arrow");return hw(e,S,{onOpen:()=>{Dr.on(A),Dr.on(S)},onClose:()=>{Dr.off(A),Dr.off(S)}})}}}),Dn.config({mode:"special",onSpace:h,onEnter:h,onDown:S=>(g(S),R.some(!0))}),er.config({}),Dr.config({toggleOnExecute:!1,aria:{mode:"expanded"}})]),domModification:{attributes:{role:e.role.getOr("button"),"aria-haspopup":!0}}}},apis:{repositionMenus:(e,r)=>e.repositionMenus(r)}}),re=e=>({isEnabled:()=>!Qn.isDisabled(e),setEnabled:r=>Qn.set(e,!r),setText:r=>_n(e,dd,{text:r}),setIcon:r=>_n(e,ip,{icon:r})}),ee=e=>({setActive:r=>{Dr.set(e,r)},isActive:()=>Dr.isOn(e),isEnabled:()=>!Qn.isDisabled(e),setEnabled:r=>Qn.set(e,!r),setText:r=>_n(e,dd,{text:r}),setIcon:r=>_n(e,ip,{icon:r})}),ke=(e,r)=>e.map(s=>({"aria-label":r.translate(s),title:r.translate(s)})).getOr({}),et=un("focus-button"),st=(e,r,s,l,m)=>{const g=r.map(x=>Ta(tS(x,"tox-tbtn",m))),h=e.map(x=>Ta(sp(x,m.icons)));return{dom:{tag:"button",classes:["tox-tbtn"].concat(r.isSome()?["tox-tbtn--select"]:[]),attributes:ke(s,m)},components:Eh([h.map(x=>x.asSpec()),g.map(x=>x.asSpec())]),eventOrder:{[ai()]:["focusing","alloy.base.behaviour",xf],[Rc()]:[xf,"toolbar-group-button-events"]},buttonBehaviours:Oo([j2(m.isDisabled),Wi(),Tr(xf,[La((x,w)=>H0(x)),Kt(dd,(x,w)=>{g.bind(S=>S.getOpt(x)).each(S=>{fr.set(S,[Ya(m.translate(w.event.text))])})}),Kt(ip,(x,w)=>{h.bind(S=>S.getOpt(x)).each(S=>{fr.set(S,[sp(w.event.icon,m.icons)])})}),Kt(ai(),(x,w)=>{w.event.prevent(),$r(x,et)})])].concat(l.getOr([])))}},mt=(e,r,s)=>{var l;const m=Sn(he),g=st(e.icon,e.text,e.tooltip,R.none(),s);return wl.sketch({dom:g.dom,components:g.components,eventOrder:eS,buttonBehaviours:{...Oo([Tr("toolbar-button-events",[(h={onAction:e.onAction,getApi:r.getApi},Cc((x,w)=>{f0(h,x)(S=>{_n(x,QC,{buttonApi:S}),h.onAction(S)})})),Kg(r,m),Yg(r,m)]),j2(()=>!e.enabled||s.isDisabled()),Wi()].concat(r.toolbarButtonBehaviours)),[xf]:(l=g.buttonBehaviours)===null||l===void 0?void 0:l[xf]}});var h},kt=(e,r,s)=>mt(e,{toolbarButtonBehaviours:s.length>0?[Tr("toolbarButtonWith",s)]:[],getApi:re,onSetup:e.onSetup},r),Ve=(e,r,s)=>mt(e,{toolbarButtonBehaviours:[fr.config({}),Dr.config({toggleClass:"tox-tbtn--enabled",aria:{mode:"pressed"},toggleOnExecute:!1})].concat(s.length>0?[Tr("toolbarToggleButtonWith",s)]:[]),getApi:ee,onSetup:e.onSetup},r),ot=(e,r,s)=>l=>Qg(m=>r.fetch(m)).map(m=>R.from(yw(Da(aC(un("menu-value"),m,g=>{r.onItemAction(e(l),g)},r.columns,r.presets,Oc.CLOSE_ON_EXECUTE,r.select.getOr(Bo),s),{movement:_0(r.columns,r.presets),menuBehaviours:cy(r.columns!=="auto"?[]:[La((g,h)=>{Qx(g,4,h2(r.presets)).each(({numRows:x,numColumns:w})=>{Dn.setGridSize(g,x,w)})})])})))),pt=[{name:"history",items:["undo","redo"]},{name:"ai",items:["aidialog","aishortcuts"]},{name:"styles",items:["styles"]},{name:"formatting",items:["bold","italic"]},{name:"alignment",items:["alignleft","aligncenter","alignright","alignjustify"]},{name:"indentation",items:["outdent","indent"]},{name:"permanent pen",items:["permanentpen"]},{name:"comments",items:["addcomment"]}],Jt=(e,r)=>(s,l,m)=>{const g=e(s).mapError(h=>El(h)).getOrDie();return r(g,l,m)},en={button:Jt(M2,(e,r)=>{return s=e,l=r.shared.providers,kt(s,l,[]);var s,l}),togglebutton:Jt(m0,(e,r)=>{return s=e,l=r.shared.providers,Ve(s,l,[]);var s,l}),menubutton:Jt(QS,(e,r)=>cp(e,"tox-tbtn",r,R.none(),!1)),splitbutton:Jt(e=>ka("SplitButton",e3,e),(e,r)=>((s,l)=>{const m=x=>({isEnabled:()=>!Qn.isDisabled(x),setEnabled:w=>Qn.set(x,!w),setIconFill:(w,S)=>{vs(x.element,`svg path[class="${w}"], rect[class="${w}"]`).each(A=>{Kn(A,"fill",S)})},setActive:w=>{Kn(x.element,"aria-pressed",w),vs(x.element,"span").each(S=>{x.getSystem().getByDom(S).each(A=>Dr.set(A,w))})},isActive:()=>vs(x.element,"span").exists(w=>x.getSystem().getByDom(w).exists(Dr.isOn)),setText:w=>vs(x.element,"span").each(S=>x.getSystem().getByDom(S).each(A=>_n(A,dd,{text:w}))),setIcon:w=>vs(x.element,"span").each(S=>x.getSystem().getByDom(S).each(A=>_n(A,ip,{icon:w}))),setTooltip:w=>{const S=l.providers.translate(w);Os(x.element,{"aria-label":S,title:S})}}),g=Sn(he),h={getApi:m,onSetup:s.onSetup};return K.sketch({dom:{tag:"div",classes:["tox-split-button"],attributes:{"aria-pressed":!1,...ke(s.tooltip,l.providers)}},onExecute:x=>{const w=m(x);w.isEnabled()&&s.onAction(w)},onItemExecute:(x,w,S)=>{},splitDropdownBehaviours:Oo([H2(l.providers.isDisabled),Wi(),Tr("split-dropdown-events",[La((x,w)=>H0(x)),Kt(et,er.focus),Kg(h,g),Yg(h,g)]),Cy.config({})]),eventOrder:{[Rc()]:["alloy.base.behaviour","split-dropdown-events"]},toggleClass:"tox-tbtn--enabled",lazySink:l.getSink,fetch:ot(m,s,l.providers),parts:{menu:Ch(0,s.columns,s.presets)},components:[K.parts.button(st(s.icon,s.text,R.none(),R.some([Dr.config({toggleClass:"tox-tbtn--enabled",toggleOnExecute:!1})]),l.providers)),K.parts.arrow({dom:{tag:"button",classes:["tox-tbtn","tox-split-button__chevron"],innerHtml:Y_("chevron-down",l.providers.icons)},buttonBehaviours:Oo([H2(l.providers.isDisabled),Wi(),X_()])}),K.parts["aria-descriptor"]({text:l.providers.translate("To open the popup, press Shift+Enter")})]})})(e,r.shared)),grouptoolbarbutton:Jt(e=>ka("GroupToolbarButton",Bz,e),(e,r,s)=>{const l=s.ui.registry.getAll().buttons,m={[oh]:r.shared.header.isPositionedAtTop()?ju.TopToBottom:ju.BottomToTop};if(ey(s)===Vc.floating)return((g,h,x,w)=>{const S=h.shared,A=Sn(he),N={toolbarButtonBehaviours:[],getApi:re,onSetup:g.onSetup},F=[Tr("toolbar-group-button-events",[Kg(N,A),Yg(N,A)])];return Ef.sketch({lazySink:S.getSink,fetch:()=>Qg($=>{$(dt(x(g.items),Ok))}),markers:{toggledClass:"tox-tbtn--enabled"},parts:{button:st(g.icon,g.text,g.tooltip,R.some(F),S.providers),toolbar:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:w}}}})})(e,r,g=>Nn(s,{buttons:l,toolbar:g,allowToolbarGroups:!1},r,R.none()),m);throw new Error("Toolbar groups are only supported when using floating toolbar mode")})},Fo={styles:(e,r)=>{const s={type:"advanced",...r.styles};return Uy(e,r,O(e,s),B,"StylesTextUpdate")},fontsize:(e,r)=>Uy(e,r,E(e),d,"FontSizeTextUpdate"),fontsizeinput:(e,r)=>((s,l,m)=>{let g=R.none();const h=Jm(s,"NodeChange SwitchMode",X=>{const ue=X.getComponent();g=R.some(ue),m.updateInputValue(ue),Qn.set(ue,!s.selection.isEditable())}),x=X=>({getComponent:me(X)}),w=Sn(he),S=un("custom-number-input-events"),A=(X,ue,ye)=>{const we=g.map(oo=>Wo.getValue(oo)).getOr(""),Ye=m.getNewValue(we,X),Tt=we.length-`${Ye}`.length,Qt=g.map(oo=>oo.element.dom.selectionStart-Tt),no=g.map(oo=>oo.element.dom.selectionEnd-Tt);m.onAction(Ye,ye),g.each(oo=>{Wo.setValue(oo,Ye),ue&&(Qt.each(Uo=>oo.element.dom.selectionStart=Uo),no.each(Uo=>oo.element.dom.selectionEnd=Uo))})},N=(X,ue)=>A((ye,we)=>ye-we,X,ue),F=(X,ue)=>A((ye,we)=>ye+we,X,ue),$=X=>Go(X.element).fold(R.none,ue=>(sd(ue),R.some(!0))),W=X=>Gf(X.element)?(Ar(X.element).each(ue=>sd(ue)),R.some(!0)):R.none(),se=(X,ue,ye,we)=>{const Ye=Sn(he),Tt=l.shared.providers.translate(ye),Qt=un("altExecuting"),no=Jm(s,"NodeChange SwitchMode",Uo=>{Qn.set(Uo.getComponent(),!s.selection.isEditable())}),oo=Uo=>{Qn.isDisabled(Uo)||X(!0)};return wl.sketch({dom:{tag:"button",attributes:{title:Tt,"aria-label":Tt},classes:we.concat(ue)},components:[wf(ue,l.shared.providers.icons)],buttonBehaviours:Oo([Qn.config({}),Tr(Qt,[Kg({onSetup:no,getApi:x},Ye),Yg({getApi:x},Ye),Kt(fn(),(Uo,pn)=>{pn.event.raw.keyCode!==c.space()&&pn.event.raw.keyCode!==c.enter()||Qn.isDisabled(Uo)||X(!1)}),Kt(fa(),oo),Kt(Hl(),oo)])]),eventOrder:{[fn()]:[Qt,"keying"],[fa()]:[Qt,"alloy.base.behaviour"],[Hl()]:[Qt,"alloy.base.behaviour"]}})},le=Ta(se(X=>N(!1,X),"minus","Decrease font size",[])),fe=Ta(se(X=>F(!1,X),"plus","Increase font size",[])),te=Ta({dom:{tag:"div",classes:["tox-input-wrapper"]},components:[df.sketch({inputBehaviours:Oo([Qn.config({}),Tr(S,[Kg({onSetup:h,getApi:x},w),Yg({getApi:x},w)]),Tr("input-update-display-text",[Kt(dd,(X,ue)=>{Wo.setValue(X,ue.event.text)}),Kt(_o(),X=>{m.onAction(Wo.getValue(X))}),Kt(Tn(),X=>{m.onAction(Wo.getValue(X))})]),Dn.config({mode:"special",onEnter:X=>(A(Ze,!0,!0),R.some(!0)),onEscape:$,onUp:X=>(F(!0,!1),R.some(!0)),onDown:X=>(N(!0,!1),R.some(!0)),onLeft:(X,ue)=>(ue.cut(),R.none()),onRight:(X,ue)=>(ue.cut(),R.none())})])})],behaviours:Oo([er.config({}),Dn.config({mode:"special",onEnter:W,onSpace:W,onEscape:$}),Tr("input-wrapper-events",[Kt(Te(),X=>{Ie([le,fe],ue=>{const ye=St(ue.get(X).element.dom);Gf(ye)&&hb(ye)})})])])});return{dom:{tag:"div",classes:["tox-number-input"]},components:[le.asSpec(),te.asSpec(),fe.asSpec()],behaviours:Oo([er.config({}),Dn.config({mode:"flow",focusInside:qb.OnEnterOrSpaceMode,cycles:!1,selector:"button, .tox-input-wrapper",onEscape:X=>Gf(X.element)?R.none():(sd(X.element),R.some(!0))})])}})(e,r,(s=>{const l=()=>s.queryCommandValue("FontSize");return{updateInputValue:m=>_n(m,dd,{text:l()}),onAction:(m,g)=>s.execCommand("FontSize",!1,m,{skip_focus:!g}),getNewValue:(m,g)=>{i(m,["unsupportedLength","empty"]);const h=l(),x=i(m,["unsupportedLength","empty"]).or(i(h,["unsupportedLength","empty"])),w=x.map($=>$.value).getOr(16),S=Fx(s),A=x.map($=>$.unit).filter($=>$!=="").getOr(S),N=g(w,($=>{var W;return(W={em:{step:.1},cm:{step:.1},in:{step:.1},pc:{step:.1},ch:{step:.1},rem:{step:.1}}[$])!==null&&W!==void 0?W:{step:1}})(A).step),F=`${($=>$>=0)(N)?N:w}${A}`;return F!==h&&(($,W)=>{$.dispatch("FontSizeInputTextUpdate",W)})(s,{value:F}),F}}})(e)),fontfamily:(e,r)=>Uy(e,r,o(e),dA,"FontFamilyTextUpdate"),blocks:(e,r)=>Uy(e,r,cA(e),b3,"BlocksTextUpdate"),align:(e,r)=>Uy(e,r,Gh(e),pp,"AlignTextUpdate")},Nn=(e,r,s,l)=>{const m=(h=>{const x=h.toolbar,w=h.buttons;return x===!1?[]:x===void 0||x===!0?(S=>{const A=dt(pt,N=>{const F=Pt(N.items,$=>Vo(S,$)||Vo(Fo,$));return{name:N.name,items:F}});return Pt(A,N=>N.items.length>0)})(w):io(x)?(S=>{const A=S.split("|");return dt(A,N=>({items:N.trim().split(" ")}))})(x):(S=>co(S,A=>Vo(A,"name")&&Vo(A,"items")))(x)?x:(console.error("Toolbar type should be string, string[], boolean or ToolbarGroup[]"),[])})(r),g=dt(m,h=>{const x=ct(h.items,w=>w.trim().length===0?[]:((S,A,N,F,$,W)=>Xt(A,N.toLowerCase()).orThunk(()=>W.bind(se=>Gt(se,le=>Xt(A,le+N.toLowerCase())))).fold(()=>Xt(Fo,N.toLowerCase()).map(se=>se(S,$)),se=>se.type!=="grouptoolbarbutton"||F?((le,fe,te)=>Xt(en,le.type).fold(()=>(console.error("skipping button defined by",le),R.none()),X=>R.some(X(le,fe,te))))(se,$,S):(console.warn(`Ignoring the '${N}' toolbar button. Group toolbar buttons are only supported when using floating toolbar mode and cannot be nested.`),R.none())))(e,r.buttons,w,r.allowToolbarGroups,s,l).toArray());return{title:R.from(e.translate(h.name)),items:x}});return Pt(g,h=>h.items.length>0)},An=(e,r,s,l)=>{const m=r.mainUi.outerContainer,g=s.toolbar,h=s.buttons;if(co(g,io)){const x=g.map(w=>{const S={toolbar:w,buttons:h,allowToolbarGroups:s.allowToolbarGroups};return Nn(e,S,l,R.none())});Ja.setToolbars(m,x)}else Ja.setToolbar(m,Nn(e,s,l,R.none()))},Jn=Yl(),jn=Jn.os.isiOS()&&Jn.os.version.major<=12;var cn=Object.freeze({__proto__:null,render:(e,r,s,l,m)=>{const{mainUi:g,uiMotherships:h}=r,x=Sn(0),w=g.outerContainer;Ik(e);const S=St(m.targetNode),A=Sr(rr(S));Vp(S,g.mothership),((W,se,le)=>{qg(W)&&Vp(le.mainUi.mothership.element,le.popupUi.mothership),mh(se,le.dialogUi.mothership)})(e,A,r),e.on("SkinLoaded",()=>{Ja.setSidebar(w,s.sidebar,jx(e)),An(e,r,s,l),x.set(e.getWin().innerWidth),Ja.setMenubar(w,iA(e,s)),Ja.setViews(w,s.views),((W,se)=>{const{uiMotherships:le}=se,fe=W.dom;let te=W.getWin();const X=W.getDoc().documentElement,ue=Sn(kn(te.innerWidth,te.innerHeight)),ye=Sn(kn(X.offsetWidth,X.offsetHeight)),we=()=>{const no=ue.get();no.left===te.innerWidth&&no.top===te.innerHeight||(ue.set(kn(te.innerWidth,te.innerHeight)),K2(W))},Ye=()=>{const no=W.getDoc().documentElement,oo=ye.get();oo.left===no.offsetWidth&&oo.top===no.offsetHeight||(ye.set(kn(no.offsetWidth,no.offsetHeight)),K2(W))},Tt=no=>{((oo,Uo)=>{oo.dispatch("ScrollContent",Uo)})(W,no)};fe.bind(te,"resize",we),fe.bind(te,"scroll",Tt);const Qt=Qf(St(W.getBody()),"load",Ye);W.on("hide",()=>{Ie(le,no=>{Bn(no.element,"display","none")})}),W.on("show",()=>{Ie(le,no=>{Pr(no.element,"display")})}),W.on("NodeChange",Ye),W.on("remove",()=>{Qt.unbind(),fe.unbind(te,"resize",we),fe.unbind(te,"scroll",Tt),te=null})})(e,r)});const N=Ja.getSocket(w).getOrDie("Could not find expected socket element");if(jn){ji(N.element,{overflow:"scroll","-webkit-overflow-scrolling":"touch"});const W=((le,fe)=>{let te=null;return{cancel:()=>{Mo(te)||(clearTimeout(te),te=null)},throttle:(...X)=>{Mo(te)&&(te=setTimeout(()=>{te=null,le.apply(null,X)},20))}}})(()=>{e.dispatch("ScrollContent")}),se=Ul(N.element,"scroll",W.throttle);e.on("remove",se.unbind)}ew(e,r),e.addCommand("ToggleSidebar",(W,se)=>{Ja.toggleSidebar(w,se),e.dispatch("ToggleSidebar")}),e.addQueryValueHandler("ToggleSidebar",()=>{var W;return(W=Ja.whichSidebar(w))!==null&&W!==void 0?W:""}),e.addCommand("ToggleView",(W,se)=>{if(Ja.toggleView(w,se)){const le=w.element;g.mothership.broadcastOn([Bd()],{target:le}),Ie(h,fe=>{fe.broadcastOn([Bd()],{target:le})}),Mo(Ja.whichView(w))&&(e.focus(),e.nodeChanged(),Ja.refreshToolbar(w))}}),e.addQueryValueHandler("ToggleView",()=>{var W;return(W=Ja.whichView(w))!==null&&W!==void 0?W:""});const F=ey(e);F!==Vc.sliding&&F!==Vc.floating||e.on("ResizeWindow ResizeEditor ResizeContent",()=>{const W=e.getWin().innerWidth;W!==x.get()&&(Ja.refreshToolbar(r.mainUi.outerContainer),x.set(W))});const $={setEnabled:W=>{uy(r,!W)},isEnabled:()=>!Qn.isDisabled(w)};return{iframeContainer:N.element.dom,editorContainer:w.element.dom,api:$}}});const vn=e=>/^[0-9\.]+(|px)$/i.test(""+e)?R.some(parseInt(""+e,10)):R.none(),cr=e=>So(e)?e+"px":e,Qe=(e,r,s)=>{const l=r.filter(g=>e<g),m=s.filter(g=>e>g);return l.or(m).getOr(e)},nt=e=>{const r=zx(e),s=Ax(e),l=K1(e);return vn(r).map(m=>Qe(m,s,l))},{ToolbarLocation:so,ToolbarMode:mo}=G4,yo=(e,r,s,l,m)=>{const{mainUi:g,uiMotherships:h}=s,x=Qb.DOM,w=kh(e),S=_h(e),A=K1(e).or(nt(e)),N=l.shared.header,F=N.isPositionedAtTop,$=ey(e),W=$===mo.sliding||$===mo.floating,se=Sn(!1),le=()=>se.get()&&!e.removed,fe=ye=>W?ye.fold(me(0),we=>we.components().length>1?Nt(we.components()[1].element):0):0,te=()=>{Ie(h,ye=>{ye.broadcastOn([Dg()],{})})},X=ye=>{if(!le())return;w||m.on(Ye=>{const Tt=A.getOrThunk(()=>{const Qt=vn(aa(ws(),"margin-left")).getOr(0);return Ga(ws())-Or(r).left+Qt});Bn(Ye.element,"max-width",Tt+"px")});const we=w?R.none():(()=>{if(w)return R.none();if(Or(g.outerContainer.element).left+Q(g.outerContainer.element)>=window.innerWidth-40||Ir(g.outerContainer.element,"width").isSome()){Bn(g.outerContainer.element,"position","absolute"),Bn(g.outerContainer.element,"left","0px"),Pr(g.outerContainer.element,"width");const Ye=Q(g.outerContainer.element);return R.some(Ye)}return R.none()})();W&&Ja.refreshToolbar(g.outerContainer),w||(Ye=>{m.on(Tt=>{const Qt=Ja.getToolbar(g.outerContainer),no=fe(Qt),oo=Fa(r),{top:Uo,left:pn}=((dr,jr)=>qg(dr)?jS(jr):R.none())(e,g.outerContainer.element).fold(()=>({top:F()?Math.max(oo.y-Nt(Tt.element)+no,0):oo.bottom,left:oo.x}),dr=>{var jr;const gs=Fa(dr),Vs=(jr=dr.dom.scrollTop)!==null&&jr!==void 0?jr:0,mr=Jo(dr,ws()),Bl=mr?Math.max(oo.y-Nt(Tt.element)+no,0):oo.y-gs.y+Vs-Nt(Tt.element)+no;return{top:F()?Bl:oo.bottom,left:mr?oo.x:oo.x-gs.x}}),Mn={position:"absolute",left:Math.round(pn)+"px",top:Math.round(Uo)+"px"},ar=Ye.map(dr=>{const jr=pa(),gs=window.innerWidth-(pn-jr.left);return{width:Math.max(Math.min(dr,gs),150)+"px"}}).getOr({});ji(g.outerContainer.element,{...Mn,...ar})})})(we),S&&m.on(ye),te()},ue=()=>!(w||!S||!le())&&m.get().exists(ye=>{const we=N.getDockingMode(),Ye=(Qt=>{switch(Y1(e)){case so.auto:const no=Ja.getToolbar(g.outerContainer),oo=fe(no),Uo=Nt(Qt.element)-oo,pn=Fa(r);if(pn.y>Uo)return"top";{const Mn=Lo(r),ar=Math.max(Mn.dom.scrollHeight,Nt(Mn));return pn.bottom<ar-Uo||Ua().bottom<pn.bottom-Uo?"bottom":"top"}case so.bottom:return"bottom";case so.top:default:return"top"}})(ye);return Ye!==we&&(Tt=Ye,m.on(Qt=>{di.setModes(Qt,[Tt]),N.setDockingMode(Tt);const no=F()?ju.TopToBottom:ju.BottomToTop;Kn(Qt.element,oh,no)}),!0);var Tt});return{isVisible:le,isPositionedAtTop:F,show:()=>{se.set(!0),Bn(g.outerContainer.element,"display","flex"),x.addClass(e.getBody(),"mce-edit-focus"),Ie(h,ye=>{Pr(ye.element,"display")}),ue(),qg(e)?X(ye=>di.isDocked(ye)?di.reset(ye):di.refresh(ye)):X(di.refresh)},hide:()=>{se.set(!1),Bn(g.outerContainer.element,"display","none"),x.removeClass(e.getBody(),"mce-edit-focus"),Ie(h,ye=>{Bn(ye.element,"display","none")})},update:X,updateMode:()=>{ue()&&X(di.reset)},repositionPopups:te}},xn=(e,r)=>{const s=Fa(e);return{pos:r?s.y:s.bottom,bounds:s}};var Wn=Object.freeze({__proto__:null,render:(e,r,s,l,m)=>{const{mainUi:g}=r,h=ms(),x=St(m.targetNode),w=yo(e,x,r,l,h),S=q4(e);Pk(e);const A=()=>{if(h.isSet())return void w.show();h.set(Ja.getHeader(g.outerContainer).getOrDie());const F=Zx(e);qg(e)?(Vp(x,g.mothership),Vp(x,r.popupUi.mothership)):mh(F,g.mothership),mh(F,r.dialogUi.mothership),An(e,r,s,l),Ja.setMenubar(g.outerContainer,iA(e,s)),w.show(),(($,W,se,le)=>{const fe=Sn(xn(W,se.isPositionedAtTop())),te=we=>{const{pos:Ye,bounds:Tt}=xn(W,se.isPositionedAtTop()),{pos:Qt,bounds:no}=fe.get(),oo=Tt.height!==no.height||Tt.width!==no.width;fe.set({pos:Ye,bounds:Tt}),oo&&K2($,we),se.isVisible()&&(Qt!==Ye?se.update(di.reset):oo&&(se.updateMode(),se.repositionPopups()))};le||($.on("activate",se.show),$.on("deactivate",se.hide)),$.on("SkinLoaded ResizeWindow",()=>se.update(di.reset)),$.on("NodeChange keydown",we=>{requestAnimationFrame(()=>te(we))});let X=0;const ue=Ay(()=>se.update(di.refresh),33);$.on("ScrollWindow",()=>{const we=pa().left;we!==X&&(X=we,ue.throttle()),se.updateMode()}),qg($)&&$.on("ElementScroll",we=>{se.update(di.refresh)});const ye=vg();ye.set(Qf(St($.getBody()),"load",we=>te(we.raw))),$.on("remove",()=>{ye.clear()})})(e,x,w,S),e.nodeChanged()};e.on("show",A),e.on("hide",w.hide),S||(e.on("focus",A),e.on("blur",w.hide)),e.on("init",()=>{(e.hasFocus()||S)&&A()}),ew(e,r);const N={show:A,hide:w.hide,setEnabled:F=>{uy(r,!F)},isEnabled:()=>!Qn.isDisabled(g.outerContainer)};return{editorContainer:g.outerContainer.element.dom,api:N}}});const hr="contexttoolbar-hide",tr=(e,r)=>Kt(QC,(s,l)=>{const m=(g=>({hide:()=>$r(g,Sd()),getValue:()=>Wo.getValue(g)}))(e.get(s));r.onAction(m,l.event.buttonApi)}),Qa=(e,r)=>{const s=e.label.fold(()=>({}),g=>({"aria-label":g})),l=Ta(df.sketch({inputClasses:["tox-toolbar-textfield","tox-toolbar-nav-js"],data:e.initValue(),inputAttributes:s,selectOnFocus:!0,inputBehaviours:Oo([Dn.config({mode:"special",onEnter:g=>m.findPrimary(g).map(h=>(Qd(h),!0)),onLeft:(g,h)=>(h.cut(),R.none()),onRight:(g,h)=>(h.cut(),R.none())})])})),m=((g,h,x)=>{const w=dt(h,S=>Ta(((A,N,F)=>($=>$.type==="contextformtogglebutton")(N)?(($,W,se)=>{const{primary:le,...fe}=W.original,te=Sl(m0({...fe,type:"togglebutton",onAction:he}));return Ve(te,se,[tr($,W)])})(A,N,F):(($,W,se)=>{const{primary:le,...fe}=W.original,te=Sl(M2({...fe,type:"button",onAction:he}));return kt(te,se,[tr($,W)])})(A,N,F))(g,S,x)));return{asSpecs:()=>dt(w,S=>S.asSpec()),findPrimary:S=>Gt(h,(A,N)=>A.primary?R.from(w[N]).bind(F=>F.getOpt(S)).filter(Yo(Qn.isDisabled)):R.none())}})(l,e.commands,r);return[{title:R.none(),items:[l.asSpec()]},{title:R.none(),items:m.asSpecs()}]},En=(e,r,s)=>r.bottom-e.y>=s&&e.bottom-r.y>=s,Ur=e=>{const r=(s=>{const l=s.getBoundingClientRect();if(l.height<=0&&l.width<=0){const m=Xs(St(s.startContainer),s.startOffset).element;return(It(m)?rn(m):R.some(m)).filter(wt).map(g=>g.dom.getBoundingClientRect()).getOr(l)}return l})(e.selection.getRng());if(e.inline){const s=pa();return Ba(s.left+r.left,s.top+r.top,r.width,r.height)}{const s=ts(St(e.getBody()));return Ba(s.x+r.left,s.y+r.top,r.width,r.height)}},Zr=(e,r,s,l=0)=>{const m=cc(window),g=Fa(St(e.getContentAreaContainer())),h=J1(e)||t0(e)||oy(e),{x,width:w}=((S,A,N)=>{const F=Math.max(S.x+N,A.x);return{x:F,width:Math.min(S.right-N,A.right)-F}})(g,m,l);if(e.inline&&!h)return Ba(x,m.y,w,m.height);{const S=r.header.isPositionedAtTop(),{y:A,bottom:N}=((F,$,W,se,le,fe)=>{const te=St(F.getContainer()),X=vs(te,".tox-editor-header").getOr(te),ue=Fa(X),ye=ue.y>=$.bottom,we=se&&!ye;if(F.inline&&we)return{y:Math.max(ue.bottom+fe,W.y),bottom:W.bottom};if(F.inline&&!we)return{y:W.y,bottom:Math.min(ue.y-fe,W.bottom)};const Ye=le==="line"?Fa(te):$;return we?{y:Math.max(ue.bottom+fe,W.y),bottom:Math.min(Ye.bottom-fe,W.bottom)}:{y:Math.max(Ye.y+fe,W.y),bottom:Math.min(ue.y-fe,W.bottom)}})(e,g,m,S,s,l);return Ba(x,A,w,N-A)}},Cr={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"],inset:["tox-pop--inset"]},Kr={maxHeightFunction:wg(),maxWidthFunction:zk()},cl=e=>e==="node",Vn=(e,r,s,l,m)=>{const g=Ur(e),h=l.lastElement().exists(x=>Jo(s,x));return((x,w)=>{const S=x.selection.getRng(),A=Xs(St(S.startContainer),S.startOffset);return S.startContainer===S.endContainer&&S.startOffset===S.endOffset-1&&Jo(A.element,w)})(e,s)?h?sz:Ju:h?((x,w,S)=>{const A=Ir(x,"position");Bn(x,"position",w);const N=En(g,Fa(r),-20)&&!l.isReposition()?FO:sz;return A.each(F=>Bn(x,"position",F)),N})(r,l.getMode()):(l.getMode()==="fixed"?m.y+pa().top:m.y)+(Nt(r)+12)<=g.y?Ju:Fy},qr=(e,r,s,l)=>{const m=h=>(x,w,S,A,N)=>({...Vn(e,A,h,s,N)({...x,y:N.y,height:N.height},w,S,A,N),alwaysFit:!0}),g=h=>cl(l)?[m(h)]:[];return r?{onLtr:h=>[yi,Qi,Gs,vl,Wa,Nl].concat(g(h)),onRtl:h=>[yi,Gs,Qi,Wa,vl,Nl].concat(g(h))}:{onLtr:h=>[Nl,yi,vl,Qi,Wa,Gs].concat(g(h)),onRtl:h=>[Nl,yi,Wa,Gs,vl,Qi].concat(g(h))}},Fs=(e,r)=>{const s=Pt(r,g=>g.predicate(e.dom)),{pass:l,fail:m}=Co(s,g=>g.type==="contexttoolbar");return{contextToolbars:l,contextForms:m}},dl=(e,r)=>{const s={},l=[],m=[],g={},h={},x=Vt(e);return Ie(x,w=>{const S=e[w];S.type==="contextform"?((A,N)=>{const F=Sl(ka("ContextForm",JA,N));s[A]=F,F.launch.map($=>{g["form:"+A]={...N.launch,type:$.type==="contextformtogglebutton"?"togglebutton":"button",onAction:()=>{r(F)}}}),F.scope==="editor"?m.push(F):l.push(F),h[A]=F})(w,S):S.type==="contexttoolbar"&&((A,N)=>{var F;(F=N,ka("ContextToolbar",QA,F)).each($=>{N.scope==="editor"?m.push($):l.push($),h[A]=$})})(w,S)}),{forms:s,inNodeScope:l,inEditorScope:m,lookupTable:h,formNavigators:g}},Dl=un("forward-slide"),yc=un("backward-slide"),md=un("change-slide-event"),Rl="tox-pop--resizing",gd="tox-pop--transition",ul=(e,r,s,l)=>{const m=l.backstage,g=m.shared,h=Yl().deviceType.isTouch,x=ms(),w=ms(),S=ms(),A=yl((we=>{const Ye=Sn([]);return Rs.sketch({dom:{tag:"div",classes:["tox-pop"]},fireDismissalEventInstead:{event:"doNotDismissYet"},onShow:Tt=>{Ye.set([]),Rs.getContent(Tt).each(Qt=>{Pr(Qt.element,"visibility")}),rs(Tt.element,Rl),Pr(Tt.element,"width")},inlineBehaviours:Oo([Tr("context-toolbar-events",[Mu(Ni(),(Tt,Qt)=>{Qt.event.raw.propertyName==="width"&&(rs(Tt.element,Rl),Pr(Tt.element,"width"))}),Kt(md,(Tt,Qt)=>{const no=Tt.element;Pr(no,"width");const oo=Ga(no);Rs.setContent(Tt,Qt.event.contents),Jr(no,Rl);const Uo=Ga(no);Bn(no,"width",oo+"px"),Rs.getContent(Tt).each(pn=>{Qt.event.focus.bind(Mn=>(sd(Mn),gc(no))).orThunk(()=>(Dn.focusIn(pn),Ts(rr(no))))}),setTimeout(()=>{Bn(Tt.element,"width",Uo+"px")},0)}),Kt(Dl,(Tt,Qt)=>{Rs.getContent(Tt).each(no=>{Ye.set(Ye.get().concat([{bar:no,focus:Ts(rr(Tt.element))}]))}),_n(Tt,md,{contents:Qt.event.forwardContents,focus:R.none()})}),Kt(yc,(Tt,Qt)=>{ze(Ye.get()).each(no=>{Ye.set(Ye.get().slice(0,Ye.get().length-1)),_n(Tt,md,{contents:Tc(no.bar),focus:no.focus})})})]),Dn.config({mode:"special",onEscape:Tt=>ze(Ye.get()).fold(()=>we.onEscape(),Qt=>($r(Tt,yc),R.some(!0)))})]),lazySink:()=>Fr.value(we.sink)})})({sink:s,onEscape:()=>(e.focus(),R.some(!0))})),N=()=>{const we=S.get().getOr("node"),Ye=cl(we)?1:0;return Zr(e,g,we,Ye)},F=()=>!(e.removed||h()&&m.isContextMenuOpen()),$=()=>{if(F()){const we=N(),Ye=Rr(S.get(),"node")?((Tt,Qt)=>Qt.filter(no=>za(no)&&Ae(no)).map(ts).getOrThunk(()=>Ur(Tt)))(e,x.get()):Ur(e);return we.height<=0||!En(Ye,we,.01)}return!0},W=()=>{x.clear(),w.clear(),S.clear(),Rs.hide(A)},se=()=>{if(Rs.isOpen(A)){const we=A.element;Pr(we,"display"),$()?Bn(we,"display","none"):(w.set(0),Rs.reposition(A))}},le=we=>({dom:{tag:"div",classes:["tox-pop__dialog"]},components:[we],behaviours:Oo([Dn.config({mode:"acyclic"}),Tr("pop-dialog-wrap-events",[La(Ye=>{e.shortcuts.add("ctrl+F9","focus statusbar",()=>Dn.focusIn(Ye))}),od(Ye=>{e.shortcuts.remove("ctrl+F9")})])])}),fe=Ee(()=>dl(r,we=>{const Ye=te([we]);_n(A,Dl,{forwardContents:le(Ye)})})),te=we=>{const{buttons:Ye}=e.ui.registry.getAll(),Tt={...Ye,...fe().formNavigators},Qt=ey(e)===Vc.scrolling?Vc.scrolling:Vc.default,no=$e(dt(we,oo=>oo.type==="contexttoolbar"?((Uo,pn)=>Nn(e,{buttons:Uo,toolbar:pn.items,allowToolbarGroups:!1},l.backstage,R.some(["form:"])))(Tt,oo):((Uo,pn)=>Qa(Uo,pn))(oo,g.providers)));return Nk({type:Qt,uid:un("context-toolbar"),initGroups:no,onEscape:R.none,cyclicKeying:!0,providers:g.providers})},X=(we,Ye)=>{if(ye.cancel(),!F())return;const Tt=te(we),Qt=we[0].position,no=((Uo,pn)=>{const Mn=Uo==="node"?g.anchors.node(pn):g.anchors.cursor(),ar=((dr,jr,gs,Vs)=>jr==="line"?{bubble:au(12,0,Cr),layouts:{onLtr:()=>[pb],onRtl:()=>[Zf]},overrides:Kr}:{bubble:au(0,12,Cr,1/12),layouts:qr(dr,gs,Vs,jr),overrides:Kr})(e,Uo,h(),{lastElement:x.get,isReposition:()=>Rr(w.get(),0),getMode:()=>xl.getMode(s)});return Da(Mn,ar)})(Qt,Ye);S.set(Qt),w.set(1);const oo=A.element;Pr(oo,"display"),(Uo=>Rr(vr(Uo,x.get(),Jo),!0))(Ye)||(rs(oo,gd),xl.reset(s,A)),Rs.showWithinBounds(A,le(Tt),{anchor:no,transition:{classes:[gd],mode:"placement"}},()=>R.some(N())),Ye.fold(x.clear,x.set),$()&&Bn(oo,"display","none")};let ue=!1;const ye=Ay(()=>{!e.hasFocus()||e.removed||ue||(Di(A.element,gd)?ye.throttle():((we,Ye)=>{const Tt=St(Ye.getBody()),Qt=oo=>Jo(oo,Tt),no=St(Ye.selection.getNode());return(oo=>!Qt(oo)&&!Ce(Tt,oo))(no)?R.none():((oo,Uo,pn)=>{const Mn=Fs(oo,Uo);if(Mn.contextForms.length>0)return R.some({elem:oo,toolbars:[Mn.contextForms[0]]});{const ar=Fs(oo,pn);if(ar.contextForms.length>0)return R.some({elem:oo,toolbars:[ar.contextForms[0]]});if(Mn.contextToolbars.length>0||ar.contextToolbars.length>0){const dr=(jr=>{if(jr.length<=1)return jr;{const gs=br=>uo(jr,Ii=>Ii.position===br),Vs=br=>Pt(jr,Ii=>Ii.position===br),mr=gs("selection"),Bl=gs("node");if(mr||Bl){if(Bl&&mr){const br=Vs("node"),Ii=dt(Vs("selection"),ls=>({...ls,position:"node"}));return br.concat(Ii)}return Vs(mr?"selection":"node")}return Vs("line")}})(Mn.contextToolbars.concat(ar.contextToolbars));return R.some({elem:oo,toolbars:dr})}return R.none()}})(no,we.inNodeScope,we.inEditorScope).orThunk(()=>((oo,Uo,pn)=>oo(Uo)?R.none():_c(Uo,Mn=>{if(wt(Mn)){const{contextToolbars:ar,contextForms:dr}=Fs(Mn,pn.inNodeScope),jr=dr.length>0?dr:(gs=>{if(gs.length<=1)return gs;{const Vs=mr=>to(gs,Bl=>Bl.position===mr);return Vs("selection").orThunk(()=>Vs("node")).orThunk(()=>Vs("line")).map(mr=>mr.position).fold(()=>[],mr=>Pt(gs,Bl=>Bl.position===mr))}})(ar);return jr.length>0?R.some({elem:Mn,toolbars:jr}):R.none()}return R.none()},oo))(Qt,no,we))})(fe(),e).fold(W,we=>{X(we.toolbars,R.some(we.elem))}))},17);e.on("init",()=>{e.on("remove",W),e.on("ScrollContent ScrollWindow ObjectResized ResizeEditor longpress",se),e.on("click keyup focus SetContent",ye.throttle),e.on(hr,W),e.on("contexttoolbar-show",we=>{const Ye=fe();Xt(Ye.lookupTable,we.toolbarKey).each(Tt=>{X([Tt],ln(we.target!==e,we.target)),Rs.getContent(A).each(Dn.focusIn)})}),e.on("focusout",we=>{hx.setEditorTimeout(e,()=>{gc(s.element).isNone()&&gc(A.element).isNone()&&W()},0)}),e.on("SwitchMode",()=>{e.mode.isReadOnly()&&W()}),e.on("AfterProgressState",we=>{we.state?W():e.hasFocus()&&ye.throttle()}),e.on("dragstart",()=>{ue=!0}),e.on("dragend drop",()=>{ue=!1}),e.on("NodeChange",we=>{gc(A.element).fold(ye.throttle,he)})})},ng=(e,r)=>{const s=()=>{const l=r.getOptions(e),m=r.getCurrent(e).map(r.hash),g=ms();return dt(l,h=>({type:"togglemenuitem",text:r.display(h),onSetup:x=>{const w=A=>{A&&(g.on(N=>N.setActive(!1)),g.set(x)),x.setActive(A)};w(Rr(m,r.hash(h)));const S=r.watcher(e,h,w);return()=>{g.clear(),S()}},onAction:()=>r.setCurrent(e,h)}))};e.ui.registry.addMenuButton(r.name,{tooltip:r.text,icon:r.icon,fetch:l=>l(s()),onSetup:r.onToolbarSetup}),e.ui.registry.addNestedMenuItem(r.name,{type:"nestedmenuitem",text:r.text,getSubmenuItems:s,onSetup:r.onMenuSetup})},wu=e=>{ng(e,(r=>({name:"lineheight",text:"Line height",icon:"line-height",getOptions:ty,hash:s=>((l,m)=>i(l,["fixed","relative","empty"]).map(({value:g,unit:h})=>g+h))(s).getOr(s),display:Ze,watcher:(s,l,m)=>s.formatter.formatChanged("lineheight",m,!1,{value:l}).unbind,getCurrent:s=>R.from(s.queryCommandValue("LineHeight")),setCurrent:(s,l)=>s.execCommand("LineHeight",!1,l),onToolbarSetup:hc(r),onMenuSetup:hc(r)}))(e)),(r=>R.from(Mx(r)).map(s=>({name:"language",text:"Language",icon:"language",getOptions:me(s),hash:l=>tn(l.customCode)?l.code:`${l.code}/${l.customCode}`,display:l=>l.title,watcher:(l,m,g)=>{var h;return l.formatter.formatChanged("lang",g,!1,{value:m.code,customValue:(h=m.customCode)!==null&&h!==void 0?h:null}).unbind},getCurrent:l=>{const m=St(l.selection.getNode());return qs(m,g=>R.some(g).filter(wt).bind(h=>Ca(h,"lang").map(x=>({code:x,customCode:Ca(h,"data-mce-lang").getOrUndefined(),title:""}))))},setCurrent:(l,m)=>l.execCommand("Lang",!1,m),onToolbarSetup:l=>{const m=vg();return l.setActive(r.formatter.match("lang",{},void 0,!0)),m.set(r.formatter.formatChanged("lang",l.setActive,!0)),dw(m.clear,hc(r)(l))},onMenuSetup:hc(r)})))(e).each(r=>ng(e,r))},tm=e=>Jm(e,"NodeChange",r=>{r.setEnabled(e.queryCommandState("outdent")&&e.selection.isEditable())}),Nf=(e,r)=>s=>{s.setActive(r.get());const l=m=>{r.set(m.state),s.setActive(m.state)};return e.on("PastePlainTextToggle",l),dw(()=>e.off("PastePlainTextToggle",l),hc(e)(s))},Yh=(e,r)=>()=>{e.execCommand("mceToggleFormat",!1,r)},Xh=e=>{(r=>{(s=>{Om.each([{name:"bold",text:"Bold",icon:"bold"},{name:"italic",text:"Italic",icon:"italic"},{name:"underline",text:"Underline",icon:"underline"},{name:"strikethrough",text:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",icon:"superscript"}],(l,m)=>{s.ui.registry.addToggleButton(l.name,{tooltip:l.text,icon:l.icon,onSetup:Th(s,l.name),onAction:Yh(s,l.name)})});for(let l=1;l<=6;l++){const m="h"+l;s.ui.registry.addToggleButton(m,{text:m.toUpperCase(),tooltip:"Heading "+l,onSetup:Th(s,m),onAction:Yh(s,m)})}})(r),(s=>{Om.each([{name:"copy",text:"Copy",action:"Copy",icon:"copy"},{name:"help",text:"Help",action:"mceHelp",icon:"help"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all"},{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"print",text:"Print",action:"mcePrint",icon:"print"}],l=>{s.ui.registry.addButton(l.name,{tooltip:l.text,icon:l.icon,onAction:Kl(s,l.action)})}),Om.each([{name:"cut",text:"Cut",action:"Cut",icon:"cut"},{name:"paste",text:"Paste",action:"Paste",icon:"paste"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"remove",text:"Remove",action:"Delete",icon:"remove"},{name:"hr",text:"Horizontal line",action:"InsertHorizontalRule",icon:"horizontal-rule"}],l=>{s.ui.registry.addButton(l.name,{tooltip:l.text,icon:l.icon,onSetup:hc(s),onAction:Kl(s,l.action)})})})(r),(s=>{Om.each([{name:"blockquote",text:"Blockquote",action:"mceBlockQuote",icon:"quote"}],l=>{s.ui.registry.addToggleButton(l.name,{tooltip:l.text,icon:l.icon,onAction:Kl(s,l.action),onSetup:Th(s,l.name)})})})(r)})(e),(r=>{Om.each([{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"copy",text:"Copy",action:"Copy",icon:"copy",shortcut:"Meta+C"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all",shortcut:"Meta+A"},{name:"print",text:"Print...",action:"mcePrint",icon:"print",shortcut:"Meta+P"}],s=>{r.ui.registry.addMenuItem(s.name,{text:s.text,icon:s.icon,shortcut:s.shortcut,onAction:Kl(r,s.action)})}),Om.each([{name:"bold",text:"Bold",action:"Bold",icon:"bold",shortcut:"Meta+B"},{name:"italic",text:"Italic",action:"Italic",icon:"italic",shortcut:"Meta+I"},{name:"underline",text:"Underline",action:"Underline",icon:"underline",shortcut:"Meta+U"},{name:"strikethrough",text:"Strikethrough",action:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",action:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",action:"Superscript",icon:"superscript"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"cut",text:"Cut",action:"Cut",icon:"cut",shortcut:"Meta+X"},{name:"paste",text:"Paste",action:"Paste",icon:"paste",shortcut:"Meta+V"},{name:"hr",text:"Horizontal line",action:"InsertHorizontalRule",icon:"horizontal-rule"}],s=>{r.ui.registry.addMenuItem(s.name,{text:s.text,icon:s.icon,shortcut:s.shortcut,onSetup:hc(r),onAction:Kl(r,s.action)})}),r.ui.registry.addMenuItem("codeformat",{text:"Code",icon:"sourcecode",onSetup:hc(r),onAction:Yh(r,"code")})})(e)},qc=(e,r)=>Jm(e,"Undo Redo AddUndo TypingUndo ClearUndos SwitchMode",s=>{s.setEnabled(!e.mode.isReadOnly()&&e.undoManager[r]())}),jk=e=>Jm(e,"VisualAid",r=>{r.setActive(e.hasVisual)}),Ks=(e,r)=>{(s=>{Ie([{name:"alignleft",text:"Align left",cmd:"JustifyLeft",icon:"align-left"},{name:"aligncenter",text:"Align center",cmd:"JustifyCenter",icon:"align-center"},{name:"alignright",text:"Align right",cmd:"JustifyRight",icon:"align-right"},{name:"alignjustify",text:"Justify",cmd:"JustifyFull",icon:"align-justify"}],l=>{s.ui.registry.addToggleButton(l.name,{tooltip:l.text,icon:l.icon,onAction:Kl(s,l.cmd),onSetup:Th(s,l.name)})}),s.ui.registry.addButton("alignnone",{tooltip:"No alignment",icon:"align-none",onSetup:hc(s),onAction:Kl(s,"JustifyNone")})})(e),Xh(e),((s,l)=>{((m,g)=>{const h=gp(0,g,Gh(m));m.ui.registry.addNestedMenuItem("align",{text:g.shared.providers.translate("Align"),onSetup:hc(m),getSubmenuItems:()=>h.items.validateItems(h.getStyleItems())})})(s,l),((m,g)=>{const h=gp(0,g,o(m));m.ui.registry.addNestedMenuItem("fontfamily",{text:g.shared.providers.translate("Fonts"),onSetup:hc(m),getSubmenuItems:()=>h.items.validateItems(h.getStyleItems())})})(s,l),((m,g)=>{const h={type:"advanced",...g.styles},x=gp(0,g,O(m,h));m.ui.registry.addNestedMenuItem("styles",{text:"Formats",onSetup:hc(m),getSubmenuItems:()=>x.items.validateItems(x.getStyleItems())})})(s,l),((m,g)=>{const h=gp(0,g,cA(m));m.ui.registry.addNestedMenuItem("blocks",{text:"Blocks",onSetup:hc(m),getSubmenuItems:()=>h.items.validateItems(h.getStyleItems())})})(s,l),((m,g)=>{const h=gp(0,g,E(m));m.ui.registry.addNestedMenuItem("fontsize",{text:"Font sizes",onSetup:hc(m),getSubmenuItems:()=>h.items.validateItems(h.getStyleItems())})})(s,l)})(e,r),(s=>{(l=>{l.ui.registry.addMenuItem("undo",{text:"Undo",icon:"undo",shortcut:"Meta+Z",onSetup:qc(l,"hasUndo"),onAction:Kl(l,"undo")}),l.ui.registry.addMenuItem("redo",{text:"Redo",icon:"redo",shortcut:"Meta+Y",onSetup:qc(l,"hasRedo"),onAction:Kl(l,"redo")})})(s),(l=>{l.ui.registry.addButton("undo",{tooltip:"Undo",icon:"undo",enabled:!1,onSetup:qc(l,"hasUndo"),onAction:Kl(l,"undo")}),l.ui.registry.addButton("redo",{tooltip:"Redo",icon:"redo",enabled:!1,onSetup:qc(l,"hasRedo"),onAction:Kl(l,"redo")})})(s)})(e),(s=>{(x=>{x.addCommand("mceApplyTextcolor",(w,S)=>{((A,N,F)=>{A.undoManager.transact(()=>{A.focus(),A.formatter.apply(N,{value:F}),A.nodeChanged()})})(x,w,S)}),x.addCommand("mceRemoveTextcolor",w=>{((S,A)=>{S.undoManager.transact(()=>{S.focus(),S.formatter.remove(A,{value:null},void 0,!0),S.nodeChanged()})})(x,w)})})(s);const l=TE(s),m=uO(s),g=Sn(l),h=Sn(m);Pd(s,"forecolor","forecolor",g),Pd(s,"backcolor","hilitecolor",h),pw(s,"forecolor","forecolor","Text color",g),pw(s,"backcolor","hilitecolor","Background color",h)})(e),(s=>{(l=>{l.ui.registry.addButton("visualaid",{tooltip:"Visual aids",text:"Visual aids",onAction:Kl(l,"mceToggleVisualAid")})})(s),(l=>{l.ui.registry.addToggleMenuItem("visualaid",{text:"Visual aids",onSetup:jk(l),onAction:Kl(l,"mceToggleVisualAid")})})(s)})(e),(s=>{(l=>{l.ui.registry.addButton("outdent",{tooltip:"Decrease indent",icon:"outdent",onSetup:tm(l),onAction:Kl(l,"outdent")}),l.ui.registry.addButton("indent",{tooltip:"Increase indent",icon:"indent",onSetup:hc(l),onAction:Kl(l,"indent")})})(s)})(e),wu(e),(s=>{const l=Sn(Hx(s)),m=()=>s.execCommand("mceTogglePlainTextPaste");s.ui.registry.addToggleButton("pastetext",{active:!1,icon:"paste-text",tooltip:"Paste as text",onAction:m,onSetup:Nf(s,l)}),s.ui.registry.addToggleMenuItem("pastetext",{text:"Paste as text",icon:"paste-text",onAction:m,onSetup:Nf(s,l)})})(e)},Dm=e=>io(e)?e.split(/[ ,]/):e,Mf=e=>r=>r.options.get(e),Zy=Mf("contextmenu_never_use_native"),v3=Mf("contextmenu_avoid_overlap"),x3=e=>{const r=e.ui.registry.getAll().contextMenus,s=e.options.get("contextmenu");return e.options.isSet("contextmenu")?s:Pt(s,l=>Vo(r,l))},qy=(e,r)=>({type:"makeshift",x:e,y:r}),uA=e=>e.type==="longpress"||e.type.indexOf("touch")===0,Vk=(e,r)=>r.type==="contextmenu"||r.type==="longpress"?e.inline?(s=>{if(uA(s)){const l=s.touches[0];return qy(l.pageX,l.pageY)}return qy(s.pageX,s.pageY)})(r):((s,l)=>{const m=Qb.DOM.getPos(s);return((g,h,x)=>qy(g.x+h,g.y+x))(l,m.x,m.y)})(e.getContentAreaContainer(),(s=>{if(uA(s)){const l=s.touches[0];return qy(l.clientX,l.clientY)}return qy(s.clientX,s.clientY)})(r)):$k(e),$k=e=>({type:"selection",root:St(e.selection.getNode())}),Df=(e,r,s)=>{switch(s){case"node":return(l=>({type:"node",node:R.some(St(l.selection.getNode())),root:St(l.getBody())}))(e);case"point":return Vk(e,r);case"selection":return $k(e)}},uv=(e,r,s,l,m,g)=>{const h=s(),x=Df(e,r,g);Ny(h,Oc.CLOSE_ON_EXECUTE,l,{isHorizontalMenu:!1,search:R.none()}).map(w=>{r.preventDefault(),Rs.showMenuAt(m,{anchor:x},{menu:{markers:cf("normal")},data:w})})},mA={onLtr:()=>[yi,Qi,Gs,vl,Wa,Nl,Ju,Fy,J0,ck,X0,lk],onRtl:()=>[yi,Gs,Qi,Wa,vl,Nl,Ju,Fy,X0,lk,J0,ck]},gA={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"]},Uk=(e,r,s,l,m,g)=>{const h=Yl(),x=h.os.isiOS(),w=h.os.isMacOS(),S=h.os.isAndroid(),A=h.deviceType.isTouch(),N=()=>{const F=s();(($,W,se,le,fe,te,X)=>{const ue=((ye,we,Ye)=>{const Tt=Df(ye,we,Ye);return{bubble:au(0,Ye==="point"?12:0,gA),layouts:mA,overrides:{maxWidthFunction:zk(),maxHeightFunction:wg()},...Tt}})($,W,te);Ny(se,Oc.CLOSE_ON_EXECUTE,le,{isHorizontalMenu:!0,search:R.none()}).map(ye=>{W.preventDefault();const we=X?Gl.HighlightMenuAndItem:Gl.HighlightNone;Rs.showMenuWithinBounds(fe,{anchor:ue},{menu:{markers:cf("normal"),highlightOnOpen:we},data:ye,type:"horizontal"},()=>R.some(Zr($,le.shared,te==="node"?"node":"selection"))),$.dispatch(hr)})})(e,r,F,l,m,g,!(S||x||w&&A))};if((w||x)&&g!=="node"){const F=()=>{($=>{const W=$.selection.getRng(),se=()=>{hx.setEditorTimeout($,()=>{$.selection.setRng(W)},10),te()};$.once("touchend",se);const le=X=>{X.preventDefault(),X.stopImmediatePropagation()};$.on("mousedown",le,!0);const fe=()=>te();$.once("longpresscancel",fe);const te=()=>{$.off("touchend",se),$.off("longpresscancel",fe),$.off("mousedown",le)}})(e),N()};(($,W)=>{const se=$.selection;if(se.isCollapsed()||W.touches.length<1)return!1;{const le=W.touches[0],fe=se.getRng();return b1($.getWin(),Hp.domRange(fe)).exists(te=>te.left<=le.clientX&&te.right>=le.clientX&&te.top<=le.clientY&&te.bottom>=le.clientY)}})(e,r)?F():(e.once("selectionchange",F),e.once("touchend",()=>e.off("selectionchange",F)))}else N()},rg=e=>io(e)?e==="|":e.type==="separator",Zk={type:"separator"},w3=e=>{const r=s=>({text:s.text,icon:s.icon,enabled:s.enabled,shortcut:s.shortcut});if(io(e))return e;switch(e.type){case"separator":return Zk;case"submenu":return{type:"nestedmenuitem",...r(e),getSubmenuItems:()=>{const l=e.getSubmenuItems();return io(l)?l:dt(l,w3)}};default:const s=e;return{type:"menuitem",...r(s),onAction:Dt(s.onAction)}}},k3=(e,r)=>{if(r.length===0)return e;const s=ze(e).filter(l=>!rg(l)).fold(()=>[],l=>[Zk]);return e.concat(s).concat(r).concat([Zk])},_3=(e,r)=>!(s=>s.type==="longpress"||Vo(s,"touches"))(r)&&(r.button!==2||r.target===e.getBody()&&r.pointerType===""),pA=(e,r)=>_3(e,r)?e.selection.getStart(!0):r.target,At=(e,r,s)=>{const l=Yl().deviceType.isTouch,m=yl(Rs.sketch({dom:{tag:"div"},lazySink:r,onEscape:()=>e.focus(),onShow:()=>s.setContextMenuState(!0),onHide:()=>s.setContextMenuState(!1),fireDismissalEventInstead:{},inlineBehaviours:Oo([Tr("dismissContextMenu",[Kt(Ou(),(x,w)=>{Lr.close(x),e.focus()})])])})),g=()=>Rs.hide(m),h=x=>{if(Zy(e)&&x.preventDefault(),((S,A)=>A.ctrlKey&&!Zy(S))(e,x)||(S=>x3(S).length===0)(e))return;const w=((S,A)=>{const N=v3(S),F=_3(S,A)?"selection":"point";if(ja(N)){const $=pA(S,A);return Nh(St($),N)?"node":F}return F})(e,x);(l()?Uk:uv)(e,x,()=>{const S=pA(e,x),A=e.ui.registry.getAll(),N=x3(e);return((F,$,W)=>{const se=zo($,(le,fe)=>Xt(F,fe.toLowerCase()).map(te=>{const X=te.update(W);if(io(X)&&ja(Ha(X)))return k3(le,X.split(" "));if(ko(X)&&X.length>0){const ue=dt(X,w3);return k3(le,ue)}return le}).getOrThunk(()=>le.concat([fe])),[]);return se.length>0&&rg(se[se.length-1])&&se.pop(),se})(A.contextMenus,N,S)},s,m,w)};e.on("init",()=>{const x="ResizeEditor ScrollContent ScrollWindow longpresscancel"+(l()?"":" ResizeWindow");e.on(x,g),e.on("longpress contextmenu",h)})},On=Ui([{offset:["x","y"]},{absolute:["x","y"]},{fixed:["x","y"]}]),nr=e=>r=>r.translate(-e.left,-e.top),$a=e=>r=>r.translate(e.left,e.top),es=e=>(r,s)=>zo(e,(l,m)=>m(l),kn(r,s)),Ls=(e,r,s)=>e.fold(es([$a(s),nr(r)]),es([nr(r)]),es([])),xs=(e,r,s)=>e.fold(es([$a(s)]),es([]),es([$a(r)])),xi=(e,r,s)=>e.fold(es([]),es([nr(s)]),es([$a(r),nr(s)])),Jh=(e,r,s)=>{const l=e.fold((m,g)=>({position:R.some("absolute"),left:R.some(m+"px"),top:R.some(g+"px")}),(m,g)=>({position:R.some("absolute"),left:R.some(m-s.left+"px"),top:R.some(g-s.top+"px")}),(m,g)=>({position:R.some("fixed"),left:R.some(m+"px"),top:R.some(g+"px")}));return{right:R.none(),bottom:R.none(),...l}},C3=(e,r,s,l)=>{const m=(g,h)=>(x,w)=>{const S=g(r,s,l);return h(x.getOr(S.left),w.getOr(S.top))};return e.fold(m(xi,mv),m(xs,Qh),m(Ls,gv))},mv=On.offset,Qh=On.absolute,gv=On.fixed,B5=(e,r)=>{const s=Ma(e,r);return tn(s)?NaN:parseInt(s,10)},n6=(e,r,s,l,m,g)=>{const h=((S,A,N,F)=>(($,W)=>{const se=$.element,le=B5(se,W.leftAttr),fe=B5(se,W.topAttr);return isNaN(le)||isNaN(fe)?R.none():R.some(kn(le,fe))})(S,A).fold(()=>N,$=>gv($.left+F.left,$.top+F.top)))(e,r,s,l),x=r.mustSnap?r6(e,r,h,m,g):a6(e,r,h,m,g),w=Ls(h,m,g);return((S,A,N)=>{const F=S.element;Kn(F,A.leftAttr,N.left+"px"),Kn(F,A.topAttr,N.top+"px")})(e,r,w),x.fold(()=>({coord:gv(w.left,w.top),extra:R.none()}),S=>({coord:S.output,extra:S.extra}))},F5=(e,r,s,l)=>Gt(e,m=>{const g=m.sensor;return((x,w,S,A,N,F)=>{const $=xs(x,N,F),W=xs(w,N,F);return Math.abs($.left-W.left)<=S&&Math.abs($.top-W.top)<=A})(r,g,m.range.left,m.range.top,s,l)?R.some({output:C3(m.output,r,s,l),extra:m.extra}):R.none()}),r6=(e,r,s,l,m)=>{const g=r.getSnapPoints(e);return F5(g,s,l,m).orThunk(()=>zo(g,(x,w)=>{const S=w.sensor,A=((N,F,$,W,se,le)=>{const fe=xs(N,se,le),te=xs(F,se,le),X=Math.abs(fe.left-te.left),ue=Math.abs(fe.top-te.top);return kn(X,ue)})(s,S,w.range.left,w.range.top,l,m);return x.deltas.fold(()=>({deltas:R.some(A),snap:R.some(w)}),N=>(A.left+A.top)/2<=(N.left+N.top)/2?{deltas:R.some(A),snap:R.some(w)}:x)},{deltas:R.none(),snap:R.none()}).snap.map(x=>({output:C3(x.output,s,l,m),extra:x.extra})))},a6=(e,r,s,l,m)=>{const g=r.getSnapPoints(e);return F5(g,s,l,m)};var s6=Object.freeze({__proto__:null,snapTo:(e,r,s,l)=>{const m=r.getTarget(e.element);if(r.repositionTarget){const g=Ne(e.element),h=pa(g),x=Tz(m),w=((A,N,F)=>({coord:C3(A.output,A.output,N,F),extra:A.extra}))(l,h,x),S=Jh(w.coord,0,x);go(m,S)}}});const l5="data-initial-z-index",L5=(e,r)=>{e.getSystem().addToGui(r),(s=>{rn(s.element).filter(wt).each(l=>{Ir(l,"z-index").each(m=>{Kn(l,l5,m)}),Bn(l,"z-index",aa(s.element,"z-index"))})})(r)},i6=e=>{(r=>{rn(r.element).filter(wt).each(s=>{Ca(s,l5).fold(()=>Pr(s,"z-index"),l=>Bn(s,"z-index",l)),xa(s,l5)})})(e),e.getSystem().removeFromGui(e)},I5=(e,r,s)=>e.getSystem().build(Ku.sketch({dom:{styles:{left:"0px",top:"0px",width:"100%",height:"100%",position:"fixed","z-index":"1000000000000000"},classes:[r]},events:s}));var l6=gl("snaps",[Yt("getSnapPoints"),Hr("onSensor"),Yt("leftAttr"),Yt("topAttr"),ft("lazyViewport",Ua),ft("mustSnap",!1)]);const c5=[ft("useFixed",Bo),Yt("blockerClass"),ft("getTarget",Ze),ft("onDrag",he),ft("repositionTarget",!0),ft("onDrop",he),hs("getBounds",Ua),l6],c6=e=>{return(r=Ir(e,"left"),s=Ir(e,"top"),l=Ir(e,"position"),r.isSome()&&s.isSome()&&l.isSome()?R.some(((m,g,h)=>(h==="fixed"?gv:mv)(parseInt(m,10),parseInt(g,10)))(r.getOrDie(),s.getOrDie(),l.getOrDie())):R.none()).getOrThunk(()=>{const m=Or(e);return Qh(m.left,m.top)});var r,s,l},P5=(e,r)=>({bounds:e.getBounds(),height:ho(r.element),width:Q(r.element)}),d5=(e,r,s,l,m)=>{const g=s.update(l,m),h=s.getStartData().getOrThunk(()=>P5(r,e));g.each(x=>{((w,S,A,N)=>{const F=S.getTarget(w.element);if(S.repositionTarget){const $=Ne(w.element),W=pa($),se=Tz(F),le=c6(F),fe=((X,ue,ye,we,Ye,Tt,Qt)=>((no,oo,Uo,pn,Mn)=>{const ar=Mn.bounds,dr=xs(oo,Uo,pn),jr=mc(dr.left,ar.x,ar.x+ar.width-Mn.width),gs=mc(dr.top,ar.y,ar.y+ar.height-Mn.height),Vs=Qh(jr,gs);return oo.fold(()=>{const mr=xi(Vs,Uo,pn);return mv(mr.left,mr.top)},me(Vs),()=>{const mr=Ls(Vs,Uo,pn);return gv(mr.left,mr.top)})})(0,ue.fold(()=>{const no=(oo=ye,Uo=Tt.left,pn=Tt.top,oo.fold((ar,dr)=>mv(ar+Uo,dr+pn),(ar,dr)=>Qh(ar+Uo,dr+pn),(ar,dr)=>gv(ar+Uo,dr+pn)));var oo,Uo,pn;const Mn=Ls(no,we,Ye);return gv(Mn.left,Mn.top)},no=>{const oo=n6(X,no,ye,Tt,we,Ye);return oo.extra.each(Uo=>{no.onSensor(X,Uo)}),oo.coord}),we,Ye,Qt))(w,S.snaps,le,W,se,N,A),te=Jh(fe,0,se);go(F,te)}S.onDrag(w,F,N)})(e,r,h,x)})},H5=(e,r,s,l)=>{r.each(i6),s.snaps.each(g=>{((h,x)=>{((w,S)=>{const A=w.element;xa(A,S.leftAttr),xa(A,S.topAttr)})(h,x)})(e,g)});const m=s.getTarget(e.element);l.reset(),s.onDrop(e,m)},u5=e=>(r,s)=>{const l=m=>{s.setStartData(P5(r,m))};return qa([Kt(zu(),m=>{s.getStartData().each(()=>l(m))}),...e(r,s,l)])};var d6=Object.freeze({__proto__:null,getData:e=>R.from(kn(e.x,e.y)),getDelta:(e,r)=>kn(r.left-e.left,r.top-e.top)});const j5=(e,r,s)=>[Kt(ai(),(l,m)=>{if(m.event.raw.button!==0)return;m.stop();const g=()=>H5(l,R.some(w),e,r),h=hC(g,200),x={drop:g,delayDrop:h.schedule,forceDrop:g,move:S=>{h.cancel(),d5(l,e,r,d6,S)}},w=I5(l,e.blockerClass,(S=>qa([Kt(ai(),S.forceDrop),Kt(J(),S.drop),Kt(z(),(A,N)=>{S.move(N.event)}),Kt(H(),S.delayDrop)]))(x));s(l),L5(l,w)})],u6=[...c5,as("dragger",{handlers:u5(j5)})];var V5=Object.freeze({__proto__:null,getData:e=>{const r=e.raw.touches;return r.length===1?(s=>{const l=s[0];return R.some(kn(l.clientX,l.clientY))})(r):R.none()},getDelta:(e,r)=>kn(r.left-e.left,r.top-e.top)});const $5=(e,r,s)=>{const l=ms(),m=g=>{H5(g,l.get(),e,r),l.clear()};return[Kt(Ws(),(g,h)=>{h.stop();const x=()=>m(g),w={drop:x,delayDrop:he,forceDrop:x,move:A=>{d5(g,e,r,V5,A)}},S=I5(g,e.blockerClass,(A=>qa([Kt(Ws(),A.forceDrop),Kt(Hl(),A.drop),Kt(_d(),A.drop),Kt(ed(),(N,F)=>{A.move(F.event)})]))(w));l.set(S),s(g),L5(g,S)}),Kt(ed(),(g,h)=>{h.stop(),d5(g,e,r,V5,h.event)}),Kt(Hl(),(g,h)=>{h.stop(),m(g)}),Kt(_d(),m)]},m6=u6,g6=[...c5,as("dragger",{handlers:u5($5)})],p6=[...c5,as("dragger",{handlers:u5((e,r,s)=>[...j5(e,r,s),...$5(e,r,s)])})];var f6=Object.freeze({__proto__:null,mouse:m6,touch:g6,mouseOrTouch:p6}),h6=Object.freeze({__proto__:null,init:()=>{let e=R.none(),r=R.none();const s=me({});return Ia({readState:s,reset:()=>{e=R.none(),r=R.none()},update:(l,m)=>l.getData(m).bind(g=>((h,x)=>{const w=e.map(S=>h.getDelta(S,x));return e=R.some(x),w})(l,g)),getStartData:()=>r,setStartData:l=>{r=R.some(l)}})}});const pv=Fp({branchKey:"mode",branches:f6,name:"dragging",active:{events:(e,r)=>e.dragger.handlers(e,r)},extra:{snap:e=>({sensor:e.sensor,range:e.range,output:e.output,extra:R.from(e.extra)})},state:h6,apis:s6}),U5=(e,r,s,l,m,g)=>e.fold(()=>pv.snap({sensor:Qh(s-20,l-20),range:kn(m,g),output:Qh(R.some(s),R.some(l)),extra:{td:r}}),h=>{const x=s-20,w=l-20,S=h.element.dom.getBoundingClientRect();return pv.snap({sensor:Qh(x,w),range:kn(40,40),output:Qh(R.some(s-S.width/2),R.some(l-S.height/2)),extra:{td:r}})}),Z5=(e,r,s)=>({getSnapPoints:e,leftAttr:"data-drag-left",topAttr:"data-drag-top",onSensor:(l,m)=>{const g=m.td;((h,x)=>h.exists(w=>Jo(w,x)))(r.get(),g)||(r.set(g),s(g))},mustSnap:!0}),q5=e=>Ta(wl.sketch({dom:{tag:"div",classes:["tox-selector"]},buttonBehaviours:Oo([pv.config({mode:"mouseOrTouch",blockerClass:"blocker",snaps:e}),Cy.config({})]),eventOrder:{mousedown:["dragging","alloy.base.behaviour"],touchstart:["dragging","alloy.base.behaviour"]}})),b6=(e,r)=>{const s=Sn([]),l=Sn([]),m=Sn(!1),g=ms(),h=ms(),x=te=>{const X=ts(te);return U5(N.getOpt(r),te,X.x,X.y,X.width,X.height)},w=te=>{const X=ts(te);return U5(F.getOpt(r),te,X.right,X.bottom,X.width,X.height)},S=Z5(()=>dt(s.get(),te=>x(te)),g,te=>{h.get().each(X=>{e.dispatch("TableSelectorChange",{start:te,finish:X})})}),A=Z5(()=>dt(l.get(),te=>w(te)),h,te=>{g.get().each(X=>{e.dispatch("TableSelectorChange",{start:X,finish:te})})}),N=q5(S),F=q5(A),$=yl(N.asSpec()),W=yl(F.asSpec()),se=(te,X,ue,ye)=>{const we=ue(X);pv.snapTo(te,we),((Ye,Tt,Qt,no)=>{const oo=Tt.dom.getBoundingClientRect();Pr(Ye.element,"display");const Uo=Ho(St(e.getBody())).dom.innerHeight,pn=oo[ye]<0,Mn=((ar,dr)=>ar[ye]>dr)(oo,Uo);(pn||Mn)&&Bn(Ye.element,"display","none")})(te,X)},le=te=>se($,te,x,"top"),fe=te=>se(W,te,w,"bottom");Yl().deviceType.isTouch()&&(e.on("TableSelectionChange",te=>{m.get()||(ym(r,$),ym(r,W),m.set(!0)),g.set(te.start),h.set(te.finish),te.otherCells.each(X=>{s.set(X.upOrLeftCells),l.set(X.downOrRightCells),le(te.start),fe(te.finish)})}),e.on("ResizeEditor ResizeWindow ScrollContent",()=>{g.get().each(le),h.get().each(fe)}),e.on("TableSelectionClear",()=>{m.get()&&(id($),id(W),m.set(!1)),g.clear(),h.clear()}))},y6=(e,r,s)=>{var l;const m=(l=r.delimiter)!==null&&l!==void 0?l:"›";return{dom:{tag:"div",classes:["tox-statusbar__path"],attributes:{role:"navigation"}},behaviours:Oo([Dn.config({mode:"flow",selector:"div[role=button]"}),Qn.config({disabled:s.isDisabled}),Wi(),Bs.config({}),fr.config({}),Tr("elementPathEvents",[La((g,h)=>{e.shortcuts.add("alt+F11","focus statusbar elementpath",()=>Dn.focusIn(g)),e.on("NodeChange",x=>{const w=(A=>{const N=[];let F=A.length;for(;F-- >0;){const W=A[F];if(W.nodeType===1&&($=W).nodeName!=="BR"&&!$.getAttribute("data-mce-bogus")&&$.getAttribute("data-mce-type")!=="bookmark"){const se=dO(e,W);if(se.isDefaultPrevented()||N.push({name:se.name,element:W}),se.isPropagationStopped())break}}var $;return N})(x.parents),S=w.length>0?zo(w,(A,N,F)=>{const $=((W,se,le)=>wl.sketch({dom:{tag:"div",classes:["tox-statusbar__path-item"],attributes:{"data-index":le,"aria-level":le+1}},components:[Ya(W)],action:fe=>{e.focus(),e.selection.select(se),e.nodeChanged()},buttonBehaviours:Oo([my(s.isDisabled),Wi()])}))(N.name,N.element,F);return F===0?A.concat([$]):A.concat([{dom:{tag:"div",classes:["tox-statusbar__path-divider"],attributes:{"aria-hidden":!0}},components:[Ya(` ${m} `)]},$])},[]):[];fr.set(g,S)})})])]),components:[]}};var Wy;(function(e){e[e.None=0]="None",e[e.Both=1]="Both",e[e.Vertical=2]="Vertical"})(Wy||(Wy={}));const W5=(e,r,s)=>{const l=St(e.getContainer()),m=((g,h,x,w,S)=>{const A={height:Qe(w+h.top,G1(g),vh(g))};return x===Wy.Both&&(A.width=Qe(S+h.left,Ax(g),K1(g))),A})(e,r,s,Nt(l),Ga(l));$o(m,(g,h)=>{So(g)&&Bn(l,h,cr(g))}),(g=>{g.dispatch("ResizeEditor")})(e)},fA=(e,r,s,l)=>{const m=kn(20*s,20*l);return W5(e,m,r),R.some(!0)},v6=(e,r)=>{const s=()=>{const l=[],m=r2(e),g=Px(e),h=wh(e)||e.hasPlugin("wordcount");return g&&l.push(y6(e,{},r)),m&&l.push((()=>{const x=h0("Alt+0");return{dom:{tag:"div",classes:["tox-statusbar__help-text"]},components:[Ya(jc.translate(["Press {0} for help",x]))]}})()),h&&l.push((()=>{const x=[];return e.hasPlugin("wordcount")&&x.push(((w,S)=>{const A=(N,F,$)=>fr.set(N,[Ya(S.translate(["{0} "+$,F[$]]))]);return wl.sketch({dom:{tag:"button",classes:["tox-statusbar__wordcount"]},components:[],buttonBehaviours:Oo([my(S.isDisabled),Wi(),Bs.config({}),fr.config({}),Wo.config({store:{mode:"memory",initialValue:{mode:"words",count:{words:0,characters:0}}}}),Tr("wordcount-events",[Cc(N=>{const F=Wo.getValue(N),$=F.mode==="words"?"characters":"words";Wo.setValue(N,{mode:$,count:F.count}),A(N,F.count,$)}),La(N=>{w.on("wordCountUpdate",F=>{const{mode:$}=Wo.getValue(N);Wo.setValue(N,{mode:$,count:F.wordCount}),A(N,F.wordCount,$)})})])]),eventOrder:{[fl()]:["disabling","alloy.base.behaviour","wordcount-events"]}})})(e,r)),wh(e)&&x.push({dom:{tag:"span",classes:["tox-statusbar__branding"]},components:[{dom:{tag:"a",attributes:{href:"https://www.tiny.cloud/powered-by-tiny?utm_campaign=poweredby&utm_source=tiny&utm_medium=referral&utm_content=v6",rel:"noopener",target:"_blank","aria-label":jc.translate(["Powered by {0}","Tiny"])},innerHtml:`<svg width="50px" height="16px" viewBox="0 0 50 16" xmlns="http://www.w3.org/2000/svg">
  <path fill-rule="evenodd" clip-rule="evenodd" d="M10.143 0c2.608.015 5.186 2.178 5.186 5.331 0 0 .077 3.812-.084 4.87-.361 2.41-2.164 4.074-4.65 4.496-1.453.284-2.523.49-3.212.623-.373.071-.634.122-.785.152-.184.038-.997.145-1.35.145-2.732 0-5.21-2.04-5.248-5.33 0 0 0-3.514.03-4.442.093-2.4 1.758-4.342 4.926-4.963 0 0 3.875-.752 4.036-.782.368-.07.775-.1 1.15-.1Zm1.826 2.8L5.83 3.989v2.393l-2.455.475v5.968l6.137-1.189V9.243l2.456-.476V2.8ZM5.83 6.382l3.682-.713v3.574l-3.682.713V6.382Zm27.173-1.64-.084-1.066h-2.226v9.132h2.456V7.743c-.008-1.151.998-2.064 2.149-2.072 1.15-.008 1.987.92 1.995 2.072v5.065h2.455V7.359c-.015-2.18-1.657-3.929-3.837-3.913a3.993 3.993 0 0 0-2.908 1.296Zm-6.3-4.266L29.16 0v2.387l-2.456.475V.476Zm0 3.2v9.132h2.456V3.676h-2.456Zm18.179 11.787L49.11 3.676H46.58l-1.612 4.527-.46 1.382-.384-1.382-1.611-4.527H39.98l3.3 9.132L42.15 16l2.732-.537ZM22.867 9.738c0 .752.568 1.075.921 1.075.353 0 .668-.047.998-.154l.537 1.765c-.23.154-.92.537-2.225.537-1.305 0-2.655-.997-2.686-2.686a136.877 136.877 0 0 1 0-4.374H18.8V3.676h1.612v-1.98l2.455-.476v2.456h2.302V5.9h-2.302v3.837Z"/>
</svg>
`.trim()},behaviours:Oo([er.config({})])}]}),{dom:{tag:"div",classes:["tox-statusbar__right-container"]},components:x}})()),l.length>0?[{dom:{tag:"div",classes:["tox-statusbar__text-container",...(()=>{const x="tox-statusbar__text-container--flex-start",w="tox-statusbar__text-container--flex-end";if(m){const S="tox-statusbar__text-container-3-cols";return h||g?h&&!g?[S,w]:[S,x]:[S,"tox-statusbar__text-container--space-around"]}return[h&&!g?w:x]})()]},components:l}]:[]};return{dom:{tag:"div",classes:["tox-statusbar"]},components:(()=>{const l=s(),m=((g,h)=>{const x=(S=>{const A=n2(S);return A===!1?Wy.None:A==="both"?Wy.Both:Wy.Vertical})(g);if(x===Wy.None)return R.none();const w=x===Wy.Both?"Press the arrow keys to resize the editor.":"Press the Up and Down arrow keys to resize the editor.";return R.some(Uu("resize-handle",{tag:"div",classes:["tox-statusbar__resize-handle"],attributes:{title:h.translate("Resize"),"aria-label":h.translate(w)},behaviours:[pv.config({mode:"mouse",repositionTarget:!1,onDrag:(S,A,N)=>W5(g,N,x),blockerClass:"tox-blocker"}),Dn.config({mode:"special",onLeft:()=>fA(g,x,-1,0),onRight:()=>fA(g,x,1,0),onUp:()=>fA(g,x,0,-1),onDown:()=>fA(g,x,0,1)}),Bs.config({}),er.config({})]},h.icons))})(e,r);return l.concat(m.toArray())})()}},G5=(e,r)=>r.get().getOrDie(`UI for ${e} has not been rendered`),x6=(e,r)=>{const s=e.inline,l=s?Wn:cn,m=_h(e)?Rz:Hy,g=(()=>{const we=ms(),Ye=ms(),Tt=ms();return{dialogUi:we,popupUi:Ye,mainUi:Tt,getUiMotherships:()=>{const Qt=we.get().map(oo=>oo.mothership),no=Ye.get().map(oo=>oo.mothership);return Qt.fold(()=>no.toArray(),oo=>no.fold(()=>[oo],Uo=>Jo(oo.element,Uo.element)?[oo]:[oo,Uo]))},lazyGetInOuterOrDie:(Qt,no)=>()=>Tt.get().bind(oo=>no(oo.outerContainer)).getOrDie(`Could not find ${Qt} element in OuterContainer`)}})(),h=ms(),x=ms(),w=ms(),S=Yl().deviceType.isTouch()?["tox-platform-touch"]:[],A=Ux(e),N=ey(e),F=Ta({dom:{tag:"div",classes:["tox-anchorbar"]}}),$=Ta({dom:{tag:"div",classes:["tox-bottom-anchorbar"]}}),W=()=>g.mainUi.get().map(we=>we.outerContainer).bind(Ja.getHeader),se=g.lazyGetInOuterOrDie("anchor bar",F.getOpt),le=g.lazyGetInOuterOrDie("bottom anchor bar",$.getOpt),fe=g.lazyGetInOuterOrDie("toolbar",Ja.getToolbar),te=g.lazyGetInOuterOrDie("throbber",Ja.getThrobber),X=((we,Ye,Tt,Qt)=>{const no=Sn(!1),oo=(mr=>{const Bl=Sn(Ux(mr)?"bottom":"top");return{isPositionedAtTop:()=>Bl.get()==="top",getDockingMode:Bl.get,setDockingMode:Bl.set}})(Ye),Uo={icons:()=>Ye.ui.registry.getAll().icons,menuItems:()=>Ye.ui.registry.getAll().menuItems,translate:jc.translate,isDisabled:()=>Ye.mode.isReadOnly()||!Ye.ui.isEnabled(),getOption:Ye.options.get},pn=xz(Ye),Mn=(mr=>{const Bl=wi=>()=>mr.formatter.match(wi),br=wi=>()=>{const Fl=mr.formatter.get(wi);return Fl!==void 0?R.some({tag:Fl.length>0&&(Fl[0].inline||Fl[0].block)||"div",styles:mr.dom.parseStyle(mr.formatter.getCssText(wi))}):R.none()},Ii=Sn([]),ls=Sn([]),Nc=Sn(!1);return mr.on("PreInit",wi=>{const Fl=uz(mr),Ud=NS(mr,Fl,Bl,br);Ii.set(Ud)}),mr.on("addStyleModifications",wi=>{const Fl=NS(mr,wi.items,Bl,br);ls.set(Fl),Nc.set(wi.replace)}),{getData:()=>{const wi=Nc.get()?[]:Ii.get(),Fl=ls.get();return wi.concat(Fl)}}})(Ye),ar=(mr=>({colorPicker:Ly(mr),hasCustomColors:dz(mr),getColors:IO(mr),getColorCols:PO(mr)}))(Ye),dr=(mr=>({isDraggableModal:TS(mr)}))(Ye),jr={shared:{providers:Uo,anchors:cz(Ye,Tt,Qt,oo.isPositionedAtTop),header:oo},urlinput:pn,styles:Mn,colorinput:ar,dialog:dr,isContextMenuOpen:()=>no.get(),setContextMenuState:mr=>no.set(mr)},gs={...jr,shared:{...jr.shared,interpreter:mr=>rz(mr,{},gs),getSink:we.popup}},Vs={...jr,shared:{...jr.shared,interpreter:mr=>rz(mr,{},Vs),getSink:we.dialog}};return{popup:gs,dialog:Vs}})({popup:()=>Fr.fromOption(g.popupUi.get().map(we=>we.sink),"(popup) UI has not been rendered"),dialog:()=>Fr.fromOption(g.dialogUi.get().map(we=>we.sink),"UI has not been rendered")},e,se,le),ue=()=>{const we=(()=>{const jr={attributes:{[oh]:A?ju.BottomToTop:ju.TopToBottom}},gs=Ja.parts.menubar({dom:{tag:"div",classes:["tox-menubar"]},backstage:X.popup,onEscape:()=>{e.focus()}}),Vs=Ja.parts.toolbar({dom:{tag:"div",classes:["tox-toolbar"]},getSink:X.popup.shared.getSink,providers:X.popup.shared.providers,onEscape:()=>{e.focus()},onToolbarToggled:Ud=>{((Gk,Kk)=>{Gk.dispatch("ToggleToolbarDrawer",{state:Kk})})(e,Ud)},type:N,lazyToolbar:fe,lazyHeader:()=>W().getOrDie("Could not find header element"),...jr}),mr=Ja.parts["multiple-toolbar"]({dom:{tag:"div",classes:["tox-toolbar-overlord"]},providers:X.popup.shared.providers,onEscape:()=>{e.focus()},type:N}),Bl=oy(e),br=t0(e),Ii=J1(e),ls=Vx(e),Nc=Ja.parts.promotion({dom:{tag:"div",classes:["tox-promotion"]}}),wi=Bl||br||Ii,Fl=ls?[Nc,gs]:[gs];return Ja.parts.header({dom:{tag:"div",classes:["tox-editor-header"].concat(wi?[]:["tox-editor-header--empty"]),...jr},components:$e([Ii?Fl:[],Bl?[mr]:br?[Vs]:[],kh(e)?[]:[F.asSpec()]]),sticky:_h(e),editor:e,sharedBackstage:X.popup.shared})})(),Ye={dom:{tag:"div",classes:["tox-sidebar-wrap"]},components:[Ja.parts.socket({dom:{tag:"div",classes:["tox-edit-area"]}}),Ja.parts.sidebar({dom:{tag:"div",classes:["tox-sidebar"]}})]},Tt=Ja.parts.throbber({dom:{tag:"div",classes:["tox-throbber"]},backstage:X.popup}),Qt=Ja.parts.viewWrapper({backstage:X.popup}),no=Cm(e)&&!s?R.some(v6(e,X.popup.shared.providers)):R.none(),oo=$e([A?[]:[we],s?[]:[Ye],A?[we]:[]]),Uo=Ja.parts.editorContainer({components:$e([oo,s?[]:[$.asSpec(),...no.toArray()]])}),pn=o0(e),Mn={role:"application",...jc.isRtl()?{dir:"rtl"}:{},...pn?{"aria-hidden":"true"}:{}},ar=yl(Ja.sketch({dom:{tag:"div",classes:["tox","tox-tinymce"].concat(s?["tox-tinymce-inline"]:[]).concat(A?["tox-tinymce--toolbar-bottom"]:[]).concat(S),styles:{visibility:"hidden",...pn?{opacity:"0",border:"0"}:{}},attributes:Mn},components:[Uo,...s?[]:[Qt],Tt],behaviours:Oo([Wi(),Qn.config({disableClass:"tox-tinymce--disabled"}),Dn.config({mode:"cyclic",selector:".tox-menubar, .tox-toolbar, .tox-toolbar__primary, .tox-toolbar__overflow--open, .tox-sidebar__overflow--open, .tox-statusbar__path, .tox-statusbar__wordcount, .tox-statusbar__branding a, .tox-statusbar__resize-handle"})])})),dr=Yu(ar);return h.set(dr),{mothership:dr,outerContainer:ar}},ye=we=>{const Ye=cr((Qt=>(oo=>{const Uo=Tx(oo),pn=G1(oo),Mn=vh(oo);return vn(Uo).map(ar=>Qe(ar,pn,Mn))})(Qt).getOr(Tx(Qt)))(e)),Tt=cr((Qt=>nt(Qt).getOr(zx(Qt)))(e));return e.inline||(sc("div","width",Tt)&&Bn(we.element,"width",Tt),sc("div","height",Ye)?Bn(we.element,"height",Ye):Bn(we.element,"height","400px")),Ye};return{popups:{backstage:X.popup,getMothership:()=>G5("popups",w)},dialogs:{backstage:X.dialog,getMothership:()=>G5("dialogs",x)},renderUI:()=>{const we=ue(),Ye=(()=>{const Qt=Zx(e),no=Jo(ws(),Qt)&&aa(Qt,"display")==="grid",oo={dom:{tag:"div",classes:["tox","tox-silver-sink","tox-tinymce-aux"].concat(S),attributes:{...jc.isRtl()?{dir:"rtl"}:{}}},behaviours:Oo([xl.config({useFixed:()=>m.isDocked(W)})])},Uo={dom:{styles:{width:document.body.clientWidth+"px"}},events:qa([Kt(Au(),ar=>{Bn(ar.element,"width",document.body.clientWidth+"px")})])},pn=yl(Da(oo,no?Uo:{})),Mn=Yu(pn);return x.set(Mn),{sink:pn,mothership:Mn}})(),Tt=qg(e)?(()=>{const Qt={dom:{tag:"div",classes:["tox","tox-silver-sink","tox-silver-popup-sink","tox-tinymce-aux"].concat(S),attributes:{...jc.isRtl()?{dir:"rtl"}:{}}},behaviours:Oo([xl.config({useFixed:()=>m.isDocked(W),getBounds:()=>r.getPopupSinkBounds()})])},no=yl(Qt),oo=Yu(no);return w.set(oo),{sink:no,mothership:oo}})():(Qt=>(w.set(Qt.mothership),Qt))(Ye);return g.dialogUi.set(Ye),g.popupUi.set(Tt),g.mainUi.set(we),(Qt=>{const{mainUi:no,popupUi:oo,uiMotherships:Uo}=Qt;Zo(U4(e),(br,Ii)=>{e.ui.registry.addGroupToolbarButton(Ii,br)});const{buttons:pn,menuItems:Mn,contextToolbars:ar,sidebars:dr,views:jr}=e.ui.registry.getAll(),gs=$x(e),Vs={menuItems:Mn,menus:l2(e),menubar:W4(e),toolbar:gs.getOrThunk(()=>xh(e)),allowToolbarGroups:N===Vc.floating,buttons:pn,sidebar:dr,views:jr};var mr;mr=no.outerContainer,e.addShortcut("alt+F9","focus menubar",()=>{Ja.focusMenubar(mr)}),e.addShortcut("alt+F10","focus toolbar",()=>{Ja.focusToolbar(mr)}),e.addCommand("ToggleToolbarDrawer",(br,Ii)=>{Ii?.skipFocus?Ja.toggleToolbarDrawerWithoutFocusing(mr):Ja.toggleToolbarDrawer(mr)}),e.addQueryStateHandler("ToggleToolbarDrawer",()=>Ja.isToolbarDrawerToggled(mr)),((br,Ii,ls)=>{const Nc=(ps,Xy)=>{Ie([Ii,...ls],hp=>{hp.broadcastEvent(ps,Xy)})},wi=(ps,Xy)=>{Ie([Ii,...ls],hp=>{hp.broadcastOn([ps],Xy)})},Fl=ps=>wi(Bd(),{target:ps.target}),Ud=Xl(),Gk=Ul(Ud,"touchstart",Fl),Kk=Ul(Ud,"touchmove",ps=>Nc(Ff(),ps)),Gy=Ul(Ud,"touchend",ps=>Nc(Im(),ps)),eb=Ul(Ud,"mousedown",Fl),S3=Ul(Ud,"mouseup",ps=>{ps.raw.button===0&&wi(C1(),{target:ps.target})}),Ky=ps=>wi(Bd(),{target:St(ps.target)}),tb=ps=>{ps.button===0&&wi(C1(),{target:St(ps.target)})},hv=()=>{Ie(br.editorManager.get(),ps=>{br!==ps&&ps.dispatch("DismissPopups",{relatedTarget:br})})},bv=ps=>Nc(zu(),Ev(ps)),E3=ps=>{wi(Dg(),{}),Nc(Au(),Ev(ps))},yA=rr(St(br.getElement())),T3=Qf(yA,"scroll",ps=>{requestAnimationFrame(()=>{if(br.getContainer()!=null){const Xy=ff(br,Ii.element).map(hp=>[hp.element,...hp.others]).getOr([]);uo(Xy,hp=>Jo(hp,ps.target))&&(br.dispatch("ElementScroll",{target:ps.target.dom}),Nc(wp(),ps))}})}),Yy=()=>wi(Dg(),{}),ob=ps=>{ps.state&&wi(Bd(),{target:St(br.getContainer())})},nb=ps=>{wi(Bd(),{target:St(ps.relatedTarget.getContainer())})};br.on("PostRender",()=>{br.on("click",Ky),br.on("tap",Ky),br.on("mouseup",tb),br.on("mousedown",hv),br.on("ScrollWindow",bv),br.on("ResizeWindow",E3),br.on("ResizeEditor",Yy),br.on("AfterProgressState",ob),br.on("DismissPopups",nb)}),br.on("remove",()=>{br.off("click",Ky),br.off("tap",Ky),br.off("mouseup",tb),br.off("mousedown",hv),br.off("ScrollWindow",bv),br.off("ResizeWindow",E3),br.off("ResizeEditor",Yy),br.off("AfterProgressState",ob),br.off("DismissPopups",nb),eb.unbind(),Gk.unbind(),Kk.unbind(),Gy.unbind(),S3.unbind(),T3.unbind()}),br.on("detach",()=>{Ie([Ii,...ls],Hv),Ie([Ii,...ls],ps=>ps.destroy())})})(e,no.mothership,Uo),m.setup(e,X.popup.shared,W),Ks(e,X.popup),At(e,X.popup.shared.getSink,X.popup),(br=>{const{sidebars:Ii}=br.ui.registry.getAll();Ie(Vt(Ii),ls=>{const Nc=Ii[ls],wi=()=>Rr(R.from(br.queryCommandValue("ToggleSidebar")),ls);br.ui.registry.addToggleButton(ls,{icon:Nc.icon,tooltip:Nc.tooltip,onAction:Fl=>{br.execCommand("ToggleSidebar",!1,ls),Fl.setActive(wi())},onSetup:Fl=>{Fl.setActive(wi());const Ud=()=>Fl.setActive(wi());return br.on("ToggleSidebar",Ud),()=>{br.off("ToggleSidebar",Ud)}}})})})(e),r3(e,te,X.popup.shared),ul(e,ar,oo.sink,{backstage:X.popup}),b6(e,oo.sink);const Bl={targetNode:e.getElement(),height:ye(no.outerContainer)};return l.render(e,Qt,Vs,X.popup,Bl)})({popupUi:Tt,dialogUi:Ye,mainUi:we,uiMotherships:g.getUiMotherships()})}}},w6=me([Yt("lazySink"),la("dragBlockClass"),hs("getBounds",Ua),ft("useTabstopAt",Ct),ft("firstTabstop",0),ft("eventOrder",{}),qi("modalBehaviours",[Dn]),Ol("onExecute"),Dp("onEscape")]),m5={sketch:Ze},k6=me([No({name:"draghandle",overrides:(e,r)=>({behaviours:Oo([pv.config({mode:"mouse",getTarget:s=>ou(s,'[role="dialog"]').getOr(s),blockerClass:e.dragBlockClass.getOrDie(new Error(`The drag blocker class was not specified for a dialog with a drag handle: 
`+JSON.stringify(r,null,2)).message),getBounds:e.getDragBounds})])})}),Eo({schema:[Yt("dom")],name:"title"}),Eo({factory:m5,schema:[Yt("dom")],name:"close"}),Eo({factory:m5,schema:[Yt("dom")],name:"body"}),No({factory:m5,schema:[Yt("dom")],name:"footer"}),Ro({factory:{sketch:(e,r)=>({...e,dom:r.dom,components:r.components})},schema:[ft("dom",{tag:"div",styles:{position:"fixed",left:"0px",top:"0px",right:"0px",bottom:"0px"}}),ft("components",[])],name:"blocker"})]),kl=Wl({name:"ModalDialog",configFields:w6(),partFields:k6(),factory:(e,r,s,l)=>{const m=ms(),g=un("modal-events"),h={...e.eventOrder,[Rc()]:[g].concat(e.eventOrder["alloy.system.attached"]||[])};return{uid:e.uid,dom:e.dom,components:r,apis:{show:x=>{m.set(x);const w=e.lazySink(x).getOrDie(),S=l.blocker(),A=w.getSystem().build({...S,components:S.components.concat([Tc(x)]),behaviours:Oo([er.config({}),Tr("dialog-blocker-events",[Mu(He(),()=>{em.isBlocked(x)||Dn.focusIn(x)})])])});ym(w,A),Dn.focusIn(x)},hide:x=>{m.clear(),rn(x.element).each(w=>{x.getSystem().getByDom(w).each(S=>{id(S)})})},getBody:x=>li(x,e,"body"),getFooter:x=>ua(x,e,"footer"),setIdle:x=>{em.unblock(x)},setBusy:(x,w)=>{em.block(x,w)}},eventOrder:h,domModification:{attributes:{role:"dialog","aria-modal":"true"}},behaviours:Fi(e.modalBehaviours,[fr.config({}),Dn.config({mode:"cyclic",onEnter:e.onExecute,onEscape:e.onEscape,useTabstopAt:e.useTabstopAt,firstTabstop:e.firstTabstop}),em.config({getRoot:m.get}),Tr(g,[La(x=>{((w,S)=>{const A=Ca(w,"id").fold(()=>{const N=un("dialog-label");return Kn(S,"id",N),N},Ze);Kn(w,"aria-labelledby",A)})(x.element,li(x,e,"title").element)})])])}},apis:{show:(e,r)=>{e.show(r)},hide:(e,r)=>{e.hide(r)},getBody:(e,r)=>e.getBody(r),getFooter:(e,r)=>e.getFooter(r),setBusy:(e,r,s)=>{e.setBusy(r,s)},setIdle:(e,r)=>{e.setIdle(r)}}}),_6=Cn([ci,E2].concat(ly)),C6=Qc,g5=[c0("button"),pu,pl("align","end",["start","end"]),Na,ll,sg("buttonType",["primary","secondary"])],K5=[...g5,Wg],p5=[da("type",["submit","cancel","custom"]),...K5],S6=[da("type",["menu"]),Xm,Id,pu,al("items",_6),...g5],E6=[...g5,da("type",["togglebutton"]),us("tooltip"),pu,Xm,ri("active",!1)],T6=Ms("type",{submit:p5,cancel:p5,custom:p5,menu:S6,togglebutton:E6}),z6=[ci,Wg,da("level",["info","warn","error","success"]),qu,ft("url","")],A6=Cn(z6),O6=[ci,Wg,ll,c0("button"),pu,nE,sg("buttonType",["primary","secondary","toolbar"]),Na],N6=Cn(O6),qk=[ci,E2],fp=qk.concat([O2]),M6=qk.concat([T2,ll]),D6=Cn(M6),R6=Qc,B6=fp.concat([Sh("auto")]),F6=Cn(B6),L6=Kd([l0,Wg,qu]),I6=fp.concat([zl("storageKey","default")]),P6=Cn(I6),H6=wa,j6=Cn(fp),V6=wa,$6=qk.concat([zl("tag","textarea"),us("scriptId"),us("scriptUrl"),Ai("settings",void 0,Rm)]),U6=qk.concat([zl("tag","textarea"),ml("init")]),Z6=Ti(e=>ka("customeditor.old",pi(U6),e).orThunk(()=>ka("customeditor.new",pi($6),e))),q6=wa,W6=Cn(fp),G6=Ql(yd),K6=e=>[ci,xd("columns"),e],Y6=[ci,us("html"),pl("presets","presentation",["presentation","document"])],X6=Cn(Y6),J6=fp.concat([ri("border",!1),ri("sandboxed",!0),ri("streamContent",!1),ri("transparent",!0)]),Q6=Cn(J6),e8=wa,t8=Cn(qk.concat([Hs("height")])),o8=Cn([us("url"),Yd("zoom"),Yd("cachedWidth"),Yd("cachedHeight")]),n8=fp.concat([Hs("inputMode"),Hs("placeholder"),ri("maximized",!1),ll]),r8=Cn(n8),a8=wa,s8=e=>[ci,T2,e,pl("align","start",["start","center","end"])],i8=[Wg,l0],l8=[Wg,al("items",Su(0,()=>Y5))],Y5=ec([Cn(i8),Cn(l8)]),c8=fp.concat([al("items",Y5),ll]),d8=Cn(c8),u8=wa,m8=fp.concat([Oa("items",[Wg,l0]),wd("size",1),ll]),g8=Cn(m8),p8=wa,f8=fp.concat([ri("constrain",!0),ll]),h8=Cn(f8),X5=Cn([us("width"),us("height")]),b8=qk.concat([T2,wd("min",0),wd("max",0)]),y8=Cn(b8),v8=rm,x8=[ci,al("header",wa),al("cells",Ql(wa))],w8=Cn(x8),k8=fp.concat([Hs("placeholder"),ri("maximized",!1),ll]),_8=Cn(k8),C8=wa,J5=[da("type",["directory","leaf"]),$c,us("id"),$i("menu",JS)],Q5=Cn(J5),S8=J5.concat([al("children",Su(0,()=>an("type",{directory:eN,leaf:Q5})))]),eN=Cn(S8),E8=an("type",{directory:eN,leaf:Q5}),T8=[ci,al("items",E8),Tl("onLeafAction"),Tl("onToggleExpand"),uc("defaultExpandedIds",[],wa),Hs("defaultSelectedId")],z8=Cn(T8),A8=fp.concat([pl("filetype","file",["image","media","file"]),ll,Hs("picker_text")]),O8=Cn(A8),N8=Cn([l0,iy]),f5=e=>oi("items","items",{tag:"required",process:{}},Ql(Ti(r=>ka(`Checking item of ${e}`,h5,r).fold(s=>Fr.error(El(s)),s=>Fr.value(s))))),h5=Gd(()=>{return an("type",{alertbanner:A6,bar:Cn((e=f5("bar"),[ci,e])),button:N6,checkbox:D6,colorinput:P6,colorpicker:j6,dropzone:W6,grid:Cn(K6(f5("grid"))),iframe:Q6,input:r8,listbox:d8,selectbox:g8,sizeinput:h8,slider:y8,textarea:_8,urlinput:O8,customeditor:Z6,htmlpanel:X6,imagepreview:t8,collection:F6,label:Cn(s8(f5("label"))),table:w8,tree:z8,panel:tN});var e}),M8=[ci,ft("classes",[]),al("items",h5)],tN=Cn(M8),D8=[c0("tab"),$c,al("items",h5)],R8=[ci,Oa("tabs",D8)],B8=Cn(R8),F8=K5,L8=T6,I8=Cn([us("title"),ni("body",an("type",{panel:tN,tabpanel:B8})),zl("size","normal"),uc("buttons",[],L8),ft("initialData",{}),hs("onAction",he),hs("onChange",he),hs("onSubmit",he),hs("onClose",he),hs("onCancel",he),hs("onTabChange",he)]),P8=Cn([da("type",["cancel","custom"]),...F8]),H8=Cn([us("title"),us("url"),Yd("height"),Yd("width"),ns("buttons",P8),hs("onAction",he),hs("onCancel",he),hs("onClose",he),hs("onMessage",he)]),b5=e=>Po(e)?[e].concat(ct(vo(e),b5)):ko(e)?ct(e,b5):[],j8=e=>io(e.type)&&io(e.name),V8={checkbox:R6,colorinput:H6,colorpicker:V6,dropzone:G6,input:a8,iframe:e8,imagepreview:o8,selectbox:p8,sizeinput:X5,slider:v8,listbox:u8,size:X5,textarea:C8,urlinput:N8,customeditor:q6,collection:L6,togglemenuitem:C6},$8=e=>{const r=(l=>Pt(b5(l),j8))(e),s=ct(r,l=>(m=>R.from(V8[m.type]))(l).fold(()=>[],m=>[ni(l.name,m)]));return Cn(s)},oN=e=>{var r;return{internalDialog:Sl(ka("dialog",I8,e)),dataValidator:$8(e),initialData:(r=e.initialData)!==null&&r!==void 0?r:{}}},fv={open:(e,r)=>{const s=oN(r);return e(s.internalDialog,s.initialData,s.dataValidator)},openUrl:(e,r)=>e(Sl(ka("dialog",H8,r))),redial:e=>oN(e)};var U8=Object.freeze({__proto__:null,events:(e,r)=>{const s=(l,m)=>{e.updateState.each(g=>{const h=g(l,m);r.set(h)}),e.renderComponents.each(g=>{const h=g(m,r.get());(e.reuseDom?m4:pc)(l,h)})};return qa([Kt(Cd(),(l,m)=>{const g=m;if(!g.universal){const h=e.channel;Rt(g.channels,h)&&s(l,g.data)}}),La((l,m)=>{e.initialData.each(g=>{s(l,g)})})])}}),Z8=Object.freeze({__proto__:null,getState:(e,r,s)=>s}),q8=[Yt("channel"),la("renderComponents"),la("updateState"),la("initialData"),ri("reuseDom",!0)];const ku=Ri({fields:q8,name:"reflecting",active:U8,apis:Z8,state:Object.freeze({__proto__:null,init:()=>{const e=Sn(R.none());return{readState:()=>e.get().getOr("none"),get:e.get,set:e.set,clear:()=>e.set(R.none())}}})}),nN=e=>{const r=[],s={};return $o(e,(l,m)=>{l.fold(()=>{r.push(m)},g=>{s[m]=g})}),r.length>0?Fr.error(r):Fr.value(s)},W8=(e,r,s)=>{const l=Ta(vf.sketch(g=>({dom:{tag:"div",classes:["tox-form"].concat(e.classes)},components:dt(e.items,h=>nz(g,h,r,s))})));return{dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[l.asSpec()]}],behaviours:Oo([Dn.config({mode:"acyclic",useTabstopAt:Yo(Ph)}),(m=l,Gr.config({find:m.getOpt})),NT(l,{postprocess:g=>nN(g).fold(h=>(console.error(h),{}),Ze)}),Tr("dialog-body-panel",[Kt(He(),(g,h)=>{g.getSystem().broadcastOn([Zw],{newFocus:R.some(h.event.target)})})])])};var m},G8=Pc({name:"TabButton",configFields:[ft("uid",void 0),Yt("value"),oi("dom","dom",dc(()=>({attributes:{role:"tab",id:un("aria"),"aria-selected":"false"}})),Cl()),la("action"),ft("domModification",{}),qi("tabButtonBehaviours",[er,Dn,Wo]),Yt("view")],factory:(e,r)=>({uid:e.uid,dom:e.dom,components:e.components,events:B1(e.action),behaviours:Fi(e.tabButtonBehaviours,[er.config({}),Dn.config({mode:"execution",useSpace:!0,useEnter:!0}),Wo.config({store:{mode:"memory",initialValue:e.value}})]),domModification:e.domModification})}),K8=me([Yt("tabs"),Yt("dom"),ft("clickToDismiss",!1),qi("tabbarBehaviours",[ba,Dn]),Nd(["tabClass","selectedClass"])]),Y8=Ln({factory:G8,name:"tabs",unit:"tab",overrides:e=>{const r=(l,m)=>{ba.dehighlight(l,m),_n(l,Ed(),{tabbar:l,button:m})},s=(l,m)=>{ba.highlight(l,m),_n(l,im(),{tabbar:l,button:m})};return{action:l=>{const m=l.getSystem().getByUid(e.uid).getOrDie(),g=ba.isHighlighted(m,l);(g&&e.clickToDismiss?r:g?he:s)(m,l)},domModification:{classes:[e.markers.tabClass]}}}}),X8=me([Y8]),rN=Wl({name:"Tabbar",configFields:K8(),partFields:X8(),factory:(e,r,s,l)=>({uid:e.uid,dom:e.dom,components:r,"debug.sketcher":"Tabbar",domModification:{attributes:{role:"tablist"}},behaviours:Fi(e.tabbarBehaviours,[ba.config({highlightClass:e.markers.selectedClass,itemClass:e.markers.tabClass,onHighlight:(m,g)=>{Kn(g.element,"aria-selected","true")},onDehighlight:(m,g)=>{Kn(g.element,"aria-selected","false")}}),Dn.config({mode:"flow",getInitial:m=>ba.getHighlighted(m).map(g=>g.element),selector:"."+e.markers.tabClass,executeOnMove:!0})])})}),J8=Pc({name:"Tabview",configFields:[qi("tabviewBehaviours",[fr])],factory:(e,r)=>({uid:e.uid,dom:e.dom,behaviours:Fi(e.tabviewBehaviours,[fr.config({})]),domModification:{attributes:{role:"tabpanel"}}})}),Q8=me([ft("selectFirst",!0),Hr("onChangeTab"),Hr("onDismissTab"),ft("tabs",[]),qi("tabSectionBehaviours",[])]),eM=Eo({factory:rN,schema:[Yt("dom"),zi("markers",[Yt("tabClass"),Yt("selectedClass")])],name:"tabbar",defaults:e=>({tabs:e.tabs})}),tM=Eo({factory:J8,name:"tabview"}),oM=me([eM,tM]),Wk=Wl({name:"TabSection",configFields:Q8(),partFields:oM(),factory:(e,r,s,l)=>{const m=(g,h)=>{ua(g,e,"tabbar").each(x=>{h(x).each(Qd)})};return{uid:e.uid,dom:e.dom,components:r,behaviours:Hb(e.tabSectionBehaviours),events:qa($e([e.selectFirst?[La((g,h)=>{m(g,ba.getFirst)})]:[],[Kt(im(),(g,h)=>{(x=>{const w=Wo.getValue(x);ua(x,e,"tabview").each(S=>{to(e.tabs,A=>A.value===w).each(A=>{const N=A.view();Ca(x.element,"id").each(F=>{Kn(S.element,"aria-labelledby",F)}),fr.set(S,N),e.onChangeTab(S,x,N)})})})(h.event.button)}),Kt(Ed(),(g,h)=>{const x=h.event.button;e.onDismissTab(g,x)})]])),apis:{getViewItems:g=>ua(g,e,"tabview").map(h=>fr.contents(h)).getOr([]),showTab:(g,h)=>{m(g,x=>{const w=ba.getCandidates(x);return to(w,S=>Wo.getValue(S)===h).filter(S=>!ba.isHighlighted(x,S))})}}}},apis:{getViewItems:(e,r)=>e.getViewItems(r),showTab:(e,r,s)=>{e.showTab(r,s)}}}),aN=(e,r)=>{Bn(e,"height",r+"px"),Bn(e,"flex-basis",r+"px")},hA=(e,r,s)=>{ou(e,'[role="dialog"]').each(l=>{vs(l,'[role="tablist"]').each(m=>{s.get().map(g=>(Bn(r,"height","0"),Bn(r,"flex-basis","0"),Math.min(g,((h,x,w)=>{const S=Lo(h).dom,A=ou(h,".tox-dialog-wrap").getOr(h);let N;N=aa(A,"position")==="fixed"?Math.max(S.clientHeight,window.innerHeight):Math.max(S.offsetHeight,S.scrollHeight);const F=Nt(x),$=x.dom.offsetLeft>=w.dom.offsetLeft+Ga(w)?Math.max(Nt(w),F):F,W=parseInt(aa(h,"margin-top"),10)||0,se=parseInt(aa(h,"margin-bottom"),10)||0;return N-(Nt(h)+W+se-$)})(l,r,m)))).each(g=>{aN(r,g)})})})},y5=e=>vs(e,'[role="tabpanel"]'),sN="send-data-to-section",iN="send-data-to-view",nM=(e,r,s)=>{const l=Sn({}),m=S=>{const A=Wo.getValue(S),N=nN(A).getOr({}),F=l.get(),$=Da(F,N);l.set($)},g=S=>{const A=l.get();Wo.setValue(S,A)},h=Sn(null),x=dt(e.tabs,S=>({value:S.name,dom:{tag:"div",classes:["tox-dialog__body-nav-item"]},components:[Ya(s.shared.providers.translate(S.title))],view:()=>[vf.sketch(A=>({dom:{tag:"div",classes:["tox-form"]},components:dt(S.items,N=>nz(A,N,r,s)),formBehaviours:Oo([Dn.config({mode:"acyclic",useTabstopAt:Yo(Ph)}),Tr("TabView.form.events",[La(g),od(m)]),tc.config({channels:Oi([{key:sN,value:{onReceive:m}},{key:iN,value:{onReceive:g}}])})])}))]})),w=(S=>{const A=ms();return{extraEvents:[La(F=>{const $=F.element;y5($).each(W=>{Bn(W,"visibility","hidden"),F.getSystem().getByDom(W).toOptional().each(se=>{const le=((te,X,ue)=>dt(te,(ye,we)=>{fr.set(ue,te[we].view());const Ye=X.dom.getBoundingClientRect();return fr.set(ue,[]),Ye.height}))(S,W,se);(te=>at(ge(te,(X,ue)=>X>ue?-1:X<ue?1:0)))(le).fold(A.clear,A.set)}),hA($,W,A),Pr(W,"visibility"),((se,le)=>{at(se).each(fe=>Wk.showTab(le,fe.value))})(S,F),requestAnimationFrame(()=>{hA($,W,A)})})}),Kt(Au(),F=>{const $=F.element;y5($).each(W=>{hA($,W,A)})}),Kt(wC,(F,$)=>{const W=F.element;y5(W).each(se=>{const le=Ts(rr(se));Bn(se,"visibility","hidden");const fe=Ir(se,"height").map(X=>parseInt(X,10));Pr(se,"height"),Pr(se,"flex-basis");const te=se.dom.getBoundingClientRect().height;fe.forall(X=>te>X)?(A.set(te),hA(W,se,A)):fe.each(X=>{aN(se,X)}),Pr(se,"visibility"),le.each(sd)})})],selectFirst:!1}})(x);return Wk.sketch({dom:{tag:"div",classes:["tox-dialog__body"]},onChangeTab:(S,A,N)=>{const F=Wo.getValue(A);_n(S,xC,{name:F,oldName:h.get()}),h.set(F)},tabs:x,components:[Wk.parts.tabbar({dom:{tag:"div",classes:["tox-dialog__body-nav"]},components:[rN.parts.tabs({})],markers:{tabClass:"tox-tab",selectedClass:"tox-dialog__body-nav-item--active"},tabbarBehaviours:Oo([Bs.config({})])}),Wk.parts.tabview({dom:{tag:"div",classes:["tox-dialog__body-content"]}})],selectFirst:w.selectFirst,tabSectionBehaviours:Oo([Tr("tabpanel",w.extraEvents),Dn.config({mode:"acyclic"}),Gr.config({find:S=>at(Wk.getViewItems(S))}),Uc(R.none(),S=>(S.getSystem().broadcastOn([sN],{}),l.get()),(S,A)=>{l.set(A),S.getSystem().broadcastOn([iN],{})})])})},lN=(e,r,s,l,m)=>({dom:{tag:"div",classes:["tox-dialog__content-js"],attributes:{...s.map(g=>({id:g})).getOr({}),...m?{"aria-live":"polite"}:{}}},components:[],behaviours:Oo([Hw(0),ku.config({channel:`${RT}-${r}`,updateState:(g,h)=>R.some({isTabPanel:()=>h.body.type==="tabpanel"}),renderComponents:g=>{const h=g.body;return h.type==="tabpanel"?[nM(h,g.initialData,l)]:[W8(h,g.initialData,l)]},initialData:e})])}),rM=Zu.deviceType.isTouch(),cN=(e,r)=>({dom:{tag:"div",styles:{display:"none"},classes:["tox-dialog__header"]},components:[e,r]}),dN=(e,r)=>kl.parts.close(wl.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":r.translate("Close")}},action:e,buttonBehaviours:Oo([Bs.config({})])})),uN=()=>kl.parts.title({dom:{tag:"div",classes:["tox-dialog__title"],innerHtml:"",styles:{display:"none"}}}),mN=(e,r)=>kl.parts.body({dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[{dom:Ym(`<p>${G_(r.translate(e))}</p>`)}]}]}),gN=e=>kl.parts.footer({dom:{tag:"div",classes:["tox-dialog__footer"]},components:e}),pN=(e,r)=>[Ku.sketch({dom:{tag:"div",classes:["tox-dialog__footer-start"]},components:e}),Ku.sketch({dom:{tag:"div",classes:["tox-dialog__footer-end"]},components:r})],v5=e=>{const r="tox-dialog",s=r+"-wrap",l=s+"__backdrop",m=r+"__disable-scroll";return kl.sketch({lazySink:e.lazySink,onEscape:g=>(e.onEscape(g),R.some(!0)),useTabstopAt:g=>!Ph(g),firstTabstop:e.firstTabstop,dom:{tag:"div",classes:[r].concat(e.extraClasses),styles:{position:"relative",...e.extraStyles}},components:[e.header,e.body,...e.footer.toArray()],parts:{blocker:{dom:Ym(`<div class="${s}"></div>`),components:[{dom:{tag:"div",classes:rM?[l,l+"--opaque"]:[l]}}]}},dragBlockClass:s,modalBehaviours:Oo([er.config({}),Tr("dialog-events",e.dialogEvents.concat([Mu(He(),(g,h)=>{em.isBlocked(g)||Dn.focusIn(g)}),Kt(lg(),(g,h)=>{g.getSystem().broadcastOn([Zw],{newFocus:h.event.newFocus})})])),Tr("scroll-lock",[La(()=>{Jr(ws(),m)}),od(()=>{rs(ws(),m)})]),...e.extraBehaviours]),eventOrder:{[fl()]:["dialog-events"],[Rc()]:["scroll-lock","dialog-events","alloy.base.behaviour"],[sm()]:["alloy.base.behaviour","dialog-events","scroll-lock"],...e.eventOrder}})},fN=e=>wl.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":e.translate("Close"),title:e.translate("Close")}},buttonBehaviours:Oo([Bs.config({})]),components:[Uu("close",{tag:"span",classes:["tox-icon"]},e.icons)],action:r=>{$r(r,ep)}}),hN=(e,r,s,l)=>({dom:{tag:"div",classes:["tox-dialog__title"],attributes:{...s.map(m=>({id:m})).getOr({})}},components:[],behaviours:Oo([ku.config({channel:`${XC}-${r}`,initialData:e,renderComponents:m=>[Ya(l.translate(m.title))]})])}),bN=()=>({dom:Ym('<div class="tox-dialog__draghandle"></div>')}),yN=(e,r,s)=>((l,m,g)=>{const h=kl.parts.title(hN(l,m,R.none(),g)),x=kl.parts.draghandle(bN()),w=kl.parts.close(fN(g)),S=[h].concat(l.draggable?[x]:[]).concat([w]);return Ku.sketch({dom:Ym('<div class="tox-dialog__header"></div>'),components:S})})({title:s.shared.providers.translate(e),draggable:s.dialog.isDraggableModal()},r,s.shared.providers),vN=(e,r,s,l)=>({dom:{tag:"div",classes:["tox-dialog__busy-spinner"],attributes:{"aria-label":s.translate(e)},styles:{left:"0px",right:"0px",bottom:"0px",top:`${l.getOr(0)}px`,position:"absolute"}},behaviours:r,components:[{dom:Ym('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}),xN=(e,r,s)=>({onClose:()=>s.closeWindow(),onBlock:l=>{const m=vs(e().element,".tox-dialog__header").map(g=>Nt(g));kl.setBusy(e(),(g,h)=>vN(l.message,h,r,m))},onUnblock:()=>{kl.setIdle(e())}}),wN="tox-dialog--fullscreen",x5="tox-dialog--width-lg",w5="tox-dialog--width-md",bA=e=>{switch(e){case"large":return R.some(x5);case"medium":return R.some(w5);default:return R.none()}},kN=(e,r)=>{const s=St(r.element.dom);Di(s,wN)||(Zi(s,[x5,w5]),bA(e).each(l=>Jr(s,l)))},_N=(e,r)=>{const s=St(e.element.dom),l=bl(s),m=to(l,g=>g===x5||g===w5).or(bA(r));((g,h)=>{Ie(h,x=>{((w,S)=>{nd(w)?w.dom.classList.toggle(S):((A,N)=>Rt(oa(A),N)?hl(A,N):wr(A,N))(w,S),bi(w)})(g,x)})})(s,[wN,...m.toArray()])},CN=(e,r,s)=>yl(v5({...e,firstTabstop:1,lazySink:s.shared.getSink,extraBehaviours:[ap({}),...e.extraBehaviours],onEscape:l=>{$r(l,ep)},dialogEvents:r,eventOrder:{[Cd()]:[ku.name(),tc.name()],[Rc()]:["scroll-lock",ku.name(),"messages","dialog-events","alloy.base.behaviour"],[sm()]:["alloy.base.behaviour","dialog-events","messages",ku.name(),"scroll-lock"]}})),k5=(e,r={})=>dt(e,s=>s.type==="menu"?(l=>{const m=dt(l.items,g=>{const h=Xt(r,g.name).getOr(Sn(!1));return{...g,storage:h}});return{...l,items:m}})(s):s),SN=e=>zo(e,(r,s)=>s.type==="menu"?zo(s.items,(l,m)=>(l[m.name]=m.storage,l),r):r,{}),EN=(e,r)=>[Lf(He(),DT),e(_y,(s,l,m,g)=>{Ts(rr(g.element)).fold(he,hb),r.onClose(),l.onClose()}),e(ep,(s,l,m,g)=>{l.onCancel(s),$r(g,_y)}),Kt(Dh,(s,l)=>r.onUnblock()),Kt(Mh,(s,l)=>r.onBlock(l.event))],TN=(e,r,s)=>{const l=(g,h)=>Kt(g,(x,w)=>{m(x,(S,A)=>{h(e(),S,w.event,x)})}),m=(g,h)=>{ku.getState(g).get().each(x=>{h(x.internalDialog,g)})};return[...EN(l,r),l(bf,(g,h)=>h.onSubmit(g)),l(cd,(g,h,x)=>{h.onChange(g,{name:x.name})}),l(Xu,(g,h,x,w)=>{const S=()=>w.getSystem().isConnected()?Dn.focusIn(w):void 0,A=$=>ds($,"disabled")||Ca($,"aria-disabled").exists(W=>W==="true"),N=rr(w.element),F=Ts(N);h.onAction(g,{name:x.name,value:x.value}),Ts(N).fold(S,$=>{A($)||F.exists(W=>Ce($,W)&&A(W))?S():s().toOptional().filter(W=>!Ce(W.element,$)).each(S)})}),l(xC,(g,h,x)=>{h.onTabChange(g,{newTabName:x.name,oldTabName:x.oldName})}),od(g=>{const h=e();Wo.setValue(g,h.getData())})]},aM=(e,r)=>{const s=r.map(g=>g.footerButtons).getOr([]),l=Co(s,g=>g.align==="start"),m=(g,h)=>Ku.sketch({dom:{tag:"div",classes:[`tox-dialog__footer-${g}`]},components:dt(h,x=>x.memento.asSpec())});return[m("start",l.pass),m("end",l.fail)]},zN=(e,r,s)=>({dom:Ym('<div class="tox-dialog__footer"></div>'),components:[],behaviours:Oo([ku.config({channel:`${Uw}-${r}`,initialData:e,updateState:(l,m)=>{const g=dt(m.buttons,h=>{const x=Ta(((w,S)=>K0(w,w.type,S))(h,s));return{name:h.name,align:h.align,memento:x}});return R.some({lookupByName:h=>((x,w,S)=>to(w,A=>A.name===S).bind(A=>A.memento.getOpt(x)))(l,g,h),footerButtons:g})},renderComponents:aM})])}),AN=(e,r,s)=>kl.parts.footer(zN(e,r,s)),ON=(e,r)=>{if(e.getRoot().getSystem().isConnected()){const s=Gr.getCurrent(e.getFormWrapper()).getOr(e.getFormWrapper());return vf.getField(s,r).orThunk(()=>e.getFooter().bind(m=>ku.getState(m).get()).bind(m=>m.lookupByName(r)))}return R.none()},NN=(e,r,s)=>{const l=g=>{const h=e.getRoot();h.getSystem().isConnected()&&g(h)},m={getData:()=>{const g=e.getRoot(),h=g.getSystem().isConnected()?e.getFormWrapper():g;return{...Wo.getValue(h),...Zo(s,x=>x.get())}},setData:g=>{l(h=>{const x=m.getData(),w=Da(x,g),S=((N,F)=>{const $=N.getRoot();return ku.getState($).get().map(W=>Sl(ka("data",W.dataValidator,F))).getOr(F)})(e,w),A=e.getFormWrapper();Wo.setValue(A,S),$o(s,(N,F)=>{Vo(w,F)&&N.set(w[F])})})},setEnabled:(g,h)=>{ON(e,g).each(h?Qn.enable:Qn.disable)},focus:g=>{ON(e,g).each(er.focus)},block:g=>{if(!io(g))throw new Error("The dialogInstanceAPI.block function should be passed a blocking message of type string as an argument");l(h=>{_n(h,Mh,{message:g})})},unblock:()=>{l(g=>{$r(g,Dh)})},showTab:g=>{l(h=>{const x=e.getBody();ku.getState(x).get().exists(w=>w.isTabPanel())&&Gr.getCurrent(x).each(w=>{Wk.showTab(w,g)})})},redial:g=>{l(h=>{const x=e.getId(),w=r(g),S=k5(w.internalDialog.buttons,s);h.getSystem().broadcastOn([`${$w}-${x}`],w),h.getSystem().broadcastOn([`${XC}-${x}`],w.internalDialog),h.getSystem().broadcastOn([`${RT}-${x}`],w.internalDialog),h.getSystem().broadcastOn([`${Uw}-${x}`],{...w.internalDialog,buttons:S}),m.setData(w.initialData)})},close:()=>{l(g=>{$r(g,_y)})},toggleFullscreen:e.toggleFullscreen};return m},MN=(e,r,s,l=!1,m)=>{const g=un("dialog"),h=un("dialog-label"),x=un("dialog-content"),w=e.internalDialog,S=Sn(w.size),A=bA(S.get()).toArray(),N=Ta(((X,ue,ye,we)=>Ku.sketch({dom:Ym('<div class="tox-dialog__header"></div>'),components:[hN(X,ue,R.some(ye),we),bN(),fN(we)],containerBehaviours:Oo([pv.config({mode:"mouse",blockerClass:"blocker",getTarget:Ye=>Vl(Ye,'[role="dialog"]').getOrDie(),snaps:{getSnapPoints:()=>[],leftAttr:"data-drag-left",topAttr:"data-drag-top"}})])}))({title:w.title,draggable:!0},g,h,s.shared.providers)),F=Ta(((X,ue,ye,we,Ye)=>lN(X,ue,R.some(ye),we,Ye))({body:w.body,initialData:w.initialData},g,x,s,l)),$=k5(w.buttons),W=SN($),se=ln($.length!==0,Ta(((X,ue,ye)=>zN(X,ue,ye))({buttons:$},g,s))),le=TN(()=>te,{onBlock:X=>{em.block(fe,(ue,ye)=>{const we=N.getOpt(fe).map(Ye=>Nt(Ye.element));return vN(X.message,ye,s.shared.providers,we)})},onUnblock:()=>{em.unblock(fe)},onClose:()=>r.closeWindow()},s.shared.getSink),fe=yl({dom:{tag:"div",classes:["tox-dialog","tox-dialog-inline",...A],attributes:{role:"dialog","aria-labelledby":h}},eventOrder:{[Cd()]:[ku.name(),tc.name()],[fl()]:["execute-on-form"],[Rc()]:["reflecting","execute-on-form"]},behaviours:Oo([Dn.config({mode:"cyclic",onEscape:X=>($r(X,_y),R.some(!0)),useTabstopAt:X=>!Ph(X)&&(gr(X)!=="button"||Ma(X,"disabled")!=="disabled"),firstTabstop:1}),ku.config({channel:`${$w}-${g}`,updateState:(X,ue)=>(S.set(ue.internalDialog.size),kN(ue.internalDialog.size,X),m(),R.some(ue)),initialData:e}),er.config({}),Tr("execute-on-form",le.concat([Mu(He(),(X,ue)=>{Dn.focusIn(X)}),Kt(lg(),(X,ue)=>{X.getSystem().broadcastOn([Zw],{newFocus:ue.event.newFocus})})])),em.config({getRoot:()=>R.some(fe)}),fr.config({}),ap({})]),components:[N.asSpec(),F.asSpec(),...se.map(X=>X.asSpec()).toArray()]}),te=NN({getId:me(g),getRoot:me(fe),getFooter:()=>se.map(X=>X.get(fe)),getBody:()=>F.get(fe),getFormWrapper:()=>{const X=F.get(fe);return Gr.getCurrent(X).getOr(X)},toggleFullscreen:()=>{_N(fe,S.get())}},r.redial,W);return{dialog:fe,instanceApi:te}};var _5=tinymce.util.Tools.resolve("tinymce.util.URI");const sM=["insertContent","setContent","execCommand","close","block","unblock"],DN=e=>Po(e)&&sM.indexOf(e.mceAction)!==-1,iM=(e,r,s,l)=>{const m=un("dialog"),g=yN(e.title,m,l),h=(fe=>{const te={dom:{tag:"div",classes:["tox-dialog__content-js"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-iframe"]},components:[YC(R.none(),{dom:{tag:"iframe",attributes:{src:fe.url}},behaviours:Oo([Bs.config({}),er.config({})])})]}],behaviours:Oo([Dn.config({mode:"acyclic",useTabstopAt:Yo(Ph)})])};return kl.parts.body(te)})(e),x=e.buttons.bind(fe=>fe.length===0?R.none():R.some(AN({buttons:fe},m,l))),w=((fe,te)=>{const X=(ye,we)=>Kt(ye,(Ye,Tt)=>{ue(Ye,(Qt,no)=>{we(le,Qt,Tt.event,Ye)})}),ue=(ye,we)=>{ku.getState(ye).get().each(Ye=>{we(Ye,ye)})};return[...EN(X,te),X(Xu,(ye,we,Ye)=>{we.onAction(ye,{name:Ye.name})})]})(0,xN(()=>se,l.shared.providers,r)),S={...e.height.fold(()=>({}),fe=>({height:fe+"px","max-height":fe+"px"})),...e.width.fold(()=>({}),fe=>({width:fe+"px","max-width":fe+"px"}))},A=e.width.isNone()&&e.height.isNone()?["tox-dialog--width-lg"]:[],N=new _5(e.url,{base_uri:new _5(window.location.href)}),F=`${N.protocol}://${N.host}${N.port?":"+N.port:""}`,$=vg(),W=[ku.config({channel:`${$w}-${m}`,updateState:(fe,te)=>R.some(te),initialData:e}),Tr("messages",[La(()=>{const fe=Ul(St(window),"message",te=>{if(N.isSameOrigin(new _5(te.raw.origin))){const X=te.raw.data;DN(X)?((ue,ye,we)=>{switch(we.mceAction){case"insertContent":ue.insertContent(we.content);break;case"setContent":ue.setContent(we.content);break;case"execCommand":const Ye=!!jo(we.ui)&&we.ui;ue.execCommand(we.cmd,Ye,we.value);break;case"close":ye.close();break;case"block":ye.block(we.message);break;case"unblock":ye.unblock()}})(s,le,X):(ue=>!DN(ue)&&Po(ue)&&Vo(ue,"mceAction"))(X)&&e.onMessage(le,X)}});$.set(fe)}),od($.clear)]),tc.config({channels:{[JC]:{onReceive:(fe,te)=>{vs(fe.element,"iframe").each(X=>{const ue=X.dom.contentWindow;Ue(ue)&&ue.postMessage(te,F)})}}}})],se=CN({id:m,header:g,body:h,footer:x,extraClasses:A,extraBehaviours:W,extraStyles:S},w,l),le=(fe=>{const te=X=>{fe.getSystem().isConnected()&&X(fe)};return{block:X=>{if(!io(X))throw new Error("The urlDialogInstanceAPI.block function should be passed a blocking message of type string as an argument");te(ue=>{_n(ue,Mh,{message:X})})},unblock:()=>{te(X=>{$r(X,Dh)})},close:()=>{te(X=>{$r(X,_y)})},sendMessage:X=>{te(ue=>{ue.getSystem().broadcastOn([JC],X)})}}})(se);return{dialog:se,instanceApi:le}},RN=(e,r)=>Sl(ka("data",r,e)),BN=e=>Nh(e,".tox-alert-dialog")||Nh(e,".tox-confirm-dialog"),lM=(e,r,s)=>r&&s?[]:[di.config({contextual:{lazyContext:()=>R.some(Fa(St(e.getContentAreaContainer()))),fadeInClass:"tox-dialog-dock-fadein",fadeOutClass:"tox-dialog-dock-fadeout",transitionClass:"tox-dialog-dock-transition"},modes:["top"],lazyViewport:l=>ff(e,l.element).map(m=>({bounds:Oh(m),optScrollEnv:R.some({currentScrollTop:m.element.dom.scrollTop,scrollElmTop:Or(m.element).top})})).getOrThunk(()=>({bounds:Ua(),optScrollEnv:R.none()}))})],cM=e=>{const r=e.editor,s=_h(r),l=(w=>{const S=w.shared;return{open:(A,N)=>{const F=()=>{kl.hide(le),N()},$=Ta(K0({name:"close-alert",text:"OK",primary:!0,buttonType:R.some("primary"),align:"end",enabled:!0,icon:R.none()},"cancel",w)),W=uN(),se=dN(F,S.providers),le=yl(v5({lazySink:()=>S.getSink(),header:cN(W,se),body:mN(A,S.providers),footer:R.some(gN(pN([],[$.asSpec()]))),onEscape:F,extraClasses:["tox-alert-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[Kt(ep,F)],eventOrder:{}}));kl.show(le);const fe=$.get(le);er.focus(fe)}}})(e.backstages.dialog),m=(w=>{const S=w.shared;return{open:(A,N)=>{const F=X=>{kl.hide(fe),N(X)},$=Ta(K0({name:"yes",text:"Yes",primary:!0,buttonType:R.some("primary"),align:"end",enabled:!0,icon:R.none()},"submit",w)),W=K0({name:"no",text:"No",primary:!1,buttonType:R.some("secondary"),align:"end",enabled:!0,icon:R.none()},"cancel",w),se=uN(),le=dN(()=>F(!1),S.providers),fe=yl(v5({lazySink:()=>S.getSink(),header:cN(se,le),body:mN(A,S.providers),footer:R.some(gN(pN([],[W,$.asSpec()]))),onEscape:()=>F(!1),extraClasses:["tox-confirm-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[Kt(ep,()=>F(!1)),Kt(bf,()=>F(!0))],eventOrder:{}}));kl.show(fe);const te=$.get(fe);er.focus(te)}}})(e.backstages.dialog),g=(w,S)=>fv.open((A,N,F)=>{const $=N,W=((se,le,fe)=>{const te=un("dialog"),X=se.internalDialog,ue=yN(X.title,te,fe),ye=Sn(X.size),we=bA(ye.get()).toArray(),Ye=((dr,jr,gs)=>{const Vs=lN(dr,jr,R.none(),gs,!1);return kl.parts.body(Vs)})({body:X.body,initialData:X.initialData},te,fe),Tt=k5(X.buttons),Qt=SN(Tt),no=ln(Tt.length!==0,AN({buttons:Tt},te,fe)),oo=TN(()=>ar,xN(()=>pn,fe.shared.providers,le),fe.shared.getSink),Uo={id:te,header:ue,body:Ye,footer:no,extraClasses:we,extraBehaviours:[ku.config({channel:`${$w}-${te}`,updateState:(dr,jr)=>(ye.set(jr.internalDialog.size),kN(jr.internalDialog.size,dr),R.some(jr)),initialData:se})],extraStyles:{}},pn=CN(Uo,oo,fe),Mn={getId:me(te),getRoot:me(pn),getBody:()=>kl.getBody(pn),getFooter:()=>kl.getFooter(pn),getFormWrapper:()=>{const dr=kl.getBody(pn);return Gr.getCurrent(dr).getOr(dr)},toggleFullscreen:()=>{_N(pn,ye.get())}},ar=NN(Mn,le.redial,Qt);return{dialog:pn,instanceApi:ar}})({dataValidator:F,initialData:$,internalDialog:A},{redial:fv.redial,closeWindow:()=>{kl.hide(W.dialog),S(W.instanceApi)}},e.backstages.dialog);return kl.show(W.dialog),W.instanceApi.setData($),W.instanceApi},w),h=(w,S,A,N)=>fv.open((F,$,W)=>{const se=RN($,W),le=ms(),fe=e.backstages.popup.shared.header.isPositionedAtTop(),te=()=>le.on(ye=>{Rs.reposition(ye),s&&fe||di.refresh(ye)}),X=MN({dataValidator:W,initialData:se,internalDialog:F},{redial:fv.redial,closeWindow:()=>{le.on(Rs.hide),r.off("ResizeEditor",te),le.clear(),A(X.instanceApi)}},e.backstages.popup,N.ariaAttrs,te),ue=yl(Rs.sketch({lazySink:e.backstages.popup.shared.getSink,dom:{tag:"div",classes:[]},fireDismissalEventInstead:N.persistent?{event:"doNotDismissYet"}:{},...fe?{}:{fireRepositionEventInstead:{}},inlineBehaviours:Oo([Tr("window-manager-inline-events",[Kt(Ou(),(ye,we)=>{$r(X.dialog,ep)})]),...lM(r,s,fe)]),isExtraPart:(ye,we)=>BN(we)}));return le.set(ue),Rs.showWithinBounds(ue,Tc(X.dialog),{anchor:S},()=>{const ye=r.inline?ws():St(r.getContainer()),we=Fa(ye);return R.some(we)}),s&&fe||(di.refresh(ue),r.on("ResizeEditor",te)),X.instanceApi.setData(se),Dn.focusIn(X.dialog),X.instanceApi},w),x=(w,S,A,N)=>fv.open((F,$,W)=>{const se=RN($,W),le=ms(),fe=e.backstages.popup.shared.header.isPositionedAtTop(),te=()=>le.on(ye=>{Rs.reposition(ye),di.refresh(ye)}),X=MN({dataValidator:W,initialData:se,internalDialog:F},{redial:fv.redial,closeWindow:()=>{le.on(Rs.hide),r.off("ResizeEditor ScrollWindow ElementScroll",te),le.clear(),A(X.instanceApi)}},e.backstages.popup,N.ariaAttrs,te),ue=yl(Rs.sketch({lazySink:e.backstages.popup.shared.getSink,dom:{tag:"div",classes:[]},fireDismissalEventInstead:N.persistent?{event:"doNotDismissYet"}:{},...fe?{}:{fireRepositionEventInstead:{}},inlineBehaviours:Oo([Tr("window-manager-inline-events",[Kt(Ou(),(ye,we)=>{$r(X.dialog,ep)})]),di.config({contextual:{lazyContext:()=>R.some(Fa(St(r.getContentAreaContainer()))),fadeInClass:"tox-dialog-dock-fadein",fadeOutClass:"tox-dialog-dock-fadeout",transitionClass:"tox-dialog-dock-transition"},modes:["top","bottom"],lazyViewport:ye=>ff(r,ye.element).map(we=>({bounds:Oh(we),optScrollEnv:R.some({currentScrollTop:we.element.dom.scrollTop,scrollElmTop:Or(we.element).top})})).getOrThunk(()=>({bounds:Ua(),optScrollEnv:R.none()}))})]),isExtraPart:(ye,we)=>BN(we)}));return le.set(ue),Rs.showWithinBounds(ue,Tc(X.dialog),{anchor:S},()=>e.backstages.popup.shared.getSink().toOptional().bind(ye=>{const we=ff(r,ye.element).map(Qt=>Oh(Qt)).getOr(Ua()),Ye=Fa(St(r.getContentAreaContainer())),Tt=Kc(Ye,we);return R.some(Ba(Tt.x,Tt.y,Tt.width,Tt.height-15))})),di.refresh(ue),r.on("ResizeEditor ScrollWindow ElementScroll ResizeWindow",te),X.instanceApi.setData(se),Dn.focusIn(X.dialog),X.instanceApi},w);return{open:(w,S,A)=>{if(!tn(S)){if(S.inline==="toolbar")return h(w,e.backstages.popup.shared.anchors.inlineDialog(),A,S);if(S.inline==="bottom")return x(w,e.backstages.popup.shared.anchors.inlineBottomDialog(),A,S);if(S.inline==="cursor")return h(w,e.backstages.popup.shared.anchors.cursor(),A,S)}return g(w,A)},openUrl:(w,S)=>((A,N)=>fv.openUrl(F=>{const $=iM(F,{closeWindow:()=>{kl.hide($.dialog),N($.instanceApi)}},r,e.backstages.dialog);return kl.show($.dialog),$.instanceApi},A))(w,S),alert:(w,S)=>{l.open(w,S)},close:w=>{w.close()},confirm:(w,S)=>{m.open(w,S)}}};fd.add("silver",e=>{(h=>{Ex(h),(x=>{const w=x.options.register,S=N=>co(N,io)?{value:SE(N),valid:!0}:{valid:!1,message:"Must be an array of strings."},A=N=>So(N)&&N>0?{value:N,valid:!0}:{valid:!1,message:"Must be a positive number."};w("color_map",{processor:S,default:["#BFEDD2","Light Green","#FBEEB8","Light Yellow","#F8CAC6","Light Red","#ECCAFA","Light Purple","#C2E0F4","Light Blue","#2DC26B","Green","#F1C40F","Yellow","#E03E2D","Red","#B96AD9","Purple","#3598DB","Blue","#169179","Dark Turquoise","#E67E23","Orange","#BA372A","Dark Red","#843FA1","Dark Purple","#236FA1","Dark Blue","#ECF0F1","Light Gray","#CED4D9","Medium Gray","#95A5A6","Gray","#7E8C8D","Dark Gray","#34495E","Navy Blue","#000000","Black","#ffffff","White"]}),w("color_map_background",{processor:S}),w("color_map_foreground",{processor:S}),w("color_cols",{processor:A,default:yy(x)}),w("color_cols_foreground",{processor:A,default:mw(x,Jg)}),w("color_cols_background",{processor:A,default:mw(x,uw)}),w("custom_colors",{processor:"boolean",default:!0}),w("color_default_foreground",{processor:"string",default:zh}),w("color_default_background",{processor:"string",default:zh})})(h),(x=>{const w=x.options.register;w("contextmenu_avoid_overlap",{processor:"string",default:""}),w("contextmenu_never_use_native",{processor:"boolean",default:!1}),w("contextmenu",{processor:S=>S===!1?{value:[],valid:!0}:io(S)||co(S,io)?{value:Dm(S),valid:!0}:{valid:!1,message:"Must be false or a string."},default:"link linkchecker image editimage table spellchecker configurepermanentpen"})})(h)})(e);let r=()=>Ua();const{dialogs:s,popups:l,renderUI:m}=x6(e,{getPopupSinkBounds:()=>r()});jE(e,l.backstage.shared);const g=cM({editor:e,backstages:{popup:l.backstage,dialog:s.backstage}});return{renderUI:()=>{const h=m();return ff(e,l.getMothership().element).each(x=>{r=()=>Oh(x)}),h},getWindowManagerImpl:me(g),getNotificationManagerImpl:()=>((h,x,w)=>{const S=x.backstage.shared,A=()=>{const N=Fa(St(h.getContentAreaContainer())),F=Ua(),$=mc(F.x,N.x,N.right),W=mc(F.y,N.y,N.bottom),se=Math.max(N.right,F.right),le=Math.max(N.bottom,F.bottom);return R.some(Ba($,W,se-$,le-W))};return{open:(N,F)=>{const $=()=>{F(),Rs.hide(se)},W=yl(q1.sketch({text:N.text,level:Rt(["success","error","warning","warn","info"],N.type)?N.type:void 0,progress:N.progressBar===!0,icon:N.icon,closeButton:N.closeButton,onAction:$,iconProvider:S.providers.icons,translationProvider:S.providers.translate})),se=yl(Rs.sketch({dom:{tag:"div",classes:["tox-notifications-container"]},lazySink:S.getSink,fireDismissalEventInstead:{},...S.header.isPositionedAtTop()?{}:{fireRepositionEventInstead:{}}}));w.add(se),So(N.timeout)&&N.timeout>0&&hx.setEditorTimeout(h,()=>{$()},N.timeout);const le={close:$,reposition:()=>{const fe=Tc(W),te={maxHeightFunction:wg()},X=h.notificationManager.getNotifications();if(X[0]===le){const ue={...S.anchors.banner(),overrides:te};Rs.showWithinBounds(se,fe,{anchor:ue},A)}else ht(X,le).each(ue=>{const ye=X[ue-1].getEl(),we={type:"node",root:ws(),node:R.some(St(ye)),overrides:te,layouts:{onRtl:()=>[yi],onLtr:()=>[yi]}};Rs.showWithinBounds(se,fe,{anchor:we},A)})},text:fe=>{q1.updateText(W,fe)},settings:N,getEl:()=>W.element.dom,progressBar:{value:fe=>{q1.updateProgress(W,fe)}}};return le},close:N=>{N.close()},getArgs:N=>N.settings}})(e,{backstage:l.backstage},l.getMothership())}})})();(function(){var xo=tinymce.util.Tools.resolve("tinymce.ModelManager");const Ko=p=>b=>(_=>{const T=typeof _;return _===null?"null":T==="object"&&Array.isArray(_)?"array":T==="object"&&(L=I=_,(Z=String).prototype.isPrototypeOf(L)||((Y=I.constructor)===null||Y===void 0?void 0:Y.name)===Z.name)?"string":T;var L,I,Z,Y})(b)===p,Io=p=>b=>typeof b===p,on=p=>b=>p===b,Qo=Ko("string"),io=Ko("object"),Po=Ko("array"),jt=on(null),ko=Io("boolean"),Mo=on(void 0),jo=p=>!(b=>b==null)(p),tn=Io("function"),To=Io("number"),Ue=()=>{},it=p=>()=>p,So=p=>p,co=(p,b)=>p===b;function he(p,...b){return(..._)=>{const T=b.concat(_);return p.apply(null,T)}}const Dt=p=>b=>!p(b),fo=p=>p(),me=it(!1),Ze=it(!0);class de{constructor(b,_){this.tag=b,this.value=_}static some(b){return new de(!0,b)}static none(){return de.singletonNone}fold(b,_){return this.tag?_(this.value):b()}isSome(){return this.tag}isNone(){return!this.tag}map(b){return this.tag?de.some(b(this.value)):de.none()}bind(b){return this.tag?b(this.value):de.none()}exists(b){return this.tag&&b(this.value)}forall(b){return!this.tag||b(this.value)}filter(b){return!this.tag||b(this.value)?this:de.none()}getOr(b){return this.tag?this.value:b}or(b){return this.tag?this:b}getOrThunk(b){return this.tag?this.value:b()}orThunk(b){return this.tag?this:b()}getOrDie(b){if(this.tag)return this.value;throw new Error(b??"Called getOrDie on None")}static from(b){return jo(b)?de.some(b):de.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(b){this.tag&&b(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}de.singletonNone=new de(!1);const rt=Array.prototype.slice,Yo=Array.prototype.indexOf,$t=Array.prototype.push,gn=(p,b)=>{return _=p,T=b,Yo.call(_,T)>-1;var _,T},Bo=(p,b)=>{for(let _=0,T=p.length;_<T;_++)if(b(p[_],_))return!0;return!1},Ct=(p,b)=>{const _=[];for(let T=0;T<p;T++)_.push(b(T));return _},R=(p,b)=>{const _=p.length,T=new Array(_);for(let L=0;L<_;L++){const I=p[L];T[L]=b(I,L)}return T},qe=(p,b)=>{for(let _=0,T=p.length;_<T;_++)b(p[_],_)},Je=(p,b)=>{const _=[],T=[];for(let L=0,I=p.length;L<I;L++){const Z=p[L];(b(Z,L)?_:T).push(Z)}return{pass:_,fail:T}},lt=(p,b)=>{const _=[];for(let T=0,L=p.length;T<L;T++){const I=p[T];b(I,T)&&_.push(I)}return _},Mt=(p,b,_)=>(((T,L)=>{for(let I=T.length-1;I>=0;I--)L(T[I],I)})(p,(T,L)=>{_=b(_,T,L)}),_),ht=(p,b,_)=>(qe(p,(T,L)=>{_=b(_,T,L)}),_),Rt=(p,b)=>((_,T,L)=>{for(let I=0,Z=_.length;I<Z;I++){const Y=_[I];if(T(Y,I))return de.some(Y);if(L(Y,I))break}return de.none()})(p,b,me),uo=(p,b)=>{for(let _=0,T=p.length;_<T;_++)if(b(p[_],_))return de.some(_);return de.none()},Bt=p=>{const b=[];for(let _=0,T=p.length;_<T;++_){if(!Po(p[_]))throw new Error("Arr.flatten item "+_+" was not an array, input: "+p);$t.apply(b,p[_])}return b},V=(p,b)=>Bt(R(p,b)),dt=(p,b)=>{for(let _=0,T=p.length;_<T;++_)if(b(p[_],_)!==!0)return!1;return!0},Ie=(p,b)=>{const _={};for(let T=0,L=p.length;T<L;T++){const I=p[T];_[String(I)]=b(I,T)}return _},Co=(p,b)=>b>=0&&b<p.length?de.some(p[b]):de.none(),Pt=p=>Co(p,0),lo=p=>Co(p,p.length-1),zo=(p,b)=>{for(let _=0;_<p.length;_++){const T=b(p[_],_);if(T.isSome())return T}return de.none()},to=Object.keys,Se=Object.hasOwnProperty,$e=(p,b)=>{const _=to(p);for(let T=0,L=_.length;T<L;T++){const I=_[T];b(p[I],I)}},ct=(p,b)=>gt(p,(_,T)=>({k:T,v:b(_,T)})),gt=(p,b)=>{const _={};return $e(p,(T,L)=>{const I=b(T,L);_[I.k]=I.v}),_},pe=(p,b)=>{const _=[];return $e(p,(T,L)=>{_.push(b(T,L))}),_},Oe=p=>pe(p,So),We=(p,b)=>Se.call(p,b),Fe=typeof window<"u"?window:Function("return this;")(),ge=(p,b)=>((_,T)=>{let L=T??Fe;for(let I=0;I<_.length&&L!=null;++I)L=L[_[I]];return L})(p.split("."),b),Me=Object.getPrototypeOf,at=p=>{const b=ge("ownerDocument.defaultView",p);return io(p)&&((_=>((T,L)=>{const I=((Z,Y)=>ge(Z,Y))(T,L);if(I==null)throw new Error(T+" not available on this browser");return I})("HTMLElement",_))(b).prototype.isPrototypeOf(p)||/^HTML\w*Element$/.test(Me(p).constructor.name))},ze=p=>p.dom.nodeName.toLowerCase(),Ge=p=>p.dom.nodeType,Gt=p=>b=>Ge(b)===p,Vt=p=>Ge(p)===8||ze(p)==="#comment",Xo=p=>$o(p)&&at(p.dom),$o=Gt(1),Zo=Gt(3),Gn=Gt(9),Pn=Gt(11),zn=p=>b=>$o(b)&&ze(b)===p,ut=(p,b,_)=>{if(!(Qo(_)||ko(_)||To(_)))throw console.error("Invalid call to Attribute.set. Key ",b,":: Value ",_,":: Element ",p),new Error("Attribute value was not simple");p.setAttribute(b,_+"")},zt=(p,b,_)=>{ut(p.dom,b,_)},Ft=(p,b)=>{const _=p.dom;$e(b,(T,L)=>{ut(_,L,T)})},vo=(p,b)=>{const _=p.dom.getAttribute(b);return _===null?void 0:_},Xt=(p,b)=>de.from(vo(p,b)),Vo=(p,b)=>{p.dom.removeAttribute(b)},$n=p=>ht(p.dom.attributes,(b,_)=>(b[_.name]=_.value,b),{}),Rr=p=>{if(p==null)throw new Error("Node cannot be null or undefined");return{dom:p}},Wt={fromHtml:(p,b)=>{const _=(b||document).createElement("div");if(_.innerHTML=p,!_.hasChildNodes()||_.childNodes.length>1){const T="HTML does not have a single root node";throw console.error(T,p),new Error(T)}return Rr(_.childNodes[0])},fromTag:(p,b)=>{const _=(b||document).createElement(p);return Rr(_)},fromText:(p,b)=>{const _=(b||document).createTextNode(p);return Rr(_)},fromDom:Rr,fromPoint:(p,b,_)=>de.from(p.dom.elementFromPoint(b,_)).map(Rr)},vr=(p,b)=>{const _=p.dom;if(_.nodeType!==1)return!1;{const T=_;if(T.matches!==void 0)return T.matches(b);if(T.msMatchesSelector!==void 0)return T.msMatchesSelector(b);if(T.webkitMatchesSelector!==void 0)return T.webkitMatchesSelector(b);if(T.mozMatchesSelector!==void 0)return T.mozMatchesSelector(b);throw new Error("Browser lacks native selectors")}},Fn=p=>p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11||p.childElementCount===0,ln=(p,b)=>{const _=b===void 0?document:b.dom;return Fn(_)?de.none():de.from(_.querySelector(p)).map(Wt.fromDom)},xr=(p,b)=>p.dom===b.dom,Ys=(p,b)=>{const _=p.dom,T=b.dom;return _!==T&&_.contains(T)},Yr=vr,Pa=p=>Wt.fromDom(p.dom.ownerDocument),cs=p=>Gn(p)?p:Pa(p),Ha=p=>de.from(p.dom.parentNode).map(Wt.fromDom),ja=p=>de.from(p.dom.parentElement).map(Wt.fromDom),$s=(p,b)=>{const _=tn(b)?b:me;let T=p.dom;const L=[];for(;T.parentNode!==null&&T.parentNode!==void 0;){const I=T.parentNode,Z=Wt.fromDom(I);if(L.push(Z),_(Z)===!0)break;T=I}return L},Us=p=>de.from(p.dom.previousSibling).map(Wt.fromDom),_a=p=>de.from(p.dom.nextSibling).map(Wt.fromDom),tt=p=>R(p.dom.childNodes,Wt.fromDom),_t=(p,b)=>{const _=p.dom.childNodes;return de.from(_[b]).map(Wt.fromDom)},Do=(p,b)=>{Ha(p).each(_=>{_.dom.insertBefore(b.dom,p.dom)})},St=(p,b)=>{_a(p).fold(()=>{Ha(p).each(_=>{kr(_,b)})},_=>{Do(_,b)})},zr=(p,b)=>{(T=>_t(T,0))(p).fold(()=>{kr(p,b)},T=>{p.dom.insertBefore(b.dom,T.dom)})},kr=(p,b)=>{p.dom.appendChild(b.dom)},Is=(p,b)=>{Do(p,b),kr(b,p)},Xr=(p,b)=>{qe(b,(_,T)=>{const L=T===0?p:b[T-1];St(L,_)})},gr=(p,b)=>{qe(b,_=>{kr(p,_)})},De=p=>{p.dom.textContent="",qe(tt(p),b=>{Ae(b)})},Ae=p=>{const b=p.dom;b.parentNode!==null&&b.parentNode.removeChild(b)},wt=p=>{const b=tt(p);b.length>0&&Xr(p,b),Ae(p)},It=(p,b)=>Wt.fromDom(p.dom.cloneNode(b)),dn=p=>It(p,!1),nn=p=>It(p,!0),sr=(p,b)=>{const _=Wt.fromTag(b),T=$n(p);return Ft(_,T),_},Vr=["tfoot","thead","tbody","colgroup"],Br=(p,b,_)=>({element:p,rowspan:b,colspan:_}),Jo=(p,b,_)=>({element:p,cells:b,section:_}),Ce=(p,b,_)=>({element:p,isNew:b,isLocked:_}),Ne=(p,b,_,T)=>({element:p,cells:b,section:_,isNew:T}),Zt=tn(Element.prototype.attachShadow)&&tn(Node.prototype.getRootNode),Lo=it(Zt),Ho=Zt?p=>Wt.fromDom(p.dom.getRootNode()):cs,rn=p=>Wt.fromDom(p.dom.host),Go=p=>{const b=Zo(p)?p.dom.parentNode:p.dom;if(b==null||b.ownerDocument===null)return!1;const _=b.ownerDocument;return(I=>{const Z=Ho(I);return Pn(Y=Z)&&jo(Y.dom.host)?de.some(Z):de.none();var Y})(Wt.fromDom(b)).fold(()=>_.body.contains(b),(T=Go,L=rn,I=>T(L(I))));var T,L},hn=p=>{const b=p.dom.body;if(b==null)throw new Error("Body is not available yet");return Wt.fromDom(b)},wn=(p,b)=>{let _=[];return qe(tt(p),T=>{b(T)&&(_=_.concat([T])),_=_.concat(wn(T,b))}),_},Un=(p,b,_)=>((T,L,I)=>lt($s(T,I),Z=>vr(Z,b)))(p,0,_),Ar=(p,b)=>((_,T)=>lt(tt(_),L=>vr(L,b)))(p),ra=(p,b)=>((_,T)=>{const L=T===void 0?document:T.dom;return Fn(L)?[]:R(L.querySelectorAll(_),Wt.fromDom)})(b,p);var Xs=(p,b,_,T,L)=>p(_,T)?de.some(_):tn(L)&&L(_)?de.none():b(_,T,L);const Zs=(p,b,_)=>{let T=p.dom;const L=tn(_)?_:me;for(;T.parentNode;){T=T.parentNode;const I=Wt.fromDom(T);if(b(I))return de.some(I);if(L(I))break}return de.none()},mi=(p,b,_)=>Xs((T,L)=>L(T),Zs,p,b,_),Wr=(p,b,_)=>Zs(p,T=>vr(T,b),_),rr=(p,b)=>((_,T)=>Rt(_.dom.childNodes,L=>{return I=Wt.fromDom(L),vr(I,b);var I}).map(Wt.fromDom))(p),Sr=(p,b)=>ln(b,p),va=(p,b,_)=>Xs((T,L)=>vr(T,L),Wr,p,b,_),Cs=(p,b,_=co)=>p.exists(T=>_(T,b)),za=p=>{const b=[],_=T=>{b.push(T)};for(let T=0;T<p.length;T++)p[T].each(_);return b},ws=(p,b)=>p?de.some(b):de.none(),As=(p,b,_)=>b===""||p.length>=b.length&&p.substr(_,_+b.length)===b,Aa=(p,b,_=0,T)=>{const L=p.indexOf(b,_);return L!==-1&&(!!Mo(T)||L+b.length<=T)},Kn=(p,b)=>As(p,b,0),Os=(p,b)=>As(p,b,p.length-b.length),Ma=(p=>b=>b.replace(p,""))(/^\s+|\s+$/g),Ca=p=>p.length>0,ds=p=>p.style!==void 0&&tn(p.style.getPropertyValue),xa=(p,b,_)=>{if(!Qo(_))throw console.error("Invalid call to CSS.set. Property ",b,":: Value ",_,":: Element ",p),new Error("CSS value must be a string: "+_);ds(p)&&p.style.setProperty(b,_)},Rn=(p,b,_)=>{const T=p.dom;xa(T,b,_)},Hi=(p,b)=>{const _=p.dom;$e(b,(T,L)=>{xa(_,L,T)})},Bn=(p,b)=>{const _=p.dom,T=window.getComputedStyle(_).getPropertyValue(b);return T!==""||Go(p)?T:ji(_,b)},ji=(p,b)=>ds(p)?p.style.getPropertyValue(b):"",go=(p,b)=>{const _=p.dom,T=ji(_,b);return de.from(T).filter(L=>L.length>0)},aa=(p,b)=>{((_,T)=>{ds(_)&&_.style.removeProperty(T)})(p.dom,b),Cs(Xt(p,"style").map(Ma),"")&&Vo(p,"style")},Ss=(p,b,_=0)=>Xt(p,b).map(T=>parseInt(T,10)).getOr(_),Ir=(p,b)=>Ss(p,b,1),gi=p=>zn("col")(p)?Ss(p,"span",1)>1:Ir(p,"colspan")>1,sc=p=>Ir(p,"rowspan")>1,Pr=(p,b)=>parseInt(Bn(p,b),10),ne=it(10),Be=it(10),Pe=(p,b)=>Nt(p,b,Ze),Nt=(p,b,_)=>V(tt(p),T=>vr(T,b)?_(T)?[T]:[]:Nt(T,b,_)),ho=(p,b)=>((_,T,L=me)=>L(T)?de.none():gn(_,ze(T))?de.some(T):Wr(T,_.join(","),I=>vr(I,"table")||L(I)))(["td","th"],p,b),bn=p=>Pe(p,"th,td"),kn=p=>vr(p,"colgroup")?Ar(p,"col"):V(Sa(p),b=>Ar(b,"col")),_r=(p,b)=>va(p,"table",b),Or=p=>Pe(p,"tr"),Sa=p=>_r(p).fold(it([]),b=>Ar(b,"colgroup")),ma=(p,b)=>R(p,_=>{if(ze(_)==="colgroup"){const T=R(kn(_),L=>{const I=Ss(L,"span",1);return Br(L,1,I)});return Jo(_,T,"colgroup")}{const T=R(bn(_),L=>{const I=Ss(L,"rowspan",1),Z=Ss(L,"colspan",1);return Br(L,I,Z)});return Jo(_,T,b(_))}}),Ga=p=>Ha(p).map(b=>{const _=ze(b);return(T=>gn(Vr,T))(_)?_:"tbody"}).getOr("tbody"),Q=p=>{const b=Or(p),_=[...Sa(p),...b];return ma(_,Ga)},Ee=p=>{let b,_=!1;return(...T)=>(_||(_=!0,b=p.apply(null,T)),b)},bt=()=>wo(0,0),wo=(p,b)=>({major:p,minor:b}),Zn={nu:wo,detect:(p,b)=>{const _=String(b).toLowerCase();return p.length===0?bt():((T,L)=>{const I=((Y,ae)=>{for(let be=0;be<Y.length;be++){const Le=Y[be];if(Le.test(ae))return Le}})(T,L);if(!I)return{major:0,minor:0};const Z=Y=>Number(L.replace(I,"$"+Y));return wo(Z(1),Z(2))})(p,_)},unknown:bt},U=(p,b)=>{const _=String(b).toLowerCase();return Rt(p,T=>T.search(_))},oe=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,xe=p=>b=>Aa(b,p),xt=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:p=>Aa(p,"edge/")&&Aa(p,"chrome")&&Aa(p,"safari")&&Aa(p,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,oe],search:p=>Aa(p,"chrome")&&!Aa(p,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:p=>Aa(p,"msie")||Aa(p,"trident")},{name:"Opera",versionRegexes:[oe,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:xe("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:xe("firefox")},{name:"Safari",versionRegexes:[oe,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:p=>(Aa(p,"safari")||Aa(p,"mobile/"))&&Aa(p,"applewebkit")}],po=[{name:"Windows",search:xe("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:p=>Aa(p,"iphone")||Aa(p,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:xe("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:xe("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:xe("linux"),versionRegexes:[]},{name:"Solaris",search:xe("sunos"),versionRegexes:[]},{name:"FreeBSD",search:xe("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:xe("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],Yn={browsers:it(xt),oses:it(po)},ga="Edge",ks="Chromium",_i="Opera",Js="Firefox",Vi="Safari",Qs=p=>{const b=p.current,_=p.version,T=L=>()=>b===L;return{current:b,version:_,isEdge:T(ga),isChromium:T(ks),isIE:T("IE"),isOpera:T(_i),isFirefox:T(Js),isSafari:T(Vi)}},ic=()=>Qs({current:void 0,version:Zn.unknown()}),_s=Qs,vc="Windows",je="Android",Ll="Linux",pd="macOS",Ci="Solaris",bp="FreeBSD",sa="ChromeOS",lc=p=>{const b=p.current,_=p.version,T=L=>()=>b===L;return{current:b,version:_,isWindows:T(vc),isiOS:T("iOS"),isAndroid:T(je),isMacOS:T(pd),isLinux:T(Ll),isSolaris:T(Ci),isFreeBSD:T(bp),isChromeOS:T(sa)}},ag=()=>lc({current:void 0,version:Zn.unknown()}),Si=lc,Gc=p=>window.matchMedia(p).matches;let Gi=Ee(()=>((p,b,_)=>{const T=Yn.browsers(),L=Yn.oses(),I=b.bind(ae=>((be,Le)=>zo(Le.brands,_e=>{const Re=_e.brand.toLowerCase();return Rt(be,Xe=>{var Et;return Re===((Et=Xe.brand)===null||Et===void 0?void 0:Et.toLowerCase())}).map(Xe=>({current:Xe.name,version:Zn.nu(parseInt(_e.version,10),0)}))}))(T,ae)).orThunk(()=>((ae,be)=>U(ae,be).map(Le=>{const _e=Zn.detect(Le.versionRegexes,be);return{current:Le.name,version:_e}}))(T,p)).fold(ic,_s),Z=((ae,be)=>U(ae,be).map(Le=>{const _e=Zn.detect(Le.versionRegexes,be);return{current:Le.name,version:_e}}))(L,p).fold(ag,Si),Y=((ae,be,Le,_e)=>{const Re=ae.isiOS()&&/ipad/i.test(Le)===!0,Xe=ae.isiOS()&&!Re,Et=ae.isiOS()||ae.isAndroid(),vt=Et||_e("(pointer:coarse)"),qt=Re||!Xe&&Et&&_e("(min-device-width:768px)"),eo=Xe||Et&&!qt,bo=be.isSafari()&&ae.isiOS()&&/safari/i.test(Le)===!1,ao=!eo&&!qt&&!bo;return{isiPad:it(Re),isiPhone:it(Xe),isTablet:it(qt),isPhone:it(eo),isTouch:it(vt),isAndroid:ae.isAndroid,isiOS:ae.isiOS,isWebView:it(bo),isDesktop:it(ao)}})(Z,I,p,_);return{browser:I,os:Z,deviceType:Y}})(navigator.userAgent,de.from(navigator.userAgentData),Gc));const Il=()=>Gi(),Yl=(p,b)=>{const _=L=>{const I=b(L);if(I<=0||I===null){const Z=Bn(L,p);return parseFloat(Z)||0}return I},T=(L,I)=>ht(I,(Z,Y)=>{const ae=Bn(L,Y),be=ae===void 0?0:parseInt(ae,10);return isNaN(be)?Z:Z+be},0);return{set:(L,I)=>{if(!To(I)&&!I.match(/^[0-9]+$/))throw new Error(p+".set accepts only positive integer values. Value was "+I);const Z=L.dom;ds(Z)&&(Z.style[p]=I+"px")},get:_,getOuter:_,aggregate:T,max:(L,I,Z)=>{const Y=T(L,Z);return I>Y?I-Y:0}}},Ki=(p,b,_)=>((T,L)=>(I=>{const Z=parseFloat(I);return isNaN(Z)?de.none():de.some(Z)})(T).getOr(L))(Bn(p,b),_),ie=Yl("width",p=>p.dom.offsetWidth),ve=p=>ie.get(p),yt=p=>ie.getOuter(p),Lt=p=>((b,_)=>{const T=b.dom,L=T.getBoundingClientRect().width||T.offsetWidth;return _==="border-box"?L:((I,Z,Y,ae)=>Z-Ki(I,`padding-${Y}`,0)-Ki(I,`padding-${ae}`,0)-Ki(I,`border-${Y}-width`,0)-Ki(I,`border-${ae}-width`,0))(b,L,"left","right")})(p,"content-box"),yn=(p,b,_)=>{const T=p.cells,L=T.slice(0,b),I=T.slice(b),Z=L.concat(_).concat(I);return ei(p,Z)},ur=(p,b,_)=>yn(p,b,[_]),Ra=(p,b,_)=>{p.cells[b]=_},ei=(p,b)=>Ne(p.element,b,p.section,p.isNew),ia=(p,b)=>p.cells[b],pa=(p,b)=>ia(p,b).element,Ps=p=>p.cells.length,ta=p=>{const b=Je(p,_=>_.section==="colgroup");return{rows:b.fail,cols:b.pass}},cc=(p,b,_)=>{const T=R(p.cells,_);return Ne(b(p.element),T,p.section,!0)},Xl="data-snooker-locked-cols",Ei=p=>Xt(p,Xl).bind(b=>de.from(b.match(/\d+/g))).map(b=>Ie(b,Ze)),xc=p=>{const b=ht(ta(p).rows,(T,L)=>(qe(L.cells,(I,Z)=>{I.isLocked&&(T[Z]=!0)}),T),{}),_=pe(b,(T,L)=>parseInt(L,10));return((T,L)=>{const I=rt.call(T,0);return I.sort(void 0),I})(_)},Es=(p,b)=>p+","+b,Ba=(p,b)=>{const _=V(p.all,T=>T.cells);return lt(_,b)},Fa=p=>{const b={},_=[],T=Pt(p).map(Re=>Re.element).bind(_r).bind(Ei).getOr({});let L=0,I=0,Z=0;const{pass:Y,fail:ae}=Je(p,Re=>Re.section==="colgroup");qe(ae,Re=>{const Xe=[];qe(Re.cells,Et=>{let vt=0;for(;b[Es(Z,vt)]!==void 0;)vt++;const qt=((bo,ao)=>We(bo,ao)&&bo[ao]!==void 0&&bo[ao]!==null)(T,vt.toString()),eo=((bo,ao,Eo,Ro,No,Ln)=>({element:bo,rowspan:ao,colspan:Eo,row:Ro,column:No,isLocked:Ln}))(Et.element,Et.rowspan,Et.colspan,Z,vt,qt);for(let bo=0;bo<Et.colspan;bo++)for(let ao=0;ao<Et.rowspan;ao++){const Eo=vt+bo,Ro=Es(Z+ao,Eo);b[Ro]=eo,I=Math.max(I,Eo+1)}Xe.push(eo)}),L++,_.push(Jo(Re.element,Xe,Re.section)),Z++});const{columns:be,colgroups:Le}=lo(Y).map(Re=>{const Xe=(vt=>{const qt={};let eo=0;return qe(vt.cells,bo=>{const ao=bo.colspan;Ct(ao,Eo=>{const Ro=eo+Eo;qt[Ro]=((No,Ln,qn)=>({element:No,colspan:Ln,column:qn}))(bo.element,ao,Ro)}),eo+=ao}),qt})(Re);return{colgroups:[((vt,qt)=>({element:vt,columns:qt}))(Re.element,Oe(Xe))],columns:Xe}}).getOrThunk(()=>({colgroups:[],columns:{}}));return{grid:((Re,Xe)=>({rows:Re,columns:Xe}))(L,I),access:b,all:_,columns:be,colgroups:Le}},ts=p=>{const b=Q(p);return Fa(b)},Kc=Fa,Ua=(p,b,_)=>de.from(p.access[Es(b,_)]),fd=(p,b,_)=>{const T=Ba(p,L=>_(b,L.element));return T.length>0?de.some(T[0]):de.none()},Yc=Ba,nl=p=>V(p.all,b=>b.cells),Fr=p=>Oe(p.columns),ti=p=>to(p.columns).length>0,Zd=(p,b)=>de.from(p.columns[b]),hd=(p,b=Ze)=>{const _=p.grid,T=Ct(_.columns,So),L=Ct(_.rows,So);return R(T,I=>qd(()=>V(L,Z=>Ua(p,Z,I).filter(Y=>Y.column===I).toArray()),Z=>Z.colspan===1&&b(Z.element),()=>Ua(p,0,I)))},qd=(p,b,_)=>{const T=p();return Rt(T,b).orThunk(()=>de.from(T[0]).orThunk(_)).map(L=>L.element)},Yi=p=>{const b=p.grid,_=Ct(b.rows,So),T=Ct(b.columns,So);return R(_,L=>qd(()=>V(T,I=>Ua(p,L,I).filter(Z=>Z.row===L).fold(it([]),Z=>[Z])),I=>I.rowspan===1,()=>Ua(p,L,0)))},Mc=(p,b)=>_=>om(_)==="rtl"?b:p,om=p=>Bn(p,"direction")==="rtl"?"rtl":"ltr",_u=Yl("height",p=>{const b=p.dom;return Go(p)?b.getBoundingClientRect().height:b.offsetHeight}),Wd=p=>_u.get(p),rl=p=>_u.getOuter(p),Da=(p,b)=>({left:p,top:b,translate:(_,T)=>Da(p+_,b+T)}),Jl=Da,os=(p,b)=>p!==void 0?p:b!==void 0?b:0,Dc=p=>{const b=p.dom.ownerDocument,_=b.body,T=b.defaultView,L=b.documentElement;if(_===p.dom)return Jl(_.offsetLeft,_.offsetTop);const I=os(T?.pageYOffset,L.scrollTop),Z=os(T?.pageXOffset,L.scrollLeft),Y=os(L.clientTop,_.clientTop),ae=os(L.clientLeft,_.clientLeft);return dc(p).translate(Z-ae,I-Y)},dc=p=>{const b=p.dom,_=b.ownerDocument.body;return _===b?Jl(_.offsetLeft,_.offsetTop):Go(p)?(T=>{const L=T.getBoundingClientRect();return Jl(L.left,L.top)})(b):Jl(0,0)},bd=(p,b)=>({row:p,y:b}),Ea=(p,b)=>({col:p,x:b}),_l=p=>Dc(p).left+yt(p),Xc=p=>Dc(p).left,yd=(p,b)=>Ea(p,Xc(b)),wc=(p,b)=>Ea(p,_l(b)),Jc=p=>Dc(p).top,Gd=(p,b)=>bd(p,Jc(b)),vd=(p,b)=>bd(p,Jc(b)+rl(b)),pi=(p,b,_)=>{if(_.length===0)return[];const T=R(_.slice(1),(I,Z)=>I.map(Y=>p(Z,Y))),L=_[_.length-1].map(I=>b(_.length-1,I));return T.concat([L])},Cn={delta:So,positions:p=>pi(Gd,vd,p),edge:Jc},Ql=Mc({delta:So,edge:Xc,positions:p=>pi(yd,wc,p)},{delta:p=>-p,edge:_l,positions:p=>pi(wc,yd,p)}),ec={delta:(p,b)=>Ql(b).delta(p,b),positions:(p,b)=>Ql(b).positions(p,b),edge:p=>Ql(p).edge(p)},yp={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},Kd=(()=>{const p="[0-9]+",b="[eE][+-]?"+p,_=L=>`(?:${L})?`,T=["Infinity",p+"\\."+_(p)+_(b),"\\."+p+_(b),p+_(b)].join("|");return new RegExp(`^([+-]?(?:${T}))(.*)$`)})(),Cl=/(\d+(\.\d+)?)%/,nm=/(\d+(\.\d+)?)px|em/,rm=zn("col"),wa=(p,b,_)=>{const T=ja(p).getOrThunk(()=>hn(Pa(p)));return b(p)/_(T)*100},Qc=(p,b)=>{Rn(p,"width",b+"px")},Ns=(p,b)=>{Rn(p,"width",b+"%")},kc=(p,b)=>{Rn(p,"height",b+"px")},Rm=p=>{const b=(_=>{return Ki(T=_,"height",T.dom.offsetHeight)+"px";var T})(p);return b?((_,T,L,I)=>{const Z=parseFloat(_);return Os(_,"%")&&ze(T)!=="table"?((Y,ae,be,Le)=>{const _e=_r(Y).map(Re=>{const Xe=be(Re);return Math.floor(ae/100*Xe)}).getOr(ae);return Le(Y,_e),_e})(T,Z,L,I):Z})(b,p,Wd,kc):Wd(p)},an=(p,b)=>go(p,b).orThunk(()=>Xt(p,b).map(_=>_+"px")),Ti=p=>an(p,"width"),Cu=p=>wa(p,ve,Lt),ka=p=>{return rm(p)?ve(p):Ki(b=p,"width",b.dom.offsetWidth);var b},Sl=p=>((b,_,T)=>T(b)/Ir(b,"rowspan"))(p,0,Rm),fi=(p,b,_)=>{Rn(p,"width",b+_)},El=p=>wa(p,ve,Lt)+"%",Ms=it(Cl),Su=zn("col"),oi=p=>Ti(p).getOrThunk(()=>ka(p)+"px"),ro=p=>{return(b=p,an(b,"height")).getOrThunk(()=>Sl(p)+"px");var b},Eu=(p,b,_,T,L,I)=>p.filter(T).fold(()=>I(((Z,Y)=>{if(Y<0||Y>=Z.length-1)return de.none();const ae=Z[Y].fold(()=>{const Le=(_e=>{const Re=rt.call(_e,0);return Re.reverse(),Re})(Z.slice(0,Y));return zo(Le,(_e,Re)=>_e.map(Xe=>({value:Xe,delta:Re+1})))},Le=>de.some({value:Le,delta:0})),be=Z[Y+1].fold(()=>{const Le=Z.slice(Y+1);return zo(Le,(_e,Re)=>_e.map(Xe=>({value:Xe,delta:Re+1})))},Le=>de.some({value:Le,delta:1}));return ae.bind(Le=>be.map(_e=>{const Re=_e.delta+Le.delta;return Math.abs(_e.value-Le.value)/Re}))})(_,b)),Z=>L(Z)),Yt=(p,b,_,T)=>{const L=hd(p),I=ti(p)?(ae=>R(Fr(ae),be=>de.from(be.element)))(p):L,Z=[de.some(ec.edge(b))].concat(R(ec.positions(L,b),ae=>ae.map(be=>be.x))),Y=Dt(gi);return R(I,(ae,be)=>Eu(ae,be,Z,Y,Le=>{if((Re=>{const Xe=Il().browser,Et=Xe.isChromium()||Xe.isFirefox();return!Su(Re)||Et})(Le))return _(Le);{const Re=(_e=L[be])!=null?So(_e):de.none();return Eu(Re,be,Z,Y,Xe=>T(de.some(ve(Xe))),T)}var _e},T))},ni=p=>p.map(b=>b+"px").getOr(""),xd=(p,b,_)=>Yt(p,b,ka,T=>T.getOrThunk(_.minCellWidth)),us=(p,b,_,T,L)=>{const I=Yi(p),Z=[de.some(_.edge(b))].concat(R(_.positions(I,b),Y=>Y.map(ae=>ae.y)));return R(I,(Y,ae)=>Eu(Y,ae,Z,Dt(sc),T,L))},da=(p,b)=>()=>Go(p)?b(p):parseFloat(go(p,"width").getOr("0")),ml=p=>{const b=da(p,T=>parseFloat(El(T))),_=da(p,ve);return{width:b,pixelWidth:_,getWidths:(T,L)=>((I,Z,Y)=>Yt(I,Z,Cu,ae=>ae.fold(()=>Y.minCellWidth(),be=>be/Y.pixelWidth()*100)))(T,p,L),getCellDelta:T=>T/_()*100,singleColumnWidth:(T,L)=>[100-T],minCellWidth:()=>ne()/_()*100,setElementWidth:Ns,adjustTableWidth:T=>{const L=b();Ns(p,L+T/100*L)},isRelative:!0,label:"percent"}},zi=p=>{const b=da(p,ve);return{width:b,pixelWidth:b,getWidths:(_,T)=>xd(_,p,T),getCellDelta:So,singleColumnWidth:(_,T)=>[Math.max(ne(),_+T)-_],minCellWidth:ne,setElementWidth:Qc,adjustTableWidth:_=>{const T=b()+_;Qc(p,T)},isRelative:!1,label:"pixel"}},Oa=p=>Ti(p).fold(()=>(b=>{const _=da(b,ve),T=it(0);return{width:_,pixelWidth:_,getWidths:(L,I)=>xd(L,b,I),getCellDelta:T,singleColumnWidth:it([0]),minCellWidth:T,setElementWidth:Ue,adjustTableWidth:Ue,isRelative:!0,label:"none"}})(p),b=>((_,T)=>Ms().exec(T)!==null?ml(_):zi(_))(p,b)),al=zi,la=ml,$i=(p,b,_)=>{const T=p[_].element,L=Wt.fromTag("td");kr(L,Wt.fromTag("br")),(b?kr:zr)(T,L)},Yd=((p,b)=>{const _=T=>p(T)?de.from(T.dom.nodeValue):de.none();return{get:T=>{if(!p(T))throw new Error("Can only get text value of a text node");return _(T).getOr("")},getOption:_,set:(T,L)=>{if(!p(T))throw new Error("Can only set raw text value of a text node");T.dom.nodeValue=L}}})(Zo),Hs=p=>Yd.get(p),sg=p=>Yd.getOption(p),Tl=(p,b)=>Yd.set(p,b),ns=p=>ze(p)==="img"?1:sg(p).fold(()=>tt(p).length,b=>b.length),gl=["img","br"],ft=p=>sg(p).filter(b=>b.trim().length!==0||b.indexOf(" ")>-1).isSome()||gn(gl,ze(p))||(b=>Xo(b)&&vo(b,"contenteditable")==="false")(p),Ai=p=>((b,_)=>{const T=L=>{for(let I=0;I<L.childNodes.length;I++){const Z=Wt.fromDom(L.childNodes[I]);if(_(Z))return de.some(Z);const Y=T(L.childNodes[I]);if(Y.isSome())return Y}return de.none()};return T(b.dom)})(p,ft),wd=p=>zl(p,ft),zl=(p,b)=>{const _=T=>{const L=tt(T);for(let I=L.length-1;I>=0;I--){const Z=L[I];if(b(Z))return de.some(Z);const Y=_(Z);if(Y.isSome())return Y}return de.none()};return _(p)},pl={scope:["row","col"]},ri=p=>()=>{const b=Wt.fromTag("td",p.dom);return kr(b,Wt.fromTag("br",p.dom)),b},hs=p=>()=>Wt.fromTag("col",p.dom),uc=p=>()=>Wt.fromTag("colgroup",p.dom),Bm=p=>()=>Wt.fromTag("tr",p.dom),Sn=(p,b,_)=>{const T=((L,I)=>{const Z=sr(L,I),Y=tt(nn(L));return gr(Z,Y),Z})(p,b);return $e(_,(L,I)=>{L===null?Vo(T,I):zt(T,I,L)}),T},Ui=p=>p,Xi=(p,b,_)=>{const T=(L,I)=>{((Z,Y)=>{const ae=Z.dom,be=Y.dom;ds(ae)&&ds(be)&&(be.style.cssText=ae.style.cssText)})(L.element,I),aa(I,"height"),L.colspan!==1&&aa(I,"width")};return{col:L=>{const I=Wt.fromTag(ze(L.element),b.dom);return T(L,I),p(L.element,I),I},colgroup:uc(b),row:Bm(b),cell:L=>{const I=Wt.fromTag(ze(L.element),b.dom),Z=_.getOr(["strong","em","b","i","span","font","h1","h2","h3","h4","h5","h6","p","div"]),Y=Z.length>0?((ae,be,Le)=>Ai(ae).map(_e=>{const Re=Le.join(","),Xe=Un(_e,Re,Et=>xr(Et,ae));return Mt(Xe,(Et,vt)=>{const qt=dn(vt);return kr(Et,qt),qt},be)}).getOr(be))(L.element,I,Z):I;return kr(Y,Wt.fromTag("br")),T(L,I),((ae,be)=>{$e(pl,(Le,_e)=>Xt(ae,_e).filter(Re=>gn(Le,Re)).each(Re=>zt(be,_e,Re)))})(L.element,I),p(L.element,I),I},replace:Sn,colGap:hs(b),gap:ri(b)}},Oi=p=>({col:hs(p),colgroup:uc(p),row:Bm(p),cell:ri(p),replace:Ui,colGap:hs(p),gap:ri(p)}),Za=p=>b=>b.options.get(p),_c="100%",qs=p=>{var b;const _=p.dom,T=(b=_.getParent(p.selection.getStart(),_.isBlock))!==null&&b!==void 0?b:p.getBody();return Lt(Wt.fromDom(T))+"px"},Tu=p=>de.from(p.options.get("table_clone_elements")),kd=Za("table_header_type"),Pl=Za("table_column_resizing"),bs=p=>Pl(p)==="preservetable",Ws=p=>Pl(p)==="resizetable",ed=Za("table_sizing_mode"),Hl=p=>ed(p)==="relative",_d=p=>ed(p)==="fixed",ai=p=>ed(p)==="responsive",z=Za("table_resize_bars"),H=Za("table_style_by_css"),J=Za("table_merge_content_on_paste"),Te=p=>{const b=p.options,_=b.get("table_default_attributes");return b.isSet("table_default_attributes")?_:((T,L)=>ai(T)||H(T)?L:_d(T)?{...L,width:qs(T)}:{...L,width:_c})(p,_)},He=Za("table_use_colgroups"),_o=p=>va(p,"[contenteditable]"),fn=(p,b=!1)=>Go(p)?p.dom.isContentEditable:_o(p).fold(it(b),_=>ir(_)==="true"),ir=p=>p.dom.contentEditable,Hn=p=>Wt.fromDom(p.getBody()),Tn=p=>b=>xr(b,Hn(p)),fa=p=>{Vo(p,"data-mce-style");const b=_=>Vo(_,"data-mce-style");qe(bn(p),b),qe(kn(p),b),qe(Or(p),b)},Ka=p=>Wt.fromDom(p.selection.getStart()),Ni=p=>p.getBoundingClientRect().width,td=p=>p.getBoundingClientRect().height,Bf=p=>mi(p,zn("table")).exists(fn),ss=(p,b)=>{const _=b.column,T=b.column+b.colspan-1,L=b.row,I=b.row+b.rowspan-1;return _<=p.finishCol&&T>=p.startCol&&L<=p.finishRow&&I>=p.startRow},xv=(p,b)=>b.column>=p.startCol&&b.column+b.colspan-1<=p.finishCol&&b.row>=p.startRow&&b.row+b.rowspan-1<=p.finishRow,Xd=(p,b,_)=>{const T=fd(p,b,xr),L=fd(p,_,xr);return T.bind(I=>L.map(Z=>{return Y=I,ae=Z,{startRow:Math.min(Y.row,ae.row),startCol:Math.min(Y.column,ae.column),finishRow:Math.max(Y.row+Y.rowspan-1,ae.row+ae.rowspan-1),finishCol:Math.max(Y.column+Y.colspan-1,ae.column+ae.colspan-1)};var Y,ae}))},vp=(p,b,_)=>Xd(p,b,_).map(T=>{const L=Yc(p,he(ss,T));return R(L,I=>I.element)}),am=(p,b)=>fd(p,b,(_,T)=>Ys(T,_)).map(_=>_.element),Cd=(p,b,_)=>{const T=Jd(p);return vp(T,b,_)},fl=(p,b,_,T,L)=>{const I=Jd(p),Z=xr(p,_)?de.some(b):am(I,b),Y=xr(p,L)?de.some(T):am(I,T);return Z.bind(ae=>Y.bind(be=>vp(I,ae,be)))},Jd=ts;var Fm=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","li","table","thead","tbody","tfoot","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],ys=()=>({up:it({selector:Wr,closest:va,predicate:Zs,all:$s}),down:it({selector:ra,predicate:wn}),styles:it({get:Bn,getRaw:go,set:Rn,remove:aa}),attrs:it({get:vo,set:zt,remove:Vo,copyTo:(p,b)=>{const _=$n(p);Ft(b,_)}}),insert:it({before:Do,after:St,afterAll:Xr,append:kr,appendAll:gr,prepend:zr,wrap:Is}),remove:it({unwrap:wt,remove:Ae}),create:it({nu:Wt.fromTag,clone:p=>Wt.fromDom(p.dom.cloneNode(!1)),text:Wt.fromText}),query:it({comparePosition:(p,b)=>p.dom.compareDocumentPosition(b.dom),prevSibling:Us,nextSibling:_a}),property:it({children:tt,name:ze,parent:Ha,document:p=>cs(p).dom,isText:Zo,isComment:Vt,isElement:$o,isSpecial:p=>{const b=ze(p);return gn(["script","noscript","iframe","noframes","noembed","title","style","textarea","xmp"],b)},getLanguage:p=>$o(p)?Xt(p,"lang"):de.none(),getText:Hs,setText:Tl,isBoundary:p=>!!$o(p)&&(ze(p)==="body"||gn(Fm,ze(p))),isEmptyTag:p=>!!$o(p)&&gn(["br","img","hr","input"],ze(p)),isNonEditable:p=>$o(p)&&vo(p,"contenteditable")==="false"}),eq:xr,is:Yr});const Sd=(p,b,_,T)=>{const L=b(p,_);return Mt(T,(I,Z)=>{const Y=b(p,Z);return ig(p,I,Y)},L)},ig=(p,b,_)=>b.bind(T=>_.filter(he(p.eq,T))),Lm=ys(),Ff=(p,b)=>((_,T,L)=>L.length>0?((I,Z,Y,ae)=>ae(I,Z,Y[0],Y.slice(1)))(_,T,L,Sd):de.none())(Lm,(_,T)=>p(T),b),Im=p=>Wr(p,"table"),zu=(p,b,_)=>{const T=L=>I=>_!==void 0&&_(I)||xr(I,L);return xr(p,b)?de.some({boxes:de.some([p]),start:p,finish:b}):Im(p).bind(L=>Im(b).bind(I=>{if(xr(L,I))return de.some({boxes:Cd(L,p,b),start:p,finish:b});if(Ys(L,I)){const Z=Un(b,"td,th",T(L)),Y=Z.length>0?Z[Z.length-1]:b;return de.some({boxes:fl(L,p,L,b,I),start:p,finish:Y})}if(Ys(I,L)){const Z=Un(p,"td,th",T(I)),Y=Z.length>0?Z[Z.length-1]:p;return de.some({boxes:fl(I,p,L,b,I),start:p,finish:Y})}return((Z,Y,ae)=>((be,Le,_e,Re=me)=>{const Xe=[Le].concat(be.up().all(Le)),Et=[_e].concat(be.up().all(_e)),vt=ao=>uo(ao,Re).fold(()=>ao,Eo=>ao.slice(0,Eo+1)),qt=vt(Xe),eo=vt(Et),bo=Rt(qt,ao=>Bo(eo,((Eo,Ro)=>he(Eo.eq,Ro))(be,ao)));return{firstpath:qt,secondpath:eo,shared:bo}})(Lm,Z,Y,void 0))(p,b).shared.bind(Z=>va(Z,"table",_).bind(Y=>{const ae=Un(b,"td,th",T(Y)),be=ae.length>0?ae[ae.length-1]:b,Le=Un(p,"td,th",T(Y)),_e=Le.length>0?Le[Le.length-1]:p;return de.some({boxes:fl(Y,p,L,b,I),start:_e,finish:be})}))}))},Au=(p,b)=>{const _=ra(p,b);return _.length>0?de.some(_):de.none()},Rc=(p,b,_)=>Sr(p,b).bind(T=>Sr(p,_).bind(L=>Ff(Im,[T,L]).map(I=>({first:T,last:L,table:I})))),sm=(p,b,_,T,L)=>((I,Z)=>Rt(I,Y=>vr(Y,Z)))(p,L).bind(I=>((Z,Y,ae)=>_r(Z).bind(be=>((Le,_e,Re,Xe)=>fd(Le,_e,xr).bind(Et=>{const vt=Re>0?Et.row+Et.rowspan-1:Et.row,qt=Xe>0?Et.column+Et.colspan-1:Et.column;return Ua(Le,vt+Re,qt+Xe).map(eo=>eo.element)}))(Jd(be),Z,Y,ae)))(I,b,_).bind(Z=>((Y,ae)=>Wr(Y,"table").bind(be=>Sr(be,ae).bind(Le=>zu(Le,Y).bind(_e=>_e.boxes.map(Re=>({boxes:Re,start:_e.start,finish:_e.finish}))))))(Z,T))),Ou=(p,b)=>Au(p,b),xp=(p,b,_)=>Rc(p,b,_).bind(T=>{const L=ae=>xr(p,ae),I="thead,tfoot,tbody,table",Z=Wr(T.first,I,L),Y=Wr(T.last,I,L);return Z.bind(ae=>Y.bind(be=>xr(ae,be)?((Le,_e,Re)=>((Xe,Et,vt)=>Xd(Xe,Et,vt).bind(qt=>((eo,bo)=>{let ao=!0;const Eo=he(xv,bo);for(let Ro=bo.startRow;Ro<=bo.finishRow;Ro++)for(let No=bo.startCol;No<=bo.finishCol;No++)ao=ao&&Ua(eo,Ro,No).exists(Eo);return ao?de.some(bo):de.none()})(Xe,qt)))(Jd(Le),_e,Re))(T.table,T.first,T.last):de.none()))}),lg=So,cg=p=>{const b=(_,T)=>Xt(_,T).exists(L=>parseInt(L,10)>1);return p.length>0&&dt(p,_=>b(_,"rowspan")||b(_,"colspan"))?de.some(p):de.none()},wp=(p,b,_)=>b.length<=1?de.none():xp(p,_.firstSelectedSelector,_.lastSelectedSelector).map(T=>({bounds:T,cells:b})),im="data-mce-selected",Ed="data-mce-first-selected",dg="data-mce-last-selected",Pm="["+im+"]",$r={selected:im,selectedSelector:"td["+im+"],th["+im+"]",firstSelected:Ed,firstSelectedSelector:"td["+Ed+"],th["+Ed+"]",lastSelected:dg,lastSelectedSelector:"td["+dg+"],th["+dg+"]"},_n=(p,b,_)=>({element:_,mergable:wp(b,p,$r),unmergable:cg(p),selection:lg(p)}),Qd=p=>(b,_)=>{const T=ze(b),L=T==="col"||T==="colgroup"?_r(I=b).bind(Z=>Ou(Z,$r.firstSelectedSelector)).fold(it(I),Z=>Z[0]):b;var I;return va(L,p,_)},kp=Qd("th,td,caption"),Hm=Qd("th,td"),Bc=p=>{return b=p.model.table.getSelectedCells(),R(b,Wt.fromDom);var b},qa=(p,b)=>{p.on("BeforeGetContent",_=>{const T=L=>{_.preventDefault(),(I=>_r(I[0]).map(Z=>{const Y=((ae,be)=>{const Le=ao=>vr(ao.element,be),_e=nn(ae),Re=Q(_e),Xe=Oa(ae),Et=Kc(Re),vt=((ao,Eo)=>{const Ro=ao.grid.columns;let No=ao.grid.rows,Ln=Ro,qn=0,Qr=0;const or=[],Mr=[];return $e(ao.access,Er=>{if(or.push(Er),Eo(Er)){Mr.push(Er);const ca=Er.row,zs=ca+Er.rowspan-1,il=Er.column,ii=il+Er.colspan-1;ca<No?No=ca:zs>qn&&(qn=zs),il<Ln?Ln=il:ii>Qr&&(Qr=ii)}}),((Er,ca,zs,il,ii,ql)=>({minRow:Er,minCol:ca,maxRow:zs,maxCol:il,allCells:ii,selectedCells:ql}))(No,Ln,qn,Qr,or,Mr)})(Et,Le),qt="th:not("+be+"),td:not("+be+")",eo=Nt(_e,"th,td",ao=>vr(ao,qt));qe(eo,Ae),((ao,Eo,Ro,No)=>{const Ln=lt(ao,or=>or.section!=="colgroup"),qn=Eo.grid.columns,Qr=Eo.grid.rows;for(let or=0;or<Qr;or++){let Mr=!1;for(let Er=0;Er<qn;Er++)or<Ro.minRow||or>Ro.maxRow||Er<Ro.minCol||Er>Ro.maxCol||(Ua(Eo,or,Er).filter(No).isNone()?$i(Ln,Mr,or):Mr=!0)}})(Re,Et,vt,Le);const bo=((ao,Eo,Ro,No)=>{if(No.minCol===0&&Eo.grid.columns===No.maxCol+1)return 0;const Ln=xd(Eo,ao,Ro),qn=ht(Ln,(Mr,Er)=>Mr+Er,0),Qr=ht(Ln.slice(No.minCol,No.maxCol+1),(Mr,Er)=>Mr+Er,0),or=Qr/qn*Ro.pixelWidth()-Ro.pixelWidth();return Ro.getCellDelta(or)})(ae,ts(ae),Xe,vt);return((ao,Eo,Ro,No)=>{$e(Ro.columns,qn=>{(qn.column<Eo.minCol||qn.column>Eo.maxCol)&&Ae(qn.element)});const Ln=lt(Pe(ao,"tr"),qn=>qn.dom.childElementCount===0);qe(Ln,Ae),Eo.minCol!==Eo.maxCol&&Eo.minRow!==Eo.maxRow||qe(Pe(ao,"th,td"),qn=>{Vo(qn,"rowspan"),Vo(qn,"colspan")}),Vo(ao,Xl),Vo(ao,"data-snooker-col-series"),Oa(ao).adjustTableWidth(No)})(_e,vt,Et,bo),_e})(Z,Pm);return fa(Y),[Y]}))(L).each(I=>{_.content=_.format==="text"?(Z=>R(Z,Y=>Y.dom.innerText).join(""))(I):((Z,Y)=>R(Y,ae=>Z.selection.serializer.serialize(ae.dom,{})).join(""))(p,I)})};if(_.selection===!0){const L=(I=>lt(Bc(I),Z=>vr(Z,$r.selectedSelector)))(p);L.length>=1&&T(L)}}),p.on("BeforeSetContent",_=>{if(_.selection===!0&&_.paste===!0){const T=Bc(p);Pt(T).each(L=>{_r(L).each(I=>{const Z=lt(((ae,be)=>{const Le=document.createElement("div");return Le.innerHTML=ae,tt(Wt.fromDom(Le))})(_.content),ae=>ze(ae)!=="meta"),Y=zn("table");if(J(p)&&Z.length===1&&Y(Z[0])){_.preventDefault();const ae=Wt.fromDom(p.getDoc()),be=Oi(ae),Le=((_e,Re,Xe)=>({element:_e,clipboard:Re,generators:Xe}))(L,Z[0],be);b.pasteCells(I,Le).each(()=>{p.focus()})}})})}})},Nu=(p,b)=>({element:p,offset:b}),_p=(p,b,_)=>p.property().isText(b)&&p.property().getText(b).trim().length===0||p.property().isComment(b)?_(b).bind(T=>_p(p,T,_).orThunk(()=>de.some(T))):de.none(),Kt=(p,b)=>p.property().isText(b)?p.property().getText(b).length:p.property().children(b).length,lm=(p,b)=>{const _=_p(p,b,p.query().prevSibling).getOr(b);if(p.property().isText(_))return Nu(_,Kt(p,_));const T=p.property().children(_);return T.length>0?lm(p,T[T.length-1]):Nu(_,Kt(p,_))},ug=lm,jm=ys(),Lf=(p,b)=>{gi(p)||(T=>Ti(T).bind(L=>{return I=L,Z=["fixed","relative","empty"],de.from(Kd.exec(I)).bind(Y=>{const ae=Number(Y[1]),be=Y[2];return((Le,_e)=>Bo(_e,Re=>Bo(yp[Re],Xe=>Le===Xe)))(be,Z)?de.some({value:ae,unit:be}):de.none()});var I,Z}))(p).each(T=>{const L=T.value/2;fi(p,L,T.unit),fi(b,L,T.unit)})},jl=p=>R(p,it(0)),sb=(p,b,_,T,L)=>L(p.slice(0,b)).concat(T).concat(L(p.slice(_))),Mu=p=>(b,_,T,L)=>{if(p(T)){const I=Math.max(L,b[_]-Math.abs(T)),Z=Math.abs(I-b[_]);return T>=0?Z:-Z}return T},La=Mu(p=>p<0),od=Mu(Ze),If=()=>{const p=(_,T,L,I)=>{const Z=(100+L)/100,Y=Math.max(I,(_[T]+L)/Z);return R(_,(ae,be)=>(be===T?Y:ae/Z)-ae)},b=(_,T,L,I,Z,Y)=>Y?p(_,T,I,Z):((ae,be,Le,_e,Re)=>{const Xe=La(ae,be,_e,Re);return sb(ae,be,Le+1,[Xe,0],jl)})(_,T,L,I,Z);return{resizeTable:(_,T)=>_(T),clampTableDelta:La,calcLeftEdgeDeltas:b,calcMiddleDeltas:(_,T,L,I,Z,Y,ae)=>b(_,L,I,Z,Y,ae),calcRightEdgeDeltas:(_,T,L,I,Z,Y)=>{if(Y)return p(_,L,I,Z);{const ae=La(_,L,I,Z);return jl(_.slice(0,L)).concat([ae])}},calcRedestributedWidths:(_,T,L,I)=>{if(I){const Z=(T+L)/T,Y=R(_,ae=>ae/Z);return{delta:100*Z-100,newSizes:Y}}return{delta:L,newSizes:_}}}},Cc=()=>{const p=(b,_,T,L,I)=>{const Z=od(b,L>=0?T:_,L,I);return sb(b,_,T+1,[Z,-Z],jl)};return{resizeTable:(b,_,T)=>{T&&b(_)},clampTableDelta:(b,_,T,L,I)=>{if(I){if(T>=0)return T;{const Z=ht(b,(Y,ae)=>Y+ae-L,0);return Math.max(-Z,T)}}return La(b,_,T,L)},calcLeftEdgeDeltas:p,calcMiddleDeltas:(b,_,T,L,I,Z)=>p(b,T,L,I,Z),calcRightEdgeDeltas:(b,_,T,L,I,Z)=>{if(Z)return jl(b);{const Y=L/b.length;return R(b,it(Y))}},calcRedestributedWidths:(b,_,T,L)=>({delta:0,newSizes:b})}},Sc=p=>ts(p).grid,Ds=zn("th"),Vm=p=>dt(p,b=>Ds(b.element)),Fc=(p,b)=>p&&b?"sectionCells":p?"section":"cells",eu=p=>{const b=p.section==="thead",_=Cs(Al(p.cells),"th");return p.section==="tfoot"?{type:"footer"}:b||_?{type:"header",subType:Fc(b,_)}:{type:"body"}},Al=p=>{const b=lt(p,_=>Ds(_.element));return b.length===0?de.some("td"):b.length===p.length?de.some("th"):de.none()},$m=(p,b,_)=>Ce(_(p.element,b),!0,p.isLocked),mg=(p,b)=>p.section!==b?Ne(p.element,p.cells,b,p.isNew):p,un=()=>({transformRow:mg,transformCell:(p,b,_)=>{const T=_(p.element,b),L=ze(T)!=="td"?((I,Z)=>{const Y=sr(I,"td");St(I,Y);const ae=tt(I);return gr(Y,ae),Ae(I),Y})(T):T;return Ce(L,p.isNew,p.isLocked)}}),gg=()=>({transformRow:mg,transformCell:$m}),Cp=()=>({transformRow:(p,b)=>mg(p,b==="thead"?"tbody":b),transformCell:$m}),Du=un,Sp=gg,C=Cp,D=()=>({transformRow:So,transformCell:$m}),G=(p,b,_,T)=>{_===T?Vo(p,b):zt(p,b,_)},ce=(p,b,_)=>{lo(Ar(p,b)).fold(()=>zr(p,_),T=>St(T,_))},Ke=(p,b)=>{const _=[],T=[],L=Re=>R(Re,Xe=>{Xe.isNew&&_.push(Xe.element);const Et=Xe.element;return De(Et),qe(Xe.cells,vt=>{vt.isNew&&T.push(vt.element),G(vt.element,"colspan",vt.colspan,1),G(vt.element,"rowspan",vt.rowspan,1),kr(Et,vt.element)}),Et}),I=Re=>V(Re,Xe=>R(Xe.cells,Et=>(G(Et.element,"span",Et.colspan,1),Et.element))),Z=(Re,Xe)=>{const Et=((qt,eo)=>{const bo=rr(qt,eo).getOrThunk(()=>{const ao=Wt.fromTag(eo,Pa(qt).dom);return eo==="thead"?ce(qt,"caption,colgroup",ao):eo==="colgroup"?ce(qt,"caption",ao):kr(qt,ao),ao});return De(bo),bo})(p,Xe),vt=(Xe==="colgroup"?I:L)(Re);gr(Et,vt)},Y=(Re,Xe)=>{Re.length>0?Z(Re,Xe):(Et=>{rr(p,Et).each(Ae)})(Xe)},ae=[],be=[],Le=[],_e=[];return qe(b,Re=>{switch(Re.section){case"thead":ae.push(Re);break;case"tbody":be.push(Re);break;case"tfoot":Le.push(Re);break;case"colgroup":_e.push(Re)}}),Y(_e,"colgroup"),Y(ae,"thead"),Y(be,"tbody"),Y(Le,"tfoot"),{newRows:_,newCells:T}},Ut=(p,b)=>{if(p.length===0)return 0;const _=p[0];return uo(p,T=>!b(_.element,T.element)).getOr(p.length)},Ao=(p,b)=>{const _=R(p,T=>R(T.cells,me));return R(p,(T,L)=>{const I=V(T.cells,(Z,Y)=>{if(_[L][Y]===!1){const Re=((Xe,Et,vt,qt)=>{const eo=((Ro,No)=>Ro[No])(Xe,Et),bo=eo.section==="colgroup",ao=Ut(eo.cells.slice(vt),qt),Eo=bo?1:Ut(((Ro,No)=>R(Ro,Ln=>ia(Ln,No)))(Xe.slice(Et),vt),qt);return{colspan:ao,rowspan:Eo}})(p,L,Y,b);return((Xe,Et,vt,qt)=>{for(let eo=Xe;eo<Xe+vt;eo++)for(let bo=Et;bo<Et+qt;bo++)_[eo][bo]=!0})(L,Y,Re.rowspan,Re.colspan),[(ae=Z.element,be=Re.rowspan,Le=Re.colspan,_e=Z.isNew,{element:ae,rowspan:be,colspan:Le,isNew:_e})]}return[];var ae,be,Le,_e});return((Z,Y,ae,be)=>({element:Z,cells:Y,section:ae,isNew:be}))(T.element,I,T.section,T.isNew)})},qo=(p,b,_)=>{const T=[];qe(p.colgroups,L=>{const I=[];for(let Z=0;Z<p.grid.columns;Z++){const Y=Zd(p,Z).map(ae=>Ce(ae.element,_,!1)).getOrThunk(()=>Ce(b.colGap(),!0,!1));I.push(Y)}T.push(Ne(L.element,I,"colgroup",_))});for(let L=0;L<p.grid.rows;L++){const I=[];for(let ae=0;ae<p.grid.columns;ae++){const be=Ua(p,L,ae).map(Le=>Ce(Le.element,_,Le.isLocked)).getOrThunk(()=>Ce(b.gap(),!0,!1));I.push(be)}const Z=p.all[L],Y=Ne(Z.element,I,Z.section,_);T.push(Y)}return T},Xn=p=>Ao(p,xr),pr=(p,b)=>zo(p.all,_=>Rt(_.cells,T=>xr(b,T.element))),is=(p,b,_)=>{const T=R(b.selection,I=>ho(I).bind(Z=>pr(p,Z)).filter(_)),L=za(T);return ws(L.length>0,L)},Nr=(p,b,_,T,L)=>(I,Z,Y,ae)=>{const be=ts(I),Le=de.from(ae?.section).getOrThunk(D);return b(be,Z).map(_e=>{const Re=((vt,qt)=>qo(vt,qt,!1))(be,Y),Xe=p(Re,_e,xr,L(Y),Le),Et=xc(Xe.grid);return{info:_e,grid:Xn(Xe.grid),cursor:Xe.cursor,lockedColumns:Et}}).bind(_e=>{const Re=Ke(I,_e.grid),Xe=de.from(ae?.sizing).getOrThunk(()=>Oa(I)),Et=de.from(ae?.resize).getOrThunk(Cc);return _(I,_e.grid,_e.info,{sizing:Xe,resize:Et,section:Le}),T(I),Vo(I,Xl),_e.lockedColumns.length>0&&zt(I,Xl,_e.lockedColumns.join(",")),de.some({cursor:_e.cursor,newRows:Re.newRows,newCells:Re.newCells})})},ha=(p,b)=>is(p,b,Ze).map(_=>({cells:_,generators:b.generators,clipboard:b.clipboard})),Ia=(p,b)=>is(p,b,Ze),Mi=(p,b)=>is(p,b,_=>!_.isLocked),hi=(p,b)=>dt(b,_=>((T,L)=>pr(T,L).exists(I=>!I.isLocked))(p,_)),Td=(p,b,_,T)=>{const L=ta(p).rows;let I=!0;for(let Z=0;Z<L.length;Z++)for(let Y=0;Y<Ps(L[0]);Y++){const ae=L[Z],be=ia(ae,Y),Le=_(be.element,b);Le&&!I?Ra(ae,Y,Ce(T(),!0,be.isLocked)):Le&&(I=!1)}return p},zd=p=>{const b=I=>I(p),_=it(p),T=()=>L,L={tag:!0,inner:p,fold:(I,Z)=>Z(p),isValue:Ze,isError:me,map:I=>Ru.value(I(p)),mapError:T,bind:b,exists:b,forall:b,getOr:_,or:T,getOrThunk:_,orThunk:T,getOrDie:_,each:I=>{I(p)},toOptional:()=>de.some(p)};return L},cm=p=>{const b=()=>_,_={tag:!1,inner:p,fold:(L,I)=>L(p),isValue:me,isError:Ze,map:b,mapError:L=>Ru.error(L(p)),bind:b,exists:me,forall:Ze,getOr:So,or:So,getOrThunk:fo,orThunk:fo,getOrDie:(T=String(p),()=>{throw new Error(T)}),each:Ue,toOptional:de.none};var T;return _},Ru={value:zd,error:cm,fromOption:(p,b)=>p.fold(()=>cm(b),zd)},Bu=(p,b)=>({rowDelta:0,colDelta:Ps(p[0])-Ps(b[0])}),Ad=(p,b)=>({rowDelta:p.length-b.length,colDelta:0}),Od=(p,b,_,T)=>{const L=b.section==="colgroup"?_.col:_.cell;return Ct(p,I=>Ce(L(),!0,T(I)))},pg=(p,b,_,T)=>{const L=p[p.length-1];return p.concat(Ct(b,()=>{const I=L.section==="colgroup"?_.colgroup:_.row,Z=cc(L,I,So),Y=Od(Z.cells.length,Z,_,ae=>We(T,ae.toString()));return ei(Z,Y)}))},Fu=(p,b,_,T)=>R(p,L=>{const I=Od(b,L,_,me);return yn(L,T,I)}),nd=(p,b,_)=>{const T=b.colDelta<0?Fu:So,L=b.rowDelta<0?pg:So,I=xc(p),Z=Ps(p[0]),Y=Bo(I,Le=>Le===Z-1),ae=T(p,Math.abs(b.colDelta),_,Y?Z-1:Z),be=xc(ae);return L(ae,Math.abs(b.rowDelta),_,Ie(be,Ze))},oa=(p,b,_,T)=>{const L=he(T,ia(p[b],_).element),I=p[b];return p.length>1&&Ps(I)>1&&(_>0&&L(pa(I,_-1))||_<I.cells.length-1&&L(pa(I,_+1))||b>0&&L(pa(p[b-1],_))||b<p.length-1&&L(pa(p[b+1],_)))},wr=(p,b,_)=>lt(_,T=>T>=p.column&&T<=Ps(b[0])+p.column),hl=(p,b,_,T,L)=>{((be,Le,_e,Re)=>{Le>0&&Le<be[0].cells.length&&qe(be,Xe=>{const Et=Xe.cells[Le-1];let vt=0;const qt=Re();for(;Xe.cells.length>Le+vt&&_e(Et.element,Xe.cells[Le+vt].element);)Ra(Xe,Le+vt,Ce(qt,!0,Xe.cells[Le+vt].isLocked)),vt++})})(b,p,L,T.cell);const I=Ad(_,b),Z=nd(_,I,T),Y=Ad(b,Z),ae=nd(b,Y,T);return R(ae,(be,Le)=>yn(be,p,Z[Le].cells))},Jr=(p,b,_,T,L)=>{((bo,ao,Eo,Ro)=>{const No=ta(bo).rows;if(ao>0&&ao<No.length){const Ln=((qn,Qr)=>ht(qn,(or,Mr)=>Bo(or,Er=>Qr(Er.element,Mr.element))?or:or.concat([Mr]),[]))(No[ao-1].cells,Eo);qe(Ln,qn=>{let Qr=de.none();for(let or=ao;or<No.length;or++)for(let Mr=0;Mr<Ps(No[0]);Mr++){const Er=No[or],ca=ia(Er,Mr);Eo(ca.element,qn.element)&&(Qr.isNone()&&(Qr=de.some(Ro())),Qr.each(zs=>{Ra(Er,Mr,Ce(zs,!0,ca.isLocked))}))}})}})(b,p,L,T.cell);const I=xc(b),Z=Bu(b,_),Y={...Z,colDelta:Z.colDelta-I.length},ae=nd(b,Y,T),{cols:be,rows:Le}=ta(ae),_e=xc(ae),Re=Bu(_,b),Xe={...Re,colDelta:Re.colDelta+_e.length},Et=(qt=T,eo=_e,R(_,bo=>ht(eo,(ao,Eo)=>{const Ro=Od(1,bo,qt,Ze)[0];return ur(ao,Eo,Ro)},bo))),vt=nd(Et,Xe,T);var qt,eo;return[...be,...Le.slice(0,p),...vt,...Le.slice(p,Le.length)]},bi=(p,b,_,T,L)=>{const{rows:I,cols:Z}=ta(p),Y=I.slice(0,b),ae=I.slice(b);return[...Z,...Y,((be,Le,_e,Re)=>cc(be,Xe=>Re(Xe,_e),Le))(I[_],(be,Le)=>b>0&&b<I.length&&T(pa(I[b-1],Le),pa(I[b],Le))?ia(I[b],Le):Ce(L(be.element,T),!0,be.isLocked),T,L),...ae]},rs=(p,b,_,T,L)=>R(p,I=>{const Z=b>0&&b<Ps(I)&&T(pa(I,b-1),pa(I,b)),Y=((ae,be,Le,_e,Re,Xe,Et)=>{if(Le!=="colgroup"&&_e)return ia(ae,be);{const vt=ia(ae,Re);return Ce(Et(vt.element,Xe),!0,!1)}})(I,b,I.section,Z,_,T,L);return ur(I,b,Y)}),Di=(p,b,_,T)=>((L,I,Z,Y)=>pa(L[I],Z)!==void 0&&I>0&&Y(pa(L[I-1],Z),pa(L[I],Z)))(p,b,_,T)||((L,I,Z)=>I>0&&Z(pa(L,I-1),pa(L,I)))(p[b],_,T),Lc=(p,b,_,T)=>{const L=I=>(Z=>Z==="row"?sc(b):gi(b))(I)?`${I}group`:I;return p?Ds(b)?L(_):null:T&&Ds(b)?L(_==="row"?"col":"row"):null},Zi=(p,b,_)=>Ce(_(p.element,b),!0,p.isLocked),bl=(p,b,_,T,L,I,Z)=>R(p,(Y,ae)=>((be,Le)=>{const _e=be.cells,Re=R(_e,(Xe,Et)=>{if((vt=>Bo(b,qt=>_(vt.element,qt.element)))(Xe)){const vt=Z(Xe,ae,Et)?L(Xe,_,T):Xe;return I(vt,ae,Et).each(qt=>{var eo,bo;eo=vt.element,bo={scope:de.from(qt)},$e(bo,(ao,Eo)=>{ao.fold(()=>{Vo(eo,Eo)},Ro=>{ut(eo.dom,Eo,Ro)})})}),vt}return Xe});return Ne(be.element,Re,be.section,be.isNew)})(Y)),Lu=(p,b,_)=>V(p,(T,L)=>Di(p,L,b,_)?[]:[ia(T,b)]),Ec=(p,b,_,T,L)=>{const I=ta(p).rows,Z=V(b,Le=>Lu(I,Le,T)),Y=R(I,Le=>Vm(Le.cells)),ae=((Le,_e)=>dt(_e,So)&&Vm(Le)?Ze:(Re,Xe,Et)=>!(ze(Re.element)==="th"&&_e[Xe]))(Z,Y);return bl(p,Z,T,L,Zi,((Le,_e)=>(Re,Xe)=>de.some(Lc(Le,Re.element,"row",_e[Xe])))(_,Y),ae)},Ep=(p,b,_,T)=>{const L=ta(p).rows,I=R(b,Z=>ia(L[Z.row],Z.column));return bl(p,I,_,T,Zi,de.none,Ze)},Iu=p=>{if(!Po(p))throw new Error("cases must be an array");if(p.length===0)throw new Error("there must be at least one case");const b=[],_={};return qe(p,(T,L)=>{const I=to(T);if(I.length!==1)throw new Error("one and only one name per case");const Z=I[0],Y=T[Z];if(_[Z]!==void 0)throw new Error("duplicate key detected:"+Z);if(Z==="cata")throw new Error("cannot have a case named cata (sorry)");if(!Po(Y))throw new Error("case arguments must be an array");b.push(Z),_[Z]=(...ae)=>{const be=ae.length;if(be!==Y.length)throw new Error("Wrong number of arguments to case "+Z+". Expected "+Y.length+" ("+Y+"), got "+be);return{fold:(...Le)=>{if(Le.length!==p.length)throw new Error("Wrong number of arguments to fold. Expected "+p.length+", got "+Le.length);return Le[L].apply(null,ae)},match:Le=>{const _e=to(Le);if(b.length!==_e.length)throw new Error("Wrong number of arguments to match. Expected: "+b.join(",")+`
Actual: `+_e.join(","));if(!dt(b,Re=>gn(_e,Re)))throw new Error("Not all branches were specified when using match. Specified: "+_e.join(", ")+`
Required: `+b.join(", "));return Le[Z].apply(null,ae)},log:Le=>{}}}}),_},tu={...Iu([{none:[]},{only:["index"]},{left:["index","next"]},{middle:["prev","index","next"]},{right:["prev","index"]}])},dm=(p,b,_)=>{let T=0;for(let L=p;L<b;L++)T+=_[L]!==void 0?_[L]:0;return T},Tp=(p,b)=>{const _=nl(p);return R(_,T=>{const L=dm(T.row,T.row+T.rowspan,b);return{element:T.element,height:L,rowspan:T.rowspan}})},fg=(p,b,_)=>{const T=((L,I)=>ti(L)?((Z,Y)=>{const ae=Fr(Z);return R(ae,(be,Le)=>({element:be.element,width:Y[Le],colspan:be.colspan}))})(L,I):((Z,Y)=>{const ae=nl(Z);return R(ae,be=>{const Le=dm(be.column,be.column+be.colspan,Y);return{element:be.element,width:Le,colspan:be.colspan}})})(L,I))(p,b);qe(T,L=>{_.setElementWidth(L.element,L.width)})},zp=(p,b,_,T,L)=>{const I=ts(p),Z=L.getCellDelta(b),Y=L.getWidths(I,L),ae=_===I.grid.columns-1,be=T.clampTableDelta(Y,_,Z,L.minCellWidth(),ae),Le=((Re,Xe,Et,vt,qt)=>{const eo=Re.slice(0),bo=((Eo,Ro)=>Eo.length===0?tu.none():Eo.length===1?tu.only(0):Ro===0?tu.left(0,1):Ro===Eo.length-1?tu.right(Ro-1,Ro):Ro>0&&Ro<Eo.length-1?tu.middle(Ro-1,Ro,Ro+1):tu.none())(Re,Xe),ao=it(R(eo,it(0)));return bo.fold(ao,Eo=>vt.singleColumnWidth(eo[Eo],Et),(Eo,Ro)=>qt.calcLeftEdgeDeltas(eo,Eo,Ro,Et,vt.minCellWidth(),vt.isRelative),(Eo,Ro,No)=>qt.calcMiddleDeltas(eo,Eo,Ro,No,Et,vt.minCellWidth(),vt.isRelative),(Eo,Ro)=>qt.calcRightEdgeDeltas(eo,Eo,Ro,Et,vt.minCellWidth(),vt.isRelative))})(Y,_,be,L,T),_e=R(Le,(Re,Xe)=>Re+Y[Xe]);fg(I,_e,L),T.resizeTable(L.adjustTableWidth,be,ae)},Ya=p=>ht(p,(b,_)=>Bo(b,T=>T.column===_.column)?b:b.concat([_]),[]).sort((b,_)=>b.column-_.column),ib=zn("col"),Jy=zn("colgroup"),Pf=p=>ze(p)==="tr"||Jy(p),yl=p=>({element:p,colspan:Ss(p,"colspan",1),rowspan:Ss(p,"rowspan",1)}),Tc=p=>Xt(p,"scope").map(b=>b.substr(0,3)),rd=(p,b=yl)=>{const _=L=>{if(Pf(L))return Jy((I={element:L}).element)?p.colgroup(I):p.row(I);{const Z=L,Y=(ae=>ib(ae.element)?p.col(ae):p.cell(ae))(b(Z));return T=de.some({item:Z,replacement:Y}),Y}var I};let T=de.none();return{getOrInit:(L,I)=>T.fold(()=>_(L),Z=>I(L,Z.item)?Z.replacement:_(L))}},hg=p=>b=>{const _=[],T=L=>{const I=p==="td"?{scope:null}:{},Z=b.replace(L,p,I);return _.push({item:L,sub:Z}),Z};return{replaceOrInit:(L,I)=>{if(Pf(L)||ib(L))return L;{const Z=L;return((Y,ae)=>Rt(_,be=>ae(be.item,Y)))(Z,I).fold(()=>T(Z),Y=>I(L,Y.item)?Y.sub:T(Z))}}}},lb=p=>({unmerge:b=>{const _=Tc(b);return _.each(T=>zt(b,"scope",T)),()=>{const T=p.cell({element:b,colspan:1,rowspan:1});return aa(T,"width"),aa(b,"width"),_.each(L=>zt(T,"scope",L)),T}},merge:b=>(aa(b[0],"width"),(()=>{const _=za(R(b,Tc));if(_.length===0)return de.none();{const T=_[0],L=["row","col"];return Bo(_,I=>I!==T&&gn(L,I))?de.none():de.from(T)}})().fold(()=>Vo(b[0],"scope"),_=>zt(b[0],"scope",_+"group")),it(b[0]))}),Um=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","table","thead","tfoot","tbody","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],Hf=ys(),ou=p=>((b,_)=>{const T=b.property().name(_);return gn(Um,T)})(Hf,p),um=p=>((b,_)=>{const T=b.property().name(_);return gn(["ol","ul"],T)})(Hf,p),vs=p=>{const b=zn("br"),_=L=>wd(L).bind(I=>{const Z=_a(I).map(Y=>!!ou(Y)||!!((ae,be)=>gn(["br","img","hr","input"],ae.property().name(be)))(Hf,Y)&&ze(Y)!=="img").getOr(!1);return Ha(I).map(Y=>{return Z===!0||ze(ae=Y)==="li"||Zs(ae,um).isSome()||b(I)||ou(Y)&&!xr(L,Y)?[]:[Wt.fromTag("br")];var ae})}).getOr([]),T=(()=>{const L=V(p,I=>{const Z=tt(I);return(Y=>dt(Y,ae=>b(ae)||Zo(ae)&&Hs(ae).trim().length===0))(Z)?[]:Z.concat(_(I))});return L.length===0?[Wt.fromTag("br")]:L})();De(p[0]),gr(p[0],T)},Vl=p=>fn(p,!0),bg=p=>{bn(p).length===0&&Ae(p)},Ap=(p,b)=>({grid:p,cursor:b}),si=(p,b,_)=>{const T=((L,I,Z)=>{var Y,ae;const be=ta(L).rows;return de.from((ae=(Y=be[I])===null||Y===void 0?void 0:Y.cells[Z])===null||ae===void 0?void 0:ae.element).filter(Vl).orThunk(()=>(Le=>zo(Le,_e=>zo(_e.cells,Re=>{const Xe=Re.element;return ws(Vl(Xe),Xe)})))(be))})(p,b,_);return Ap(p,T)},ad=p=>ht(p,(b,_)=>Bo(b,T=>T.row===_.row)?b:b.concat([_]),[]).sort((b,_)=>b.row-_.row),Op=(p,b)=>(_,T,L,I,Z)=>{const Y=ad(T),ae=R(Y,Le=>Le.row),be=((Le,_e,Re,Xe,Et,vt,qt)=>{const{cols:eo,rows:bo}=ta(Le),ao=bo[_e[0]],Eo=V(_e,or=>((Mr,Er,ca)=>{const zs=Mr[Er];return V(zs.cells,(il,ii)=>Di(Mr,Er,ii,ca)?[]:[il])})(bo,or,Et)),Ro=R(ao.cells,(or,Mr)=>Vm(Lu(bo,Mr,Et))),No=[...bo];qe(_e,or=>{No[or]=qt.transformRow(bo[or],Re)});const Ln=[...eo,...No],qn=((or,Mr)=>dt(Mr,So)&&Vm(or.cells)?Ze:(Er,ca,zs)=>!(ze(Er.element)==="th"&&Mr[zs]))(ao,Ro),Qr=((or,Mr)=>(Er,ca,zs)=>de.some(Lc(or,Er.element,"col",Mr[zs])))(Xe,Ro);return bl(Ln,Eo,Et,vt,qt.transformCell,Qr,qn)})(_,ae,p,b,L,I.replaceOrInit,Z);return si(be,T[0].row,T[0].column)},cb=Op("thead",!0),Pu=Op("tbody",!1),e_=Op("tfoot",!1),Np=(p,b,_)=>{const T=((I,Z)=>ma(I,()=>Z))(p,_.section),L=Kc(T);return qo(L,b,!0)},Mp=(p,b,_,T)=>((L,I,Z,Y)=>{const ae=Kc(I),be=Y.getWidths(ae,Y);fg(ae,be,Y)})(0,b,0,T.sizing),Qy=(p,b,_,T)=>((L,I,Z,Y,ae)=>{const be=Kc(I),Le=Y.getWidths(be,Y),_e=Y.pixelWidth(),{newSizes:Re,delta:Xe}=ae.calcRedestributedWidths(Le,_e,Z.pixelDelta,Y.isRelative);fg(be,Re,Y),Y.adjustTableWidth(Xe)})(0,b,_,T.sizing,T.resize),e1=(p,b)=>Bo(b,_=>_.column===0&&_.isLocked),jf=(p,b)=>Bo(b,_=>_.column+_.colspan>=p.grid.columns&&_.isLocked),Nd=(p,b)=>{const _=hd(p),T=Ya(b);return ht(T,(L,I)=>L+_[I.column].map(yt).getOr(0),0)},Vf=p=>(b,_)=>Ia(b,_).filter(T=>!(p?e1:jf)(b,T)).map(T=>({details:T,pixelDelta:Nd(b,T)})),Hr=p=>(b,_)=>ha(b,_).filter(T=>!(p?e1:jf)(b,T.cells)),Ol=hg("th"),nu=hg("td"),Dp=Nr((p,b,_,T)=>{const L=b[0].row,I=ad(b),Z=Mt(I,(Y,ae)=>({grid:bi(Y.grid,L,ae.row+Y.delta,_,T.getOrInit),delta:Y.delta+1}),{grid:p,delta:0}).grid;return si(Z,L,b[0].column)},Ia,Ue,Ue,rd),as=Nr((p,b,_,T)=>{const L=ad(b),I=L[L.length-1],Z=I.row+I.rowspan,Y=Mt(L,(ae,be)=>bi(ae,Z,be.row,_,T.getOrInit),p);return si(Y,Z,b[0].column)},Ia,Ue,Ue,rd),db=Nr((p,b,_,T)=>{const L=b.details,I=Ya(L),Z=I[0].column,Y=Mt(I,(ae,be)=>({grid:rs(ae.grid,Z,be.column+ae.delta,_,T.getOrInit),delta:ae.delta+1}),{grid:p,delta:0}).grid;return si(Y,L[0].row,Z)},Vf(!0),Qy,Ue,rd),t1=Nr((p,b,_,T)=>{const L=b.details,I=L[L.length-1],Z=I.column+I.colspan,Y=Ya(L),ae=Mt(Y,(be,Le)=>rs(be,Z,Le.column,_,T.getOrInit),p);return si(ae,L[0].row,Z)},Vf(!1),Qy,Ue,rd),Ji=Nr((p,b,_,T)=>{const L=Ya(b.details),I=((Y,ae)=>V(Y,be=>{const Le=be.cells,_e=Mt(ae,(Re,Xe)=>Xe>=0&&Xe<Re.length?Re.slice(0,Xe).concat(Re.slice(Xe+1)):Re,Le);return _e.length>0?[Ne(be.element,_e,be.section,be.isNew)]:[]}))(p,R(L,Y=>Y.column)),Z=I.length>0?I[0].cells.length-1:0;return si(I,L[0].row,Math.min(L[0].column,Z))},(p,b)=>Mi(p,b).map(_=>({details:_,pixelDelta:-Nd(p,_)})),Qy,bg,rd),mm=Nr((p,b,_,T)=>{const L=ad(b),I=((Y,ae,be)=>{const{rows:Le,cols:_e}=ta(Y);return[..._e,...Le.slice(0,ae),...Le.slice(be+1)]})(p,L[0].row,L[L.length-1].row),Z=I.length>0?I.length-1:0;return si(I,Math.min(b[0].row,Z),b[0].column)},Ia,Ue,bg,rd),ru=Nr((p,b,_,T)=>{const L=Ya(b),I=R(L,Y=>Y.column),Z=Ec(p,I,!0,_,T.replaceOrInit);return si(Z,b[0].row,b[0].column)},Mi,Ue,Ue,Ol),gm=Nr((p,b,_,T)=>{const L=Ya(b),I=R(L,Y=>Y.column),Z=Ec(p,I,!1,_,T.replaceOrInit);return si(Z,b[0].row,b[0].column)},Mi,Ue,Ue,nu),Ht=Nr(cb,Mi,Ue,Ue,Ol),Rp=Nr(Pu,Mi,Ue,Ue,nu),ub=Nr(e_,Mi,Ue,Ue,nu),Md=Nr((p,b,_,T)=>{const L=Ep(p,b,_,T.replaceOrInit);return si(L,b[0].row,b[0].column)},Mi,Ue,Ue,Ol),o1=Nr((p,b,_,T)=>{const L=Ep(p,b,_,T.replaceOrInit);return si(L,b[0].row,b[0].column)},Mi,Ue,Ue,nu),n1=Nr((p,b,_,T)=>{const L=b.cells;vs(L);const I=((Z,Y,ae,be)=>{const Le=ta(Z).rows;if(Le.length===0)return Z;for(let _e=Y.startRow;_e<=Y.finishRow;_e++)for(let Re=Y.startCol;Re<=Y.finishCol;Re++){const Xe=Le[_e],Et=ia(Xe,Re).isLocked;Ra(Xe,Re,Ce(be(),!1,Et))}return Z})(p,b.bounds,0,T.merge(L));return Ap(I,de.from(L[0]))},(p,b)=>((_,T)=>T.mergable)(0,b).filter(_=>hi(p,_.cells)),Mp,Ue,lb),yg=Nr((p,b,_,T)=>{const L=Mt(b,(I,Z)=>Td(I,Z,_,T.unmerge(Z)),p);return Ap(L,de.from(b[0]))},(p,b)=>((_,T)=>T.unmergable)(0,b).filter(_=>hi(p,_)),Mp,Ue,lb),mc=Nr((p,b,_,T)=>{const L=((Y,ae)=>{const be=ts(Y);return qo(be,ae,!0)})(b.clipboard,b.generators);var I,Z;return((Y,ae,be,Le,_e)=>{const Re=xc(ae),Xe=((eo,bo,ao)=>{const Eo=Ps(bo[0]),Ro=ta(bo).cols.length+eo.row,No=Ct(Eo-eo.column,Ln=>Ln+eo.column);return{row:Ro,column:Rt(No,Ln=>dt(ao,qn=>qn!==Ln)).getOr(Eo-1)}})(Y,ae,Re),Et=ta(be).rows,vt=wr(Xe,Et,Re);return((eo,bo,ao)=>{if(eo.row>=bo.length||eo.column>Ps(bo[0]))return Ru.error("invalid start address out of table bounds, row: "+eo.row+", column: "+eo.column);const Eo=bo.slice(eo.row),Ro=Eo[0].cells.slice(eo.column),No=Ps(ao[0]),Ln=ao.length;return Ru.value({rowDelta:Eo.length-Ln,colDelta:Ro.length-No})})(Xe,ae,Et).map(eo=>{const bo={...eo,colDelta:eo.colDelta-vt.length},ao=nd(ae,bo,Le),Eo=xc(ao),Ro=wr(Xe,Et,Eo);return((No,Ln,qn,Qr,or,Mr)=>{const Er=No.row,ca=No.column,zs=Er+qn.length,il=ca+Ps(qn[0])+Mr.length,ii=Ie(Mr,Ze);for(let ql=Er;ql<zs;ql++){let ua=0;for(let li=ca;li<il;li++){if(ii[li]){ua++;continue}oa(Ln,ql,li,or)&&Td(Ln,pa(Ln[ql],li),or,Qr.cell);const Vu=li-ca-ua,Kp=ia(qn[ql-Er],Vu),wm=Kp.element,Fg=Qr.replace(wm);Ra(Ln[ql],li,Ce(Fg,!0,Kp.isLocked))}}return Ln})(Xe,ao,Et,Le,_e,Ro)})})((I=b.row,Z=b.column,{row:I,column:Z}),p,L,b.generators,_).fold(()=>Ap(p,de.some(b.element)),Y=>si(Y,b.row,b.column))},(p,b)=>ho(b.element).bind(_=>pr(p,_).map(T=>({...T,generators:b.generators,clipboard:b.clipboard}))),Mp,Ue,rd),sl=Nr((p,b,_,T)=>{const L=ta(p).rows,I=b.cells[0].column,Z=L[b.cells[0].row],Y=Np(b.clipboard,b.generators,Z),ae=hl(I,p,Y,b.generators,_);return si(ae,b.cells[0].row,b.cells[0].column)},Hr(!0),Ue,Ue,rd),pm=Nr((p,b,_,T)=>{const L=ta(p).rows,I=b.cells[b.cells.length-1].column+b.cells[b.cells.length-1].colspan,Z=L[b.cells[0].row],Y=Np(b.clipboard,b.generators,Z),ae=hl(I,p,Y,b.generators,_);return si(ae,b.cells[0].row,b.cells[0].column)},Hr(!1),Ue,Ue,rd),r1=Nr((p,b,_,T)=>{const L=ta(p).rows,I=b.cells[0].row,Z=L[I],Y=Np(b.clipboard,b.generators,Z),ae=Jr(I,p,Y,b.generators,_);return si(ae,b.cells[0].row,b.cells[0].column)},ha,Ue,Ue,rd),a1=Nr((p,b,_,T)=>{const L=ta(p).rows,I=b.cells[b.cells.length-1].row+b.cells[b.cells.length-1].rowspan,Z=L[b.cells[0].row],Y=Np(b.clipboard,b.generators,Z),ae=Jr(I,p,Y,b.generators,_);return si(ae,b.cells[0].row,b.cells[0].column)},ha,Ue,Ue,rd),$f=(p,b)=>{const _=ts(p);return Ia(_,b).bind(T=>{const L=T[T.length-1],I=T[0].column,Z=L.column+L.colspan,Y=Bt(R(_.all,ae=>lt(ae.cells,be=>be.column>=I&&be.column<Z)));return Al(Y)}).getOr("")},mb=(p,b)=>{const _=ts(p);return Ia(_,b).bind(Al).getOr("")},Uf=(p,b)=>{const _=ts(p);return Ia(_,b).bind(T=>{const L=T[T.length-1],I=T[0].row,Z=L.row+L.rowspan;return(Y=>{const ae=R(Y,_e=>eu(_e).type),be=gn(ae,"header"),Le=gn(ae,"footer");if(be||Le){const _e=gn(ae,"body");return!be||_e||Le?be||_e||!Le?de.none():de.some("footer"):de.some("header")}return de.some("body")})(_.all.slice(I,Z))}).getOr("")},gb=(p,b)=>p.dispatch("NewRow",{node:b}),Qi=(p,b)=>p.dispatch("NewCell",{node:b}),Gs=(p,b,_)=>{p.dispatch("TableModified",{..._,table:b})},vl={structure:!1,style:!0},Wa={structure:!0,style:!1},Nl={structure:!0,style:!0},yi=(p,b)=>Hl(p)?la(b):_d(p)?al(b):Oa(b),pb=(p,b,_)=>{const T=Le=>ze(Hn(Le))==="table",L=Tu(p),I=Ws(p)?Ue:Lf,Z=Le=>{switch(kd(p)){case"section":return Du();case"sectionCells":return Sp();case"cells":return C();default:return((_e,Re)=>{var Xe;switch((Xe=ts(_e),zo(Xe.all,Et=>{const vt=eu(Et);return vt.type==="header"?de.from(vt.subType):de.none()})).getOr(Re)){case"section":return un();case"sectionCells":return gg();case"cells":return Cp()}})(Le,"section")}},Y=(Le,_e,Re,Xe)=>(Et,vt,qt=!1)=>{fa(Et);const eo=Wt.fromDom(p.getDoc()),bo=Xi(Re,eo,L),ao={sizing:yi(p,Et),resize:Ws(p)?If():Cc(),section:Z(Et)};return _e(Et)?Le(Et,vt,bo,ao).bind(Eo=>{b.refresh(Et.dom),qe(Eo.newRows,No=>{gb(p,No.dom)}),qe(Eo.newCells,No=>{Qi(p,No.dom)});const Ro=((No,Ln)=>Ln.cursor.fold(()=>{const qn=bn(No);return Pt(qn).filter(Go).map(Qr=>{_.clearSelectedCells(No.dom);const or=p.dom.createRng();return or.selectNode(Qr.dom),p.selection.setRng(or),zt(Qr,"data-mce-selected","1"),or})},qn=>{const Qr=ug(jm,qn),or=p.dom.createRng();return or.setStart(Qr.element.dom,Qr.offset),or.setEnd(Qr.element.dom,Qr.offset),p.selection.setRng(or),_.clearSelectedCells(No.dom),de.some(or)}))(Et,Eo);return Go(Et)&&(fa(Et),qt||Gs(p,Et.dom,Xe)),Ro.map(No=>({rng:No,effect:Xe}))}):de.none()},ae=Y(mm,Le=>!T(p)||Sc(Le).rows>1,Ue,Wa),be=Y(Ji,Le=>!T(p)||Sc(Le).columns>1,Ue,Wa);return{deleteRow:ae,deleteColumn:be,insertRowsBefore:Y(Dp,Ze,Ue,Wa),insertRowsAfter:Y(as,Ze,Ue,Wa),insertColumnsBefore:Y(db,Ze,I,Wa),insertColumnsAfter:Y(t1,Ze,I,Wa),mergeCells:Y(n1,Ze,Ue,Wa),unmergeCells:Y(yg,Ze,Ue,Wa),pasteColsBefore:Y(sl,Ze,Ue,Wa),pasteColsAfter:Y(pm,Ze,Ue,Wa),pasteRowsBefore:Y(r1,Ze,Ue,Wa),pasteRowsAfter:Y(a1,Ze,Ue,Wa),pasteCells:Y(mc,Ze,Ue,Nl),makeCellsHeader:Y(Md,Ze,Ue,Wa),unmakeCellsHeader:Y(o1,Ze,Ue,Wa),makeColumnsHeader:Y(ru,Ze,Ue,Wa),unmakeColumnsHeader:Y(gm,Ze,Ue,Wa),makeRowsHeader:Y(Ht,Ze,Ue,Wa),makeRowsBody:Y(Rp,Ze,Ue,Wa),makeRowsFooter:Y(ub,Ze,Ue,Wa),getTableRowType:Uf,getTableCellType:mb,getTableColType:$f}},Zf=(p,b,_)=>{const T=Ss(p,b,1);_===1||T<=1?Vo(p,b):zt(p,b,Math.min(_,T))},$l=(p,b)=>_=>{const T=_.column+_.colspan-1,L=_.column;return T>=p&&L<b},zc=Iu([{invalid:["raw"]},{pixels:["value"]},{percent:["value"]}]),s1=(p,b,_)=>{const T=_.substring(0,_.length-p.length),L=parseFloat(T);return T===L.toString()?b(L):zc.invalid(_)},Zm={...zc,from:p=>Os(p,"%")?s1("%",zc.percent,p):Os(p,"px")?s1("px",zc.pixels,p):zc.invalid(p)},fb=(p,b,_)=>{const T=Zm.from(_),L=dt(p,I=>I==="0px")?((I,Z)=>{const Y=I.fold(()=>it(""),ae=>it(ae/Z+"px"),()=>it(100/Z+"%"));return Ct(Z,Y)})(T,p.length):((I,Z,Y)=>I.fold(()=>Z,ae=>((be,Le,_e)=>{const Re=_e/Le;return R(be,Xe=>Zm.from(Xe).fold(()=>Xe,Et=>Et*Re+"px",Et=>Et/100*_e+"px"))})(Z,Y,ae),ae=>((be,Le)=>R(be,_e=>Zm.from(_e).fold(()=>_e,Re=>Re/Le*100+"%",Re=>Re+"%")))(Z,Y)))(T,p,b);return kv(L)},Bp=(p,b)=>p.length===0?b:Mt(p,(_,T)=>Zm.from(T).fold(it(0),So,So)+_,0),wv=(p,b)=>Zm.from(p).fold(it(p),_=>_+b+"px",_=>_+b+"%"),kv=p=>{if(p.length===0)return p;const b=Mt(p,(T,L)=>{const I=Zm.from(L).fold(()=>({value:L,remainder:0}),Z=>((Y,ae)=>{const be=Math.floor(Y);return{value:be+"px",remainder:Y-be}})(Z),Z=>({value:Z+"%",remainder:0}));return{output:[I.value].concat(T.output),remainder:T.remainder+I.remainder}},{output:[],remainder:0}),_=b.output;return _.slice(0,_.length-1).concat([wv(_[_.length-1],Math.round(b.remainder))])},qf=Zm.from,_v=p=>qf(p).fold(it("px"),it("px"),it("%")),i1=(p,b,_)=>{const T=ts(p),L=T.all,I=nl(T),Z=Fr(T);b.each(Y=>{const ae=_v(Y),be=ve(p),Le=((Re,Xe)=>Yt(Re,Xe,oi,ni))(T,p),_e=fb(Le,be,Y);ti(T)?((Re,Xe,Et)=>{qe(Xe,(vt,qt)=>{const eo=Bp([Re[qt]],ne());Rn(vt.element,"width",eo+Et)})})(_e,Z,ae):((Re,Xe,Et)=>{qe(Xe,vt=>{const qt=Re.slice(vt.column,vt.colspan+vt.column),eo=Bp(qt,ne());Rn(vt.element,"width",eo+Et)})})(_e,I,ae),Rn(p,"width",Y)}),_.each(Y=>{const ae=_v(Y),be=Wd(p),Le=((_e,Re,Xe)=>us(_e,Re,Xe,ro,ni))(T,p,Cn);((_e,Re,Xe,Et)=>{qe(Xe,vt=>{const qt=_e.slice(vt.row,vt.rowspan+vt.row),eo=Bp(qt,Be());Rn(vt.element,"height",eo+Et)}),qe(Re,(vt,qt)=>{Rn(vt.element,"height",_e[qt])})})(fb(Le,be,Y),L,I,ae),Rn(p,"height",Y)})},Oo=p=>Ti(p).exists(b=>Cl.test(b)),sn=p=>Ti(p).exists(b=>nm.test(b)),Ri=p=>Ti(p).isNone(),Wf=p=>{Vo(p,"width")},Fp=p=>{const b=El(p);i1(p,de.some(b),de.none()),Wf(p)},l1=p=>{const b=(_=>ve(_)+"px")(p);i1(p,de.some(b),de.none()),Wf(p)},tc=p=>{aa(p,"width");const b=kn(p),_=b.length>0?b:bn(p);qe(_,T=>{aa(T,"width"),Wf(T)}),Wf(p)},t_={styles:{"border-collapse":"collapse",width:"100%"},attributes:{border:"1"},colGroups:!1},sd=(p,b,_,T)=>Ct(p,L=>((I,Z,Y,ae)=>{const be=Wt.fromTag("tr");for(let Le=0;Le<I;Le++){const _e=Wt.fromTag(ae<Z||Le<Y?"th":"td");Le<Y&&zt(_e,"scope","row"),ae<Z&&zt(_e,"scope","col"),kr(_e,Wt.fromTag("br")),kr(be,_e)}return be})(b,_,T,L)),hb=(p,b)=>{p.selection.select(b.dom,!0),p.selection.collapse(!0)},Gf=(p,b,_,T,L)=>{const I=(Y=>{const ae=Y.options,be=ae.get("table_default_styles");return ae.isSet("table_default_styles")?be:((Le,_e)=>ai(Le)||!H(Le)?_e:_d(Le)?{..._e,width:qs(Le)}:{..._e,width:_c})(Y,be)})(p),Z={styles:I,attributes:Te(p),colGroups:He(p)};return p.undoManager.ignore(()=>{const Y=((be,Le,_e,Re,Xe,Et=t_)=>{const vt=Wt.fromTag("table"),qt=Xe!=="cells";Hi(vt,Et.styles),Ft(vt,Et.attributes),Et.colGroups&&kr(vt,(Eo=>{const Ro=Wt.fromTag("colgroup");return Ct(Eo,()=>kr(Ro,Wt.fromTag("col"))),Ro})(Le));const eo=Math.min(be,_e);if(qt&&_e>0){const Eo=Wt.fromTag("thead");kr(vt,Eo);const Ro=sd(_e,Le,Xe==="sectionCells"?eo:0,Re);gr(Eo,Ro)}const bo=Wt.fromTag("tbody");kr(vt,bo);const ao=sd(qt?be-eo:be,Le,qt?0:_e,Re);return gr(bo,ao),vt})(_,b,L,T,kd(p),Z);zt(Y,"data-mce-id","__mce");const ae=(be=>{const Le=Wt.fromTag("div"),_e=Wt.fromDom(be.dom.cloneNode(!0));return kr(Le,_e),(Re=>Re.dom.innerHTML)(Le)})(Y);p.insertContent(ae),p.addVisual()}),Sr(Hn(p),'table[data-mce-id="__mce"]').map(Y=>(_d(p)?l1(Y):ai(p)?tc(Y):(Hl(p)||(ae=>Qo(ae)&&ae.indexOf("%")!==-1)(I.width))&&Fp(Y),fa(Y),Vo(Y,"data-mce-id"),((ae,be)=>{qe(ra(be,"tr"),Le=>{gb(ae,Le.dom),qe(ra(Le,"th,td"),_e=>{Qi(ae,_e.dom)})})})(p,Y),((ae,be)=>{Sr(be,"td,th").each(he(hb,ae))})(p,Y),Y.dom)).getOrNull()};var Ts=tinymce.util.Tools.resolve("tinymce.FakeClipboard");const gc="x-tinymce/dom-table-",Kf=gc+"rows",Ic=gc+"columns",c1=p=>{const b=Ts.FakeClipboardItem(p);Ts.write([b])},Yf=p=>{var b;const _=(b=Ts.read())!==null&&b!==void 0?b:[];return zo(_,T=>de.from(T.getType(p)))},d1=p=>{Yf(p).isSome()&&Ts.clear()},bb=p=>{p.fold(o_,b=>c1({[Kf]:b}))},Xf=()=>Yf(Kf),o_=()=>d1(Kf),yb=p=>{p.fold(n_,b=>c1({[Ic]:b}))},Cv=()=>Yf(Ic),n_=()=>d1(Ic),Jf=p=>kp(Ka(p),Tn(p)).filter(Bf),Sv=(p,b)=>{const _=Tn(p),T=_e=>_r(_e,_),L=_e=>(Re=>Hm(Ka(Re),Tn(Re)).filter(Bf))(p).bind(Re=>T(Re).map(Xe=>_e(Xe,Re))),I=_e=>{p.focus()},Z=(_e,Re=!1)=>L((Xe,Et)=>{const vt=_n(Bc(p),Xe,Et);_e(Xe,vt,Re).each(I)}),Y=()=>L((_e,Re)=>((Xe,Et,vt)=>{const qt=ts(Xe);return Ia(qt,Et).bind(eo=>{const bo=qo(qt,vt,!1),ao=ta(bo).rows.slice(eo[0].row,eo[eo.length-1].row+eo[eo.length-1].rowspan),Eo=V(ao,No=>{const Ln=lt(No.cells,qn=>!qn.isLocked);return Ln.length>0?[{...No,cells:Ln}]:[]}),Ro=Xn(Eo);return ws(Ro.length>0,Ro)}).map(eo=>R(eo,bo=>{const ao=dn(bo.element);return qe(bo.cells,Eo=>{const Ro=nn(Eo.element);G(Ro,"colspan",Eo.colspan,1),G(Ro,"rowspan",Eo.rowspan,1),kr(ao,Ro)}),ao}))})(_e,_n(Bc(p),_e,Re),Xi(Ue,Wt.fromDom(p.getDoc()),de.none()))),ae=()=>L((_e,Re)=>((Xe,Et)=>{const vt=ts(Xe);return Mi(vt,Et).map(qt=>{const eo=qt[qt.length-1],bo=qt[0].column,ao=eo.column+eo.colspan,Eo=((No,Ln,qn)=>{if(ti(No)){const Qr=lt(Fr(No),$l(Ln,qn)),or=R(Qr,Er=>{const ca=nn(Er.element);return Zf(ca,"span",qn-Ln),ca}),Mr=Wt.fromTag("colgroup");return gr(Mr,or),[Mr]}return[]})(vt,bo,ao),Ro=((No,Ln,qn)=>R(No.all,Qr=>{const or=lt(Qr.cells,$l(Ln,qn)),Mr=R(or,ca=>{const zs=nn(ca.element);return Zf(zs,"colspan",qn-Ln),zs}),Er=Wt.fromTag("tr");return gr(Er,Mr),Er}))(vt,bo,ao);return[...Eo,...Ro]})})(_e,_n(Bc(p),_e,Re))),be=(_e,Re)=>Re().each(Xe=>{const Et=R(Xe,vt=>nn(vt));L((vt,qt)=>{const eo=Oi(Wt.fromDom(p.getDoc())),bo=((ao,Eo,Ro,No)=>({selection:lg(ao),clipboard:Ro,generators:No}))(Bc(p),0,Et,eo);_e(vt,bo).each(I)})}),Le=_e=>(Re,Xe)=>((Et,vt)=>We(Et,vt)?de.from(Et[vt]):de.none())(Xe,"type").each(Et=>{Z(_e(Et),Xe.no_events)});$e({mceTableSplitCells:()=>Z(b.unmergeCells),mceTableMergeCells:()=>Z(b.mergeCells),mceTableInsertRowBefore:()=>Z(b.insertRowsBefore),mceTableInsertRowAfter:()=>Z(b.insertRowsAfter),mceTableInsertColBefore:()=>Z(b.insertColumnsBefore),mceTableInsertColAfter:()=>Z(b.insertColumnsAfter),mceTableDeleteCol:()=>Z(b.deleteColumn),mceTableDeleteRow:()=>Z(b.deleteRow),mceTableCutCol:()=>ae().each(_e=>{yb(_e),Z(b.deleteColumn)}),mceTableCutRow:()=>Y().each(_e=>{bb(_e),Z(b.deleteRow)}),mceTableCopyCol:()=>ae().each(_e=>yb(_e)),mceTableCopyRow:()=>Y().each(_e=>bb(_e)),mceTablePasteColBefore:()=>be(b.pasteColsBefore,Cv),mceTablePasteColAfter:()=>be(b.pasteColsAfter,Cv),mceTablePasteRowBefore:()=>be(b.pasteRowsBefore,Xf),mceTablePasteRowAfter:()=>be(b.pasteRowsAfter,Xf),mceTableDelete:()=>Jf(p).each(_e=>{_r(_e,_).filter(Dt(_)).each(Re=>{const Xe=Wt.fromText("");if(St(Re,Xe),Ae(Re),p.dom.isEmpty(p.getBody()))p.setContent(""),p.selection.setCursorLocation();else{const Et=p.dom.createRng();Et.setStart(Xe.dom,0),Et.setEnd(Xe.dom,0),p.selection.setRng(Et),p.nodeChanged()}})}),mceTableCellToggleClass:(_e,Re)=>{L(Xe=>{const Et=Bc(p),vt=dt(Et,eo=>p.formatter.match("tablecellclass",{value:Re},eo.dom)),qt=vt?p.formatter.remove:p.formatter.apply;qe(Et,eo=>qt("tablecellclass",{value:Re},eo.dom)),Gs(p,Xe.dom,vl)})},mceTableToggleClass:(_e,Re)=>{L(Xe=>{p.formatter.toggle("tableclass",{value:Re},Xe.dom),Gs(p,Xe.dom,vl)})},mceTableToggleCaption:()=>{Jf(p).each(_e=>{_r(_e,_).each(Re=>{rr(Re,"caption").fold(()=>{const Xe=Wt.fromTag("caption");kr(Xe,Wt.fromText("Caption")),((Et,vt,qt)=>{_t(Et,0).fold(()=>{kr(Et,vt)},eo=>{Do(eo,vt)})})(Re,Xe),p.selection.setCursorLocation(Xe.dom,0)},Xe=>{zn("caption")(_e)&&ln("td",Re).each(Et=>p.selection.setCursorLocation(Et.dom,0)),Ae(Xe)}),Gs(p,Re.dom,Wa)})})},mceTableSizingMode:(_e,Re)=>(Xe=>Jf(p).each(Et=>{ai(p)||_d(p)||Hl(p)||_r(Et,_).each(vt=>{Xe!=="relative"||Oo(vt)?Xe!=="fixed"||sn(vt)?Xe!=="responsive"||Ri(vt)||tc(vt):l1(vt):Fp(vt),fa(vt),Gs(p,vt.dom,Wa)})}))(Re),mceTableCellType:Le(_e=>_e==="th"?b.makeCellsHeader:b.unmakeCellsHeader),mceTableColType:Le(_e=>_e==="th"?b.makeColumnsHeader:b.unmakeColumnsHeader),mceTableRowType:Le(_e=>{switch(_e){case"header":return b.makeRowsHeader;case"footer":return b.makeRowsFooter;default:return b.makeRowsBody}})},(_e,Re)=>p.addCommand(Re,_e)),p.addCommand("mceInsertTable",(_e,Re)=>{((Xe,Et,vt,qt={})=>{const eo=bo=>To(bo)&&bo>0;if(eo(Et)&&eo(vt)){const bo=qt.headerRows||0,ao=qt.headerColumns||0;return Gf(Xe,vt,Et,ao,bo)}console.error("Invalid values for mceInsertTable - rows and columns values are required to insert a table.")})(p,Re.rows,Re.columns,Re.options)}),p.addCommand("mceTableApplyCellStyle",(_e,Re)=>{const Xe=qt=>"tablecell"+qt.toLowerCase().replace("-","");if(!io(Re))return;const Et=lt(Bc(p),Bf);if(Et.length===0)return;const vt=((qt,eo)=>{const bo={};return((ao,Eo,Ro,No)=>{$e(ao,(Ln,qn)=>{(Eo(Ln,qn)?Ro:No)(Ln,qn)})})(qt,eo,(ao=>(Eo,Ro)=>{ao[Ro]=Eo})(bo),Ue),bo})(Re,(qt,eo)=>p.formatter.has(Xe(eo))&&Qo(qt));(qt=>{for(const eo in qt)if(Se.call(qt,eo))return!1;return!0})(vt)||($e(vt,(qt,eo)=>{const bo=Xe(eo);qe(Et,ao=>{qt===""?p.formatter.remove(bo,{value:null},ao.dom,!0):p.formatter.apply(bo,{value:qt},ao.dom)})}),T(Et[0]).each(qt=>Gs(p,qt.dom,vl)))})},Lp=Iu([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),oc={before:Lp.before,on:Lp.on,after:Lp.after,cata:(p,b,_,T)=>p.fold(b,_,T),getStart:p=>p.fold(So,So,So)},Hu=(p,b)=>({selection:p,kill:b}),vg=(p,b)=>{const _=p.document.createRange();return _.selectNode(b.dom),_},ms=(p,b)=>{const _=p.document.createRange();return u1(_,b),_},u1=(p,b)=>p.selectNodeContents(b.dom),Ul=(p,b,_)=>{const T=p.document.createRange();var L;return L=T,b.fold(I=>{L.setStartBefore(I.dom)},(I,Z)=>{L.setStart(I.dom,Z)},I=>{L.setStartAfter(I.dom)}),((I,Z)=>{Z.fold(Y=>{I.setEndBefore(Y.dom)},(Y,ae)=>{I.setEnd(Y.dom,ae)},Y=>{I.setEndAfter(Y.dom)})})(T,_),T},Qf=(p,b,_,T,L)=>{const I=p.document.createRange();return I.setStart(b.dom,_),I.setEnd(T.dom,L),I},Ev=p=>({left:p.left,top:p.top,right:p.right,bottom:p.bottom,width:p.width,height:p.height}),xg=Iu([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),eh=(p,b,_)=>b(Wt.fromDom(_.startContainer),_.startOffset,Wt.fromDom(_.endContainer),_.endOffset),Tv=(p,b)=>{const _=((T,L)=>L.match({domRange:I=>({ltr:it(I),rtl:de.none}),relative:(I,Z)=>({ltr:Ee(()=>Ul(T,I,Z)),rtl:Ee(()=>de.some(Ul(T,Z,I)))}),exact:(I,Z,Y,ae)=>({ltr:Ee(()=>Qf(T,I,Z,Y,ae)),rtl:Ee(()=>de.some(Qf(T,Y,ae,I,Z)))})}))(p,b);return((T,L)=>{const I=L.ltr();return I.collapsed?L.rtl().filter(Z=>Z.collapsed===!1).map(Z=>xg.rtl(Wt.fromDom(Z.endContainer),Z.endOffset,Wt.fromDom(Z.startContainer),Z.startOffset)).getOrThunk(()=>eh(0,xg.ltr,I)):eh(0,xg.ltr,I)})(0,_)},th=(p,b)=>Tv(p,b).match({ltr:(_,T,L,I)=>{const Z=p.document.createRange();return Z.setStart(_.dom,T),Z.setEnd(L.dom,I),Z},rtl:(_,T,L,I)=>{const Z=p.document.createRange();return Z.setStart(L.dom,I),Z.setEnd(_.dom,T),Z}});xg.ltr,xg.rtl;const Ip=(p,b,_,T)=>({start:p,soffset:b,finish:_,foffset:T}),wg=(p,b,_,T)=>({start:oc.on(p,b),finish:oc.on(_,T)}),vb=(p,b)=>{const _=th(p,b);return Ip(Wt.fromDom(_.startContainer),_.startOffset,Wt.fromDom(_.endContainer),_.endOffset)},xb=wg,kg=(p,b,_,T,L)=>xr(_,T)?de.none():zu(_,T,b).bind(I=>{const Z=I.boxes.getOr([]);return Z.length>1?(L(p,Z,I.start,I.finish),de.some(Hu(de.some(xb(_,0,_,ns(_))),!0))):de.none()}),au=(p,b)=>({item:p,mode:b}),_g=(p,b,_,T=fm)=>p.property().parent(b).map(L=>au(L,T)),fm=(p,b,_,T=su)=>_.sibling(p,b).map(L=>au(L,T)),su=(p,b,_,T=su)=>{const L=p.property().children(b);return _.first(L).map(I=>au(I,T))},r_=[{current:_g,next:fm,fallback:de.none()},{current:fm,next:su,fallback:de.some(_g)},{current:su,next:su,fallback:de.some(fm)}],ju=(p,b,_,T,L=r_)=>Rt(L,I=>I.current===_).bind(I=>I.current(p,b,T,I.next).orThunk(()=>I.fallback.bind(Z=>ju(p,b,Z,T)))),oh=(p,b,_,T,L,I)=>ju(p,b,T,L).bind(Z=>I(Z.item)?de.none():_(Z.item)?de.some(Z.item):oh(p,Z.item,_,Z.mode,L,I)),zv=p=>b=>p.property().children(b).length===0,hm=(p,b,_,T)=>oh(p,b,_,fm,{sibling:(L,I)=>L.query().prevSibling(I),first:L=>L.length>0?de.some(L[L.length-1]):de.none()},T),Cg=(p,b,_,T)=>oh(p,b,_,fm,{sibling:(L,I)=>L.query().nextSibling(I),first:L=>L.length>0?de.some(L[0]):de.none()},T),wb=ys(),Av=(p,b)=>((_,T,L)=>hm(_,T,zv(_),L))(wb,p,b),m1=(p,b)=>((_,T,L)=>Cg(_,T,zv(_),L))(wb,p,b),kb=Iu([{none:["message"]},{success:[]},{failedUp:["cell"]},{failedDown:["cell"]}]),a_=p=>va(p,"tr"),Sg={...kb,verify:(p,b,_,T,L,I,Z)=>va(T,"td,th",Z).bind(Y=>va(b,"td,th",Z).map(ae=>xr(Y,ae)?xr(T,Y)&&ns(Y)===L?I(ae):kb.none("in same cell"):Ff(a_,[Y,ae]).fold(()=>((be,Le,_e)=>{const Re=be.getRect(Le),Xe=be.getRect(_e);return Xe.right>Re.left&&Xe.left<Re.right})(p,ae,Y)?kb.success():I(ae),be=>I(ae)))).getOr(kb.none("default")),cata:(p,b,_,T,L)=>p.fold(b,_,T,L)},nh=zn("br"),g1=(p,b,_)=>b(p,_).bind(T=>Zo(T)&&Hs(T).trim().length===0?g1(T,b,_):de.some(T)),Ov=(p,b,_,T)=>((L,I)=>_t(L,I).filter(nh).orThunk(()=>_t(L,I-1).filter(nh)))(b,_).bind(L=>T.traverse(L).fold(()=>g1(L,T.gather,p).map(T.relative),I=>(Z=>Ha(Z).bind(Y=>{const ae=tt(Y);return((be,Le)=>uo(be,he(xr,Le)))(ae,Z).map(be=>((Le,_e,Re,Xe)=>({parent:Le,children:_e,element:Re,index:Xe}))(Y,ae,Z,be))}))(I).map(Z=>oc.on(Z.parent,Z.index)))),qm=(p,b)=>({left:p.left,top:p.top+b,right:p.right,bottom:p.bottom+b}),Pp=(p,b)=>({left:p.left,top:p.top-b,right:p.right,bottom:p.bottom-b}),p1=(p,b,_)=>({left:p.left+b,top:p.top+_,right:p.right+b,bottom:p.bottom+_}),_b=p=>({left:p.left,top:p.top,right:p.right,bottom:p.bottom}),Cb=(p,b)=>de.some(p.getRect(b)),rh=(p,b,_)=>$o(b)?Cb(p,b).map(_b):Zo(b)?((T,L,I)=>I>=0&&I<ns(L)?T.getRangedRect(L,I,L,I+1):I>0?T.getRangedRect(L,I-1,L,I):de.none())(p,b,_).map(_b):de.none(),Nv=(p,b)=>$o(b)?Cb(p,b).map(_b):Zo(b)?p.getRangedRect(b,0,b,ns(b)).map(_b):de.none(),iu=Iu([{none:[]},{retry:["caret"]}]),Hp=(p,b,_)=>mi(b,ou).fold(me,T=>Nv(p,T).exists(L=>((I,Z)=>I.left<Z.left||Math.abs(Z.right-I.left)<1||I.left>Z.right)(_,L))),Mv={point:p=>p.bottom,adjuster:(p,b,_,T,L)=>{const I=qm(L,5);return Math.abs(_.bottom-T.bottom)<1||_.top>L.bottom?iu.retry(I):_.top===L.bottom?iu.retry(qm(L,1)):Hp(p,b,L)?iu.retry(p1(I,5,0)):iu.none()},move:qm,gather:m1},Sb=(p,b,_,T,L)=>L===0?de.some(T):((I,Z,Y)=>I.elementFromPoint(Z,Y).filter(ae=>ze(ae)==="table").isSome())(p,T.left,b.point(T))?((I,Z,Y,ae,be)=>Sb(I,Z,Y,Z.move(ae,5),be))(p,b,_,T,L-1):p.situsFromPoint(T.left,b.point(T)).bind(I=>I.start.fold(de.none,Z=>Nv(p,Z).bind(Y=>b.adjuster(p,Z,Y,_,T).fold(de.none,ae=>Sb(p,b,_,ae,L-1))).orThunk(()=>de.some(T)),de.none)),f1=(p,b,_)=>{const T=p.move(_,5),L=Sb(b,p,_,T,100).getOr(T);return((I,Z,Y)=>I.point(Z)>Y.getInnerHeight()?de.some(I.point(Z)-Y.getInnerHeight()):I.point(Z)<0?de.some(-I.point(Z)):de.none())(p,L,b).fold(()=>b.situsFromPoint(L.left,p.point(L)),I=>(b.scrollBy(0,I),b.situsFromPoint(L.left,p.point(L)-I)))},Eg={tryUp:he(f1,{point:p=>p.top,adjuster:(p,b,_,T,L)=>{const I=Pp(L,5);return Math.abs(_.top-T.top)<1||_.bottom<L.top?iu.retry(I):_.bottom===L.top?iu.retry(Pp(L,1)):Hp(p,b,L)?iu.retry(p1(I,5,0)):iu.none()},move:Pp,gather:Av}),tryDown:he(f1,Mv),getJumpSize:it(5)},Dv=(p,b,_)=>p.getSelection().bind(T=>((L,I,Z,Y)=>(nh(I)?((be,Le,_e)=>_e.traverse(Le).orThunk(()=>g1(Le,_e.gather,be)).map(_e.relative))(L,I,Y):Ov(L,I,Z,Y)).map(be=>({start:be,finish:be})))(b,T.finish,T.foffset,_).fold(()=>de.some(Nu(T.finish,T.foffset)),L=>{const I=p.fromSitus(L);return Z=Sg.verify(p,T.finish,T.foffset,I.finish,I.foffset,_.failure,b),Sg.cata(Z,Y=>de.none(),()=>de.none(),Y=>de.some(Nu(Y,0)),Y=>de.some(Nu(Y,ns(Y))));var Z})),Tg=(p,b,_,T,L,I)=>I===0?de.none():Rv(p,b,_,T,L).bind(Z=>{const Y=p.fromSitus(Z),ae=Sg.verify(p,_,T,Y.finish,Y.foffset,L.failure,b);return Sg.cata(ae,()=>de.none(),()=>de.some(Z),be=>xr(_,be)&&T===0?h1(p,_,T,Pp,L):Tg(p,b,be,0,L,I-1),be=>xr(_,be)&&T===ns(be)?h1(p,_,T,qm,L):Tg(p,b,be,ns(be),L,I-1))}),h1=(p,b,_,T,L)=>rh(p,b,_).bind(I=>Zl(p,L,T(I,Eg.getJumpSize()))),Zl=(p,b,_)=>{const T=Il().browser;return T.isChromium()||T.isSafari()||T.isFirefox()?b.retry(p,_):de.none()},Rv=(p,b,_,T,L)=>rh(p,_,T).bind(I=>Zl(p,L,I)),Bv=(p,b,_,T,L)=>va(T,"td,th",b).bind(I=>va(I,"table",b).bind(Z=>((Y,ae)=>Zs(Y,be=>Ha(be).exists(Le=>xr(Le,ae)),void 0).isSome())(L,Z)?((Y,ae,be)=>Dv(Y,ae,be).bind(Le=>Tg(Y,ae,Le.element,Le.offset,be,20).map(Y.fromSitus)))(p,b,_).bind(Y=>va(Y.finish,"td,th",b).map(ae=>({start:I,finish:ae,range:Y}))):de.none())),b1=(p,b,_,T,L,I)=>I(T,b).orThunk(()=>Bv(p,b,_,T,L).map(Z=>{const Y=Z.range;return Hu(de.some(xb(Y.start,Y.soffset,Y.finish,Y.foffset)),!0)})),s_=(p,b)=>va(p,"tr",b).bind(_=>va(_,"table",b).bind(T=>{const L=ra(T,"tr");return xr(_,L[0])?((I,Z,Y)=>hm(wb,I,ae=>wd(ae).isSome(),Y))(T,0,b).map(I=>{const Z=ns(I);return Hu(de.some(xb(I,Z,I,Z)),!0)}):de.none()})),Eb=(p,b)=>va(p,"tr",b).bind(_=>va(_,"table",b).bind(T=>{const L=ra(T,"tr");return xr(_,L[L.length-1])?((I,Z,Y)=>Cg(wb,I,ae=>Ai(ae).isSome(),Y))(T,0,b).map(I=>Hu(de.some(xb(I,0,I,0)),!0)):de.none()})),y1=(p,b,_,T,L,I,Z)=>Bv(p,_,T,L,I).bind(Y=>kg(b,_,Y.start,Y.finish,Z)),ah=p=>{let b=p;return{get:()=>b,set:_=>{b=_}}},sh=()=>{const p=(b=>{const _=ah(de.none()),T=()=>_.get().each(b);return{clear:()=>{T(),_.set(de.none())},isSet:()=>_.get().isSome(),get:()=>_.get(),set:L=>{T(),_.set(de.some(L))}}})(Ue);return{...p,on:b=>p.get().each(b)}},Fv=(p,b)=>va(p,"td,th",b),Tb=p=>ja(p).exists(fn),zb={traverse:_a,gather:m1,relative:oc.before,retry:Eg.tryDown,failure:Sg.failedDown},v1={traverse:Us,gather:Av,relative:oc.before,retry:Eg.tryUp,failure:Sg.failedUp},zg=p=>b=>b===p,Ab=zg(38),ih=zg(40),bm=p=>p>=37&&p<=40,Lv={isBackward:zg(37),isForward:zg(39)},x1={isBackward:zg(39),isForward:zg(37)},lh=Iu([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),Ag={domRange:lh.domRange,relative:lh.relative,exact:lh.exact,exactFromRange:p=>lh.exact(p.start,p.soffset,p.finish,p.foffset),getWin:p=>{const b=(_=>_.match({domRange:T=>Wt.fromDom(T.startContainer),relative:(T,L)=>oc.getStart(T),exact:(T,L,I,Z)=>T}))(p);return Wt.fromDom(cs(b).dom.defaultView)},range:Ip},i_=document.caretPositionFromPoint?(p,b,_)=>{var T,L;return de.from((L=(T=p.dom).caretPositionFromPoint)===null||L===void 0?void 0:L.call(T,b,_)).bind(I=>{if(I.offsetNode===null)return de.none();const Z=p.dom.createRange();return Z.setStart(I.offsetNode,I.offset),Z.collapse(),de.some(Z)})}:document.caretRangeFromPoint?(p,b,_)=>{var T,L;return de.from((L=(T=p.dom).caretRangeFromPoint)===null||L===void 0?void 0:L.call(T,b,_))}:de.none,Ob=(p,b)=>{const _=ze(p);return _==="input"?oc.after(p):gn(["br","img"],_)?b===0?oc.before(p):oc.after(p):oc.on(p,b)},jp=p=>de.from(p.getSelection()),Iv=(p,b)=>{jp(p).each(_=>{_.removeAllRanges(),_.addRange(b)})},Nb=(p,b,_,T,L)=>{const I=Qf(p,b,_,T,L);Iv(p,I)},Mb=(p,b)=>Tv(p,b).match({ltr:(_,T,L,I)=>{Nb(p,_,T,L,I)},rtl:(_,T,L,I)=>{jp(p).each(Z=>{if(Z.setBaseAndExtent)Z.setBaseAndExtent(_.dom,T,L.dom,I);else if(Z.extend)try{((Y,ae,be,Le,_e,Re)=>{ae.collapse(be.dom,Le),ae.extend(_e.dom,Re)})(0,Z,_,T,L,I)}catch{Nb(p,L,I,_,T)}else Nb(p,L,I,_,T)})}}),w1=(p,b,_,T,L)=>{const I=((Z,Y,ae,be)=>{const Le=Ob(Z,Y),_e=Ob(ae,be);return Ag.relative(Le,_e)})(b,_,T,L);Mb(p,I)},xl=(p,b,_)=>{const T=((L,I)=>{const Z=L.fold(oc.before,Ob,oc.after),Y=I.fold(oc.before,Ob,oc.after);return Ag.relative(Z,Y)})(b,_);Mb(p,T)},ch=p=>{if(p.rangeCount>0){const b=p.getRangeAt(0),_=p.getRangeAt(p.rangeCount-1);return de.some(Ip(Wt.fromDom(b.startContainer),b.startOffset,Wt.fromDom(_.endContainer),_.endOffset))}return de.none()},dh=p=>{if(p.anchorNode===null||p.focusNode===null)return ch(p);{const b=Wt.fromDom(p.anchorNode),_=Wt.fromDom(p.focusNode);return((T,L,I,Z)=>{const Y=((be,Le,_e,Re)=>{const Xe=Pa(be).dom.createRange();return Xe.setStart(be.dom,Le),Xe.setEnd(_e.dom,Re),Xe})(T,L,I,Z),ae=xr(T,I)&&L===Z;return Y.collapsed&&!ae})(b,p.anchorOffset,_,p.focusOffset)?de.some(Ip(b,p.anchorOffset,_,p.focusOffset)):ch(p)}},Dd=(p,b,_=!0)=>{const T=(_?ms:vg)(p,b);Iv(p,T)},k1=p=>(b=>jp(b).filter(_=>_.rangeCount>0).bind(dh))(p).map(b=>Ag.exact(b.start,b.soffset,b.finish,b.foffset)),uh=p=>({elementFromPoint:(b,_)=>Wt.fromPoint(Wt.fromDom(p.document),b,_),getRect:b=>b.dom.getBoundingClientRect(),getRangedRect:(b,_,T,L)=>{const I=Ag.exact(b,_,T,L);return((Z,Y)=>(ae=>{const be=ae.getClientRects(),Le=be.length>0?be[0]:ae.getBoundingClientRect();return Le.width>0||Le.height>0?de.some(Le).map(Ev):de.none()})(th(Z,Y)))(p,I)},getSelection:()=>k1(p).map(b=>vb(p,b)),fromSitus:b=>{const _=Ag.relative(b.start,b.finish);return vb(p,_)},situsFromPoint:(b,_)=>((T,L,I)=>((Z,Y,ae)=>{const be=Wt.fromDom(Z.document);return i_(be,Y,ae).map(Le=>Ip(Wt.fromDom(Le.startContainer),Le.startOffset,Wt.fromDom(Le.endContainer),Le.endOffset))})(T,L,I))(p,b,_).map(T=>wg(T.start,T.soffset,T.finish,T.foffset)),clearSelection:()=>{(b=>{jp(b).each(_=>_.removeAllRanges())})(p)},collapseSelection:(b=!1)=>{k1(p).each(_=>_.fold(T=>T.collapse(b),(T,L)=>{const I=b?T:L;xl(p,I,I)},(T,L,I,Z)=>{const Y=b?T:I,ae=b?L:Z;w1(p,Y,ae,Y,ae)}))},setSelection:b=>{w1(p,b.start,b.soffset,b.finish,b.foffset)},setRelativeSelection:(b,_)=>{xl(p,b,_)},selectNode:b=>{Dd(p,b,!1)},selectContents:b=>{Dd(p,b)},getInnerHeight:()=>p.innerHeight,getScrollY:()=>(b=>{const _=b!==void 0?b.dom:document,T=_.body.scrollLeft||_.documentElement.scrollLeft,L=_.body.scrollTop||_.documentElement.scrollTop;return Jl(T,L)})(Wt.fromDom(p.document)).top,scrollBy:(b,_)=>{((T,L,I)=>{const Z=(I!==void 0?I.dom:document).defaultView;Z&&Z.scrollBy(T,L)})(b,_,Wt.fromDom(p.document))}}),Og=(p,b)=>({rows:p,cols:b}),ym=p=>mi(p,Xo).exists(fn),Db=(p,b)=>ym(p)||ym(b),Rb=p=>p.dom.classList!==void 0,id=(p,b)=>((_,T,L)=>{const I=((Z,Y)=>{const ae=vo(Z,Y);return ae===void 0||ae===""?[]:ae.split(" ")})(_,T).concat([L]);return zt(_,T,I.join(" ")),!0})(p,"class",b),lu=(p,b)=>{Rb(p)?p.dom.classList.add(b):id(p,b)},mh=(p,b)=>Rb(p)&&p.dom.classList.contains(b),Vp=()=>({tag:"none"}),Pv=p=>({tag:"multiple",elements:p}),Hv=p=>({tag:"single",element:p}),Bb=p=>{const b=Wt.fromDom((Y=>{if(Lo()&&jo(Y.target)){const ae=Wt.fromDom(Y.target);if($o(ae)&&jo(ae.dom.shadowRoot)&&Y.composed&&Y.composedPath){const be=Y.composedPath();if(be)return Pt(be)}}return de.from(Y.target)})(p).getOr(p.target)),_=()=>p.stopPropagation(),T=()=>p.preventDefault(),L=(I=T,Z=_,(...Y)=>I(Z.apply(null,Y)));var I,Z;return((Y,ae,be,Le,_e,Re,Xe)=>({target:Y,x:ae,y:be,stop:Le,prevent:_e,kill:Re,raw:Xe}))(b,p.clientX,p.clientY,_,T,L,p)},_1=(p,b,_,T)=>{p.dom.removeEventListener(b,_,T)},jv=Ze,Ng=(p,b,_)=>((T,L,I,Z)=>((Y,ae,be,Le,_e)=>{const Re=((Xe,Et)=>vt=>{Xe(vt)&&Et(Bb(vt))})(be,Le);return Y.dom.addEventListener(ae,Re,_e),{unbind:he(_1,Y,ae,Re,_e)}})(T,L,I,Z,!1))(p,b,jv,_),$p=Bb,vm=p=>!mh(Wt.fromDom(p.target),"ephox-snooker-resizer-bar"),Mg=(p,b)=>{const _=(L=$r.selectedSelector,{get:()=>Ou(Wt.fromDom(p.getBody()),L).fold(()=>Hm(Ka(p),Tn(p)).fold(Vp,Hv),Pv)}),T=((I,Z,Y)=>{const ae=Re=>{Vo(Re,I.selected),Vo(Re,I.firstSelected),Vo(Re,I.lastSelected)},be=Re=>{zt(Re,I.selected,"1")},Le=Re=>{_e(Re),Y()},_e=Re=>{const Xe=ra(Re,`${I.selectedSelector},${I.firstSelectedSelector},${I.lastSelectedSelector}`);qe(Xe,ae)};return{clearBeforeUpdate:_e,clear:Le,selectRange:(Re,Xe,Et,vt)=>{Le(Re),qe(Xe,be),zt(Et,I.firstSelected,"1"),zt(vt,I.lastSelected,"1"),Z(Xe,Et,vt)},selectedSelector:I.selectedSelector,firstSelectedSelector:I.firstSelectedSelector,lastSelectedSelector:I.lastSelectedSelector}})($r,(I,Z,Y)=>{_r(Z).each(ae=>{const be=Tu(p),Le=Xi(Ue,Wt.fromDom(p.getDoc()),be),_e=((Re,Xe,Et)=>{const vt=ts(Re);return Ia(vt,Xe).map(qt=>{const eo=qo(vt,Et,!1),{rows:bo}=ta(eo),ao=((Ro,No)=>{const Ln=Ro.slice(0,No[No.length-1].row+1),qn=Xn(Ln);return V(qn,Qr=>{const or=Qr.cells.slice(0,No[No.length-1].column+1);return R(or,Mr=>Mr.element)})})(bo,qt),Eo=((Ro,No)=>{const Ln=Ro.slice(No[0].row+No[0].rowspan-1,Ro.length),qn=Xn(Ln);return V(qn,Qr=>{const or=Qr.cells.slice(No[0].column+No[0].colspan-1,Qr.cells.length);return R(or,Mr=>Mr.element)})})(bo,qt);return{upOrLeftCells:ao,downOrRightCells:Eo}})})(ae,{selection:Bc(p)},Le);((Re,Xe,Et,vt,qt)=>{Re.dispatch("TableSelectionChange",{cells:Xe,start:Et,finish:vt,otherCells:qt})})(p,I,Z,Y,_e)})},()=>(I=>{I.dispatch("TableSelectionClear")})(p));var L;return p.on("init",I=>{const Z=p.getWin(),Y=Hn(p),ae=Tn(p),be=((vt,qt,eo,bo)=>{const ao=((Eo,Ro,No,Ln)=>{const qn=sh(),Qr=qn.clear,or=Mr=>{qn.on(Er=>{Ln.clearBeforeUpdate(Ro),Fv(Mr.target,No).each(ca=>{zu(Er,ca,No).each(zs=>{const il=zs.boxes.getOr([]);if(il.length===1){const ii=il[0],ql=ir(ii)==="false",ua=Cs(_o(Mr.target),ii,xr);ql&&ua&&(Ln.selectRange(Ro,il,ii,ii),Eo.selectContents(ii))}else il.length>1&&(Ln.selectRange(Ro,il,zs.start,zs.finish),Eo.selectContents(ca))})})})};return{clearstate:Qr,mousedown:Mr=>{Ln.clear(Ro),Fv(Mr.target,No).filter(Tb).each(qn.set)},mouseover:Mr=>{or(Mr)},mouseup:Mr=>{or(Mr),Qr()}}})(uh(vt),qt,eo,bo);return{clearstate:ao.clearstate,mousedown:ao.mousedown,mouseover:ao.mouseover,mouseup:ao.mouseup}})(Z,Y,ae,T),Le=((vt,qt,eo,bo)=>{const ao=uh(vt),Eo=()=>(bo.clear(qt),de.none());return{keydown:(Ro,No,Ln,qn,Qr,or)=>{const Mr=Ro.raw,Er=Mr.which,ca=Mr.shiftKey===!0;return Au(qt,bo.selectedSelector).fold(()=>(bm(Er)&&!ca&&bo.clearBeforeUpdate(qt),bm(Er)&&ca&&!Db(No,qn)?de.none:ih(Er)&&ca?he(y1,ao,qt,eo,zb,qn,No,bo.selectRange):Ab(Er)&&ca?he(y1,ao,qt,eo,v1,qn,No,bo.selectRange):ih(Er)?he(b1,ao,eo,zb,qn,No,Eb):Ab(Er)?he(b1,ao,eo,v1,qn,No,s_):de.none),il=>{const ii=ql=>()=>zo(ql,li=>((Vu,Kp,wm,Fg,Yp)=>sm(Fg,Vu,Kp,Yp.firstSelectedSelector,Yp.lastSelectedSelector).map(Xp=>(Yp.clearBeforeUpdate(wm),Yp.selectRange(wm,Xp.boxes,Xp.start,Xp.finish),Xp.boxes)))(li.rows,li.cols,qt,il,bo)).fold(()=>Rc(qt,bo.firstSelectedSelector,bo.lastSelectedSelector).map(li=>{const Vu=ih(Er)||or.isForward(Er)?oc.after:oc.before;return ao.setRelativeSelection(oc.on(li.first,0),Vu(li.table)),bo.clear(qt),Hu(de.none(),!0)}),li=>de.some(Hu(de.none(),!0)));return bm(Er)&&ca&&!Db(No,qn)?de.none:ih(Er)&&ca?ii([Og(1,0)]):Ab(Er)&&ca?ii([Og(-1,0)]):or.isBackward(Er)&&ca?ii([Og(0,-1),Og(-1,0)]):or.isForward(Er)&&ca?ii([Og(0,1),Og(1,0)]):bm(Er)&&!ca?Eo:de.none})()},keyup:(Ro,No,Ln,qn,Qr)=>Au(qt,bo.selectedSelector).fold(()=>{const or=Ro.raw,Mr=or.which;return or.shiftKey===!0&&bm(Mr)&&Db(No,qn)?((Er,ca,zs,il,ii,ql,ua)=>xr(zs,ii)&&il===ql?de.none():va(zs,"td,th",ca).bind(li=>va(ii,"td,th",ca).bind(Vu=>kg(Er,ca,li,Vu,ua))))(qt,eo,No,Ln,qn,Qr,bo.selectRange):de.none()},de.none)}})(Z,Y,ae,T),_e=((vt,qt,eo,bo)=>{const ao=uh(vt);return(Eo,Ro)=>{bo.clearBeforeUpdate(qt),zu(Eo,Ro,eo).each(No=>{const Ln=No.boxes.getOr([]);bo.selectRange(qt,Ln,No.start,No.finish),ao.selectContents(Ro),ao.collapseSelection()})}})(Z,Y,ae,T);p.on("TableSelectorChange",vt=>_e(vt.start,vt.finish));const Re=(vt,qt)=>{(eo=>eo.raw.shiftKey===!0)(vt)&&(qt.kill&&vt.kill(),qt.selection.each(eo=>{const bo=Ag.relative(eo.start,eo.finish),ao=th(Z,bo);p.selection.setRng(ao)}))},Xe=vt=>vt.button===0,Et=(()=>{const vt=ah(Wt.fromDom(Y)),qt=ah(0);return{touchEnd:eo=>{const bo=Wt.fromDom(eo.target);if(zn("td")(bo)||zn("th")(bo)){const ao=vt.get(),Eo=qt.get();xr(ao,bo)&&eo.timeStamp-Eo<300&&(eo.preventDefault(),_e(bo,bo))}vt.set(bo),qt.set(eo.timeStamp)}}})();p.on("dragstart",vt=>{be.clearstate()}),p.on("mousedown",vt=>{Xe(vt)&&vm(vt)&&be.mousedown($p(vt))}),p.on("mouseover",vt=>{var qt;(qt=vt).buttons!==void 0&&!(1&qt.buttons)||!vm(vt)||be.mouseover($p(vt))}),p.on("mouseup",vt=>{Xe(vt)&&vm(vt)&&be.mouseup($p(vt))}),p.on("touchend",Et.touchEnd),p.on("keyup",vt=>{const qt=$p(vt);if(qt.raw.shiftKey&&bm(qt.raw.which)){const eo=p.selection.getRng(),bo=Wt.fromDom(eo.startContainer),ao=Wt.fromDom(eo.endContainer);Le.keyup(qt,bo,eo.startOffset,ao,eo.endOffset).each(Eo=>{Re(qt,Eo)})}}),p.on("keydown",vt=>{const qt=$p(vt);b.hide();const eo=p.selection.getRng(),bo=Wt.fromDom(eo.startContainer),ao=Wt.fromDom(eo.endContainer),Eo=Mc(Lv,x1)(Wt.fromDom(p.selection.getStart()));Le.keydown(qt,bo,eo.startOffset,ao,eo.endOffset,Eo).each(Ro=>{Re(qt,Ro)}),b.show()}),p.on("NodeChange",()=>{const vt=p.selection,qt=Wt.fromDom(vt.getStart()),eo=Wt.fromDom(vt.getEnd());Ff(_r,[qt,eo]).fold(()=>T.clear(Y),Ue)})}),p.on("PreInit",()=>{p.serializer.addTempAttr($r.firstSelected),p.serializer.addTempAttr($r.lastSelected)}),{getSelectedCells:()=>((I,Z,Y,ae)=>{switch(I.tag){case"none":return Z();case"single":return(be=>[be.dom])(I.element);case"multiple":return(be=>R(be,Le=>Le.dom))(I.elements)}})(_.get(),it([])),clearSelectedCells:I=>T.clear(Wt.fromDom(I))}},Ac=p=>{let b=[];return{bind:_=>{if(_===void 0)throw new Error("Event bind error: undefined handler");b.push(_)},unbind:_=>{b=lt(b,T=>T!==_)},trigger:(..._)=>{const T={};qe(p,(L,I)=>{T[L]=_[I]}),qe(b,L=>{L(T)})}}},cu=p=>({registry:ct(p,b=>({bind:b.bind,unbind:b.unbind})),trigger:ct(p,b=>b.trigger)}),Rd=p=>p.slice(0).sort(),Lr=(p,b)=>{const _=lt(b,T=>!gn(p,T));_.length>0&&(T=>{throw new Error("Unsupported keys for object: "+Rd(T).join(", "))})(_)},Bd=p=>((b,_)=>((T,L,I)=>{if(L.length===0)throw new Error("You must specify at least one required field.");return((Z,Y)=>{if(!Po(Y))throw new Error("The "+Z+" fields must be an array. Was: "+Y+".");qe(Y,ae=>{if(!Qo(ae))throw new Error("The value "+ae+" in the "+Z+" fields was not a string.")})})("required",L),(Z=>{const Y=Rd(Z);Rt(Y,(ae,be)=>be<Y.length-1&&ae===Y[be+1]).each(ae=>{throw new Error("The field: "+ae+" occurs more than once in the combined fields: ["+Y.join(", ")+"].")})})(L),Z=>{const Y=to(Z);dt(L,be=>gn(Y,be))||((be,Le)=>{throw new Error("All required keys ("+Rd(be).join(", ")+") were not specified. Specified keys were: "+Rd(Le).join(", ")+".")})(L,Y),T(L,Y);const ae=lt(L,be=>!I.validate(Z[be],be));return ae.length>0&&((be,Le)=>{throw new Error("All values need to be of type: "+Le+". Keys ("+Rd(be).join(", ")+") were not.")})(ae,I.label),Z}})(b,_,{validate:tn,label:"function"}))(Lr,p),Dg=Bd(["compare","extract","mutate","sink"]),C1=Bd(["element","start","stop","destroy"]),Vv=Bd(["forceDrop","drop","move","delayDrop"]),Rg=()=>{const p=(()=>{const T=cu({move:Ac(["info"])});return{onEvent:Ue,reset:Ue,events:T.registry}})(),b=(()=>{let T=de.none();const L=cu({move:Ac(["info"])});return{onEvent:(I,Z)=>{Z.extract(I).each(Y=>{((be,Le)=>{const _e=T.map(Re=>be.compare(Re,Le));return T=de.some(Le),_e})(Z,Y).each(be=>{L.trigger.move(be)})})},reset:()=>{T=de.none()},events:L.registry}})();let _=p;return{on:()=>{_.reset(),_=b},off:()=>{_.reset(),_=p},isOn:()=>_===b,onEvent:(T,L)=>{_.onEvent(T,L)},events:b.events}},Up=p=>{const b=p.replace(/\./g,"-");return{resolve:_=>b+"-"+_}},Zp=Up("ephox-dragster").resolve;var Fb=Dg({compare:(p,b)=>Jl(b.left-p.left,b.top-p.top),extract:p=>de.some(Jl(p.x,p.y)),sink:(p,b)=>{const _=(Y=>{const ae={layerClass:Zp("blocker"),...Y},be=Wt.fromTag("div");return zt(be,"role","presentation"),Hi(be,{position:"fixed",left:"0px",top:"0px",width:"100%",height:"100%"}),lu(be,Zp("blocker")),lu(be,ae.layerClass),{element:it(be),destroy:()=>{Ae(be)}}})(b),T=Ng(_.element(),"mousedown",p.forceDrop),L=Ng(_.element(),"mouseup",p.drop),I=Ng(_.element(),"mousemove",p.move),Z=Ng(_.element(),"mouseout",p.delayDrop);return C1({element:_.element,start:Y=>{kr(Y,_.element())},stop:()=>{Ae(_.element())},destroy:()=>{_.destroy(),L.unbind(),I.unbind(),Z.unbind(),T.unbind()}})},mutate:(p,b)=>{p.mutate(b.left,b.top)}});const xm=Up("ephox-snooker").resolve,qp=xm("resizer-bar"),Lb=xm("resizer-rows"),Wp=xm("resizer-cols"),Bi=p=>{const b=ra(p.parent(),"."+qp);qe(b,Ae)},$v=(p,b,_)=>{const T=p.origin();qe(b,L=>{L.each(I=>{const Z=_(T,I);lu(Z,qp),kr(p.parent(),Z)})})},du=(p,b,_,T,L)=>{const I=Dc(_),Z=b.isResizable,Y=T.length>0?Cn.positions(T,_):[],ae=Y.length>0?((_e,Re)=>V(_e.all,(Xe,Et)=>Re(Xe.element)?[Et]:[]))(p,Z):[];((_e,Re,Xe,Et)=>{$v(_e,Re,(vt,qt)=>{const eo=((bo,ao,Eo,Ro,No)=>{const Ln=Wt.fromTag("div");return Hi(Ln,{position:"absolute",left:ao+"px",top:Eo-3.5+"px",height:"7px",width:Ro+"px"}),Ft(Ln,{"data-row":bo,role:"presentation"}),Ln})(qt.row,Xe.left-vt.left,qt.y-vt.top,Et);return lu(eo,Lb),eo})})(b,lt(Y,(_e,Re)=>Bo(ae,Xe=>Re===Xe)),I,yt(_));const be=L.length>0?ec.positions(L,_):[],Le=be.length>0?((_e,Re)=>{const Xe=[];return Ct(_e.grid.columns,Et=>{Zd(_e,Et).map(vt=>vt.element).forall(Re)&&Xe.push(Et)}),lt(Xe,Et=>{const vt=Yc(_e,qt=>qt.column===Et);return dt(vt,qt=>Re(qt.element))})})(p,Z):[];((_e,Re,Xe,Et)=>{$v(_e,Re,(vt,qt)=>{const eo=((bo,ao,Eo,Ro,No)=>{const Ln=Wt.fromTag("div");return Hi(Ln,{position:"absolute",left:ao-3.5+"px",top:Eo+"px",height:No+"px",width:"7px"}),Ft(Ln,{"data-column":bo,role:"presentation"}),Ln})(qt.col,qt.x-vt.left,Xe.top-vt.top,0,Et);return lu(eo,Wp),eo})})(b,lt(be,(_e,Re)=>Bo(Le,Xe=>Re===Xe)),I,rl(_))},Ib=(p,b)=>{if(Bi(p),p.isResizable(b)){const _=ts(b),T=Yi(_),L=hd(_);du(_,p,b,T,L)}},Pb=(p,b)=>{const _=ra(p.parent(),"."+qp);qe(_,b)},Gp=p=>{Pb(p,b=>{Rn(b,"display","none")})},Uv=p=>{Pb(p,b=>{Rn(b,"display","block")})},Wo=xm("resizer-bar-dragging"),qi=p=>{const b=(()=>{const _e=cu({drag:Ac(["xDelta","yDelta","target"])});let Re=de.none();const Xe=(()=>{const Et=cu({drag:Ac(["xDelta","yDelta"])});return{mutate:(vt,qt)=>{Et.trigger.drag(vt,qt)},events:Et.registry}})();return Xe.events.drag.bind(Et=>{Re.each(vt=>{_e.trigger.drag(Et.xDelta,Et.yDelta,vt)})}),{assign:Et=>{Re=de.some(Et)},get:()=>Re,mutate:Xe.mutate,events:_e.registry}})(),_=((_e,Re={})=>{var Xe;return((Et,vt,qt)=>{let eo=!1;const bo=cu({start:Ac([]),stop:Ac([])}),ao=Rg(),Eo=()=>{Ln.stop(),ao.isOn()&&(ao.off(),bo.trigger.stop())},Ro=((qn,Qr)=>{let or=null;const Mr=()=>{jt(or)||(clearTimeout(or),or=null)};return{cancel:Mr,throttle:(...Er)=>{Mr(),or=setTimeout(()=>{or=null,qn.apply(null,Er)},200)}}})(Eo);ao.events.move.bind(qn=>{vt.mutate(Et,qn.info)});const No=qn=>(...Qr)=>{eo&&qn.apply(null,Qr)},Ln=vt.sink(Vv({forceDrop:Eo,drop:No(Eo),move:No(qn=>{Ro.cancel(),ao.onEvent(qn,vt)}),delayDrop:No(Ro.throttle)}),qt);return{element:Ln.element,go:qn=>{Ln.start(qn),ao.on(),bo.trigger.start()},on:()=>{eo=!0},off:()=>{eo=!1},isActive:()=>eo,destroy:()=>{Ln.destroy()},events:bo.registry}})(_e,(Xe=Re.mode)!==null&&Xe!==void 0?Xe:Fb,Re)})(b,{});let T=de.none();const L=(_e,Re)=>de.from(vo(_e,Re));b.events.drag.bind(_e=>{L(_e.target,"data-row").each(Re=>{const Xe=Pr(_e.target,"top");Rn(_e.target,"top",Xe+_e.yDelta+"px")}),L(_e.target,"data-column").each(Re=>{const Xe=Pr(_e.target,"left");Rn(_e.target,"left",Xe+_e.xDelta+"px")})});const I=(_e,Re)=>Pr(_e,Re)-Ss(_e,"data-initial-"+Re,0);_.events.stop.bind(()=>{b.get().each(_e=>{T.each(Re=>{L(_e,"data-row").each(Xe=>{const Et=I(_e,"top");Vo(_e,"data-initial-top"),Le.trigger.adjustHeight(Re,Et,parseInt(Xe,10))}),L(_e,"data-column").each(Xe=>{const Et=I(_e,"left");Vo(_e,"data-initial-left"),Le.trigger.adjustWidth(Re,Et,parseInt(Xe,10))}),Ib(p,Re)})})});const Z=(_e,Re)=>{Le.trigger.startAdjust(),b.assign(_e),zt(_e,"data-initial-"+Re,Pr(_e,Re)),lu(_e,Wo),Rn(_e,"opacity","0.2"),_.go(p.parent())},Y=Ng(p.parent(),"mousedown",_e=>{var Re;Re=_e.target,mh(Re,Lb)&&Z(_e.target,"top"),(Xe=>mh(Xe,Wp))(_e.target)&&Z(_e.target,"left")}),ae=_e=>xr(_e,p.view()),be=Ng(p.view(),"mouseover",_e=>{var Re;(Re=_e.target,va(Re,"table",ae).filter(fn)).fold(()=>{Go(_e.target)&&Bi(p)},Xe=>{_.isActive()&&(T=de.some(Xe),Ib(p,Xe))})}),Le=cu({adjustHeight:Ac(["table","delta","row"]),adjustWidth:Ac(["table","delta","column"]),startAdjust:Ac([])});return{destroy:()=>{Y.unbind(),be.unbind(),_.destroy(),Bi(p)},refresh:_e=>{Ib(p,_e)},on:_.on,off:_.off,hideBars:he(Gp,p),showBars:he(Uv,p),events:Le.registry}},Hb=(p,b,_)=>{const T=Cn,L=ec,I=qi(p),Z=cu({beforeResize:Ac(["table","type"]),afterResize:Ac(["table","type"]),startDrag:Ac([])});return I.events.adjustHeight.bind(Y=>{const ae=Y.table;Z.trigger.beforeResize(ae,"row"),((be,Le,_e,Re)=>{const Xe=ts(be),Et=((ao,Eo,Ro)=>us(ao,Eo,Ro,Sl,No=>No.getOrThunk(Be)))(Xe,be,Re),vt=R(Et,(ao,Eo)=>_e===Eo?Math.max(Le+ao,Be()):ao),qt=Tp(Xe,vt),eo=((ao,Eo)=>R(ao.all,(Ro,No)=>({element:Ro.element,height:Eo[No]})))(Xe,vt);qe(eo,ao=>{kc(ao.element,ao.height)}),qe(qt,ao=>{kc(ao.element,ao.height)});const bo=Mt(vt,(ao,Eo)=>ao+Eo,0);kc(be,bo)})(ae,T.delta(Y.delta,ae),Y.row,T),Z.trigger.afterResize(ae,"row")}),I.events.startAdjust.bind(Y=>{Z.trigger.startDrag()}),I.events.adjustWidth.bind(Y=>{const ae=Y.table;Z.trigger.beforeResize(ae,"col");const be=L.delta(Y.delta,ae),Le=_(ae);zp(ae,be,Y.column,b,Le),Z.trigger.afterResize(ae,"col")}),{on:I.on,off:I.off,refreshBars:I.refresh,hideBars:I.hideBars,showBars:I.showBars,destroy:I.destroy,events:Z.registry}},Fi=p=>jo(p)&&p.nodeName==="TABLE",nc="bar-",Bg=p=>vo(p,"data-mce-resize")!=="false",S1=p=>{const b=sh(),_=sh(),T=sh();let L,I;const Z=ae=>yi(p,ae),Y=()=>bs(p)?Cc():If();return p.on("init",()=>{const ae=((be,Le)=>be.inline?((_e,Re,Xe)=>({parent:it(Re),view:it(_e),origin:it(Jl(0,0)),isResizable:Xe}))(Wt.fromDom(be.getBody()),(()=>{const _e=Wt.fromTag("div");return Hi(_e,{position:"static",height:"0",width:"0",padding:"0",margin:"0",border:"0"}),kr(hn(Wt.fromDom(document)),_e),_e})(),Le):((_e,Re)=>{const Xe=Gn(_e)?(Et=>Wt.fromDom(cs(Et).dom.documentElement))(_e):_e;return{parent:it(Xe),view:it(_e),origin:it(Jl(0,0)),isResizable:Re}})(Wt.fromDom(be.getDoc()),Le))(p,Bg);if(T.set(ae),(be=>{const Le=be.options.get("object_resizing");return gn(Le.split(","),"table")})(p)&&z(p)){const be=Y(),Le=Hb(ae,be,Z);Le.on(),Le.events.startDrag.bind(_e=>{b.set(p.selection.getRng())}),Le.events.beforeResize.bind(_e=>{const Re=_e.table.dom;((Xe,Et,vt,qt,eo)=>{Xe.dispatch("ObjectResizeStart",{target:Et,width:vt,height:qt,origin:eo})})(p,Re,Ni(Re),td(Re),nc+_e.type)}),Le.events.afterResize.bind(_e=>{const Re=_e.table,Xe=Re.dom;fa(Re),b.on(Et=>{p.selection.setRng(Et),p.focus()}),((Et,vt,qt,eo,bo)=>{Et.dispatch("ObjectResized",{target:vt,width:qt,height:eo,origin:bo})})(p,Xe,Ni(Xe),td(Xe),nc+_e.type),p.undoManager.add()}),_.set(Le)}}),p.on("ObjectResizeStart",ae=>{const be=ae.target;if(Fi(be)){const Le=Wt.fromDom(be);qe(p.dom.select(".mce-clonedresizable"),_e=>{p.dom.addClass(_e,"mce-"+Pl(p)+"-columns")}),!sn(Le)&&_d(p)?l1(Le):!Oo(Le)&&Hl(p)&&Fp(Le),Ri(Le)&&Kn(ae.origin,nc)&&Fp(Le),L=ae.width,I=ai(p)?"":((_e,Re)=>{const Xe=_e.dom.getStyle(Re,"width")||_e.dom.getAttrib(Re,"width");return de.from(Xe).filter(Ca)})(p,be).getOr("")}}),p.on("ObjectResized",ae=>{const be=ae.target;if(Fi(be)){const Le=Wt.fromDom(be),_e=ae.origin;Kn(_e,"corner-")&&((Re,Xe,Et)=>{const vt=Os(Xe,"e");if(I===""&&Fp(Re),Et!==L&&I!==""){Rn(Re,"width",I);const qt=Y(),eo=Z(Re),bo=bs(p)||vt?(ao=>Sc(ao).columns)(Re)-1:0;zp(Re,Et-L,bo,qt,eo)}else if((qt=>/^(\d+(\.\d+)?)%$/.test(qt))(I)){const qt=parseFloat(I.replace("%",""));Rn(Re,"width",Et*qt/L+"%")}(qt=>/^(\d+(\.\d+)?)px$/.test(qt))(I)&&(qt=>{const eo=ts(qt);ti(eo)||qe(bn(qt),bo=>{const ao=Bn(bo,"width");Rn(bo,"width",ao),Vo(bo,"width")})})(Re)})(Le,_e,ae.width),fa(Le),Gs(p,Le.dom,vl)}}),p.on("SwitchMode",()=>{_.on(ae=>{p.mode.isReadOnly()?ae.hideBars():ae.showBars()})}),p.on("dragstart dragend",ae=>{_.on(be=>{ae.type==="dragstart"?(be.hideBars(),be.off()):(be.on(),be.showBars())})}),p.on("remove",()=>{_.on(ae=>{ae.destroy()}),T.on(ae=>{((be,Le)=>{be.inline&&Ae(Le.parent())})(p,ae)})}),{refresh:ae=>{_.on(be=>be.refreshBars(Wt.fromDom(ae)))},hide:()=>{_.on(ae=>ae.hideBars())},show:()=>{_.on(ae=>ae.showBars())}}},gh=p=>{(L=>{const I=L.options.register;I("table_clone_elements",{processor:"string[]"}),I("table_use_colgroups",{processor:"boolean",default:!0}),I("table_header_type",{processor:Z=>{const Y=gn(["section","cells","sectionCells","auto"],Z);return Y?{value:Z,valid:Y}:{valid:!1,message:"Must be one of: section, cells, sectionCells or auto."}},default:"section"}),I("table_sizing_mode",{processor:"string",default:"auto"}),I("table_default_attributes",{processor:"object",default:{border:"1"}}),I("table_default_styles",{processor:"object",default:{"border-collapse":"collapse"}}),I("table_column_resizing",{processor:Z=>{const Y=gn(["preservetable","resizetable"],Z);return Y?{value:Z,valid:Y}:{valid:!1,message:"Must be preservetable, or resizetable."}},default:"preservetable"}),I("table_resize_bars",{processor:"boolean",default:!0}),I("table_style_by_css",{processor:"boolean",default:!0}),I("table_merge_content_on_paste",{processor:"boolean",default:!0})})(p);const b=S1(p),_=Mg(p,b),T=pb(p,b,_);return Sv(p,T),((L,I)=>{const Z=Tn(L),Y=ae=>Hm(Ka(L)).bind(be=>_r(be,Z).map(Le=>{const _e=_n(Bc(L),Le,be);return ae(Le,_e)})).getOr("");$e({mceTableRowType:()=>Y(I.getTableRowType),mceTableCellType:()=>Y(I.getTableCellType),mceTableColType:()=>Y(I.getTableColType)},(ae,be)=>L.addQueryValueHandler(be,ae))})(p,T),qa(p,T),{getSelectedCells:_.getSelectedCells,clearSelectedCells:_.clearSelectedCells}};xo.add("dom",p=>({table:gh(p)}))})();tinymce.Resource.add("ui/default/skin.css",`.tox{box-shadow:none;box-sizing:content-box;color:#222f3e;cursor:auto;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:16px;font-style:normal;font-weight:400;line-height:normal;-webkit-tap-highlight-color:transparent;text-decoration:none;text-shadow:none;text-transform:none;vertical-align:initial;white-space:normal}.tox :not(svg):not(rect){box-sizing:inherit;color:inherit;cursor:inherit;direction:inherit;font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;line-height:inherit;-webkit-tap-highlight-color:inherit;text-align:inherit;text-decoration:inherit;text-shadow:inherit;text-transform:inherit;vertical-align:inherit;white-space:inherit}.tox :not(svg):not(rect){background:0 0;border:0;box-shadow:none;float:none;height:auto;margin:0;max-width:none;outline:0;padding:0;position:static;width:auto}.tox:not([dir=rtl]){direction:ltr;text-align:left}.tox[dir=rtl]{direction:rtl;text-align:right}.tox-tinymce{border:2px solid #eee;border-radius:10px;box-shadow:none;box-sizing:border-box;display:flex;flex-direction:column;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;overflow:hidden;position:relative;visibility:inherit!important}.tox.tox-tinymce-inline{border:none;box-shadow:none;overflow:initial}.tox.tox-tinymce-inline .tox-editor-container{overflow:initial}.tox.tox-tinymce-inline .tox-editor-header{background-color:#fff;border:2px solid #eee;border-radius:10px;box-shadow:none;overflow:hidden}.tox-tinymce-aux{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;z-index:1300}.tox-tinymce :focus,.tox-tinymce-aux :focus{outline:0}button::-moz-focus-inner{border:0}.tox[dir=rtl] .tox-icon--flip svg{transform:rotateY(180deg)}.tox .accessibility-issue__header{align-items:center;display:flex;margin-bottom:4px}.tox .accessibility-issue__description{align-items:stretch;border-radius:6px;display:flex;justify-content:space-between}.tox .accessibility-issue__description>div{padding-bottom:4px}.tox .accessibility-issue__description>div>div{align-items:center;display:flex;margin-bottom:4px}.tox .accessibility-issue__description>div>div .tox-icon svg{display:block}.tox .accessibility-issue__repair{margin-top:16px}.tox .tox-dialog__body-content .accessibility-issue--info .accessibility-issue__description{background-color:rgba(0,101,216,.1);color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--info .tox-form__group h2{color:#006ce7}.tox .tox-dialog__body-content .accessibility-issue--info .tox-icon svg{fill:#006ce7}.tox .tox-dialog__body-content .accessibility-issue--info a.tox-button--naked.tox-button--icon{background-color:#006ce7;color:#fff}.tox .tox-dialog__body-content .accessibility-issue--info a.tox-button--naked.tox-button--icon:focus,.tox .tox-dialog__body-content .accessibility-issue--info a.tox-button--naked.tox-button--icon:hover{background-color:#0060ce}.tox .tox-dialog__body-content .accessibility-issue--info a.tox-button--naked.tox-button--icon:active{background-color:#0054b4}.tox .tox-dialog__body-content .accessibility-issue--warn .accessibility-issue__description{background-color:rgba(255,165,0,.08);color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--warn .tox-form__group h2{color:#8f5d00}.tox .tox-dialog__body-content .accessibility-issue--warn .tox-icon svg{fill:#8f5d00}.tox .tox-dialog__body-content .accessibility-issue--warn a.tox-button--naked.tox-button--icon{background-color:#ffe89d;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--warn a.tox-button--naked.tox-button--icon:focus,.tox .tox-dialog__body-content .accessibility-issue--warn a.tox-button--naked.tox-button--icon:hover{background-color:#f2d574;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--warn a.tox-button--naked.tox-button--icon:active{background-color:#e8c657;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--error .accessibility-issue__description{background-color:rgba(204,0,0,.1);color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--error .tox-form__group h2{color:#c00}.tox .tox-dialog__body-content .accessibility-issue--error .tox-icon svg{fill:#c00}.tox .tox-dialog__body-content .accessibility-issue--error a.tox-button--naked.tox-button--icon{background-color:#f2bfbf;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--error a.tox-button--naked.tox-button--icon:focus,.tox .tox-dialog__body-content .accessibility-issue--error a.tox-button--naked.tox-button--icon:hover{background-color:#e9a4a4;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--error a.tox-button--naked.tox-button--icon:active{background-color:#ee9494;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--success .accessibility-issue__description{background-color:rgba(120,171,70,.1);color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--success .accessibility-issue__description>:last-child{display:none}.tox .tox-dialog__body-content .accessibility-issue--success .tox-form__group h2{color:#527530}.tox .tox-dialog__body-content .accessibility-issue--success .tox-icon svg{fill:#527530}.tox .tox-dialog__body-content .accessibility-issue__header .tox-form__group h1,.tox .tox-dialog__body-content .tox-form__group .accessibility-issue__description h2{font-size:14px;margin-top:0}.tox:not([dir=rtl]) .tox-dialog__body-content .accessibility-issue__header .tox-button{margin-left:4px}.tox:not([dir=rtl]) .tox-dialog__body-content .accessibility-issue__header>:nth-last-child(2){margin-left:auto}.tox:not([dir=rtl]) .tox-dialog__body-content .accessibility-issue__description{padding:4px 4px 4px 8px}.tox[dir=rtl] .tox-dialog__body-content .accessibility-issue__header .tox-button{margin-right:4px}.tox[dir=rtl] .tox-dialog__body-content .accessibility-issue__header>:nth-last-child(2){margin-right:auto}.tox[dir=rtl] .tox-dialog__body-content .accessibility-issue__description{padding:4px 8px 4px 4px}.tox .tox-advtemplate .tox-form__grid{flex:1}.tox .tox-advtemplate .tox-form__grid>div:first-child{display:flex;flex-direction:column;width:30%}.tox .tox-advtemplate .tox-form__grid>div:first-child>div:nth-child(2){flex-basis:0;flex-grow:1;overflow:auto}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox .tox-advtemplate .tox-form__grid>div:first-child{width:100%}}.tox .tox-advtemplate iframe{border-color:#eee;border-radius:10px;border-style:solid;border-width:1px;margin:0 10px}.tox .tox-anchorbar{display:flex;flex:0 0 auto}.tox .tox-bottom-anchorbar{display:flex;flex:0 0 auto}.tox .tox-bar{display:flex;flex:0 0 auto}.tox .tox-button{background-color:#006ce7;background-image:none;background-position:0 0;background-repeat:repeat;border-color:#006ce7;border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;box-sizing:border-box;color:#fff;cursor:pointer;display:inline-block;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:14px;font-style:normal;font-weight:700;letter-spacing:normal;line-height:24px;margin:0;outline:0;padding:4px 16px;position:relative;text-align:center;text-decoration:none;text-transform:none;white-space:nowrap}.tox .tox-button::before{border-radius:6px;bottom:-1px;box-shadow:inset 0 0 0 2px #fff,0 0 0 1px #006ce7,0 0 0 3px rgba(0,108,231,.25);content:'';left:-1px;opacity:0;pointer-events:none;position:absolute;right:-1px;top:-1px}.tox .tox-button[disabled]{background-color:#006ce7;background-image:none;border-color:#006ce7;box-shadow:none;color:rgba(255,255,255,.5);cursor:not-allowed}.tox .tox-button:focus:not(:disabled){background-color:#0060ce;background-image:none;border-color:#0060ce;box-shadow:none;color:#fff}.tox .tox-button:focus-visible:not(:disabled)::before{opacity:1}.tox .tox-button:hover:not(:disabled){background-color:#0060ce;background-image:none;border-color:#0060ce;box-shadow:none;color:#fff}.tox .tox-button:active:not(:disabled){background-color:#0054b4;background-image:none;border-color:#0054b4;box-shadow:none;color:#fff}.tox .tox-button.tox-button--enabled{background-color:#0054b4;background-image:none;border-color:#0054b4;box-shadow:none;color:#fff}.tox .tox-button.tox-button--enabled[disabled]{background-color:#0054b4;background-image:none;border-color:#0054b4;box-shadow:none;color:rgba(255,255,255,.5);cursor:not-allowed}.tox .tox-button.tox-button--enabled:focus:not(:disabled){background-color:#00489b;background-image:none;border-color:#00489b;box-shadow:none;color:#fff}.tox .tox-button.tox-button--enabled:hover:not(:disabled){background-color:#00489b;background-image:none;border-color:#00489b;box-shadow:none;color:#fff}.tox .tox-button.tox-button--enabled:active:not(:disabled){background-color:#003c81;background-image:none;border-color:#003c81;box-shadow:none;color:#fff}.tox .tox-button--icon-and-text,.tox .tox-button.tox-button--icon-and-text,.tox .tox-button.tox-button--secondary.tox-button--icon-and-text{display:flex;padding:5px 4px}.tox .tox-button--icon-and-text .tox-icon svg,.tox .tox-button.tox-button--icon-and-text .tox-icon svg,.tox .tox-button.tox-button--secondary.tox-button--icon-and-text .tox-icon svg{display:block;fill:currentColor}.tox .tox-button--secondary{background-color:#f0f0f0;background-image:none;background-position:0 0;background-repeat:repeat;border-color:#f0f0f0;border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;color:#222f3e;font-size:14px;font-style:normal;font-weight:700;letter-spacing:normal;outline:0;padding:4px 16px;text-decoration:none;text-transform:none}.tox .tox-button--secondary[disabled]{background-color:#f0f0f0;background-image:none;border-color:#f0f0f0;box-shadow:none;color:rgba(34,47,62,.5)}.tox .tox-button--secondary:focus:not(:disabled){background-color:#e3e3e3;background-image:none;border-color:#e3e3e3;box-shadow:none;color:#222f3e}.tox .tox-button--secondary:hover:not(:disabled){background-color:#e3e3e3;background-image:none;border-color:#e3e3e3;box-shadow:none;color:#222f3e}.tox .tox-button--secondary:active:not(:disabled){background-color:#d6d6d6;background-image:none;border-color:#d6d6d6;box-shadow:none;color:#222f3e}.tox .tox-button--secondary.tox-button--enabled{background-color:#a8c8ed;background-image:none;border-color:#a8c8ed;box-shadow:none;color:#222f3e}.tox .tox-button--secondary.tox-button--enabled[disabled]{background-color:#a8c8ed;background-image:none;border-color:#a8c8ed;box-shadow:none;color:rgba(34,47,62,.5)}.tox .tox-button--secondary.tox-button--enabled:focus:not(:disabled){background-color:#93bbe9;background-image:none;border-color:#93bbe9;box-shadow:none;color:#222f3e}.tox .tox-button--secondary.tox-button--enabled:hover:not(:disabled){background-color:#93bbe9;background-image:none;border-color:#93bbe9;box-shadow:none;color:#222f3e}.tox .tox-button--secondary.tox-button--enabled:active:not(:disabled){background-color:#7daee4;background-image:none;border-color:#7daee4;box-shadow:none;color:#222f3e}.tox .tox-button--icon,.tox .tox-button.tox-button--icon,.tox .tox-button.tox-button--secondary.tox-button--icon{padding:4px}.tox .tox-button--icon .tox-icon svg,.tox .tox-button.tox-button--icon .tox-icon svg,.tox .tox-button.tox-button--secondary.tox-button--icon .tox-icon svg{display:block;fill:currentColor}.tox .tox-button-link{background:0;border:none;box-sizing:border-box;cursor:pointer;display:inline-block;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:16px;font-weight:400;line-height:1.3;margin:0;padding:0;white-space:nowrap}.tox .tox-button-link--sm{font-size:14px}.tox .tox-button--naked{background-color:transparent;border-color:transparent;box-shadow:unset;color:#222f3e}.tox .tox-button--naked[disabled]{background-color:rgba(34,47,62,.12);border-color:transparent;box-shadow:unset;color:rgba(34,47,62,.5)}.tox .tox-button--naked:hover:not(:disabled){background-color:rgba(34,47,62,.12);border-color:transparent;box-shadow:unset;color:#222f3e}.tox .tox-button--naked:focus:not(:disabled){background-color:rgba(34,47,62,.12);border-color:transparent;box-shadow:unset;color:#222f3e}.tox .tox-button--naked:active:not(:disabled){background-color:rgba(34,47,62,.18);border-color:transparent;box-shadow:unset;color:#222f3e}.tox .tox-button--naked .tox-icon svg{fill:currentColor}.tox .tox-button--naked.tox-button--icon:hover:not(:disabled){color:#222f3e}.tox .tox-checkbox{align-items:center;border-radius:6px;cursor:pointer;display:flex;height:36px;min-width:36px}.tox .tox-checkbox__input{height:1px;overflow:hidden;position:absolute;top:auto;width:1px}.tox .tox-checkbox__icons{align-items:center;border-radius:6px;box-shadow:0 0 0 2px transparent;box-sizing:content-box;display:flex;height:24px;justify-content:center;padding:calc(4px - 1px);width:24px}.tox .tox-checkbox__icons .tox-checkbox-icon__unchecked svg{display:block;fill:rgba(34,47,62,.3)}.tox .tox-checkbox__icons .tox-checkbox-icon__indeterminate svg{display:none;fill:#006ce7}.tox .tox-checkbox__icons .tox-checkbox-icon__checked svg{display:none;fill:#006ce7}.tox .tox-checkbox--disabled{color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-checkbox--disabled .tox-checkbox__icons .tox-checkbox-icon__checked svg{fill:rgba(34,47,62,.5)}.tox .tox-checkbox--disabled .tox-checkbox__icons .tox-checkbox-icon__unchecked svg{fill:rgba(34,47,62,.5)}.tox .tox-checkbox--disabled .tox-checkbox__icons .tox-checkbox-icon__indeterminate svg{fill:rgba(34,47,62,.5)}.tox input.tox-checkbox__input:checked+.tox-checkbox__icons .tox-checkbox-icon__unchecked svg{display:none}.tox input.tox-checkbox__input:checked+.tox-checkbox__icons .tox-checkbox-icon__checked svg{display:block}.tox input.tox-checkbox__input:indeterminate+.tox-checkbox__icons .tox-checkbox-icon__unchecked svg{display:none}.tox input.tox-checkbox__input:indeterminate+.tox-checkbox__icons .tox-checkbox-icon__indeterminate svg{display:block}.tox input.tox-checkbox__input:focus+.tox-checkbox__icons{border-radius:6px;box-shadow:inset 0 0 0 1px #006ce7;padding:calc(4px - 1px)}.tox:not([dir=rtl]) .tox-checkbox__label{margin-left:4px}.tox:not([dir=rtl]) .tox-checkbox__input{left:-10000px}.tox:not([dir=rtl]) .tox-bar .tox-checkbox{margin-left:4px}.tox[dir=rtl] .tox-checkbox__label{margin-right:4px}.tox[dir=rtl] .tox-checkbox__input{right:-10000px}.tox[dir=rtl] .tox-bar .tox-checkbox{margin-right:4px}.tox .tox-collection--toolbar .tox-collection__group{display:flex;padding:0}.tox .tox-collection--grid .tox-collection__group{display:flex;flex-wrap:wrap;max-height:208px;overflow-x:hidden;overflow-y:auto;padding:0}.tox .tox-collection--list .tox-collection__group{border-bottom-width:0;border-color:#e3e3e3;border-left-width:0;border-right-width:0;border-style:solid;border-top-width:1px;padding:4px 0}.tox .tox-collection--list .tox-collection__group:first-child{border-top-width:0}.tox .tox-collection__group-heading{background-color:#fcfcfc;color:rgba(34,47,62,.7);cursor:default;font-size:12px;font-style:normal;font-weight:400;margin-bottom:4px;margin-top:-4px;padding:4px 8px;text-transform:none;-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;user-select:none}.tox .tox-collection__item{align-items:center;border-radius:3px;color:#222f3e;display:flex;-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;user-select:none}.tox .tox-collection--list .tox-collection__item{padding:4px 8px}.tox .tox-collection--toolbar .tox-collection__item{border-radius:3px;padding:4px}.tox .tox-collection--grid .tox-collection__item{border-radius:3px;padding:4px}.tox .tox-collection--list .tox-collection__item--enabled{background-color:#fff;color:#222f3e}.tox .tox-collection--list .tox-collection__item--active{background-color:#cce2fa}.tox .tox-collection--toolbar .tox-collection__item--enabled{background-color:#a6ccf7;color:#222f3e}.tox .tox-collection--toolbar .tox-collection__item--active{background-color:#cce2fa}.tox .tox-collection--grid .tox-collection__item--enabled{background-color:#a6ccf7;color:#222f3e}.tox .tox-collection--grid .tox-collection__item--active:not(.tox-collection__item--state-disabled){background-color:#cce2fa;color:#222f3e}.tox .tox-collection--list .tox-collection__item--active:not(.tox-collection__item--state-disabled){color:#222f3e}.tox .tox-collection--toolbar .tox-collection__item--active:not(.tox-collection__item--state-disabled){color:#222f3e}.tox .tox-collection__item-checkmark,.tox .tox-collection__item-icon{align-items:center;display:flex;height:24px;justify-content:center;width:24px}.tox .tox-collection__item-checkmark svg,.tox .tox-collection__item-icon svg{fill:currentColor}.tox .tox-collection--toolbar-lg .tox-collection__item-icon{height:48px;width:48px}.tox .tox-collection__item-label{color:currentColor;display:inline-block;flex:1;font-size:14px;font-style:normal;font-weight:400;line-height:24px;max-width:100%;text-transform:none;word-break:break-all}.tox .tox-collection__item-accessory{color:rgba(34,47,62,.7);display:inline-block;font-size:14px;height:24px;line-height:24px;text-transform:none}.tox .tox-collection__item-caret{align-items:center;display:flex;min-height:24px}.tox .tox-collection__item-caret::after{content:'';font-size:0;min-height:inherit}.tox .tox-collection__item-caret svg{fill:#222f3e}.tox .tox-collection__item--state-disabled{background-color:transparent;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-collection__item--state-disabled .tox-collection__item-caret svg{fill:rgba(34,47,62,.5)}.tox .tox-collection--list .tox-collection__item:not(.tox-collection__item--enabled) .tox-collection__item-checkmark svg{display:none}.tox .tox-collection--list .tox-collection__item:not(.tox-collection__item--enabled) .tox-collection__item-accessory+.tox-collection__item-checkmark{display:none}.tox .tox-collection--horizontal{background-color:#fff;border:1px solid #e3e3e3;border-radius:6px;box-shadow:0 0 2px 0 rgba(34,47,62,.2),0 4px 8px 0 rgba(34,47,62,.15);display:flex;flex:0 0 auto;flex-shrink:0;flex-wrap:nowrap;margin-bottom:0;overflow-x:auto;padding:0}.tox .tox-collection--horizontal .tox-collection__group{align-items:center;display:flex;flex-wrap:nowrap;margin:0;padding:0 4px}.tox .tox-collection--horizontal .tox-collection__item{height:28px;margin:6px 1px 5px 0;padding:0 4px}.tox .tox-collection--horizontal .tox-collection__item-label{white-space:nowrap}.tox .tox-collection--horizontal .tox-collection__item-caret{margin-left:4px}.tox .tox-collection__item-container{display:flex}.tox .tox-collection__item-container--row{align-items:center;flex:1 1 auto;flex-direction:row}.tox .tox-collection__item-container--row.tox-collection__item-container--align-left{margin-right:auto}.tox .tox-collection__item-container--row.tox-collection__item-container--align-right{justify-content:flex-end;margin-left:auto}.tox .tox-collection__item-container--row.tox-collection__item-container--valign-top{align-items:flex-start;margin-bottom:auto}.tox .tox-collection__item-container--row.tox-collection__item-container--valign-middle{align-items:center}.tox .tox-collection__item-container--row.tox-collection__item-container--valign-bottom{align-items:flex-end;margin-top:auto}.tox .tox-collection__item-container--column{align-self:center;flex:1 1 auto;flex-direction:column}.tox .tox-collection__item-container--column.tox-collection__item-container--align-left{align-items:flex-start}.tox .tox-collection__item-container--column.tox-collection__item-container--align-right{align-items:flex-end}.tox .tox-collection__item-container--column.tox-collection__item-container--valign-top{align-self:flex-start}.tox .tox-collection__item-container--column.tox-collection__item-container--valign-middle{align-self:center}.tox .tox-collection__item-container--column.tox-collection__item-container--valign-bottom{align-self:flex-end}.tox:not([dir=rtl]) .tox-collection--horizontal .tox-collection__group:not(:last-of-type){border-right:1px solid transparent}.tox:not([dir=rtl]) .tox-collection--list .tox-collection__item>:not(:first-child){margin-left:8px}.tox:not([dir=rtl]) .tox-collection--list .tox-collection__item>.tox-collection__item-label:first-child{margin-left:4px}.tox:not([dir=rtl]) .tox-collection__item-accessory{margin-left:16px;text-align:right}.tox:not([dir=rtl]) .tox-collection .tox-collection__item-caret{margin-left:16px}.tox[dir=rtl] .tox-collection--horizontal .tox-collection__group:not(:last-of-type){border-left:1px solid transparent}.tox[dir=rtl] .tox-collection--list .tox-collection__item>:not(:first-child){margin-right:8px}.tox[dir=rtl] .tox-collection--list .tox-collection__item>.tox-collection__item-label:first-child{margin-right:4px}.tox[dir=rtl] .tox-collection__item-accessory{margin-right:16px;text-align:left}.tox[dir=rtl] .tox-collection .tox-collection__item-caret{margin-right:16px;transform:rotateY(180deg)}.tox[dir=rtl] .tox-collection--horizontal .tox-collection__item-caret{margin-right:4px}.tox .tox-color-picker-container{display:flex;flex-direction:row;height:225px;margin:0}.tox .tox-sv-palette{box-sizing:border-box;display:flex;height:100%}.tox .tox-sv-palette-spectrum{height:100%}.tox .tox-sv-palette,.tox .tox-sv-palette-spectrum{width:225px}.tox .tox-sv-palette-thumb{background:0 0;border:1px solid #000;border-radius:50%;box-sizing:content-box;height:12px;position:absolute;width:12px}.tox .tox-sv-palette-inner-thumb{border:1px solid #fff;border-radius:50%;height:10px;position:absolute;width:10px}.tox .tox-hue-slider{box-sizing:border-box;height:100%;width:25px}.tox .tox-hue-slider-spectrum{background:linear-gradient(to bottom,red,#ff0080,#f0f,#8000ff,#00f,#0080ff,#0ff,#00ff80,#0f0,#80ff00,#ff0,#ff8000,red);height:100%;width:100%}.tox .tox-hue-slider,.tox .tox-hue-slider-spectrum{width:20px}.tox .tox-hue-slider-spectrum:focus,.tox .tox-sv-palette-spectrum:focus{outline:#08f solid}.tox .tox-hue-slider-thumb{background:#fff;border:1px solid #000;box-sizing:content-box;height:4px;width:100%}.tox .tox-rgb-form{display:flex;flex-direction:column;justify-content:space-between}.tox .tox-rgb-form div{align-items:center;display:flex;justify-content:space-between;margin-bottom:5px;width:inherit}.tox .tox-rgb-form input{width:6em}.tox .tox-rgb-form input.tox-invalid{border:1px solid red!important}.tox .tox-rgb-form .tox-rgba-preview{border:1px solid #000;flex-grow:2;margin-bottom:0}.tox:not([dir=rtl]) .tox-sv-palette{margin-right:15px}.tox:not([dir=rtl]) .tox-hue-slider{margin-right:15px}.tox:not([dir=rtl]) .tox-hue-slider-thumb{margin-left:-1px}.tox:not([dir=rtl]) .tox-rgb-form label{margin-right:.5em}.tox[dir=rtl] .tox-sv-palette{margin-left:15px}.tox[dir=rtl] .tox-hue-slider{margin-left:15px}.tox[dir=rtl] .tox-hue-slider-thumb{margin-right:-1px}.tox[dir=rtl] .tox-rgb-form label{margin-left:.5em}.tox .tox-toolbar .tox-swatches,.tox .tox-toolbar__overflow .tox-swatches,.tox .tox-toolbar__primary .tox-swatches{margin:5px 0 6px 11px}.tox .tox-collection--list .tox-collection__group .tox-swatches-menu{border:0;margin:-4px -4px}.tox .tox-swatches__row{display:flex}.tox .tox-swatch{height:30px;transition:transform .15s,box-shadow .15s;width:30px}.tox .tox-swatch:focus,.tox .tox-swatch:hover{box-shadow:0 0 0 1px rgba(127,127,127,.3) inset;transform:scale(.8)}.tox .tox-swatch--remove{align-items:center;display:flex;justify-content:center}.tox .tox-swatch--remove svg path{stroke:#e74c3c}.tox .tox-swatches__picker-btn{align-items:center;background-color:transparent;border:0;cursor:pointer;display:flex;height:30px;justify-content:center;outline:0;padding:0;width:30px}.tox .tox-swatches__picker-btn svg{fill:#222f3e;height:24px;width:24px}.tox .tox-swatches__picker-btn:hover{background:#cce2fa}.tox div.tox-swatch:not(.tox-swatch--remove) svg{display:none;fill:#222f3e;height:24px;margin:calc((30px - 24px)/ 2) calc((30px - 24px)/ 2);width:24px}.tox div.tox-swatch:not(.tox-swatch--remove) svg path{fill:#fff;paint-order:stroke;stroke:#222f3e;stroke-width:2px}.tox div.tox-swatch:not(.tox-swatch--remove).tox-collection__item--enabled svg{display:block}.tox:not([dir=rtl]) .tox-swatches__picker-btn{margin-left:auto}.tox[dir=rtl] .tox-swatches__picker-btn{margin-right:auto}.tox .tox-comment-thread{background:#fff;position:relative}.tox .tox-comment-thread>:not(:first-child){margin-top:8px}.tox .tox-comment{background:#fff;border:1px solid #eee;border-radius:6px;box-shadow:0 4px 8px 0 rgba(34,47,62,.1);padding:8px 8px 16px 8px;position:relative}.tox .tox-comment__header{align-items:center;color:#222f3e;display:flex;justify-content:space-between}.tox .tox-comment__date{color:#222f3e;font-size:12px;line-height:18px}.tox .tox-comment__body{color:#222f3e;font-size:14px;font-style:normal;font-weight:400;line-height:1.3;margin-top:8px;position:relative;text-transform:initial}.tox .tox-comment__body textarea{resize:none;white-space:normal;width:100%}.tox .tox-comment__expander{padding-top:8px}.tox .tox-comment__expander p{color:rgba(34,47,62,.7);font-size:14px;font-style:normal}.tox .tox-comment__body p{margin:0}.tox .tox-comment__buttonspacing{padding-top:16px;text-align:center}.tox .tox-comment-thread__overlay::after{background:#fff;bottom:0;content:"";display:flex;left:0;opacity:.9;position:absolute;right:0;top:0;z-index:5}.tox .tox-comment__reply{display:flex;flex-shrink:0;flex-wrap:wrap;justify-content:flex-end;margin-top:8px}.tox .tox-comment__reply>:first-child{margin-bottom:8px;width:100%}.tox .tox-comment__edit{display:flex;flex-wrap:wrap;justify-content:flex-end;margin-top:16px}.tox .tox-comment__gradient::after{background:linear-gradient(rgba(255,255,255,0),#fff);bottom:0;content:"";display:block;height:5em;margin-top:-40px;position:absolute;width:100%}.tox .tox-comment__overlay{background:#fff;bottom:0;display:flex;flex-direction:column;flex-grow:1;left:0;opacity:.9;position:absolute;right:0;text-align:center;top:0;z-index:5}.tox .tox-comment__loading-text{align-items:center;color:#222f3e;display:flex;flex-direction:column;position:relative}.tox .tox-comment__loading-text>div{padding-bottom:16px}.tox .tox-comment__overlaytext{bottom:0;flex-direction:column;font-size:14px;left:0;padding:1em;position:absolute;right:0;top:0;z-index:10}.tox .tox-comment__overlaytext p{background-color:#fff;box-shadow:0 0 8px 8px #fff;color:#222f3e;text-align:center}.tox .tox-comment__overlaytext div:nth-of-type(2){font-size:.8em}.tox .tox-comment__busy-spinner{align-items:center;background-color:#fff;bottom:0;display:flex;justify-content:center;left:0;position:absolute;right:0;top:0;z-index:20}.tox .tox-comment__scroll{display:flex;flex-direction:column;flex-shrink:1;overflow:auto}.tox .tox-conversations{margin:8px}.tox:not([dir=rtl]) .tox-comment__edit{margin-left:8px}.tox:not([dir=rtl]) .tox-comment__buttonspacing>:last-child,.tox:not([dir=rtl]) .tox-comment__edit>:last-child,.tox:not([dir=rtl]) .tox-comment__reply>:last-child{margin-left:8px}.tox[dir=rtl] .tox-comment__edit{margin-right:8px}.tox[dir=rtl] .tox-comment__buttonspacing>:last-child,.tox[dir=rtl] .tox-comment__edit>:last-child,.tox[dir=rtl] .tox-comment__reply>:last-child{margin-right:8px}.tox .tox-user{align-items:center;display:flex}.tox .tox-user__avatar svg{fill:rgba(34,47,62,.7)}.tox .tox-user__avatar img{border-radius:50%;height:36px;object-fit:cover;vertical-align:middle;width:36px}.tox .tox-user__name{color:#222f3e;font-size:14px;font-style:normal;font-weight:700;line-height:18px;text-transform:none}.tox:not([dir=rtl]) .tox-user__avatar img,.tox:not([dir=rtl]) .tox-user__avatar svg{margin-right:8px}.tox:not([dir=rtl]) .tox-user__avatar+.tox-user__name{margin-left:8px}.tox[dir=rtl] .tox-user__avatar img,.tox[dir=rtl] .tox-user__avatar svg{margin-left:8px}.tox[dir=rtl] .tox-user__avatar+.tox-user__name{margin-right:8px}.tox .tox-dialog-wrap{align-items:center;bottom:0;display:flex;justify-content:center;left:0;position:fixed;right:0;top:0;z-index:1100}.tox .tox-dialog-wrap__backdrop{background-color:rgba(255,255,255,.75);bottom:0;left:0;position:absolute;right:0;top:0;z-index:1}.tox .tox-dialog-wrap__backdrop--opaque{background-color:#fff}.tox .tox-dialog{background-color:#fff;border-color:#eee;border-radius:10px;border-style:solid;border-width:0;box-shadow:0 16px 16px -10px rgba(34,47,62,.15),0 0 40px 1px rgba(34,47,62,.15);display:flex;flex-direction:column;max-height:100%;max-width:480px;overflow:hidden;position:relative;width:95vw;z-index:2}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox .tox-dialog{align-self:flex-start;margin:8px auto;max-height:calc(100vh - 8px * 2);width:calc(100vw - 16px)}}.tox .tox-dialog-inline{z-index:1100}.tox .tox-dialog__header{align-items:center;background-color:#fff;border-bottom:none;color:#222f3e;display:flex;font-size:16px;justify-content:space-between;padding:8px 16px 0 16px;position:relative}.tox .tox-dialog__header .tox-button{z-index:1}.tox .tox-dialog__draghandle{cursor:grab;height:100%;left:0;position:absolute;top:0;width:100%}.tox .tox-dialog__draghandle:active{cursor:grabbing}.tox .tox-dialog__dismiss{margin-left:auto}.tox .tox-dialog__title{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:20px;font-style:normal;font-weight:400;line-height:1.3;margin:0;text-transform:none}.tox .tox-dialog__body{color:#222f3e;display:flex;flex:1;font-size:16px;font-style:normal;font-weight:400;line-height:1.3;min-width:0;text-align:left;text-transform:none}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox .tox-dialog__body{flex-direction:column}}.tox .tox-dialog__body-nav{align-items:flex-start;display:flex;flex-direction:column;flex-shrink:0;padding:16px 16px}@media only screen and (min-width:768px){.tox .tox-dialog__body-nav{max-width:11em}}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox .tox-dialog__body-nav{flex-direction:row;-webkit-overflow-scrolling:touch;overflow-x:auto;padding-bottom:0}}.tox .tox-dialog__body-nav-item{border-bottom:2px solid transparent;color:rgba(34,47,62,.7);display:inline-block;flex-shrink:0;font-size:14px;line-height:1.3;margin-bottom:8px;max-width:13em;text-decoration:none}.tox .tox-dialog__body-nav-item:focus{background-color:rgba(0,108,231,.1)}.tox .tox-dialog__body-nav-item--active{border-bottom:2px solid #006ce7;color:#006ce7}.tox .tox-dialog__body-content{box-sizing:border-box;display:flex;flex:1;flex-direction:column;max-height:min(650px,calc(100vh - 110px));overflow:auto;-webkit-overflow-scrolling:touch;padding:16px 16px}.tox .tox-dialog__body-content>*{margin-bottom:0;margin-top:16px}.tox .tox-dialog__body-content>:first-child{margin-top:0}.tox .tox-dialog__body-content>:last-child{margin-bottom:0}.tox .tox-dialog__body-content>:only-child{margin-bottom:0;margin-top:0}.tox .tox-dialog__body-content a{color:#006ce7;cursor:pointer;text-decoration:underline}.tox .tox-dialog__body-content a:focus,.tox .tox-dialog__body-content a:hover{color:#003c81;text-decoration:underline}.tox .tox-dialog__body-content a:focus-visible{border-radius:1px;outline:2px solid #006ce7;outline-offset:2px}.tox .tox-dialog__body-content a:active{color:#00244e;text-decoration:underline}.tox .tox-dialog__body-content svg{fill:#222f3e}.tox .tox-dialog__body-content strong{font-weight:700}.tox .tox-dialog__body-content ul{list-style-type:disc}.tox .tox-dialog__body-content dd,.tox .tox-dialog__body-content ol,.tox .tox-dialog__body-content ul{padding-inline-start:2.5rem}.tox .tox-dialog__body-content dl,.tox .tox-dialog__body-content ol,.tox .tox-dialog__body-content ul{margin-bottom:16px}.tox .tox-dialog__body-content dd,.tox .tox-dialog__body-content dl,.tox .tox-dialog__body-content dt,.tox .tox-dialog__body-content ol,.tox .tox-dialog__body-content ul{display:block;margin-inline-end:0;margin-inline-start:0}.tox .tox-dialog__body-content .tox-form__group h1{color:#222f3e;font-size:20px;font-style:normal;font-weight:700;letter-spacing:normal;margin-bottom:16px;margin-top:2rem;text-transform:none}.tox .tox-dialog__body-content .tox-form__group h2{color:#222f3e;font-size:16px;font-style:normal;font-weight:700;letter-spacing:normal;margin-bottom:16px;margin-top:2rem;text-transform:none}.tox .tox-dialog__body-content .tox-form__group p{margin-bottom:16px}.tox .tox-dialog__body-content .tox-form__group h1:first-child,.tox .tox-dialog__body-content .tox-form__group h2:first-child,.tox .tox-dialog__body-content .tox-form__group p:first-child{margin-top:0}.tox .tox-dialog__body-content .tox-form__group h1:last-child,.tox .tox-dialog__body-content .tox-form__group h2:last-child,.tox .tox-dialog__body-content .tox-form__group p:last-child{margin-bottom:0}.tox .tox-dialog__body-content .tox-form__group h1:only-child,.tox .tox-dialog__body-content .tox-form__group h2:only-child,.tox .tox-dialog__body-content .tox-form__group p:only-child{margin-bottom:0;margin-top:0}.tox .tox-dialog__body-content .tox-form__group .tox-label.tox-label--center{text-align:center}.tox .tox-dialog__body-content .tox-form__group .tox-label.tox-label--end{text-align:end}.tox .tox-dialog--width-lg{height:650px;max-width:1200px}.tox .tox-dialog--fullscreen{height:100%;max-width:100%}.tox .tox-dialog--fullscreen .tox-dialog__body-content{max-height:100%}.tox .tox-dialog--width-md{max-width:800px}.tox .tox-dialog--width-md .tox-dialog__body-content{overflow:auto}.tox .tox-dialog__body-content--centered{text-align:center}.tox .tox-dialog__footer{align-items:center;background-color:#fff;border-top:none;display:flex;justify-content:space-between;padding:8px 16px}.tox .tox-dialog__footer-end,.tox .tox-dialog__footer-start{display:flex}.tox .tox-dialog__busy-spinner{align-items:center;background-color:rgba(255,255,255,.75);bottom:0;display:flex;justify-content:center;left:0;position:absolute;right:0;top:0;z-index:3}.tox .tox-dialog__table{border-collapse:collapse;width:100%}.tox .tox-dialog__table thead th{font-weight:700;padding-bottom:8px}.tox .tox-dialog__table thead th:first-child{padding-right:8px}.tox .tox-dialog__table tbody tr{border-bottom:1px solid #626262}.tox .tox-dialog__table tbody tr:last-child{border-bottom:none}.tox .tox-dialog__table td{padding-bottom:8px;padding-top:8px}.tox .tox-dialog__table td:first-child{padding-right:8px}.tox .tox-dialog__iframe{min-height:200px}.tox .tox-dialog__iframe.tox-dialog__iframe--opaque{background:#fff}.tox .tox-navobj-bordered{position:relative}.tox .tox-navobj-bordered::before{border:1px solid #eee;border-radius:6px;content:'';inset:0;opacity:1;pointer-events:none;position:absolute;z-index:1}.tox .tox-navobj-bordered-focus.tox-navobj-bordered::before{border-color:#006ce7;box-shadow:0 0 0 2px rgba(0,108,231,.25);outline:0}.tox .tox-dialog__popups{position:absolute;width:100%;z-index:1100}.tox .tox-dialog__body-iframe{display:flex;flex:1;flex-direction:column}.tox .tox-dialog__body-iframe .tox-navobj{display:flex;flex:1}.tox .tox-dialog__body-iframe .tox-navobj :nth-child(2){flex:1;height:100%}.tox .tox-dialog-dock-fadeout{opacity:0;visibility:hidden}.tox .tox-dialog-dock-fadein{opacity:1;visibility:visible}.tox .tox-dialog-dock-transition{transition:visibility 0s linear .3s,opacity .3s ease}.tox .tox-dialog-dock-transition.tox-dialog-dock-fadein{transition-delay:0s}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox:not([dir=rtl]) .tox-dialog__body-nav{margin-right:0}}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox:not([dir=rtl]) .tox-dialog__body-nav-item:not(:first-child){margin-left:8px}}.tox:not([dir=rtl]) .tox-dialog__footer .tox-dialog__footer-end>*,.tox:not([dir=rtl]) .tox-dialog__footer .tox-dialog__footer-start>*{margin-left:8px}.tox[dir=rtl] .tox-dialog__body{text-align:right}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox[dir=rtl] .tox-dialog__body-nav{margin-left:0}}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox[dir=rtl] .tox-dialog__body-nav-item:not(:first-child){margin-right:8px}}.tox[dir=rtl] .tox-dialog__footer .tox-dialog__footer-end>*,.tox[dir=rtl] .tox-dialog__footer .tox-dialog__footer-start>*{margin-right:8px}body.tox-dialog__disable-scroll{overflow:hidden}.tox .tox-dropzone-container{display:flex;flex:1}.tox .tox-dropzone{align-items:center;background:#fff;border:2px dashed #eee;box-sizing:border-box;display:flex;flex-direction:column;flex-grow:1;justify-content:center;min-height:100px;padding:10px}.tox .tox-dropzone p{color:rgba(34,47,62,.7);margin:0 0 16px 0}.tox .tox-edit-area{display:flex;flex:1;overflow:hidden;position:relative}.tox .tox-edit-area::before{border:2px solid #2d6adf;border-radius:4px;content:'';inset:0;opacity:0;pointer-events:none;position:absolute;transition:opacity .15s;z-index:1}.tox .tox-edit-area__iframe{background-color:#fff;border:0;box-sizing:border-box;flex:1;height:100%;position:absolute;width:100%}.tox.tox-edit-focus .tox-edit-area::before{opacity:1}.tox.tox-inline-edit-area{border:1px dotted #eee}.tox .tox-editor-container{display:flex;flex:1 1 auto;flex-direction:column;overflow:hidden}.tox .tox-editor-header{display:grid;grid-template-columns:1fr min-content;z-index:2}.tox:not(.tox-tinymce-inline) .tox-editor-header{background-color:#fff;border-bottom:none;box-shadow:0 2px 2px -2px rgba(34,47,62,.1),0 8px 8px -4px rgba(34,47,62,.07);padding:4px 0}.tox:not(.tox-tinymce-inline) .tox-editor-header:not(.tox-editor-dock-transition){transition:box-shadow .5s}.tox:not(.tox-tinymce-inline).tox-tinymce--toolbar-bottom .tox-editor-header{border-top:1px solid #e3e3e3;box-shadow:none}.tox:not(.tox-tinymce-inline).tox-tinymce--toolbar-sticky-on .tox-editor-header{background-color:#fff;box-shadow:0 2px 2px -2px rgba(34,47,62,.2),0 8px 8px -4px rgba(34,47,62,.15);padding:4px 0}.tox:not(.tox-tinymce-inline).tox-tinymce--toolbar-sticky-on.tox-tinymce--toolbar-bottom .tox-editor-header{box-shadow:0 2px 2px -2px rgba(34,47,62,.2),0 8px 8px -4px rgba(34,47,62,.15)}.tox.tox:not(.tox-tinymce-inline) .tox-editor-header.tox-editor-header--empty{background:0 0;border:none;box-shadow:none;padding:0}.tox-editor-dock-fadeout{opacity:0;visibility:hidden}.tox-editor-dock-fadein{opacity:1;visibility:visible}.tox-editor-dock-transition{transition:visibility 0s linear .25s,opacity .25s ease}.tox-editor-dock-transition.tox-editor-dock-fadein{transition-delay:0s}.tox .tox-control-wrap{flex:1;position:relative}.tox .tox-control-wrap:not(.tox-control-wrap--status-invalid) .tox-control-wrap__status-icon-invalid,.tox .tox-control-wrap:not(.tox-control-wrap--status-unknown) .tox-control-wrap__status-icon-unknown,.tox .tox-control-wrap:not(.tox-control-wrap--status-valid) .tox-control-wrap__status-icon-valid{display:none}.tox .tox-control-wrap svg{display:block}.tox .tox-control-wrap__status-icon-wrap{position:absolute;top:50%;transform:translateY(-50%)}.tox .tox-control-wrap__status-icon-invalid svg{fill:#c00}.tox .tox-control-wrap__status-icon-unknown svg{fill:orange}.tox .tox-control-wrap__status-icon-valid svg{fill:green}.tox:not([dir=rtl]) .tox-control-wrap--status-invalid .tox-textfield,.tox:not([dir=rtl]) .tox-control-wrap--status-unknown .tox-textfield,.tox:not([dir=rtl]) .tox-control-wrap--status-valid .tox-textfield{padding-right:32px}.tox:not([dir=rtl]) .tox-control-wrap__status-icon-wrap{right:4px}.tox[dir=rtl] .tox-control-wrap--status-invalid .tox-textfield,.tox[dir=rtl] .tox-control-wrap--status-unknown .tox-textfield,.tox[dir=rtl] .tox-control-wrap--status-valid .tox-textfield{padding-left:32px}.tox[dir=rtl] .tox-control-wrap__status-icon-wrap{left:4px}.tox .tox-autocompleter{max-width:25em}.tox .tox-autocompleter .tox-menu{box-sizing:border-box;max-width:25em}.tox .tox-autocompleter .tox-autocompleter-highlight{font-weight:700}.tox .tox-color-input{display:flex;position:relative;z-index:1}.tox .tox-color-input .tox-textfield{z-index:-1}.tox .tox-color-input span{border-color:rgba(34,47,62,.2);border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;box-sizing:border-box;height:24px;position:absolute;top:6px;width:24px}.tox .tox-color-input span:focus:not([aria-disabled=true]),.tox .tox-color-input span:hover:not([aria-disabled=true]){border-color:#006ce7;cursor:pointer}.tox .tox-color-input span::before{background-image:linear-gradient(45deg,rgba(0,0,0,.25) 25%,transparent 25%),linear-gradient(-45deg,rgba(0,0,0,.25) 25%,transparent 25%),linear-gradient(45deg,transparent 75%,rgba(0,0,0,.25) 75%),linear-gradient(-45deg,transparent 75%,rgba(0,0,0,.25) 75%);background-position:0 0,0 6px,6px -6px,-6px 0;background-size:12px 12px;border:1px solid #fff;border-radius:6px;box-sizing:border-box;content:'';height:24px;left:-1px;position:absolute;top:-1px;width:24px;z-index:-1}.tox .tox-color-input span[aria-disabled=true]{cursor:not-allowed}.tox:not([dir=rtl]) .tox-color-input .tox-textfield{padding-left:36px}.tox:not([dir=rtl]) .tox-color-input span{left:6px}.tox[dir=rtl] .tox-color-input .tox-textfield{padding-right:36px}.tox[dir=rtl] .tox-color-input span{right:6px}.tox .tox-label,.tox .tox-toolbar-label{color:rgba(34,47,62,.7);display:block;font-size:14px;font-style:normal;font-weight:400;line-height:1.3;padding:0 8px 0 0;text-transform:none;white-space:nowrap}.tox .tox-toolbar-label{padding:0 8px}.tox[dir=rtl] .tox-label{padding:0 0 0 8px}.tox .tox-form{display:flex;flex:1;flex-direction:column}.tox .tox-form__group{box-sizing:border-box;margin-bottom:4px}.tox .tox-form-group--maximize{flex:1}.tox .tox-form__group--error{color:#c00}.tox .tox-form__group--collection{display:flex}.tox .tox-form__grid{display:flex;flex-direction:row;flex-wrap:wrap;justify-content:space-between}.tox .tox-form__grid--2col>.tox-form__group{width:calc(50% - (8px / 2))}.tox .tox-form__grid--3col>.tox-form__group{width:calc(100% / 3 - (8px / 2))}.tox .tox-form__grid--4col>.tox-form__group{width:calc(25% - (8px / 2))}.tox .tox-form__controls-h-stack{align-items:center;display:flex}.tox .tox-form__group--inline{align-items:center;display:flex}.tox .tox-form__group--stretched{display:flex;flex:1;flex-direction:column}.tox .tox-form__group--stretched .tox-textarea{flex:1}.tox .tox-form__group--stretched .tox-navobj{display:flex;flex:1}.tox .tox-form__group--stretched .tox-navobj :nth-child(2){flex:1;height:100%}.tox:not([dir=rtl]) .tox-form__controls-h-stack>:not(:first-child){margin-left:4px}.tox[dir=rtl] .tox-form__controls-h-stack>:not(:first-child){margin-right:4px}.tox .tox-lock.tox-locked .tox-lock-icon__unlock,.tox .tox-lock:not(.tox-locked) .tox-lock-icon__lock{display:none}.tox .tox-listboxfield .tox-listbox--select,.tox .tox-textarea,.tox .tox-textarea-wrap .tox-textarea:focus,.tox .tox-textfield,.tox .tox-toolbar-textfield{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:#fff;border-color:#eee;border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;box-sizing:border-box;color:#222f3e;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:16px;line-height:24px;margin:0;min-height:34px;outline:0;padding:5px 5.5px;resize:none;width:100%}.tox .tox-textarea[disabled],.tox .tox-textfield[disabled]{background-color:#f2f2f2;color:rgba(34,47,62,.85);cursor:not-allowed}.tox .tox-custom-editor:focus-within,.tox .tox-listboxfield .tox-listbox--select:focus,.tox .tox-textarea-wrap:focus-within,.tox .tox-textarea:focus,.tox .tox-textfield:focus{background-color:#fff;border-color:#006ce7;box-shadow:0 0 0 2px rgba(0,108,231,.25);outline:0}.tox .tox-toolbar-textfield{border-width:0;margin-bottom:3px;margin-top:2px;max-width:250px}.tox .tox-naked-btn{background-color:transparent;border:0;border-color:transparent;box-shadow:unset;color:#006ce7;cursor:pointer;display:block;margin:0;padding:0}.tox .tox-naked-btn svg{display:block;fill:#222f3e}.tox:not([dir=rtl]) .tox-toolbar-textfield+*{margin-left:4px}.tox[dir=rtl] .tox-toolbar-textfield+*{margin-right:4px}.tox .tox-listboxfield{cursor:pointer;position:relative}.tox .tox-listboxfield .tox-listbox--select[disabled]{background-color:#f2f2f2;color:rgba(34,47,62,.85);cursor:not-allowed}.tox .tox-listbox__select-label{cursor:default;flex:1;margin:0 4px}.tox .tox-listbox__select-chevron{align-items:center;display:flex;justify-content:center;width:16px}.tox .tox-listbox__select-chevron svg{fill:#222f3e}.tox .tox-listboxfield .tox-listbox--select{align-items:center;display:flex}.tox:not([dir=rtl]) .tox-listboxfield svg{right:8px}.tox[dir=rtl] .tox-listboxfield svg{left:8px}.tox .tox-selectfield{cursor:pointer;position:relative}.tox .tox-selectfield select{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:#fff;border-color:#eee;border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;box-sizing:border-box;color:#222f3e;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:16px;line-height:24px;margin:0;min-height:34px;outline:0;padding:5px 5.5px;resize:none;width:100%}.tox .tox-selectfield select[disabled]{background-color:#f2f2f2;color:rgba(34,47,62,.85);cursor:not-allowed}.tox .tox-selectfield select::-ms-expand{display:none}.tox .tox-selectfield select:focus{background-color:#fff;border-color:#006ce7;box-shadow:0 0 0 2px rgba(0,108,231,.25);outline:0}.tox .tox-selectfield svg{pointer-events:none;position:absolute;top:50%;transform:translateY(-50%)}.tox:not([dir=rtl]) .tox-selectfield select[size="0"],.tox:not([dir=rtl]) .tox-selectfield select[size="1"]{padding-right:24px}.tox:not([dir=rtl]) .tox-selectfield svg{right:8px}.tox[dir=rtl] .tox-selectfield select[size="0"],.tox[dir=rtl] .tox-selectfield select[size="1"]{padding-left:24px}.tox[dir=rtl] .tox-selectfield svg{left:8px}.tox .tox-textarea-wrap{border-color:#eee;border-radius:6px;border-style:solid;border-width:1px;display:flex;flex:1;overflow:hidden}.tox .tox-textarea{-webkit-appearance:textarea;-moz-appearance:textarea;appearance:textarea;white-space:pre-wrap}.tox .tox-textarea-wrap .tox-textarea{border:none}.tox .tox-textarea-wrap .tox-textarea:focus{border:none}.tox-fullscreen{border:0;height:100%;margin:0;overflow:hidden;overscroll-behavior:none;padding:0;touch-action:pinch-zoom;width:100%}.tox.tox-tinymce.tox-fullscreen .tox-statusbar__resize-handle{display:none}.tox-shadowhost.tox-fullscreen,.tox.tox-tinymce.tox-fullscreen{left:0;position:fixed;top:0;z-index:1200}.tox.tox-tinymce.tox-fullscreen{background-color:transparent}.tox-fullscreen .tox.tox-tinymce-aux,.tox-fullscreen~.tox.tox-tinymce-aux{z-index:1201}.tox .tox-help__more-link{list-style:none;margin-top:1em}.tox .tox-imagepreview{background-color:#666;height:380px;overflow:hidden;position:relative;width:100%}.tox .tox-imagepreview.tox-imagepreview__loaded{overflow:auto}.tox .tox-imagepreview__container{display:flex;left:100vw;position:absolute;top:100vw}.tox .tox-imagepreview__image{background:url(data:image/gif;base64,R0lGODdhDAAMAIABAMzMzP///ywAAAAADAAMAAACFoQfqYeabNyDMkBQb81Uat85nxguUAEAOw==)}.tox .tox-image-tools .tox-spacer{flex:1}.tox .tox-image-tools .tox-bar{align-items:center;display:flex;height:60px;justify-content:center}.tox .tox-image-tools .tox-imagepreview,.tox .tox-image-tools .tox-imagepreview+.tox-bar{margin-top:8px}.tox .tox-image-tools .tox-croprect-block{background:#000;opacity:.5;position:absolute;zoom:1}.tox .tox-image-tools .tox-croprect-handle{border:2px solid #fff;height:20px;left:0;position:absolute;top:0;width:20px}.tox .tox-image-tools .tox-croprect-handle-move{border:0;cursor:move;position:absolute}.tox .tox-image-tools .tox-croprect-handle-nw{border-width:2px 0 0 2px;cursor:nw-resize;left:100px;margin:-2px 0 0 -2px;top:100px}.tox .tox-image-tools .tox-croprect-handle-ne{border-width:2px 2px 0 0;cursor:ne-resize;left:200px;margin:-2px 0 0 -20px;top:100px}.tox .tox-image-tools .tox-croprect-handle-sw{border-width:0 0 2px 2px;cursor:sw-resize;left:100px;margin:-20px 2px 0 -2px;top:200px}.tox .tox-image-tools .tox-croprect-handle-se{border-width:0 2px 2px 0;cursor:se-resize;left:200px;margin:-20px 0 0 -20px;top:200px}.tox .tox-insert-table-picker{display:flex;flex-wrap:wrap;width:170px}.tox .tox-insert-table-picker>div{border-color:#eee;border-style:solid;border-width:0 1px 1px 0;box-sizing:border-box;height:17px;width:17px}.tox .tox-collection--list .tox-collection__group .tox-insert-table-picker{margin:-4px -4px}.tox .tox-insert-table-picker .tox-insert-table-picker__selected{background-color:rgba(0,108,231,.5);border-color:rgba(0,108,231,.5)}.tox .tox-insert-table-picker__label{color:rgba(34,47,62,.7);display:block;font-size:14px;padding:4px;text-align:center;width:100%}.tox:not([dir=rtl]) .tox-insert-table-picker>div:nth-child(10n){border-right:0}.tox[dir=rtl] .tox-insert-table-picker>div:nth-child(10n+1){border-right:0}.tox .tox-menu{background-color:#fff;border:1px solid transparent;border-radius:6px;box-shadow:0 0 2px 0 rgba(34,47,62,.2),0 4px 8px 0 rgba(34,47,62,.15);display:inline-block;overflow:hidden;vertical-align:top;z-index:1150}.tox .tox-menu.tox-collection.tox-collection--list{padding:0 4px}.tox .tox-menu.tox-collection.tox-collection--toolbar{padding:8px}.tox .tox-menu.tox-collection.tox-collection--grid{padding:8px}@media only screen and (min-width:768px){.tox .tox-menu .tox-collection__item-label{overflow-wrap:break-word;word-break:normal}.tox .tox-dialog__popups .tox-menu .tox-collection__item-label{word-break:break-all}}.tox .tox-menu__label blockquote,.tox .tox-menu__label code,.tox .tox-menu__label h1,.tox .tox-menu__label h2,.tox .tox-menu__label h3,.tox .tox-menu__label h4,.tox .tox-menu__label h5,.tox .tox-menu__label h6,.tox .tox-menu__label p{margin:0}.tox .tox-menubar{background:repeating-linear-gradient(transparent 0 1px,transparent 1px 39px) center top 39px/100% calc(100% - 39px) no-repeat;background-color:#fff;display:flex;flex:0 0 auto;flex-shrink:0;flex-wrap:wrap;grid-column:1/-1;grid-row:1;padding:0 11px 0 12px}.tox .tox-promotion+.tox-menubar{grid-column:1}.tox .tox-promotion{background:repeating-linear-gradient(transparent 0 1px,transparent 1px 39px) center top 39px/100% calc(100% - 39px) no-repeat;background-color:#fff;grid-column:2;grid-row:1;padding-inline-end:8px;padding-inline-start:4px;padding-top:5px}.tox .tox-promotion-link{align-items:unsafe center;background-color:#e8f1f8;border-radius:5px;color:#086be6;cursor:pointer;display:flex;font-size:14px;height:26.6px;padding:4px 8px;white-space:nowrap}.tox .tox-promotion-link:hover{background-color:#b4d7ff}.tox .tox-promotion-link:focus{background-color:#d9edf7}.tox .tox-mbtn{align-items:center;background:0 0;border:0;border-radius:3px;box-shadow:none;color:#222f3e;display:flex;flex:0 0 auto;font-size:14px;font-style:normal;font-weight:400;height:28px;justify-content:center;margin:5px 1px 6px 0;outline:0;overflow:hidden;padding:0 4px;text-transform:none;width:auto}.tox .tox-mbtn[disabled]{background-color:transparent;border:0;box-shadow:none;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-mbtn:focus:not(:disabled){background:#cce2fa;border:0;box-shadow:none;color:#222f3e}.tox .tox-mbtn--active{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e}.tox .tox-mbtn:hover:not(:disabled):not(.tox-mbtn--active){background:#cce2fa;border:0;box-shadow:none;color:#222f3e}.tox .tox-mbtn__select-label{cursor:default;font-weight:400;margin:0 4px}.tox .tox-mbtn[disabled] .tox-mbtn__select-label{cursor:not-allowed}.tox .tox-mbtn__select-chevron{align-items:center;display:flex;justify-content:center;width:16px;display:none}.tox .tox-notification{border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;box-sizing:border-box;display:grid;font-size:14px;font-weight:400;grid-template-columns:minmax(40px,1fr) auto minmax(40px,1fr);margin-top:4px;opacity:0;padding:4px;transition:transform .1s ease-in,opacity 150ms ease-in}.tox .tox-notification p{font-size:14px;font-weight:400}.tox .tox-notification a{cursor:pointer;text-decoration:underline}.tox .tox-notification--in{opacity:1}.tox .tox-notification--success{background-color:#e4eeda;border-color:#d7e6c8;color:#222f3e}.tox .tox-notification--success p{color:#222f3e}.tox .tox-notification--success a{color:#517342}.tox .tox-notification--success svg{fill:#222f3e}.tox .tox-notification--error{background-color:#f5cccc;border-color:#f0b3b3;color:#222f3e}.tox .tox-notification--error p{color:#222f3e}.tox .tox-notification--error a{color:#77181f}.tox .tox-notification--error svg{fill:#222f3e}.tox .tox-notification--warn,.tox .tox-notification--warning{background-color:#fff5cc;border-color:#fff0b3;color:#222f3e}.tox .tox-notification--warn p,.tox .tox-notification--warning p{color:#222f3e}.tox .tox-notification--warn a,.tox .tox-notification--warning a{color:#7a6e25}.tox .tox-notification--warn svg,.tox .tox-notification--warning svg{fill:#222f3e}.tox .tox-notification--info{background-color:#d6e7fb;border-color:#c1dbf9;color:#222f3e}.tox .tox-notification--info p{color:#222f3e}.tox .tox-notification--info a{color:#2a64a6}.tox .tox-notification--info svg{fill:#222f3e}.tox .tox-notification__body{align-self:center;color:#222f3e;font-size:14px;grid-column-end:3;grid-column-start:2;grid-row-end:2;grid-row-start:1;text-align:center;white-space:normal;word-break:break-all;word-break:break-word}.tox .tox-notification__body>*{margin:0}.tox .tox-notification__body>*+*{margin-top:1rem}.tox .tox-notification__icon{align-self:center;grid-column-end:2;grid-column-start:1;grid-row-end:2;grid-row-start:1;justify-self:end}.tox .tox-notification__icon svg{display:block}.tox .tox-notification__dismiss{align-self:start;grid-column-end:4;grid-column-start:3;grid-row-end:2;grid-row-start:1;justify-self:end}.tox .tox-notification .tox-progress-bar{grid-column-end:4;grid-column-start:1;grid-row-end:3;grid-row-start:2;justify-self:center}.tox .tox-pop{display:inline-block;position:relative}.tox .tox-pop--resizing{transition:width .1s ease}.tox .tox-pop--resizing .tox-toolbar,.tox .tox-pop--resizing .tox-toolbar__group{flex-wrap:nowrap}.tox .tox-pop--transition{transition:.15s ease;transition-property:left,right,top,bottom}.tox .tox-pop--transition::after,.tox .tox-pop--transition::before{transition:all .15s,visibility 0s,opacity 75ms ease 75ms}.tox .tox-pop__dialog{background-color:#fff;border:1px solid #eee;border-radius:6px;box-shadow:0 0 2px 0 rgba(34,47,62,.2),0 4px 8px 0 rgba(34,47,62,.15);min-width:0;overflow:hidden}.tox .tox-pop__dialog>:not(.tox-toolbar){margin:4px 4px 4px 8px}.tox .tox-pop__dialog .tox-toolbar{background-color:transparent;margin-bottom:-1px}.tox .tox-pop::after,.tox .tox-pop::before{border-style:solid;content:'';display:block;height:0;opacity:1;position:absolute;width:0}.tox .tox-pop.tox-pop--inset::after,.tox .tox-pop.tox-pop--inset::before{opacity:0;transition:all 0s .15s,visibility 0s,opacity 75ms ease}.tox .tox-pop.tox-pop--bottom::after,.tox .tox-pop.tox-pop--bottom::before{left:50%;top:100%}.tox .tox-pop.tox-pop--bottom::after{border-color:#fff transparent transparent transparent;border-width:8px;margin-left:-8px;margin-top:-1px}.tox .tox-pop.tox-pop--bottom::before{border-color:#eee transparent transparent transparent;border-width:9px;margin-left:-9px}.tox .tox-pop.tox-pop--top::after,.tox .tox-pop.tox-pop--top::before{left:50%;top:0;transform:translateY(-100%)}.tox .tox-pop.tox-pop--top::after{border-color:transparent transparent #fff transparent;border-width:8px;margin-left:-8px;margin-top:1px}.tox .tox-pop.tox-pop--top::before{border-color:transparent transparent #eee transparent;border-width:9px;margin-left:-9px}.tox .tox-pop.tox-pop--left::after,.tox .tox-pop.tox-pop--left::before{left:0;top:calc(50% - 1px);transform:translateY(-50%)}.tox .tox-pop.tox-pop--left::after{border-color:transparent #fff transparent transparent;border-width:8px;margin-left:-15px}.tox .tox-pop.tox-pop--left::before{border-color:transparent #eee transparent transparent;border-width:10px;margin-left:-19px}.tox .tox-pop.tox-pop--right::after,.tox .tox-pop.tox-pop--right::before{left:100%;top:calc(50% + 1px);transform:translateY(-50%)}.tox .tox-pop.tox-pop--right::after{border-color:transparent transparent transparent #fff;border-width:8px;margin-left:-1px}.tox .tox-pop.tox-pop--right::before{border-color:transparent transparent transparent #eee;border-width:10px;margin-left:-1px}.tox .tox-pop.tox-pop--align-left::after,.tox .tox-pop.tox-pop--align-left::before{left:20px}.tox .tox-pop.tox-pop--align-right::after,.tox .tox-pop.tox-pop--align-right::before{left:calc(100% - 20px)}.tox .tox-sidebar-wrap{display:flex;flex-direction:row;flex-grow:1;min-height:0}.tox .tox-sidebar{background-color:#fff;display:flex;flex-direction:row;justify-content:flex-end}.tox .tox-sidebar__slider{display:flex;overflow:hidden}.tox .tox-sidebar__pane-container{display:flex}.tox .tox-sidebar__pane{display:flex}.tox .tox-sidebar--sliding-closed{opacity:0}.tox .tox-sidebar--sliding-open{opacity:1}.tox .tox-sidebar--sliding-growing,.tox .tox-sidebar--sliding-shrinking{transition:width .5s ease,opacity .5s ease}.tox .tox-selector{background-color:#4099ff;border-color:#4099ff;border-style:solid;border-width:1px;box-sizing:border-box;display:inline-block;height:10px;position:absolute;width:10px}.tox.tox-platform-touch .tox-selector{height:12px;width:12px}.tox .tox-slider{align-items:center;display:flex;flex:1;height:24px;justify-content:center;position:relative}.tox .tox-slider__rail{background-color:transparent;border:1px solid #eee;border-radius:6px;height:10px;min-width:120px;width:100%}.tox .tox-slider__handle{background-color:#006ce7;border:2px solid #0054b4;border-radius:6px;box-shadow:none;height:24px;left:50%;position:absolute;top:50%;transform:translateX(-50%) translateY(-50%);width:14px}.tox .tox-form__controls-h-stack>.tox-slider:not(:first-of-type){margin-inline-start:8px}.tox .tox-form__controls-h-stack>.tox-form__group+.tox-slider{margin-inline-start:32px}.tox .tox-form__controls-h-stack>.tox-slider+.tox-form__group{margin-inline-start:32px}.tox .tox-source-code{overflow:auto}.tox .tox-spinner{display:flex}.tox .tox-spinner>div{animation:tam-bouncing-dots 1.5s ease-in-out 0s infinite both;background-color:rgba(34,47,62,.7);border-radius:100%;height:8px;width:8px}.tox .tox-spinner>div:nth-child(1){animation-delay:-.32s}.tox .tox-spinner>div:nth-child(2){animation-delay:-.16s}@keyframes tam-bouncing-dots{0%,100%,80%{transform:scale(0)}40%{transform:scale(1)}}.tox:not([dir=rtl]) .tox-spinner>div:not(:first-child){margin-left:4px}.tox[dir=rtl] .tox-spinner>div:not(:first-child){margin-right:4px}.tox .tox-statusbar{align-items:center;background-color:#fff;border-top:1px solid #e3e3e3;color:rgba(34,47,62,.7);display:flex;flex:0 0 auto;font-size:14px;font-weight:400;height:25px;overflow:hidden;padding:0 8px;position:relative;text-transform:none}.tox .tox-statusbar__path{display:flex;flex:1 1 auto;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.tox .tox-statusbar__right-container{display:flex;justify-content:flex-end;white-space:nowrap}.tox .tox-statusbar__help-text{text-align:center}.tox .tox-statusbar__text-container{display:flex;flex:1 1 auto;justify-content:space-between;overflow:hidden}@media only screen and (min-width:768px){.tox .tox-statusbar__text-container.tox-statusbar__text-container-3-cols>.tox-statusbar__help-text,.tox .tox-statusbar__text-container.tox-statusbar__text-container-3-cols>.tox-statusbar__path,.tox .tox-statusbar__text-container.tox-statusbar__text-container-3-cols>.tox-statusbar__right-container{flex:0 0 calc(100% / 3)}}.tox .tox-statusbar__text-container.tox-statusbar__text-container--flex-end{justify-content:flex-end}.tox .tox-statusbar__text-container.tox-statusbar__text-container--flex-start{justify-content:flex-start}.tox .tox-statusbar__text-container.tox-statusbar__text-container--space-around{justify-content:space-around}.tox .tox-statusbar__path>*{display:inline;white-space:nowrap}.tox .tox-statusbar__wordcount{flex:0 0 auto;margin-left:1ch}@media only screen and (max-width:767px){.tox .tox-statusbar__text-container .tox-statusbar__help-text{display:none}.tox .tox-statusbar__text-container .tox-statusbar__help-text:only-child{display:block}}.tox .tox-statusbar a,.tox .tox-statusbar__path-item,.tox .tox-statusbar__wordcount{color:rgba(34,47,62,.7);text-decoration:none}.tox .tox-statusbar a:focus:not(:disabled):not([aria-disabled=true]),.tox .tox-statusbar a:hover:not(:disabled):not([aria-disabled=true]),.tox .tox-statusbar__path-item:focus:not(:disabled):not([aria-disabled=true]),.tox .tox-statusbar__path-item:hover:not(:disabled):not([aria-disabled=true]),.tox .tox-statusbar__wordcount:focus:not(:disabled):not([aria-disabled=true]),.tox .tox-statusbar__wordcount:hover:not(:disabled):not([aria-disabled=true]){color:#222f3e;cursor:pointer}.tox .tox-statusbar__branding svg{fill:rgba(34,47,62,.8);height:1.14em;vertical-align:-.28em;width:3.6em}.tox .tox-statusbar__branding a:focus:not(:disabled):not([aria-disabled=true]) svg,.tox .tox-statusbar__branding a:hover:not(:disabled):not([aria-disabled=true]) svg{fill:#222f3e}.tox .tox-statusbar__resize-handle{align-items:flex-end;align-self:stretch;cursor:nwse-resize;display:flex;flex:0 0 auto;justify-content:flex-end;margin-left:auto;margin-right:-8px;padding-bottom:3px;padding-left:1ch;padding-right:3px}.tox .tox-statusbar__resize-handle svg{display:block;fill:rgba(34,47,62,.5)}.tox .tox-statusbar__resize-handle:focus svg{background-color:#dee0e2;border-radius:1px 1px 5px 1px;box-shadow:0 0 0 2px #dee0e2}.tox:not([dir=rtl]) .tox-statusbar__path>*{margin-right:4px}.tox:not([dir=rtl]) .tox-statusbar__branding{margin-left:2ch}.tox[dir=rtl] .tox-statusbar{flex-direction:row-reverse}.tox[dir=rtl] .tox-statusbar__path>*{margin-left:4px}.tox .tox-throbber{z-index:1299}.tox .tox-throbber__busy-spinner{align-items:center;background-color:rgba(255,255,255,.6);bottom:0;display:flex;justify-content:center;left:0;position:absolute;right:0;top:0}.tox .tox-tbtn{align-items:center;background:0 0;border:0;border-radius:3px;box-shadow:none;color:#222f3e;display:flex;flex:0 0 auto;font-size:14px;font-style:normal;font-weight:400;height:28px;justify-content:center;margin:6px 1px 5px 0;outline:0;overflow:hidden;padding:0;text-transform:none;width:34px}.tox .tox-tbtn svg{display:block;fill:#222f3e}.tox .tox-tbtn.tox-tbtn-more{padding-left:5px;padding-right:5px;width:inherit}.tox .tox-tbtn:focus{background:#cce2fa;border:0;box-shadow:none}.tox .tox-tbtn:hover{background:#cce2fa;border:0;box-shadow:none;color:#222f3e}.tox .tox-tbtn:hover svg{fill:#222f3e}.tox .tox-tbtn:active{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e}.tox .tox-tbtn:active svg{fill:#222f3e}.tox .tox-tbtn--disabled .tox-tbtn--enabled svg{fill:rgba(34,47,62,.5)}.tox .tox-tbtn--disabled,.tox .tox-tbtn--disabled:hover,.tox .tox-tbtn:disabled,.tox .tox-tbtn:disabled:hover{background:0 0;border:0;box-shadow:none;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-tbtn--disabled svg,.tox .tox-tbtn--disabled:hover svg,.tox .tox-tbtn:disabled svg,.tox .tox-tbtn:disabled:hover svg{fill:rgba(34,47,62,.5)}.tox .tox-tbtn--enabled,.tox .tox-tbtn--enabled:hover{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e}.tox .tox-tbtn--enabled:hover>*,.tox .tox-tbtn--enabled>*{transform:none}.tox .tox-tbtn--enabled svg,.tox .tox-tbtn--enabled:hover svg{fill:#222f3e}.tox .tox-tbtn--enabled.tox-tbtn--disabled svg,.tox .tox-tbtn--enabled:hover.tox-tbtn--disabled svg{fill:rgba(34,47,62,.5)}.tox .tox-tbtn:focus:not(.tox-tbtn--disabled){color:#222f3e}.tox .tox-tbtn:focus:not(.tox-tbtn--disabled) svg{fill:#222f3e}.tox .tox-tbtn:active>*{transform:none}.tox .tox-tbtn--md{height:42px;width:51px}.tox .tox-tbtn--lg{flex-direction:column;height:56px;width:68px}.tox .tox-tbtn--return{align-self:stretch;height:unset;width:16px}.tox .tox-tbtn--labeled{padding:0 4px;width:unset}.tox .tox-tbtn__vlabel{display:block;font-size:10px;font-weight:400;letter-spacing:-.025em;margin-bottom:4px;white-space:nowrap}.tox .tox-number-input{border-radius:3px;display:flex;margin:6px 1px 5px 0;padding:0 4px;width:auto}.tox .tox-number-input .tox-input-wrapper{background:#f7f7f7;display:flex;pointer-events:none;text-align:center}.tox .tox-number-input .tox-input-wrapper:focus{background:#cce2fa}.tox .tox-number-input input{border-radius:3px;color:#222f3e;font-size:14px;margin:2px 0;pointer-events:all;width:60px}.tox .tox-number-input input:hover{background:#cce2fa;color:#222f3e}.tox .tox-number-input input:focus{background:#fff;color:#222f3e}.tox .tox-number-input input:disabled{background:0 0;border:0;box-shadow:none;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-number-input button{background:#f7f7f7;color:#222f3e;height:28px;text-align:center;width:24px}.tox .tox-number-input button svg{display:block;fill:#222f3e;margin:0 auto;transform:scale(.67)}.tox .tox-number-input button:focus{background:#cce2fa}.tox .tox-number-input button:hover{background:#cce2fa;border:0;box-shadow:none;color:#222f3e}.tox .tox-number-input button:hover svg{fill:#222f3e}.tox .tox-number-input button:active{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e}.tox .tox-number-input button:active svg{fill:#222f3e}.tox .tox-number-input button:disabled{background:0 0;border:0;box-shadow:none;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-number-input button:disabled svg{fill:rgba(34,47,62,.5)}.tox .tox-number-input button.minus{border-radius:3px 0 0 3px}.tox .tox-number-input button.plus{border-radius:0 3px 3px 0}.tox .tox-number-input:focus:not(:active)>.tox-input-wrapper,.tox .tox-number-input:focus:not(:active)>button{background:#cce2fa}.tox .tox-tbtn--select{margin:6px 1px 5px 0;padding:0 4px;width:auto}.tox .tox-tbtn__select-label{cursor:default;font-weight:400;height:initial;margin:0 4px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.tox .tox-tbtn__select-chevron{align-items:center;display:flex;justify-content:center;width:16px}.tox .tox-tbtn__select-chevron svg{fill:rgba(34,47,62,.5)}.tox .tox-tbtn--bespoke{background:#f7f7f7}.tox .tox-tbtn--bespoke+.tox-tbtn--bespoke{margin-inline-start:4px}.tox .tox-tbtn--bespoke .tox-tbtn__select-label{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;width:7em}.tox .tox-tbtn--disabled .tox-tbtn__select-label,.tox .tox-tbtn--select:disabled .tox-tbtn__select-label{cursor:not-allowed}.tox .tox-split-button{border:0;border-radius:3px;box-sizing:border-box;display:flex;margin:6px 1px 5px 0;overflow:hidden}.tox .tox-split-button:hover{box-shadow:0 0 0 1px #cce2fa inset}.tox .tox-split-button:focus{background:#cce2fa;box-shadow:none;color:#222f3e}.tox .tox-split-button>*{border-radius:0}.tox .tox-split-button__chevron{width:16px}.tox .tox-split-button__chevron svg{fill:rgba(34,47,62,.5)}.tox .tox-split-button .tox-tbtn{margin:0}.tox .tox-split-button.tox-tbtn--disabled .tox-tbtn:focus,.tox .tox-split-button.tox-tbtn--disabled .tox-tbtn:hover,.tox .tox-split-button.tox-tbtn--disabled:focus,.tox .tox-split-button.tox-tbtn--disabled:hover{background:0 0;box-shadow:none;color:rgba(34,47,62,.5)}.tox.tox-platform-touch .tox-split-button .tox-tbtn--select{padding:0 0}.tox.tox-platform-touch .tox-split-button .tox-tbtn:not(.tox-tbtn--select):first-child{width:30px}.tox.tox-platform-touch .tox-split-button__chevron{width:20px}.tox .tox-split-button.tox-tbtn--disabled svg #tox-icon-highlight-bg-color__color,.tox .tox-split-button.tox-tbtn--disabled svg #tox-icon-text-color__color{opacity:.6}.tox .tox-toolbar-overlord{background-color:#fff}.tox .tox-toolbar,.tox .tox-toolbar__overflow,.tox .tox-toolbar__primary{background-attachment:local;background-color:#fff;background-image:repeating-linear-gradient(#e3e3e3 0 1px,transparent 1px 39px);background-position:center top 40px;background-repeat:no-repeat;background-size:calc(100% - 11px * 2) calc(100% - 41px);display:flex;flex:0 0 auto;flex-shrink:0;flex-wrap:wrap;padding:0 0;transform:perspective(1px)}.tox .tox-toolbar-overlord>.tox-toolbar,.tox .tox-toolbar-overlord>.tox-toolbar__overflow,.tox .tox-toolbar-overlord>.tox-toolbar__primary{background-position:center top 0;background-size:calc(100% - 11px * 2) calc(100% - 0px)}.tox .tox-toolbar__overflow.tox-toolbar__overflow--closed{height:0;opacity:0;padding-bottom:0;padding-top:0;visibility:hidden}.tox .tox-toolbar__overflow--growing{transition:height .3s ease,opacity .2s linear .1s}.tox .tox-toolbar__overflow--shrinking{transition:opacity .3s ease,height .2s linear .1s,visibility 0s linear .3s}.tox .tox-anchorbar,.tox .tox-toolbar-overlord{grid-column:1/-1}.tox .tox-menubar+.tox-toolbar,.tox .tox-menubar+.tox-toolbar-overlord{border-top:1px solid transparent;margin-top:-1px;padding-bottom:1px;padding-top:1px}.tox .tox-toolbar--scrolling{flex-wrap:nowrap;overflow-x:auto}.tox .tox-pop .tox-toolbar{border-width:0}.tox .tox-toolbar--no-divider{background-image:none}.tox .tox-toolbar-overlord .tox-toolbar:not(.tox-toolbar--scrolling):first-child,.tox .tox-toolbar-overlord .tox-toolbar__primary{background-position:center top 39px}.tox .tox-editor-header>.tox-toolbar--scrolling,.tox .tox-toolbar-overlord .tox-toolbar--scrolling:first-child{background-image:none}.tox.tox-tinymce-aux .tox-toolbar__overflow{background-color:#fff;background-position:center top 43px;background-size:calc(100% - 8px * 2) calc(100% - 51px);border:none;border-radius:6px;box-shadow:0 0 2px 0 rgba(34,47,62,.2),0 4px 8px 0 rgba(34,47,62,.15);overscroll-behavior:none;padding:4px 0}.tox-pop .tox-pop__dialog .tox-toolbar{background-position:center top 43px;background-size:calc(100% - 11px * 2) calc(100% - 51px);padding:4px 0}.tox .tox-toolbar__group{align-items:center;display:flex;flex-wrap:wrap;margin:0 0;padding:0 11px 0 12px}.tox .tox-toolbar__group--pull-right{margin-left:auto}.tox .tox-toolbar--scrolling .tox-toolbar__group{flex-shrink:0;flex-wrap:nowrap}.tox:not([dir=rtl]) .tox-toolbar__group:not(:last-of-type){border-right:1px solid transparent}.tox[dir=rtl] .tox-toolbar__group:not(:last-of-type){border-left:1px solid transparent}.tox .tox-tooltip{display:inline-block;padding:8px;position:relative}.tox .tox-tooltip__body{background-color:#222f3e;border-radius:6px;box-shadow:0 2px 4px rgba(34,47,62,.3);color:rgba(255,255,255,.75);font-size:14px;font-style:normal;font-weight:400;padding:4px 8px;text-transform:none}.tox .tox-tooltip__arrow{position:absolute}.tox .tox-tooltip--down .tox-tooltip__arrow{border-left:8px solid transparent;border-right:8px solid transparent;border-top:8px solid #222f3e;bottom:0;left:50%;position:absolute;transform:translateX(-50%)}.tox .tox-tooltip--up .tox-tooltip__arrow{border-bottom:8px solid #222f3e;border-left:8px solid transparent;border-right:8px solid transparent;left:50%;position:absolute;top:0;transform:translateX(-50%)}.tox .tox-tooltip--right .tox-tooltip__arrow{border-bottom:8px solid transparent;border-left:8px solid #222f3e;border-top:8px solid transparent;position:absolute;right:0;top:50%;transform:translateY(-50%)}.tox .tox-tooltip--left .tox-tooltip__arrow{border-bottom:8px solid transparent;border-right:8px solid #222f3e;border-top:8px solid transparent;left:0;position:absolute;top:50%;transform:translateY(-50%)}.tox .tox-tree{display:flex;flex-direction:column}.tox .tox-tree .tox-trbtn{align-items:center;background:0 0;border:0;border-radius:4px;box-shadow:none;color:#222f3e;display:flex;flex:0 0 auto;font-size:14px;font-style:normal;font-weight:400;height:28px;margin-bottom:4px;margin-top:4px;outline:0;overflow:hidden;padding:0;padding-left:8px;text-transform:none}.tox .tox-tree .tox-trbtn .tox-tree__label{cursor:default;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.tox .tox-tree .tox-trbtn svg{display:block;fill:#222f3e}.tox .tox-tree .tox-trbtn:focus{background:#cce2fa;border:0;box-shadow:none}.tox .tox-tree .tox-trbtn:hover{background:#cce2fa;border:0;box-shadow:none;color:#222f3e}.tox .tox-tree .tox-trbtn:hover svg{fill:#222f3e}.tox .tox-tree .tox-trbtn:active{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e}.tox .tox-tree .tox-trbtn:active svg{fill:#222f3e}.tox .tox-tree .tox-trbtn--disabled,.tox .tox-tree .tox-trbtn--disabled:hover,.tox .tox-tree .tox-trbtn:disabled,.tox .tox-tree .tox-trbtn:disabled:hover{background:0 0;border:0;box-shadow:none;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-tree .tox-trbtn--disabled svg,.tox .tox-tree .tox-trbtn--disabled:hover svg,.tox .tox-tree .tox-trbtn:disabled svg,.tox .tox-tree .tox-trbtn:disabled:hover svg{fill:rgba(34,47,62,.5)}.tox .tox-tree .tox-trbtn--enabled,.tox .tox-tree .tox-trbtn--enabled:hover{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e}.tox .tox-tree .tox-trbtn--enabled:hover>*,.tox .tox-tree .tox-trbtn--enabled>*{transform:none}.tox .tox-tree .tox-trbtn--enabled svg,.tox .tox-tree .tox-trbtn--enabled:hover svg{fill:#222f3e}.tox .tox-tree .tox-trbtn:focus:not(.tox-trbtn--disabled){color:#222f3e}.tox .tox-tree .tox-trbtn:focus:not(.tox-trbtn--disabled) svg{fill:#222f3e}.tox .tox-tree .tox-trbtn:active>*{transform:none}.tox .tox-tree .tox-trbtn--return{align-self:stretch;height:unset;width:16px}.tox .tox-tree .tox-trbtn--labeled{padding:0 4px;width:unset}.tox .tox-tree .tox-trbtn__vlabel{display:block;font-size:10px;font-weight:400;letter-spacing:-.025em;margin-bottom:4px;white-space:nowrap}.tox .tox-tree .tox-tree--directory{display:flex;flex-direction:column}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label{font-weight:700}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label .tox-mbtn{margin-left:auto}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label .tox-mbtn svg{fill:transparent}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label .tox-mbtn.tox-mbtn--active svg,.tox .tox-tree .tox-tree--directory .tox-tree--directory__label .tox-mbtn:focus svg{fill:#222f3e}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:focus .tox-mbtn svg,.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:hover .tox-mbtn svg{fill:#222f3e}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:hover:has(.tox-mbtn:hover){background-color:transparent;color:#222f3e}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:hover:has(.tox-mbtn:hover) .tox-chevron svg{fill:#222f3e}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label .tox-chevron{margin-right:6px}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:has(+.tox-tree--directory__children--growing) .tox-chevron,.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:has(+.tox-tree--directory__children--shrinking) .tox-chevron{transition:transform .5s ease-in-out}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:has(+.tox-tree--directory__children--growing) .tox-chevron,.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:has(+.tox-tree--directory__children--open) .tox-chevron{transform:rotate(90deg)}.tox .tox-tree .tox-tree--leaf__label{font-weight:400}.tox .tox-tree .tox-tree--leaf__label .tox-mbtn{margin-left:auto}.tox .tox-tree .tox-tree--leaf__label .tox-mbtn svg{fill:transparent}.tox .tox-tree .tox-tree--leaf__label .tox-mbtn.tox-mbtn--active svg,.tox .tox-tree .tox-tree--leaf__label .tox-mbtn:focus svg{fill:#222f3e}.tox .tox-tree .tox-tree--leaf__label:hover .tox-mbtn svg{fill:#222f3e}.tox .tox-tree .tox-tree--leaf__label:hover:has(.tox-mbtn:hover){background-color:transparent;color:#222f3e}.tox .tox-tree .tox-tree--leaf__label:hover:has(.tox-mbtn:hover) .tox-chevron svg{fill:#222f3e}.tox .tox-tree .tox-tree--directory__children{overflow:hidden;padding-left:16px}.tox .tox-tree .tox-tree--directory__children.tox-tree--directory__children--growing,.tox .tox-tree .tox-tree--directory__children.tox-tree--directory__children--shrinking{transition:height .5s ease-in-out}.tox .tox-tree .tox-trbtn.tox-tree--leaf__label{display:flex;justify-content:space-between}.tox .tox-view-wrap,.tox .tox-view-wrap__slot-container{background-color:#fff;display:flex;flex:1;flex-direction:column}.tox .tox-view{display:flex;flex:1 1 auto;flex-direction:column;overflow:hidden}.tox .tox-view__header{align-items:center;display:flex;font-size:16px;justify-content:space-between;padding:8px 8px 0 8px;position:relative}.tox .tox-view--mobile.tox-view__header,.tox .tox-view--mobile.tox-view__toolbar{padding:8px}.tox .tox-view--scrolling{flex-wrap:nowrap;overflow-x:auto}.tox .tox-view__toolbar{display:flex;flex-direction:row;gap:8px;justify-content:space-between;padding:8px 8px 0 8px}.tox .tox-view__toolbar__group{display:flex;flex-direction:row;gap:12px}.tox .tox-view__header-end,.tox .tox-view__header-start{display:flex}.tox .tox-view__pane{height:100%;padding:8px;width:100%}.tox .tox-view__pane_panel{border:1px solid #eee;border-radius:6px}.tox:not([dir=rtl]) .tox-view__header .tox-view__header-end>*,.tox:not([dir=rtl]) .tox-view__header .tox-view__header-start>*{margin-left:8px}.tox[dir=rtl] .tox-view__header .tox-view__header-end>*,.tox[dir=rtl] .tox-view__header .tox-view__header-start>*{margin-right:8px}.tox .tox-well{border:1px solid #eee;border-radius:6px;padding:8px;width:100%}.tox .tox-well>:first-child{margin-top:0}.tox .tox-well>:last-child{margin-bottom:0}.tox .tox-well>:only-child{margin:0}.tox .tox-custom-editor{border:1px solid #eee;border-radius:6px;display:flex;flex:1;overflow:hidden;position:relative}.tox .tox-dialog-loading::before{background-color:rgba(0,0,0,.5);content:"";height:100%;position:absolute;width:100%;z-index:1000}.tox .tox-tab{cursor:pointer}.tox .tox-dialog__content-js{display:flex;flex:1}.tox .tox-dialog__body-content .tox-collection{display:flex;flex:1}`);(function(){var xo=tinymce.util.Tools.resolve("tinymce.PluginManager");let Ko=0;const Io=Q=>{const bt=new Date().getTime(),wo=Math.floor(Math.random()*1e9);return Ko++,Q+"_"+wo+Ko+String(bt)},on=(Q,Ee,bt)=>{var wo;return bt(Q,Ee.prototype)?!0:((wo=Q.constructor)===null||wo===void 0?void 0:wo.name)===Ee.name},Qo=Q=>{const Ee=typeof Q;return Q===null?"null":Ee==="object"&&Array.isArray(Q)?"array":Ee==="object"&&on(Q,String,(bt,wo)=>wo.isPrototypeOf(bt))?"string":Ee},io=Q=>Ee=>Qo(Ee)===Q,Po=Q=>Ee=>typeof Ee===Q,jt=io("string"),ko=Po("boolean"),Mo=Q=>Q==null,jo=Q=>!Mo(Q),tn=Po("function"),To=Po("number"),Ue=(Q,Ee)=>bt=>Q(Ee(bt)),it=Q=>()=>Q,So=(Q,Ee)=>Q===Ee,co=it(!1);class he{constructor(Ee,bt){this.tag=Ee,this.value=bt}static some(Ee){return new he(!0,Ee)}static none(){return he.singletonNone}fold(Ee,bt){return this.tag?bt(this.value):Ee()}isSome(){return this.tag}isNone(){return!this.tag}map(Ee){return this.tag?he.some(Ee(this.value)):he.none()}bind(Ee){return this.tag?Ee(this.value):he.none()}exists(Ee){return this.tag&&Ee(this.value)}forall(Ee){return!this.tag||Ee(this.value)}filter(Ee){return!this.tag||Ee(this.value)?this:he.none()}getOr(Ee){return this.tag?this.value:Ee}or(Ee){return this.tag?this:Ee}getOrThunk(Ee){return this.tag?this.value:Ee()}orThunk(Ee){return this.tag?this:Ee()}getOrDie(Ee){if(this.tag)return this.value;throw new Error(Ee??"Called getOrDie on None")}static from(Ee){return jo(Ee)?he.some(Ee):he.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(Ee){this.tag&&Ee(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}he.singletonNone=new he(!1);const Dt=Array.prototype.indexOf,fo=(Q,Ee)=>Dt.call(Q,Ee),me=(Q,Ee)=>fo(Q,Ee)>-1,Ze=(Q,Ee)=>{const bt=Q.length,wo=new Array(bt);for(let Zn=0;Zn<bt;Zn++){const U=Q[Zn];wo[Zn]=Ee(U,Zn)}return wo},de=(Q,Ee)=>{for(let bt=0,wo=Q.length;bt<wo;bt++){const Zn=Q[bt];Ee(Zn,bt)}},rt=(Q,Ee)=>{const bt=[];for(let wo=0,Zn=Q.length;wo<Zn;wo++){const U=Q[wo];Ee(U,wo)&&bt.push(U)}return bt},Yo=(Q,Ee,bt)=>(de(Q,(wo,Zn)=>{bt=Ee(bt,wo,Zn)}),bt),$t=Object.keys,gn=(Q,Ee)=>{const bt=$t(Q);for(let wo=0,Zn=bt.length;wo<Zn;wo++){const U=bt[wo],oe=Q[U];Ee(oe,U)}};typeof window<"u"||Function("return this;")();const Bo=8,Ct=9,R=11,qe=1,Je=3,lt=Q=>Q.dom.nodeName.toLowerCase(),Mt=Q=>Q.dom.nodeType,ht=Q=>Ee=>Mt(Ee)===Q,Rt=Q=>Mt(Q)===Bo||lt(Q)==="#comment",uo=ht(qe),Bt=ht(Je),V=ht(Ct),dt=ht(R),Ie=(Q,Ee,bt)=>{if(jt(bt)||ko(bt)||To(bt))Q.setAttribute(Ee,bt+"");else throw console.error("Invalid call to Attribute.set. Key ",Ee,":: Value ",bt,":: Element ",Q),new Error("Attribute value was not simple")},Co=(Q,Ee,bt)=>{Ie(Q.dom,Ee,bt)},Pt=(Q,Ee)=>{const bt=Q.dom;gn(Ee,(wo,Zn)=>{Ie(bt,Zn,wo)})},lo=(Q,Ee)=>{const bt=Q.dom.getAttribute(Ee);return bt===null?void 0:bt},zo=(Q,Ee)=>he.from(lo(Q,Ee)),to=(Q,Ee)=>{Q.dom.removeAttribute(Ee)},Se=Q=>Yo(Q.dom.attributes,(Ee,bt)=>(Ee[bt.name]=bt.value,Ee),{}),$e=(Q,Ee)=>{const wo=(Ee||document).createElement("div");if(wo.innerHTML=Q,!wo.hasChildNodes()||wo.childNodes.length>1){const Zn="HTML does not have a single root node";throw console.error(Zn,Q),new Error(Zn)}return pe(wo.childNodes[0])},ct=(Q,Ee)=>{const wo=(Ee||document).createElement(Q);return pe(wo)},gt=(Q,Ee)=>{const wo=(Ee||document).createTextNode(Q);return pe(wo)},pe=Q=>{if(Q==null)throw new Error("Node cannot be null or undefined");return{dom:Q}},We={fromHtml:$e,fromTag:ct,fromText:gt,fromDom:pe,fromPoint:(Q,Ee,bt)=>he.from(Q.dom.elementFromPoint(Ee,bt)).map(pe)},Fe=(Q,Ee)=>{const bt=Q.dom;if(bt.nodeType!==qe)return!1;{const wo=bt;if(wo.matches!==void 0)return wo.matches(Ee);if(wo.msMatchesSelector!==void 0)return wo.msMatchesSelector(Ee);if(wo.webkitMatchesSelector!==void 0)return wo.webkitMatchesSelector(Ee);if(wo.mozMatchesSelector!==void 0)return wo.mozMatchesSelector(Ee);throw new Error("Browser lacks native selectors")}},ge=Q=>Q.nodeType!==qe&&Q.nodeType!==Ct&&Q.nodeType!==R||Q.childElementCount===0,Me=(Q,Ee)=>{const bt=Ee===void 0?document:Ee.dom;return ge(bt)?[]:Ze(bt.querySelectorAll(Q),We.fromDom)},at=(Q,Ee)=>{const bt=Ee===void 0?document:Ee.dom;return ge(bt)?he.none():he.from(bt.querySelector(Q)).map(We.fromDom)},ze=(Q,Ee)=>Q.dom===Ee.dom,Ge=Fe,Gt=(Q,Ee,bt=So)=>Q.exists(wo=>bt(wo,Ee)),Xo=(Q=>Ee=>Ee.replace(Q,""))(/^\s+|\s+$/g),$o=Q=>Q.style!==void 0&&tn(Q.style.getPropertyValue),Zo=Q=>We.fromDom(Q.dom.ownerDocument),Gn=Q=>V(Q)?Q:Zo(Q),Pn=Q=>he.from(Q.dom.parentNode).map(We.fromDom),zn=(Q,Ee)=>{const bt=tn(Ee)?Ee:co;let wo=Q.dom;const Zn=[];for(;wo.parentNode!==null&&wo.parentNode!==void 0;){const U=wo.parentNode,oe=We.fromDom(U);if(Zn.push(oe),bt(oe)===!0)break;wo=U}return Zn},ut=Q=>he.from(Q.dom.previousSibling).map(We.fromDom),zt=Q=>he.from(Q.dom.nextSibling).map(We.fromDom),Ft=Q=>Ze(Q.dom.childNodes,We.fromDom),vo=(Q,Ee)=>{const bt=Q.dom.childNodes;return he.from(bt[Ee]).map(We.fromDom)},Xt=Q=>vo(Q,0),Vo=Q=>dt(Q)&&jo(Q.dom.host),Rr=tn(Element.prototype.attachShadow)&&tn(Node.prototype.getRootNode)?Q=>We.fromDom(Q.dom.getRootNode()):Gn,Wt=Q=>{const Ee=Rr(Q);return Vo(Ee)?he.some(Ee):he.none()},vr=Q=>We.fromDom(Q.dom.host),Fn=Q=>{const Ee=Bt(Q)?Q.dom.parentNode:Q.dom;if(Ee==null||Ee.ownerDocument===null)return!1;const bt=Ee.ownerDocument;return Wt(We.fromDom(Ee)).fold(()=>bt.body.contains(Ee),Ue(Fn,vr))},ln=(Q,Ee,bt)=>{if(!jt(bt))throw console.error("Invalid call to CSS.set. Property ",Ee,":: Value ",bt,":: Element ",Q),new Error("CSS value must be a string: "+bt);$o(Q)&&Q.style.setProperty(Ee,bt)},xr=(Q,Ee)=>{$o(Q)&&Q.style.removeProperty(Ee)},Ys=(Q,Ee,bt)=>{const wo=Q.dom;ln(wo,Ee,bt)},Yr=(Q,Ee)=>{const bt=Q.dom,Zn=window.getComputedStyle(bt).getPropertyValue(Ee);return Zn===""&&!Fn(Q)?Pa(bt,Ee):Zn},Pa=(Q,Ee)=>$o(Q)?Q.style.getPropertyValue(Ee):"",cs=(Q,Ee)=>{const bt=Q.dom,wo=Pa(bt,Ee);return he.from(wo).filter(Zn=>Zn.length>0)},Ha=(Q,Ee)=>{const bt=Q.dom;xr(bt,Ee),Gt(zo(Q,"style").map(Xo),"")&&to(Q,"style")},ja=(Q,Ee)=>{Pn(Q).each(wo=>{wo.dom.insertBefore(Ee.dom,Q.dom)})},$s=(Q,Ee)=>{zt(Q).fold(()=>{Pn(Q).each(Zn=>{_a(Zn,Ee)})},wo=>{ja(wo,Ee)})},Us=(Q,Ee)=>{Xt(Q).fold(()=>{_a(Q,Ee)},wo=>{Q.dom.insertBefore(Ee.dom,wo.dom)})},_a=(Q,Ee)=>{Q.dom.appendChild(Ee.dom)},tt=(Q,Ee)=>{ja(Q,Ee),_a(Ee,Q)},_t=(Q,Ee)=>{de(Ee,(bt,wo)=>{const Zn=wo===0?Q:Ee[wo-1];$s(Zn,bt)})},Do=(Q,Ee)=>{de(Ee,bt=>{_a(Q,bt)})},St=(Q,Ee)=>{let bt=[];return de(Ft(Q),wo=>{Ee(wo)&&(bt=bt.concat([wo])),bt=bt.concat(St(wo,Ee))}),bt};var zr=(Q,Ee,bt,wo,Zn)=>Q(bt,wo)?he.some(bt):tn(Zn)&&Zn(bt)?he.none():Ee(bt,wo,Zn);const kr=(Q,Ee,bt)=>{let wo=Q.dom;const Zn=tn(bt)?bt:co;for(;wo.parentNode;){wo=wo.parentNode;const U=We.fromDom(wo);if(Ee(U))return he.some(U);if(Zn(U))break}return he.none()},Is=Q=>{const Ee=Q.dom;Ee.parentNode!==null&&Ee.parentNode.removeChild(Ee)},Xr=Q=>{const Ee=Ft(Q);Ee.length>0&&_t(Q,Ee),Is(Q)},gr=(Q,Ee)=>Me(Ee,Q),De=(Q,Ee,bt)=>kr(Q,wo=>Fe(wo,Ee),bt),Ae=(Q,Ee)=>at(Ee,Q),wt=(Q,Ee,bt)=>zr((Zn,U)=>Fe(Zn,U),De,Q,Ee,bt),dn=((Q,Ee)=>{const bt=U=>{if(!Q(U))throw new Error("Can only get "+Ee+" value of a "+Ee+" node");return wo(U).getOr("")},wo=U=>Q(U)?he.from(U.dom.nodeValue):he.none();return{get:bt,getOption:wo,set:(U,oe)=>{if(!Q(U))throw new Error("Can only set raw "+Ee+" value of a "+Ee+" node");U.dom.nodeValue=oe}}})(Bt,"text"),nn=Q=>dn.get(Q),sr=(Q,Ee)=>dn.set(Q,Ee);var Vr=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","li","table","thead","tbody","tfoot","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],Br=()=>{const Q=po=>We.fromDom(po.dom.cloneNode(!1)),Ee=po=>Gn(po).dom,bt=po=>uo(po)?lt(po)==="body"?!0:me(Vr,lt(po)):!1,wo=po=>uo(po)?me(["br","img","hr","input"],lt(po)):!1,Zn=po=>uo(po)&&lo(po,"contenteditable")==="false",U=(po,Yn)=>po.dom.compareDocumentPosition(Yn.dom),oe=(po,Yn)=>{const ga=Se(po);Pt(Yn,ga)},xe=po=>{const Yn=lt(po);return me(["script","noscript","iframe","noframes","noembed","title","style","textarea","xmp"],Yn)},xt=po=>uo(po)?zo(po,"lang"):he.none();return{up:it({selector:De,closest:wt,predicate:kr,all:zn}),down:it({selector:gr,predicate:St}),styles:it({get:Yr,getRaw:cs,set:Ys,remove:Ha}),attrs:it({get:lo,set:Co,remove:to,copyTo:oe}),insert:it({before:ja,after:$s,afterAll:_t,append:_a,appendAll:Do,prepend:Us,wrap:tt}),remove:it({unwrap:Xr,remove:Is}),create:it({nu:We.fromTag,clone:Q,text:We.fromText}),query:it({comparePosition:U,prevSibling:ut,nextSibling:zt}),property:it({children:Ft,name:lt,parent:Pn,document:Ee,isText:Bt,isComment:Rt,isElement:uo,isSpecial:xe,getLanguage:xt,getText:nn,setText:sr,isBoundary:bt,isEmptyTag:wo,isNonEditable:Zn}),eq:ze,is:Ge}};const Jo=(Q,Ee)=>({element:Q,offset:Ee}),Ce=(Q,Ee,bt)=>Q.property().isText(Ee)&&Q.property().getText(Ee).trim().length===0||Q.property().isComment(Ee)?bt(Ee).bind(wo=>Ce(Q,wo,bt).orThunk(()=>he.some(wo))):he.none(),Ne=(Q,Ee)=>Q.property().isText(Ee)?Q.property().getText(Ee).length:Q.property().children(Ee).length,Zt=(Q,Ee)=>{const bt=Ce(Q,Ee,Q.query().prevSibling).getOr(Ee);if(Q.property().isText(bt))return Jo(bt,Ne(Q,bt));const wo=Q.property().children(bt);return wo.length>0?Zt(Q,wo[wo.length-1]):Jo(bt,Ne(Q,bt))},Lo=Zt,Ho=Br(),rn=Q=>Lo(Ho,Q),Go=(Q,Ee,bt)=>Q.dispatch("ToggledAccordion",{element:Ee,state:bt}),hn=(Q,Ee,bt)=>Q.dispatch("ToggledAllAccordions",{elements:Ee,state:bt}),wn="details",Un="mce-accordion",Ar="mce-accordion-summary",ra="mce-accordion-body",Xs="div";var Zs=tinymce.util.Tools.resolve("tinymce.util.Tools");const mi=Q=>Q?.nodeName==="SUMMARY",Wr=Q=>Q?.nodeName==="DETAILS",rr=Q=>Q.hasAttribute("open"),Sr=Q=>{const Ee=Q.selection.getNode();return mi(Ee)||!!Q.dom.getParent(Ee,mi)},va=Q=>{const Ee=Q.selection.getRng();return Wr(Ee.startContainer)&&Ee.collapsed&&Ee.startOffset===0},Cs=Q=>!Sr(Q)&&Q.dom.isEditable(Q.selection.getNode()),za=Q=>he.from(Q.dom.getParent(Q.selection.getNode(),Wr)),ws=Q=>za(Q).isSome(),As=Q=>(Q.innerHTML='<br data-mce-bogus="1" />',Q),Aa=Q=>As(Q.dom.create("p")),Kn=Q=>As(Q.dom.create("summary")),Os=(Q,Ee)=>{const bt=Aa(Q);Ee.insertAdjacentElement("afterend",bt),Q.selection.setCursorLocation(bt,0)},Ma=(Q,Ee)=>{if(mi(Ee?.lastChild)){const bt=Aa(Q);Ee.appendChild(bt),Q.selection.setCursorLocation(bt,0)}},Ca=(Q,Ee)=>{if(!mi(Ee?.firstChild)){const bt=Kn(Q);Ee.prepend(bt),Q.selection.setCursorLocation(bt,0)}},ds=Q=>Ee=>{Ma(Q,Ee),Ca(Q,Ee)},xa=Q=>{Zs.each(Zs.grep(Q.dom.select("details",Q.getBody())),ds(Q))},Rn=Q=>{if(!Cs(Q))return;const Ee=We.fromDom(Q.getBody()),bt=Io("acc"),wo=Q.dom.encode(Q.selection.getRng().toString()||Q.translate("Accordion summary...")),Zn=Q.dom.encode(Q.translate("Accordion body...")),U=`<summary class="${Ar}">${wo}</summary>`,oe=`<${Xs} class="${ra}"><p>${Zn}</p></${Xs}>`;Q.undoManager.transact(()=>{Q.insertContent([`<details data-mce-id="${bt}" class="${Un}" open="open">`,U,oe,"</details>"].join("")),Ae(Ee,`[data-mce-id="${bt}"]`).each(xe=>{to(xe,"data-mce-id"),Ae(xe,"summary").each(xt=>{const po=Q.dom.createRng(),Yn=rn(xt);po.setStart(Yn.element.dom,Yn.offset),po.setEnd(Yn.element.dom,Yn.offset),Q.selection.setRng(po)})})})},Hi=(Q,Ee)=>{const bt=Ee??!rr(Q);return bt?Q.setAttribute("open","open"):Q.removeAttribute("open"),bt},Bn=(Q,Ee)=>{za(Q).each(bt=>{Go(Q,bt,Hi(bt,Ee))})},ji=Q=>{za(Q).each(Ee=>{const{nextSibling:bt}=Ee;bt?(Q.selection.select(bt,!0),Q.selection.collapse(!0)):Os(Q,Ee),Ee.remove()})},go=(Q,Ee)=>{const bt=Array.from(Q.getBody().querySelectorAll("details"));bt.length!==0&&(de(bt,wo=>Hi(wo,Ee??!rr(wo))),hn(Q,bt,Ee))},aa=Q=>{Q.addCommand("InsertAccordion",()=>Rn(Q)),Q.addCommand("ToggleAccordion",(Ee,bt)=>Bn(Q,bt)),Q.addCommand("ToggleAllAccordions",(Ee,bt)=>go(Q,bt)),Q.addCommand("RemoveAccordion",()=>ji(Q))};var Ss=tinymce.util.Tools.resolve("tinymce.html.Node");const Ir=Q=>{var Ee,bt;return(bt=(Ee=Q.attr("class"))===null||Ee===void 0?void 0:Ee.split(" "))!==null&&bt!==void 0?bt:[]},gi=(Q,Ee)=>{const bt=new Set([...Ir(Q),...Ee]),wo=Array.from(bt);wo.length>0&&Q.attr("class",wo.join(" "))},sc=(Q,Ee)=>{const bt=rt(Ir(Q),wo=>!Ee.has(wo));Q.attr("class",bt.length>0?bt.join(" "):null)},Pr=Q=>Q.name===wn&&me(Ir(Q),Un),ne=Q=>Q.name===Xs&&me(Ir(Q),ra),Be=Q=>{const Ee=Q.children();let bt,wo;const Zn=[];for(let U=0;U<Ee.length;U++){const oe=Ee[U];oe.name==="summary"&&Mo(bt)?bt=oe:ne(oe)&&Mo(wo)?wo=oe:Zn.push(oe)}return{summaryNode:bt,wrapperNode:wo,otherNodes:Zn}},Pe=Q=>{const Ee=new Ss("br",1);Ee.attr("data-mce-bogus","1"),Q.empty(),Q.append(Ee)},Nt=Q=>{Q.on("PreInit",()=>{const{serializer:Ee,parser:bt}=Q;bt.addNodeFilter(wn,wo=>{for(let Zn=0;Zn<wo.length;Zn++){const U=wo[Zn];if(Pr(U)){const oe=U,{summaryNode:xe,wrapperNode:xt,otherNodes:po}=Be(oe),Yn=jo(xe),ga=Yn?xe:new Ss("summary",1);Mo(ga.firstChild)&&Pe(ga),gi(ga,[Ar]),Yn||(jo(oe.firstChild)?oe.insert(ga,oe.firstChild,!0):oe.append(ga));const ks=jo(xt),_i=ks?xt:new Ss(Xs,1);if(_i.attr("data-mce-bogus","1"),gi(_i,[ra]),po.length>0)for(let Js=0;Js<po.length;Js++){const Vi=po[Js];_i.append(Vi)}if(Mo(_i.firstChild)){const Js=new Ss("p",1);Pe(Js),_i.append(Js)}ks||oe.append(_i)}}}),Ee.addNodeFilter(wn,wo=>{const Zn=new Set([Ar]);for(let U=0;U<wo.length;U++){const oe=wo[U];if(Pr(oe)){const xe=oe,{summaryNode:xt,wrapperNode:po}=Be(xe);jo(xt)&&sc(xt,Zn),jo(po)&&po.unwrap()}}})})};var ho=tinymce.util.Tools.resolve("tinymce.util.VK");const bn=Q=>{Q.on("keydown",Ee=>{(!Ee.shiftKey&&Ee.keyCode===ho.ENTER&&Sr(Q)||va(Q))&&(Ee.preventDefault(),Q.execCommand("ToggleAccordion"))})},kn=Q=>{bn(Q),Q.on("ExecCommand",Ee=>{const bt=Ee.command.toLowerCase();(bt==="delete"||bt==="forwarddelete")&&ws(Q)&&xa(Q)})};var _r=tinymce.util.Tools.resolve("tinymce.Env");const Or=Q=>{_r.browser.isSafari()&&Q.on("click",Ee=>{if(mi(Ee.target)){const bt=Ee.target,wo=Q.selection.getRng();wo.collapsed&&wo.startContainer===bt.parentNode&&wo.startOffset===0&&Q.selection.setCursorLocation(bt,0)}})},Sa=Q=>Ee=>{const bt=()=>Ee.setEnabled(Cs(Q));return Q.on("NodeChange",bt),()=>Q.off("NodeChange",bt)},ma=Q=>{const Ee=()=>Q.execCommand("InsertAccordion");Q.ui.registry.addButton("accordion",{icon:"accordion",tooltip:"Insert accordion",onSetup:Sa(Q),onAction:Ee}),Q.ui.registry.addMenuItem("accordion",{icon:"accordion",text:"Accordion",onSetup:Sa(Q),onAction:Ee}),Q.ui.registry.addToggleButton("accordiontoggle",{icon:"accordion-toggle",tooltip:"Toggle accordion",onAction:()=>Q.execCommand("ToggleAccordion")}),Q.ui.registry.addToggleButton("accordionremove",{icon:"remove",tooltip:"Delete accordion",onAction:()=>Q.execCommand("RemoveAccordion")}),Q.ui.registry.addContextToolbar("accordion",{predicate:bt=>Q.dom.is(bt,"details")&&Q.getBody().contains(bt)&&Q.dom.isEditable(bt.parentNode),items:"accordiontoggle accordionremove",scope:"node",position:"node"})};var Ga=()=>{xo.add("accordion",Q=>{ma(Q),aa(Q),kn(Q),Nt(Q),Or(Q)})};Ga()})();(function(){var xo=tinymce.util.Tools.resolve("tinymce.PluginManager");const Ko=(qe,Je,lt)=>{const Mt=Je==="UL"?"InsertUnorderedList":"InsertOrderedList";qe.execCommand(Mt,!1,lt===!1?null:{"list-style-type":lt})},Io=qe=>{qe.addCommand("ApplyUnorderedListStyle",(Je,lt)=>{Ko(qe,"UL",lt["list-style-type"])}),qe.addCommand("ApplyOrderedListStyle",(Je,lt)=>{Ko(qe,"OL",lt["list-style-type"])})},on=qe=>Je=>Je.options.get(qe),Qo=qe=>{const Je=qe.options.register;Je("advlist_number_styles",{processor:"string[]",default:"default,lower-alpha,lower-greek,lower-roman,upper-alpha,upper-roman".split(",")}),Je("advlist_bullet_styles",{processor:"string[]",default:"default,circle,square".split(",")})},io=on("advlist_number_styles"),Po=on("advlist_bullet_styles"),jt=qe=>qe==null,ko=qe=>!jt(qe);var Mo=tinymce.util.Tools.resolve("tinymce.util.Tools");class jo{constructor(Je,lt){this.tag=Je,this.value=lt}static some(Je){return new jo(!0,Je)}static none(){return jo.singletonNone}fold(Je,lt){return this.tag?lt(this.value):Je()}isSome(){return this.tag}isNone(){return!this.tag}map(Je){return this.tag?jo.some(Je(this.value)):jo.none()}bind(Je){return this.tag?Je(this.value):jo.none()}exists(Je){return this.tag&&Je(this.value)}forall(Je){return!this.tag||Je(this.value)}filter(Je){return!this.tag||Je(this.value)?this:jo.none()}getOr(Je){return this.tag?this.value:Je}or(Je){return this.tag?this:Je}getOrThunk(Je){return this.tag?this.value:Je()}orThunk(Je){return this.tag?this:Je()}getOrDie(Je){if(this.tag)return this.value;throw new Error(Je??"Called getOrDie on None")}static from(Je){return ko(Je)?jo.some(Je):jo.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(Je){this.tag&&Je(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}jo.singletonNone=new jo(!1);const tn=(qe,Je,lt)=>{for(let Mt=0,ht=qe.length;Mt<ht;Mt++){const Rt=qe[Mt];if(Je(Rt,Mt))return jo.some(Rt);if(lt(Rt,Mt))break}return jo.none()},To=qe=>/\btox\-/.test(qe.className),Ue=(qe,Je)=>qe.dom.isChildOf(Je,qe.getBody()),it=qe=>Je=>ko(Je)&&qe.test(Je.nodeName),So=it(/^(OL|UL|DL)$/),co=it(/^(TH|TD)$/),he=(qe,Je,lt)=>tn(Je,Mt=>So(Mt)&&!To(Mt),co).exists(Mt=>Mt.nodeName===lt&&Ue(qe,Mt)),Dt=qe=>{const Je=qe.dom.getParent(qe.selection.getNode(),"ol,ul"),lt=qe.dom.getStyle(Je,"listStyleType");return jo.from(lt)},fo=(qe,Je)=>Je!==null&&!qe.dom.isEditable(Je),me=(qe,Je)=>{const lt=qe.dom.getParent(Je,"ol,ul,dl");return fo(qe,lt)&&qe.selection.isEditable()},Ze=(qe,Je)=>{const lt=qe.selection.getNode();return Je({parents:qe.dom.getParents(lt),element:lt}),qe.on("NodeChange",Je),()=>qe.off("NodeChange",Je)},de=qe=>qe.replace(/\-/g," ").replace(/\b\w/g,Je=>Je.toUpperCase()),rt=qe=>jt(qe)||qe==="default"?"":qe,Yo=(qe,Je)=>lt=>{const Mt=(Rt,uo)=>{const Bt=Rt.selection.getStart(!0);lt.setActive(he(Rt,uo,Je)),lt.setEnabled(!me(Rt,Bt)&&Rt.selection.isEditable())};return Ze(qe,Rt=>Mt(qe,Rt.parents))},$t=(qe,Je,lt,Mt,ht,Rt)=>{qe.ui.registry.addSplitButton(Je,{tooltip:lt,icon:ht==="OL"?"ordered-list":"unordered-list",presets:"listpreview",columns:3,fetch:uo=>{const Bt=Mo.map(Rt,V=>{const dt=ht==="OL"?"num":"bull",Ie=V==="disc"||V==="decimal"?"default":V,Co=rt(V),Pt=de(V);return{type:"choiceitem",value:Co,icon:"list-"+dt+"-"+Ie,text:Pt}});uo(Bt)},onAction:()=>qe.execCommand(Mt),onItemAction:(uo,Bt)=>{Ko(qe,ht,Bt)},select:uo=>Dt(qe).map(V=>uo===V).getOr(!1),onSetup:Yo(qe,ht)})},gn=(qe,Je,lt,Mt,ht,Rt)=>{qe.ui.registry.addToggleButton(Je,{active:!1,tooltip:lt,icon:ht==="OL"?"ordered-list":"unordered-list",onSetup:Yo(qe,ht),onAction:()=>qe.queryCommandState(Mt)||Rt===""?qe.execCommand(Mt):Ko(qe,ht,Rt)})},Bo=(qe,Je,lt,Mt,ht,Rt)=>{Rt.length>1?$t(qe,Je,lt,Mt,ht,Rt):gn(qe,Je,lt,Mt,ht,rt(Rt[0]))},Ct=qe=>{Bo(qe,"numlist","Numbered list","InsertOrderedList","OL",io(qe)),Bo(qe,"bullist","Bullet list","InsertUnorderedList","UL",Po(qe))};var R=()=>{xo.add("advlist",qe=>{qe.hasPlugin("lists")?(Qo(qe),Ct(qe),Io(qe)):console.error("Please use the Lists plugin together with the Advanced List plugin.")})};R()})();(function(){var xo=tinymce.util.Tools.resolve("tinymce.PluginManager"),Ko=tinymce.util.Tools.resolve("tinymce.dom.RangeUtils"),Io=tinymce.util.Tools.resolve("tinymce.util.Tools");const on=qe=>Je=>Je.options.get(qe),Qo=qe=>{const Je=qe.options.register;Je("allow_html_in_named_anchor",{processor:"boolean",default:!1})},io=on("allow_html_in_named_anchor"),Po="a:not([href])",jt=qe=>!qe,ko=qe=>qe.getAttribute("id")||qe.getAttribute("name")||"",Mo=qe=>qe.nodeName.toLowerCase()==="a",jo=qe=>Mo(qe)&&!qe.getAttribute("href")&&ko(qe)!=="",tn=qe=>jo(qe)&&!qe.firstChild,To=qe=>{const Je=qe.dom;Ko(Je).walk(qe.selection.getRng(),lt=>{Io.each(lt,Mt=>{tn(Mt)&&Je.remove(Mt,!1)})})},Ue=qe=>/^[A-Za-z][A-Za-z0-9\-:._]*$/.test(qe),it=qe=>qe.dom.getParent(qe.selection.getStart(),Po),So=qe=>{const Je=it(qe);return Je?ko(Je):""},co=(qe,Je)=>{qe.undoManager.transact(()=>{io(qe)||qe.selection.collapse(!0),qe.selection.isCollapsed()?qe.insertContent(qe.dom.createHTML("a",{id:Je})):(To(qe),qe.formatter.remove("namedAnchor",void 0,void 0,!0),qe.formatter.apply("namedAnchor",{value:Je}),qe.addVisual())})},he=(qe,Je,lt)=>{lt.removeAttribute("name"),lt.id=Je,qe.addVisual(),qe.undoManager.add()},Dt=(qe,Je)=>{const lt=it(qe);lt?he(qe,Je,lt):co(qe,Je),qe.focus()},fo=(qe,Je)=>Ue(Je)?(Dt(qe,Je),!0):(qe.windowManager.alert("ID should start with a letter, followed only by letters, numbers, dashes, dots, colons or underscores."),!1),me=qe=>{const Je=So(qe);qe.windowManager.open({title:"Anchor",size:"normal",body:{type:"panel",items:[{name:"id",type:"input",label:"ID",placeholder:"example"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:{id:Je},onSubmit:lt=>{fo(qe,lt.getData().id)&&lt.close()}})},Ze=qe=>{qe.addCommand("mceAnchor",()=>{me(qe)})},de=qe=>jt(qe.attr("href"))&&!jt(qe.attr("id")||qe.attr("name")),rt=qe=>de(qe)&&!qe.firstChild,Yo=qe=>Je=>{for(let lt=0;lt<Je.length;lt++){const Mt=Je[lt];rt(Mt)&&Mt.attr("contenteditable",qe)}},$t=qe=>{qe.on("PreInit",()=>{qe.parser.addNodeFilter("a",Yo("false")),qe.serializer.addNodeFilter("a",Yo(null))})},gn=qe=>{qe.formatter.register("namedAnchor",{inline:"a",selector:Po,remove:"all",split:!0,deep:!0,attributes:{id:"%value"},onmatch:(Je,lt,Mt)=>jo(Je)})},Bo=qe=>Je=>{const lt=()=>{Je.setEnabled(qe.selection.isEditable())};return qe.on("NodeChange",lt),lt(),()=>{qe.off("NodeChange",lt)}},Ct=qe=>{const Je=()=>qe.execCommand("mceAnchor");qe.ui.registry.addToggleButton("anchor",{icon:"bookmark",tooltip:"Anchor",onAction:Je,onSetup:lt=>{const Mt=qe.selection.selectorChangedWithUnbind("a:not([href])",lt.setActive).unbind,ht=Bo(qe)(lt);return()=>{Mt(),ht()}}}),qe.ui.registry.addMenuItem("anchor",{icon:"bookmark",text:"Anchor...",onAction:Je,onSetup:Bo(qe)})};var R=()=>{xo.add("anchor",qe=>{Qo(qe),$t(qe),Ze(qe),Ct(qe),qe.on("PreInit",()=>{gn(qe)})})};R()})();(function(){var xo=tinymce.util.Tools.resolve("tinymce.PluginManager");const Ko=()=>/(?:[A-Za-z][A-Za-z\d.+-]{0,14}:\/\/(?:[-.~*+=!&;:'%@?^${}(),\w]+@)?|www\.|[-;:&=+$,.\w]+@)[A-Za-z\d-]+(?:\.[A-Za-z\d-]+)*(?::\d+)?(?:\/(?:[-.~*+=!;:'%@$(),\/\w]*[-~*+=%@$()\/\w])?)?(?:\?(?:[-.~*+=!&;:'%@?^${}(),\/\w]+))?(?:#(?:[-.~*+=!&;:'%@?^${}(),\/\w]+))?/g,Io=Ie=>Co=>Co.options.get(Ie),on=Ie=>{const Co=Ie.options.register;Co("autolink_pattern",{processor:"regexp",default:new RegExp("^"+Ko().source+"$","i")}),Co("link_default_target",{processor:"string"}),Co("link_default_protocol",{processor:"string",default:"https"})},Qo=Io("autolink_pattern"),io=Io("link_default_target"),Po=Io("link_default_protocol"),jt=Io("allow_unsafe_link_target"),ko=(Ie,Co,Pt)=>{var lo;return Pt(Ie,Co.prototype)?!0:((lo=Ie.constructor)===null||lo===void 0?void 0:lo.name)===Co.name},Mo=Ie=>{const Co=typeof Ie;return Ie===null?"null":Co==="object"&&Array.isArray(Ie)?"array":Co==="object"&&ko(Ie,String,(Pt,lo)=>lo.isPrototypeOf(Pt))?"string":Co},jo=Ie=>Co=>Mo(Co)===Ie,tn=Ie=>Co=>Ie===Co,To=jo("string"),Ue=tn(void 0),it=Ie=>Ie==null,So=Ie=>!it(Ie),co=Ie=>Co=>!Ie(Co),he=Object.hasOwnProperty,Dt=(Ie,Co)=>he.call(Ie,Co),fo=(Ie,Co,Pt)=>Co===""||Ie.length>=Co.length&&Ie.substr(Pt,Pt+Co.length)===Co,me=(Ie,Co,Pt=0,lo)=>{const zo=Ie.indexOf(Co,Pt);return zo!==-1?Ue(lo)?!0:zo+Co.length<=lo:!1},Ze=(Ie,Co)=>fo(Ie,Co,0),de="\uFEFF",rt=Ie=>Ie===de,Yo=Ie=>Ie.replace(/\uFEFF/g,"");var $t=tinymce.util.Tools.resolve("tinymce.dom.TextSeeker");const gn=Ie=>Ie.nodeType===3,Bo=Ie=>Ie.nodeType===1,Ct=Ie=>/^[(\[{ \u00a0]$/.test(Ie),R=Ie=>/^([A-Za-z][A-Za-z\d.+-]*:\/\/)|mailto:/.test(Ie),qe=Ie=>/[?!,.;:]/.test(Ie),Je=(Ie,Co,Pt)=>{for(let lo=Co-1;lo>=0;lo--){const zo=Ie.charAt(lo);if(!rt(zo)&&Pt(zo))return lo}return-1},lt=(Ie,Co)=>{let Pt=Ie,lo=Co;for(;Bo(Pt)&&Pt.childNodes[lo];)Pt=Pt.childNodes[lo],lo=gn(Pt)?Pt.data.length:Pt.childNodes.length;return{container:Pt,offset:lo}},Mt=(Ie,Co)=>{var Pt;const lo=Ie.schema.getVoidElements(),zo=Qo(Ie),{dom:to,selection:Se}=Ie;if(to.getParent(Se.getNode(),"a[href]")!==null)return null;const $e=Se.getRng(),ct=$t(to,Ge=>to.isBlock(Ge)||Dt(lo,Ge.nodeName.toLowerCase())||to.getContentEditable(Ge)==="false"),{container:gt,offset:pe}=lt($e.endContainer,$e.endOffset),Oe=(Pt=to.getParent(gt,to.isBlock))!==null&&Pt!==void 0?Pt:to.getRoot(),We=ct.backwards(gt,pe+Co,(Ge,Gt)=>{const Vt=Ge.data,Xo=Je(Vt,Gt,co(Ct));return Xo===-1||qe(Vt[Xo])?Xo:Xo+1},Oe);if(!We)return null;let Fe=We.container;const ge=ct.backwards(We.container,We.offset,(Ge,Gt)=>{Fe=Ge;const Vt=Je(Ge.data,Gt,Ct);return Vt===-1?Vt:Vt+1},Oe),Me=to.createRng();ge?Me.setStart(ge.container,ge.offset):Me.setStart(Fe,0),Me.setEnd(We.container,We.offset);const ze=Yo(Me.toString()).match(zo);if(ze){let Ge=ze[0];return Ze(Ge,"www.")?Ge=Po(Ie)+"://"+Ge:me(Ge,"@")&&!R(Ge)&&(Ge="mailto:"+Ge),{rng:Me,url:Ge}}else return null},ht=(Ie,Co)=>{const{dom:Pt,selection:lo}=Ie,{rng:zo,url:to}=Co,Se=lo.getBookmark();lo.setRng(zo);const $e="createlink",ct={command:$e,ui:!1,value:to};if(!Ie.dispatch("BeforeExecCommand",ct).isDefaultPrevented()){Ie.getDoc().execCommand($e,!1,to),Ie.dispatch("ExecCommand",ct);const pe=io(Ie);if(To(pe)){const Oe=lo.getNode();Pt.setAttrib(Oe,"target",pe),pe==="_blank"&&!jt(Ie)&&Pt.setAttrib(Oe,"rel","noopener")}}lo.moveToBookmark(Se),Ie.nodeChanged()},Rt=Ie=>{const Co=Mt(Ie,-1);So(Co)&&ht(Ie,Co)},uo=Rt,Bt=Ie=>{const Co=Mt(Ie,0);So(Co)&&ht(Ie,Co)},V=Ie=>{Ie.on("keydown",Co=>{Co.keyCode===13&&!Co.isDefaultPrevented()&&Bt(Ie)}),Ie.on("keyup",Co=>{Co.keyCode===32?Rt(Ie):(Co.keyCode===48&&Co.shiftKey||Co.keyCode===221)&&uo(Ie)})};var dt=()=>{xo.add("autolink",Ie=>{on(Ie),V(Ie)})};dt()})();(function(){var xo=tinymce.util.Tools.resolve("tinymce.PluginManager");const Ko=(ht,Rt,uo)=>{var Bt;return uo(ht,Rt.prototype)?!0:((Bt=ht.constructor)===null||Bt===void 0?void 0:Bt.name)===Rt.name},Io=ht=>{const Rt=typeof ht;return ht===null?"null":Rt==="object"&&Array.isArray(ht)?"array":Rt==="object"&&Ko(ht,String,(uo,Bt)=>Bt.isPrototypeOf(uo))?"string":Rt},on=ht=>Rt=>Io(Rt)===ht,Qo=ht=>Rt=>ht===Rt,io=on("string"),Po=Qo(void 0);var jt=tinymce.util.Tools.resolve("tinymce.util.Delay"),ko=tinymce.util.Tools.resolve("tinymce.util.LocalStorage"),Mo=tinymce.util.Tools.resolve("tinymce.util.Tools");const jo=ht=>ht.dispatch("RestoreDraft"),tn=ht=>ht.dispatch("StoreDraft"),To=ht=>ht.dispatch("RemoveDraft"),Ue=ht=>{const Rt={s:1e3,m:6e4},uo=/^(\d+)([ms]?)$/.exec(ht);return(uo&&uo[2]?Rt[uo[2]]:1)*parseInt(ht,10)},it=ht=>Rt=>Rt.options.get(ht),So=ht=>{const Rt=ht.options.register,uo=Bt=>{const V=io(Bt);return V?{value:Ue(Bt),valid:V}:{valid:!1,message:"Must be a string."}};Rt("autosave_ask_before_unload",{processor:"boolean",default:!0}),Rt("autosave_prefix",{processor:"string",default:"tinymce-autosave-{path}{query}{hash}-{id}-"}),Rt("autosave_restore_when_empty",{processor:"boolean",default:!1}),Rt("autosave_interval",{processor:uo,default:"30s"}),Rt("autosave_retention",{processor:uo,default:"20m"})},co=it("autosave_ask_before_unload"),he=it("autosave_restore_when_empty"),Dt=it("autosave_interval"),fo=it("autosave_retention"),me=ht=>{const Rt=document.location;return ht.options.get("autosave_prefix").replace(/{path}/g,Rt.pathname).replace(/{query}/g,Rt.search).replace(/{hash}/g,Rt.hash).replace(/{id}/g,ht.id)},Ze=(ht,Rt)=>{if(Po(Rt))return ht.dom.isEmpty(ht.getBody());{const uo=Mo.trim(Rt);if(uo==="")return!0;{const Bt=new DOMParser().parseFromString(uo,"text/html");return ht.dom.isEmpty(Bt)}}},de=ht=>{var Rt;const uo=parseInt((Rt=ko.getItem(me(ht)+"time"))!==null&&Rt!==void 0?Rt:"0",10)||0;return new Date().getTime()-uo>fo(ht)?(rt(ht,!1),!1):!0},rt=(ht,Rt)=>{const uo=me(ht);ko.removeItem(uo+"draft"),ko.removeItem(uo+"time"),Rt!==!1&&To(ht)},Yo=ht=>{const Rt=me(ht);!Ze(ht)&&ht.isDirty()&&(ko.setItem(Rt+"draft",ht.getContent({format:"raw",no_events:!0})),ko.setItem(Rt+"time",new Date().getTime().toString()),tn(ht))},$t=ht=>{var Rt;const uo=me(ht);de(ht)&&(ht.setContent((Rt=ko.getItem(uo+"draft"))!==null&&Rt!==void 0?Rt:"",{format:"raw"}),jo(ht))},gn=ht=>{const Rt=Dt(ht);jt.setEditorInterval(ht,()=>{Yo(ht)},Rt)},Bo=ht=>{ht.undoManager.transact(()=>{$t(ht),rt(ht)}),ht.focus()},Ct=ht=>({hasDraft:()=>de(ht),storeDraft:()=>Yo(ht),restoreDraft:()=>$t(ht),removeDraft:Rt=>rt(ht,Rt),isEmpty:Rt=>Ze(ht,Rt)});var R=tinymce.util.Tools.resolve("tinymce.EditorManager");const qe=ht=>{ht.editorManager.on("BeforeUnload",Rt=>{let uo;Mo.each(R.get(),Bt=>{Bt.plugins.autosave&&Bt.plugins.autosave.storeDraft(),!uo&&Bt.isDirty()&&co(Bt)&&(uo=Bt.translate("You have unsaved changes are you sure you want to navigate away?"))}),uo&&(Rt.preventDefault(),Rt.returnValue=uo)})},Je=ht=>Rt=>{Rt.setEnabled(de(ht));const uo=()=>Rt.setEnabled(de(ht));return ht.on("StoreDraft RestoreDraft RemoveDraft",uo),()=>ht.off("StoreDraft RestoreDraft RemoveDraft",uo)},lt=ht=>{gn(ht);const Rt=()=>{Bo(ht)};ht.ui.registry.addButton("restoredraft",{tooltip:"Restore last draft",icon:"restore-draft",onAction:Rt,onSetup:Je(ht)}),ht.ui.registry.addMenuItem("restoredraft",{text:"Restore last draft",icon:"restore-draft",onAction:Rt,onSetup:Je(ht)})};var Mt=()=>{xo.add("autosave",ht=>(So(ht),qe(ht),lt(ht),ht.on("init",()=>{he(ht)&&ht.dom.isEmpty(ht.getBody())&&$t(ht)}),Ct(ht)))};Mt()})();(function(){var xo=tinymce.util.Tools.resolve("tinymce.PluginManager");const Ko=(pe,Oe)=>pe.dispatch("insertCustomChar",{chr:Oe}),Io=(pe,Oe)=>{const We=Ko(pe,Oe).chr;pe.execCommand("mceInsertContent",!1,We)},on=(pe,Oe,We)=>{var Fe;return We(pe,Oe.prototype)?!0:((Fe=pe.constructor)===null||Fe===void 0?void 0:Fe.name)===Oe.name},Qo=pe=>{const Oe=typeof pe;return pe===null?"null":Oe==="object"&&Array.isArray(pe)?"array":Oe==="object"&&on(pe,String,(We,Fe)=>Fe.isPrototypeOf(We))?"string":Oe},io=pe=>Oe=>Qo(Oe)===pe,Po=pe=>Oe=>typeof Oe===pe,jt=pe=>Oe=>pe===Oe,ko=io("array"),Mo=jt(null),jo=jt(void 0),tn=pe=>pe==null,To=pe=>!tn(pe),Ue=Po("function"),So=(pe=>()=>pe)(!1);class co{constructor(Oe,We){this.tag=Oe,this.value=We}static some(Oe){return new co(!0,Oe)}static none(){return co.singletonNone}fold(Oe,We){return this.tag?We(this.value):Oe()}isSome(){return this.tag}isNone(){return!this.tag}map(Oe){return this.tag?co.some(Oe(this.value)):co.none()}bind(Oe){return this.tag?Oe(this.value):co.none()}exists(Oe){return this.tag&&Oe(this.value)}forall(Oe){return!this.tag||Oe(this.value)}filter(Oe){return!this.tag||Oe(this.value)?this:co.none()}getOr(Oe){return this.tag?this.value:Oe}or(Oe){return this.tag?this:Oe}getOrThunk(Oe){return this.tag?this.value:Oe()}orThunk(Oe){return this.tag?this:Oe()}getOrDie(Oe){if(this.tag)return this.value;throw new Error(Oe??"Called getOrDie on None")}static from(Oe){return To(Oe)?co.some(Oe):co.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(Oe){this.tag&&Oe(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}co.singletonNone=new co(!1);const he=Array.prototype.push,Dt=(pe,Oe)=>{const We=pe.length,Fe=new Array(We);for(let ge=0;ge<We;ge++){const Me=pe[ge];Fe[ge]=Oe(Me,ge)}return Fe},fo=(pe,Oe)=>{for(let We=0,Fe=pe.length;We<Fe;We++){const ge=pe[We];Oe(ge,We)}},me=(pe,Oe,We)=>{for(let Fe=0,ge=pe.length;Fe<ge;Fe++){const Me=pe[Fe];if(Oe(Me,Fe))return co.some(Me);if(We(Me,Fe))break}return co.none()},Ze=(pe,Oe)=>me(pe,Oe,So),de=pe=>{const Oe=[];for(let We=0,Fe=pe.length;We<Fe;++We){if(!ko(pe[We]))throw new Error("Arr.flatten item "+We+" was not an array, input: "+pe);he.apply(Oe,pe[We])}return Oe},rt=(pe,Oe)=>de(Dt(pe,Oe));var Yo=tinymce.util.Tools.resolve("tinymce.util.Tools");const $t=pe=>Oe=>Oe.options.get(pe),gn=pe=>{const Oe=pe.options.register,We=Fe=>Ue(Fe)||ko(Fe);Oe("charmap",{processor:We}),Oe("charmap_append",{processor:We})},Bo=$t("charmap"),Ct=$t("charmap_append"),R=Yo.isArray,qe="User Defined",Je=()=>[{name:"Currency",characters:[[36,"dollar sign"],[162,"cent sign"],[8364,"euro sign"],[163,"pound sign"],[165,"yen sign"],[164,"currency sign"],[8352,"euro-currency sign"],[8353,"colon sign"],[8354,"cruzeiro sign"],[8355,"french franc sign"],[8356,"lira sign"],[8357,"mill sign"],[8358,"naira sign"],[8359,"peseta sign"],[8360,"rupee sign"],[8361,"won sign"],[8362,"new sheqel sign"],[8363,"dong sign"],[8365,"kip sign"],[8366,"tugrik sign"],[8367,"drachma sign"],[8368,"german penny symbol"],[8369,"peso sign"],[8370,"guarani sign"],[8371,"austral sign"],[8372,"hryvnia sign"],[8373,"cedi sign"],[8374,"livre tournois sign"],[8375,"spesmilo sign"],[8376,"tenge sign"],[8377,"indian rupee sign"],[8378,"turkish lira sign"],[8379,"nordic mark sign"],[8380,"manat sign"],[8381,"ruble sign"],[20870,"yen character"],[20803,"yuan character"],[22291,"yuan character, in hong kong and taiwan"],[22278,"yen/yuan character variant one"]]},{name:"Text",characters:[[169,"copyright sign"],[174,"registered sign"],[8482,"trade mark sign"],[8240,"per mille sign"],[181,"micro sign"],[183,"middle dot"],[8226,"bullet"],[8230,"three dot leader"],[8242,"minutes / feet"],[8243,"seconds / inches"],[167,"section sign"],[182,"paragraph sign"],[223,"sharp s / ess-zed"]]},{name:"Quotations",characters:[[8249,"single left-pointing angle quotation mark"],[8250,"single right-pointing angle quotation mark"],[171,"left pointing guillemet"],[187,"right pointing guillemet"],[8216,"left single quotation mark"],[8217,"right single quotation mark"],[8220,"left double quotation mark"],[8221,"right double quotation mark"],[8218,"single low-9 quotation mark"],[8222,"double low-9 quotation mark"],[60,"less-than sign"],[62,"greater-than sign"],[8804,"less-than or equal to"],[8805,"greater-than or equal to"],[8211,"en dash"],[8212,"em dash"],[175,"macron"],[8254,"overline"],[164,"currency sign"],[166,"broken bar"],[168,"diaeresis"],[161,"inverted exclamation mark"],[191,"turned question mark"],[710,"circumflex accent"],[732,"small tilde"],[176,"degree sign"],[8722,"minus sign"],[177,"plus-minus sign"],[247,"division sign"],[8260,"fraction slash"],[215,"multiplication sign"],[185,"superscript one"],[178,"superscript two"],[179,"superscript three"],[188,"fraction one quarter"],[189,"fraction one half"],[190,"fraction three quarters"]]},{name:"Mathematical",characters:[[402,"function / florin"],[8747,"integral"],[8721,"n-ary sumation"],[8734,"infinity"],[8730,"square root"],[8764,"similar to"],[8773,"approximately equal to"],[8776,"almost equal to"],[8800,"not equal to"],[8801,"identical to"],[8712,"element of"],[8713,"not an element of"],[8715,"contains as member"],[8719,"n-ary product"],[8743,"logical and"],[8744,"logical or"],[172,"not sign"],[8745,"intersection"],[8746,"union"],[8706,"partial differential"],[8704,"for all"],[8707,"there exists"],[8709,"diameter"],[8711,"backward difference"],[8727,"asterisk operator"],[8733,"proportional to"],[8736,"angle"]]},{name:"Extended Latin",characters:[[192,"A - grave"],[193,"A - acute"],[194,"A - circumflex"],[195,"A - tilde"],[196,"A - diaeresis"],[197,"A - ring above"],[256,"A - macron"],[198,"ligature AE"],[199,"C - cedilla"],[200,"E - grave"],[201,"E - acute"],[202,"E - circumflex"],[203,"E - diaeresis"],[274,"E - macron"],[204,"I - grave"],[205,"I - acute"],[206,"I - circumflex"],[207,"I - diaeresis"],[298,"I - macron"],[208,"ETH"],[209,"N - tilde"],[210,"O - grave"],[211,"O - acute"],[212,"O - circumflex"],[213,"O - tilde"],[214,"O - diaeresis"],[216,"O - slash"],[332,"O - macron"],[338,"ligature OE"],[352,"S - caron"],[217,"U - grave"],[218,"U - acute"],[219,"U - circumflex"],[220,"U - diaeresis"],[362,"U - macron"],[221,"Y - acute"],[376,"Y - diaeresis"],[562,"Y - macron"],[222,"THORN"],[224,"a - grave"],[225,"a - acute"],[226,"a - circumflex"],[227,"a - tilde"],[228,"a - diaeresis"],[229,"a - ring above"],[257,"a - macron"],[230,"ligature ae"],[231,"c - cedilla"],[232,"e - grave"],[233,"e - acute"],[234,"e - circumflex"],[235,"e - diaeresis"],[275,"e - macron"],[236,"i - grave"],[237,"i - acute"],[238,"i - circumflex"],[239,"i - diaeresis"],[299,"i - macron"],[240,"eth"],[241,"n - tilde"],[242,"o - grave"],[243,"o - acute"],[244,"o - circumflex"],[245,"o - tilde"],[246,"o - diaeresis"],[248,"o slash"],[333,"o macron"],[339,"ligature oe"],[353,"s - caron"],[249,"u - grave"],[250,"u - acute"],[251,"u - circumflex"],[252,"u - diaeresis"],[363,"u - macron"],[253,"y - acute"],[254,"thorn"],[255,"y - diaeresis"],[563,"y - macron"],[913,"Alpha"],[914,"Beta"],[915,"Gamma"],[916,"Delta"],[917,"Epsilon"],[918,"Zeta"],[919,"Eta"],[920,"Theta"],[921,"Iota"],[922,"Kappa"],[923,"Lambda"],[924,"Mu"],[925,"Nu"],[926,"Xi"],[927,"Omicron"],[928,"Pi"],[929,"Rho"],[931,"Sigma"],[932,"Tau"],[933,"Upsilon"],[934,"Phi"],[935,"Chi"],[936,"Psi"],[937,"Omega"],[945,"alpha"],[946,"beta"],[947,"gamma"],[948,"delta"],[949,"epsilon"],[950,"zeta"],[951,"eta"],[952,"theta"],[953,"iota"],[954,"kappa"],[955,"lambda"],[956,"mu"],[957,"nu"],[958,"xi"],[959,"omicron"],[960,"pi"],[961,"rho"],[962,"final sigma"],[963,"sigma"],[964,"tau"],[965,"upsilon"],[966,"phi"],[967,"chi"],[968,"psi"],[969,"omega"]]},{name:"Symbols",characters:[[8501,"alef symbol"],[982,"pi symbol"],[8476,"real part symbol"],[978,"upsilon - hook symbol"],[8472,"Weierstrass p"],[8465,"imaginary part"]]},{name:"Arrows",characters:[[8592,"leftwards arrow"],[8593,"upwards arrow"],[8594,"rightwards arrow"],[8595,"downwards arrow"],[8596,"left right arrow"],[8629,"carriage return"],[8656,"leftwards double arrow"],[8657,"upwards double arrow"],[8658,"rightwards double arrow"],[8659,"downwards double arrow"],[8660,"left right double arrow"],[8756,"therefore"],[8834,"subset of"],[8835,"superset of"],[8836,"not a subset of"],[8838,"subset of or equal to"],[8839,"superset of or equal to"],[8853,"circled plus"],[8855,"circled times"],[8869,"perpendicular"],[8901,"dot operator"],[8968,"left ceiling"],[8969,"right ceiling"],[8970,"left floor"],[8971,"right floor"],[9001,"left-pointing angle bracket"],[9002,"right-pointing angle bracket"],[9674,"lozenge"],[9824,"black spade suit"],[9827,"black club suit"],[9829,"black heart suit"],[9830,"black diamond suit"],[8194,"en space"],[8195,"em space"],[8201,"thin space"],[8204,"zero width non-joiner"],[8205,"zero width joiner"],[8206,"left-to-right mark"],[8207,"right-to-left mark"]]}],lt=pe=>Yo.grep(pe,Oe=>R(Oe)&&Oe.length===2),Mt=pe=>R(pe)?lt(pe):typeof pe=="function"?pe():[],ht=(pe,Oe)=>{const We=Bo(pe);We&&(Oe=[{name:qe,characters:Mt(We)}]);const Fe=Ct(pe);if(Fe){const ge=Yo.grep(Oe,Me=>Me.name===qe);return ge.length?(ge[0].characters=[...ge[0].characters,...Mt(Fe)],Oe):Oe.concat({name:qe,characters:Mt(Fe)})}return Oe},Rt=pe=>{const Oe=ht(pe,Je());return Oe.length>1?[{name:"All",characters:rt(Oe,We=>We.characters)}].concat(Oe):Oe},uo=pe=>({getCharMap:()=>Rt(pe),insertChar:Fe=>{Io(pe,Fe)}}),Bt=pe=>{let Oe=pe;return{get:()=>Oe,set:ge=>{Oe=ge}}},V=(pe,Oe)=>{let We=null;const Fe=()=>{Mo(We)||(clearTimeout(We),We=null)};return{cancel:Fe,throttle:(...Me)=>{Fe(),We=setTimeout(()=>{We=null,pe.apply(null,Me)},Oe)}}},dt=(pe,Oe,We=0,Fe)=>{const ge=pe.indexOf(Oe,We);return ge!==-1?jo(Fe)?!0:ge+Oe.length<=Fe:!1},Ie=String.fromCodePoint,Co=(pe,Oe,We)=>dt(Ie(pe).toLowerCase(),We)?!0:dt(Oe.toLowerCase(),We)||dt(Oe.toLowerCase().replace(/\s+/g,""),We),Pt=(pe,Oe)=>{const We=[],Fe=Oe.toLowerCase();return fo(pe.characters,ge=>{Co(ge[0],ge[1],Fe)&&We.push(ge)}),Dt(We,ge=>({text:ge[1],value:Ie(ge[0]),icon:Ie(ge[0])}))},lo="pattern",zo=(pe,Oe)=>{const We=()=>[{label:"Search",type:"input",name:lo},{type:"collection",name:"results"}],Fe=()=>Dt(Oe,Gn=>({title:Gn.name,name:Gn.name,items:We()})),ge=()=>({type:"panel",items:We()}),Me=()=>({type:"tabpanel",tabs:Fe()}),at=Oe.length===1?Bt(qe):Bt("All"),ze=(Gn,Pn)=>{Ze(Oe,zn=>zn.name===at.get()).each(zn=>{const ut=Pt(zn,Pn);Gn.setData({results:ut})})},Gt=V(Gn=>{const Pn=Gn.getData().pattern;ze(Gn,Pn)},40),Vt=Oe.length===1?ge():Me(),Xo={pattern:"",results:Pt(Oe[0],"")},$o={title:"Special Character",size:"normal",body:Vt,buttons:[{type:"cancel",name:"close",text:"Close",primary:!0}],initialData:Xo,onAction:(Gn,Pn)=>{Pn.name==="results"&&(Io(pe,Pn.value),Gn.close())},onTabChange:(Gn,Pn)=>{at.set(Pn.newTabName),Gt.throttle(Gn)},onChange:(Gn,Pn)=>{Pn.name===lo&&Gt.throttle(Gn)}};pe.windowManager.open($o).focus(lo)},to=(pe,Oe)=>{pe.addCommand("mceShowCharmap",()=>{zo(pe,Oe)})},Se=(pe,Oe)=>{pe.ui.registry.addAutocompleter("charmap",{trigger:":",columns:"auto",minChars:2,fetch:(We,Fe)=>new Promise((ge,Me)=>{ge(Pt(Oe,We))}),onAction:(We,Fe,ge)=>{pe.selection.setRng(Fe),pe.insertContent(ge),We.hide()}})},$e=pe=>Oe=>{const We=()=>{Oe.setEnabled(pe.selection.isEditable())};return pe.on("NodeChange",We),We(),()=>{pe.off("NodeChange",We)}},ct=pe=>{const Oe=()=>pe.execCommand("mceShowCharmap");pe.ui.registry.addButton("charmap",{icon:"insert-character",tooltip:"Special character",onAction:Oe,onSetup:$e(pe)}),pe.ui.registry.addMenuItem("charmap",{icon:"insert-character",text:"Special character...",onAction:Oe,onSetup:$e(pe)})};var gt=()=>{xo.add("charmap",pe=>{gn(pe);const Oe=Rt(pe);return to(pe,Oe),ct(pe),Se(pe,Oe[0]),uo(pe)})};gt()})();(function(){var xo=tinymce.util.Tools.resolve("tinymce.PluginManager");const Ko=(jt,ko)=>{jt.focus(),jt.undoManager.transact(()=>{jt.setContent(ko)}),jt.selection.setCursorLocation(),jt.nodeChanged()},Io=jt=>jt.getContent({source_view:!0}),on=jt=>{const ko=Io(jt);jt.windowManager.open({title:"Source Code",size:"large",body:{type:"panel",items:[{type:"textarea",name:"code"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:{code:ko},onSubmit:Mo=>{Ko(jt,Mo.getData().code),Mo.close()}})},Qo=jt=>{jt.addCommand("mceCodeEditor",()=>{on(jt)})},io=jt=>{const ko=()=>jt.execCommand("mceCodeEditor");jt.ui.registry.addButton("code",{icon:"sourcecode",tooltip:"Source code",onAction:ko}),jt.ui.registry.addMenuItem("code",{icon:"sourcecode",text:"Source code",onAction:ko})};var Po=()=>{xo.add("code",jt=>(Qo(jt),io(jt),{}))};Po()})();(function(){var xo=tinymce.util.Tools.resolve("tinymce.PluginManager");const Ko=ge=>Me=>ge===Me,Io=Ko(null),on=Ko(void 0),Qo=ge=>ge==null,io=ge=>!Qo(ge),Po=()=>{},ko=(ge=>()=>ge)(!1);class Mo{constructor(Me,at){this.tag=Me,this.value=at}static some(Me){return new Mo(!0,Me)}static none(){return Mo.singletonNone}fold(Me,at){return this.tag?at(this.value):Me()}isSome(){return this.tag}isNone(){return!this.tag}map(Me){return this.tag?Mo.some(Me(this.value)):Mo.none()}bind(Me){return this.tag?Me(this.value):Mo.none()}exists(Me){return this.tag&&Me(this.value)}forall(Me){return!this.tag||Me(this.value)}filter(Me){return!this.tag||Me(this.value)?this:Mo.none()}getOr(Me){return this.tag?this.value:Me}or(Me){return this.tag?this:Me}getOrThunk(Me){return this.tag?this.value:Me()}orThunk(Me){return this.tag?this:Me()}getOrDie(Me){if(this.tag)return this.value;throw new Error(Me??"Called getOrDie on None")}static from(Me){return io(Me)?Mo.some(Me):Mo.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(Me){this.tag&&Me(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}Mo.singletonNone=new Mo(!1);const jo=(ge,Me)=>{for(let at=0,ze=ge.length;at<ze;at++){const Ge=ge[at];if(Me(Ge,at))return!0}return!1},tn=(ge,Me)=>{const at=ge.length,ze=new Array(at);for(let Ge=0;Ge<at;Ge++){const Gt=ge[Ge];ze[Ge]=Me(Gt,Ge)}return ze},To=(ge,Me)=>{for(let at=0,ze=ge.length;at<ze;at++){const Ge=ge[at];Me(Ge,at)}},Ue=ge=>{let Me=ge;return{get:()=>Me,set:Ge=>{Me=Ge}}},it=(ge,Me)=>{let at=null;const ze=()=>{Io(at)||(clearTimeout(at),at=null)};return{cancel:ze,throttle:(...Gt)=>{ze(),at=setTimeout(()=>{at=null,ge.apply(null,Gt)},Me)}}},So=(ge,Me)=>{ge.insertContent(Me)},co=Object.keys,he=Object.hasOwnProperty,Dt=(ge,Me)=>{const at=co(ge);for(let ze=0,Ge=at.length;ze<Ge;ze++){const Gt=at[ze],Vt=ge[Gt];Me(Vt,Gt)}},fo=(ge,Me)=>me(ge,(at,ze)=>({k:ze,v:Me(at,ze)})),me=(ge,Me)=>{const at={};return Dt(ge,(ze,Ge)=>{const Gt=Me(ze,Ge);at[Gt.k]=Gt.v}),at},Ze=(ge,Me)=>he.call(ge,Me),Yo=(ge=>(...Me)=>{if(Me.length===0)throw new Error("Can't merge zero objects");const at={};for(let ze=0;ze<Me.length;ze++){const Ge=Me[ze];for(const Gt in Ge)Ze(Ge,Gt)&&(at[Gt]=ge(at[Gt],Ge[Gt]))}return at})((ge,Me)=>Me),$t=ge=>{const Me=Ue(Mo.none()),at=()=>Me.get().each(ge);return{clear:()=>{at(),Me.set(Mo.none())},isSet:()=>Me.get().isSome(),get:()=>Me.get(),set:Xo=>{at(),Me.set(Mo.some(Xo))}}},gn=()=>{const ge=$t(Po);return{...ge,on:at=>ge.get().each(at)}},Bo=(ge,Me,at)=>Me===""||ge.length>=Me.length&&ge.substr(at,at+Me.length)===Me,Ct=(ge,Me,at=0,ze)=>{const Ge=ge.indexOf(Me,at);return Ge!==-1?on(ze)?!0:Ge+Me.length<=ze:!1},R=(ge,Me)=>Bo(ge,Me,0);var qe=tinymce.util.Tools.resolve("tinymce.Resource");const Je="tinymce.plugins.emoticons",lt=ge=>Me=>Me.options.get(ge),Mt=(ge,Me)=>{const at=ge.options.register;at("emoticons_database",{processor:"string",default:"emojis"}),at("emoticons_database_url",{processor:"string",default:`${Me}/js/${ht(ge)}${ge.suffix}.js`}),at("emoticons_database_id",{processor:"string",default:Je}),at("emoticons_append",{processor:"object",default:{}}),at("emoticons_images_url",{processor:"string",default:"https://twemoji.maxcdn.com/v/13.0.1/72x72/"})},ht=lt("emoticons_database"),Rt=lt("emoticons_database_url"),uo=lt("emoticons_database_id"),Bt=lt("emoticons_append"),V=lt("emoticons_images_url"),dt="All",Ie={symbols:"Symbols",people:"People",animals_and_nature:"Animals and Nature",food_and_drink:"Food and Drink",activity:"Activity",travel_and_places:"Travel and Places",objects:"Objects",flags:"Flags",user:"User Defined"},Co=(ge,Me)=>Ze(ge,Me)?ge[Me]:Me,Pt=ge=>{const Me=Bt(ge);return fo(Me,at=>({keywords:[],category:"user",...at}))},lo=(ge,Me,at)=>{const ze=gn(),Ge=gn(),Gt=V(ge),Vt=ut=>R(ut.char,"<img")?ut.char.replace(/src="([^"]+)"/,(zt,Ft)=>`src="${Gt}${Ft}"`):ut.char,Xo=ut=>{const zt={},Ft=[];Dt(ut,(vo,Xt)=>{const Vo={title:Xt,keywords:vo.keywords,char:Vt(vo),category:Co(Ie,vo.category)},$n=zt[Vo.category]!==void 0?zt[Vo.category]:[];zt[Vo.category]=$n.concat([Vo]),Ft.push(Vo)}),ze.set(zt),Ge.set(Ft)};ge.on("init",()=>{qe.load(at,Me).then(ut=>{const zt=Pt(ge);Xo(Yo(ut,zt))},ut=>{`${ut}`,ze.set({}),Ge.set([])})});const $o=ut=>ut===dt?Zo():ze.get().bind(zt=>Mo.from(zt[ut])).getOr([]),Zo=()=>Ge.get().getOr([]),Gn=()=>[dt].concat(co(ze.get().getOr({}))),Pn=()=>zn()?Promise.resolve(!0):new Promise((ut,zt)=>{let Ft=15;const vo=setInterval(()=>{zn()?(clearInterval(vo),ut(!0)):(Ft--,Ft<0&&(""+Me,clearInterval(vo),zt(!1)))},100)}),zn=()=>ze.isSet()&&Ge.isSet();return{listCategories:Gn,hasLoaded:zn,waitForLoad:Pn,listAll:Zo,listCategory:$o}},zo=(ge,Me)=>Ct(ge.title.toLowerCase(),Me)||jo(ge.keywords,at=>Ct(at.toLowerCase(),Me)),to=(ge,Me,at)=>{const ze=[],Ge=Me.toLowerCase(),Gt=at.fold(()=>ko,Vt=>Xo=>Xo>=Vt);for(let Vt=0;Vt<ge.length&&!((Me.length===0||zo(ge[Vt],Ge))&&(ze.push({value:ge[Vt].char,text:ge[Vt].title,icon:ge[Vt].char}),Gt(ze.length)));Vt++);return ze},Se="pattern",$e=(ge,Me)=>{const at={pattern:"",results:to(Me.listAll(),"",Mo.some(300))},ze=Ue(dt),Ge=Gn=>{const Pn=Gn.getData(),zn=ze.get(),ut=Me.listCategory(zn),zt=to(ut,Pn[Se],zn===dt?Mo.some(300):Mo.none());Gn.setData({results:zt})},Gt=it(Gn=>{Ge(Gn)},200),Vt={label:"Search",type:"input",name:Se},Xo={type:"collection",name:"results"},$o=()=>({title:"Emojis",size:"normal",body:{type:"tabpanel",tabs:tn(Me.listCategories(),Pn=>({title:Pn,name:Pn,items:[Vt,Xo]}))},initialData:at,onTabChange:(Pn,zn)=>{ze.set(zn.newTabName),Gt.throttle(Pn)},onChange:Gt.throttle,onAction:(Pn,zn)=>{zn.name==="results"&&(So(ge,zn.value),Pn.close())},buttons:[{type:"cancel",text:"Close",primary:!0}]}),Zo=ge.windowManager.open($o());Zo.focus(Se),Me.hasLoaded()||(Zo.block("Loading emojis..."),Me.waitForLoad().then(()=>{Zo.redial($o()),Gt.throttle(Zo),Zo.focus(Se),Zo.unblock()}).catch(Gn=>{Zo.redial({title:"Emojis",body:{type:"panel",items:[{type:"alertbanner",level:"error",icon:"warning",text:"Could not load emojis"}]},buttons:[{type:"cancel",text:"Close",primary:!0}],initialData:{pattern:"",results:[]}}),Zo.focus(Se),Zo.unblock()}))},ct=(ge,Me)=>{ge.addCommand("mceEmoticons",()=>$e(ge,Me))},gt=ge=>{ge.on("PreInit",()=>{ge.parser.addAttributeFilter("data-emoticon",Me=>{To(Me,at=>{at.attr("data-mce-resize","false"),at.attr("data-mce-placeholder","1")})})})},pe=(ge,Me)=>{ge.ui.registry.addAutocompleter("emoticons",{trigger:":",columns:"auto",minChars:2,fetch:(at,ze)=>Me.waitForLoad().then(()=>{const Ge=Me.listAll();return to(Ge,at,Mo.some(ze))}),onAction:(at,ze,Ge)=>{ge.selection.setRng(ze),ge.insertContent(Ge),at.hide()}})},Oe=ge=>Me=>{const at=()=>{Me.setEnabled(ge.selection.isEditable())};return ge.on("NodeChange",at),at(),()=>{ge.off("NodeChange",at)}},We=ge=>{const Me=()=>ge.execCommand("mceEmoticons");ge.ui.registry.addButton("emoticons",{tooltip:"Emojis",icon:"emoji",onAction:Me,onSetup:Oe(ge)}),ge.ui.registry.addMenuItem("emoticons",{text:"Emojis...",icon:"emoji",onAction:Me,onSetup:Oe(ge)})};var Fe=()=>{xo.add("emoticons",(ge,Me)=>{Mt(ge,Me);const at=Rt(ge),ze=uo(ge),Ge=lo(ge,at,ze);ct(ge,Ge),We(ge),pe(ge,Ge),gt(ge)})};Fe()})();window.tinymce.Resource.add("tinymce.plugins.emoticons",{grinning:{keywords:["face","smile","happy","joy",":D","grin"],char:"😀",fitzpatrick_scale:!1,category:"people"},grimacing:{keywords:["face","grimace","teeth"],char:"😬",fitzpatrick_scale:!1,category:"people"},grin:{keywords:["face","happy","smile","joy","kawaii"],char:"😁",fitzpatrick_scale:!1,category:"people"},joy:{keywords:["face","cry","tears","weep","happy","happytears","haha"],char:"😂",fitzpatrick_scale:!1,category:"people"},rofl:{keywords:["face","rolling","floor","laughing","lol","haha"],char:"🤣",fitzpatrick_scale:!1,category:"people"},partying:{keywords:["face","celebration","woohoo"],char:"🥳",fitzpatrick_scale:!1,category:"people"},smiley:{keywords:["face","happy","joy","haha",":D",":)","smile","funny"],char:"😃",fitzpatrick_scale:!1,category:"people"},smile:{keywords:["face","happy","joy","funny","haha","laugh","like",":D",":)"],char:"😄",fitzpatrick_scale:!1,category:"people"},sweat_smile:{keywords:["face","hot","happy","laugh","sweat","smile","relief"],char:"😅",fitzpatrick_scale:!1,category:"people"},laughing:{keywords:["happy","joy","lol","satisfied","haha","face","glad","XD","laugh"],char:"😆",fitzpatrick_scale:!1,category:"people"},innocent:{keywords:["face","angel","heaven","halo"],char:"😇",fitzpatrick_scale:!1,category:"people"},wink:{keywords:["face","happy","mischievous","secret",";)","smile","eye"],char:"😉",fitzpatrick_scale:!1,category:"people"},blush:{keywords:["face","smile","happy","flushed","crush","embarrassed","shy","joy"],char:"😊",fitzpatrick_scale:!1,category:"people"},slightly_smiling_face:{keywords:["face","smile"],char:"🙂",fitzpatrick_scale:!1,category:"people"},upside_down_face:{keywords:["face","flipped","silly","smile"],char:"🙃",fitzpatrick_scale:!1,category:"people"},relaxed:{keywords:["face","blush","massage","happiness"],char:"☺️",fitzpatrick_scale:!1,category:"people"},yum:{keywords:["happy","joy","tongue","smile","face","silly","yummy","nom","delicious","savouring"],char:"😋",fitzpatrick_scale:!1,category:"people"},relieved:{keywords:["face","relaxed","phew","massage","happiness"],char:"😌",fitzpatrick_scale:!1,category:"people"},heart_eyes:{keywords:["face","love","like","affection","valentines","infatuation","crush","heart"],char:"😍",fitzpatrick_scale:!1,category:"people"},smiling_face_with_three_hearts:{keywords:["face","love","like","affection","valentines","infatuation","crush","hearts","adore"],char:"🥰",fitzpatrick_scale:!1,category:"people"},kissing_heart:{keywords:["face","love","like","affection","valentines","infatuation","kiss"],char:"😘",fitzpatrick_scale:!1,category:"people"},kissing:{keywords:["love","like","face","3","valentines","infatuation","kiss"],char:"😗",fitzpatrick_scale:!1,category:"people"},kissing_smiling_eyes:{keywords:["face","affection","valentines","infatuation","kiss"],char:"😙",fitzpatrick_scale:!1,category:"people"},kissing_closed_eyes:{keywords:["face","love","like","affection","valentines","infatuation","kiss"],char:"😚",fitzpatrick_scale:!1,category:"people"},stuck_out_tongue_winking_eye:{keywords:["face","prank","childish","playful","mischievous","smile","wink","tongue"],char:"😜",fitzpatrick_scale:!1,category:"people"},zany:{keywords:["face","goofy","crazy"],char:"🤪",fitzpatrick_scale:!1,category:"people"},raised_eyebrow:{keywords:["face","distrust","scepticism","disapproval","disbelief","surprise"],char:"🤨",fitzpatrick_scale:!1,category:"people"},monocle:{keywords:["face","stuffy","wealthy"],char:"🧐",fitzpatrick_scale:!1,category:"people"},stuck_out_tongue_closed_eyes:{keywords:["face","prank","playful","mischievous","smile","tongue"],char:"😝",fitzpatrick_scale:!1,category:"people"},stuck_out_tongue:{keywords:["face","prank","childish","playful","mischievous","smile","tongue"],char:"😛",fitzpatrick_scale:!1,category:"people"},money_mouth_face:{keywords:["face","rich","dollar","money"],char:"🤑",fitzpatrick_scale:!1,category:"people"},nerd_face:{keywords:["face","nerdy","geek","dork"],char:"🤓",fitzpatrick_scale:!1,category:"people"},sunglasses:{keywords:["face","cool","smile","summer","beach","sunglass"],char:"😎",fitzpatrick_scale:!1,category:"people"},star_struck:{keywords:["face","smile","starry","eyes","grinning"],char:"🤩",fitzpatrick_scale:!1,category:"people"},clown_face:{keywords:["face"],char:"🤡",fitzpatrick_scale:!1,category:"people"},cowboy_hat_face:{keywords:["face","cowgirl","hat"],char:"🤠",fitzpatrick_scale:!1,category:"people"},hugs:{keywords:["face","smile","hug"],char:"🤗",fitzpatrick_scale:!1,category:"people"},smirk:{keywords:["face","smile","mean","prank","smug","sarcasm"],char:"😏",fitzpatrick_scale:!1,category:"people"},no_mouth:{keywords:["face","hellokitty"],char:"😶",fitzpatrick_scale:!1,category:"people"},neutral_face:{keywords:["indifference","meh",":|","neutral"],char:"😐",fitzpatrick_scale:!1,category:"people"},expressionless:{keywords:["face","indifferent","-_-","meh","deadpan"],char:"😑",fitzpatrick_scale:!1,category:"people"},unamused:{keywords:["indifference","bored","straight face","serious","sarcasm","unimpressed","skeptical","dubious","side_eye"],char:"😒",fitzpatrick_scale:!1,category:"people"},roll_eyes:{keywords:["face","eyeroll","frustrated"],char:"🙄",fitzpatrick_scale:!1,category:"people"},thinking:{keywords:["face","hmmm","think","consider"],char:"🤔",fitzpatrick_scale:!1,category:"people"},lying_face:{keywords:["face","lie","pinocchio"],char:"🤥",fitzpatrick_scale:!1,category:"people"},hand_over_mouth:{keywords:["face","whoops","shock","surprise"],char:"🤭",fitzpatrick_scale:!1,category:"people"},shushing:{keywords:["face","quiet","shhh"],char:"🤫",fitzpatrick_scale:!1,category:"people"},symbols_over_mouth:{keywords:["face","swearing","cursing","cussing","profanity","expletive"],char:"🤬",fitzpatrick_scale:!1,category:"people"},exploding_head:{keywords:["face","shocked","mind","blown"],char:"🤯",fitzpatrick_scale:!1,category:"people"},flushed:{keywords:["face","blush","shy","flattered"],char:"😳",fitzpatrick_scale:!1,category:"people"},disappointed:{keywords:["face","sad","upset","depressed",":("],char:"😞",fitzpatrick_scale:!1,category:"people"},worried:{keywords:["face","concern","nervous",":("],char:"😟",fitzpatrick_scale:!1,category:"people"},angry:{keywords:["mad","face","annoyed","frustrated"],char:"😠",fitzpatrick_scale:!1,category:"people"},rage:{keywords:["angry","mad","hate","despise"],char:"😡",fitzpatrick_scale:!1,category:"people"},pensive:{keywords:["face","sad","depressed","upset"],char:"😔",fitzpatrick_scale:!1,category:"people"},confused:{keywords:["face","indifference","huh","weird","hmmm",":/"],char:"😕",fitzpatrick_scale:!1,category:"people"},slightly_frowning_face:{keywords:["face","frowning","disappointed","sad","upset"],char:"🙁",fitzpatrick_scale:!1,category:"people"},frowning_face:{keywords:["face","sad","upset","frown"],char:"☹",fitzpatrick_scale:!1,category:"people"},persevere:{keywords:["face","sick","no","upset","oops"],char:"😣",fitzpatrick_scale:!1,category:"people"},confounded:{keywords:["face","confused","sick","unwell","oops",":S"],char:"😖",fitzpatrick_scale:!1,category:"people"},tired_face:{keywords:["sick","whine","upset","frustrated"],char:"😫",fitzpatrick_scale:!1,category:"people"},weary:{keywords:["face","tired","sleepy","sad","frustrated","upset"],char:"😩",fitzpatrick_scale:!1,category:"people"},pleading:{keywords:["face","begging","mercy"],char:"🥺",fitzpatrick_scale:!1,category:"people"},triumph:{keywords:["face","gas","phew","proud","pride"],char:"😤",fitzpatrick_scale:!1,category:"people"},open_mouth:{keywords:["face","surprise","impressed","wow","whoa",":O"],char:"😮",fitzpatrick_scale:!1,category:"people"},scream:{keywords:["face","munch","scared","omg"],char:"😱",fitzpatrick_scale:!1,category:"people"},fearful:{keywords:["face","scared","terrified","nervous","oops","huh"],char:"😨",fitzpatrick_scale:!1,category:"people"},cold_sweat:{keywords:["face","nervous","sweat"],char:"😰",fitzpatrick_scale:!1,category:"people"},hushed:{keywords:["face","woo","shh"],char:"😯",fitzpatrick_scale:!1,category:"people"},frowning:{keywords:["face","aw","what"],char:"😦",fitzpatrick_scale:!1,category:"people"},anguished:{keywords:["face","stunned","nervous"],char:"😧",fitzpatrick_scale:!1,category:"people"},cry:{keywords:["face","tears","sad","depressed","upset",":'("],char:"😢",fitzpatrick_scale:!1,category:"people"},disappointed_relieved:{keywords:["face","phew","sweat","nervous"],char:"😥",fitzpatrick_scale:!1,category:"people"},drooling_face:{keywords:["face"],char:"🤤",fitzpatrick_scale:!1,category:"people"},sleepy:{keywords:["face","tired","rest","nap"],char:"😪",fitzpatrick_scale:!1,category:"people"},sweat:{keywords:["face","hot","sad","tired","exercise"],char:"😓",fitzpatrick_scale:!1,category:"people"},hot:{keywords:["face","feverish","heat","red","sweating"],char:"🥵",fitzpatrick_scale:!1,category:"people"},cold:{keywords:["face","blue","freezing","frozen","frostbite","icicles"],char:"🥶",fitzpatrick_scale:!1,category:"people"},sob:{keywords:["face","cry","tears","sad","upset","depressed"],char:"😭",fitzpatrick_scale:!1,category:"people"},dizzy_face:{keywords:["spent","unconscious","xox","dizzy"],char:"😵",fitzpatrick_scale:!1,category:"people"},astonished:{keywords:["face","xox","surprised","poisoned"],char:"😲",fitzpatrick_scale:!1,category:"people"},zipper_mouth_face:{keywords:["face","sealed","zipper","secret"],char:"🤐",fitzpatrick_scale:!1,category:"people"},nauseated_face:{keywords:["face","vomit","gross","green","sick","throw up","ill"],char:"🤢",fitzpatrick_scale:!1,category:"people"},sneezing_face:{keywords:["face","gesundheit","sneeze","sick","allergy"],char:"🤧",fitzpatrick_scale:!1,category:"people"},vomiting:{keywords:["face","sick"],char:"🤮",fitzpatrick_scale:!1,category:"people"},mask:{keywords:["face","sick","ill","disease"],char:"😷",fitzpatrick_scale:!1,category:"people"},face_with_thermometer:{keywords:["sick","temperature","thermometer","cold","fever"],char:"🤒",fitzpatrick_scale:!1,category:"people"},face_with_head_bandage:{keywords:["injured","clumsy","bandage","hurt"],char:"🤕",fitzpatrick_scale:!1,category:"people"},woozy:{keywords:["face","dizzy","intoxicated","tipsy","wavy"],char:"🥴",fitzpatrick_scale:!1,category:"people"},sleeping:{keywords:["face","tired","sleepy","night","zzz"],char:"😴",fitzpatrick_scale:!1,category:"people"},zzz:{keywords:["sleepy","tired","dream"],char:"💤",fitzpatrick_scale:!1,category:"people"},poop:{keywords:["hankey","shitface","fail","turd","shit"],char:"💩",fitzpatrick_scale:!1,category:"people"},smiling_imp:{keywords:["devil","horns"],char:"😈",fitzpatrick_scale:!1,category:"people"},imp:{keywords:["devil","angry","horns"],char:"👿",fitzpatrick_scale:!1,category:"people"},japanese_ogre:{keywords:["monster","red","mask","halloween","scary","creepy","devil","demon","japanese","ogre"],char:"👹",fitzpatrick_scale:!1,category:"people"},japanese_goblin:{keywords:["red","evil","mask","monster","scary","creepy","japanese","goblin"],char:"👺",fitzpatrick_scale:!1,category:"people"},skull:{keywords:["dead","skeleton","creepy","death"],char:"💀",fitzpatrick_scale:!1,category:"people"},ghost:{keywords:["halloween","spooky","scary"],char:"👻",fitzpatrick_scale:!1,category:"people"},alien:{keywords:["UFO","paul","weird","outer_space"],char:"👽",fitzpatrick_scale:!1,category:"people"},robot:{keywords:["computer","machine","bot"],char:"🤖",fitzpatrick_scale:!1,category:"people"},smiley_cat:{keywords:["animal","cats","happy","smile"],char:"😺",fitzpatrick_scale:!1,category:"people"},smile_cat:{keywords:["animal","cats","smile"],char:"😸",fitzpatrick_scale:!1,category:"people"},joy_cat:{keywords:["animal","cats","haha","happy","tears"],char:"😹",fitzpatrick_scale:!1,category:"people"},heart_eyes_cat:{keywords:["animal","love","like","affection","cats","valentines","heart"],char:"😻",fitzpatrick_scale:!1,category:"people"},smirk_cat:{keywords:["animal","cats","smirk"],char:"😼",fitzpatrick_scale:!1,category:"people"},kissing_cat:{keywords:["animal","cats","kiss"],char:"😽",fitzpatrick_scale:!1,category:"people"},scream_cat:{keywords:["animal","cats","munch","scared","scream"],char:"🙀",fitzpatrick_scale:!1,category:"people"},crying_cat_face:{keywords:["animal","tears","weep","sad","cats","upset","cry"],char:"😿",fitzpatrick_scale:!1,category:"people"},pouting_cat:{keywords:["animal","cats"],char:"😾",fitzpatrick_scale:!1,category:"people"},palms_up:{keywords:["hands","gesture","cupped","prayer"],char:"🤲",fitzpatrick_scale:!0,category:"people"},raised_hands:{keywords:["gesture","hooray","yea","celebration","hands"],char:"🙌",fitzpatrick_scale:!0,category:"people"},clap:{keywords:["hands","praise","applause","congrats","yay"],char:"👏",fitzpatrick_scale:!0,category:"people"},wave:{keywords:["hands","gesture","goodbye","solong","farewell","hello","hi","palm"],char:"👋",fitzpatrick_scale:!0,category:"people"},call_me_hand:{keywords:["hands","gesture"],char:"🤙",fitzpatrick_scale:!0,category:"people"},"+1":{keywords:["thumbsup","yes","awesome","good","agree","accept","cool","hand","like"],char:"👍",fitzpatrick_scale:!0,category:"people"},"-1":{keywords:["thumbsdown","no","dislike","hand"],char:"👎",fitzpatrick_scale:!0,category:"people"},facepunch:{keywords:["angry","violence","fist","hit","attack","hand"],char:"👊",fitzpatrick_scale:!0,category:"people"},fist:{keywords:["fingers","hand","grasp"],char:"✊",fitzpatrick_scale:!0,category:"people"},fist_left:{keywords:["hand","fistbump"],char:"🤛",fitzpatrick_scale:!0,category:"people"},fist_right:{keywords:["hand","fistbump"],char:"🤜",fitzpatrick_scale:!0,category:"people"},v:{keywords:["fingers","ohyeah","hand","peace","victory","two"],char:"✌",fitzpatrick_scale:!0,category:"people"},ok_hand:{keywords:["fingers","limbs","perfect","ok","okay"],char:"👌",fitzpatrick_scale:!0,category:"people"},raised_hand:{keywords:["fingers","stop","highfive","palm","ban"],char:"✋",fitzpatrick_scale:!0,category:"people"},raised_back_of_hand:{keywords:["fingers","raised","backhand"],char:"🤚",fitzpatrick_scale:!0,category:"people"},open_hands:{keywords:["fingers","butterfly","hands","open"],char:"👐",fitzpatrick_scale:!0,category:"people"},muscle:{keywords:["arm","flex","hand","summer","strong","biceps"],char:"💪",fitzpatrick_scale:!0,category:"people"},pray:{keywords:["please","hope","wish","namaste","highfive"],char:"🙏",fitzpatrick_scale:!0,category:"people"},foot:{keywords:["kick","stomp"],char:"🦶",fitzpatrick_scale:!0,category:"people"},leg:{keywords:["kick","limb"],char:"🦵",fitzpatrick_scale:!0,category:"people"},handshake:{keywords:["agreement","shake"],char:"🤝",fitzpatrick_scale:!1,category:"people"},point_up:{keywords:["hand","fingers","direction","up"],char:"☝",fitzpatrick_scale:!0,category:"people"},point_up_2:{keywords:["fingers","hand","direction","up"],char:"👆",fitzpatrick_scale:!0,category:"people"},point_down:{keywords:["fingers","hand","direction","down"],char:"👇",fitzpatrick_scale:!0,category:"people"},point_left:{keywords:["direction","fingers","hand","left"],char:"👈",fitzpatrick_scale:!0,category:"people"},point_right:{keywords:["fingers","hand","direction","right"],char:"👉",fitzpatrick_scale:!0,category:"people"},fu:{keywords:["hand","fingers","rude","middle","flipping"],char:"🖕",fitzpatrick_scale:!0,category:"people"},raised_hand_with_fingers_splayed:{keywords:["hand","fingers","palm"],char:"🖐",fitzpatrick_scale:!0,category:"people"},love_you:{keywords:["hand","fingers","gesture"],char:"🤟",fitzpatrick_scale:!0,category:"people"},metal:{keywords:["hand","fingers","evil_eye","sign_of_horns","rock_on"],char:"🤘",fitzpatrick_scale:!0,category:"people"},crossed_fingers:{keywords:["good","lucky"],char:"🤞",fitzpatrick_scale:!0,category:"people"},vulcan_salute:{keywords:["hand","fingers","spock","star trek"],char:"🖖",fitzpatrick_scale:!0,category:"people"},writing_hand:{keywords:["lower_left_ballpoint_pen","stationery","write","compose"],char:"✍",fitzpatrick_scale:!0,category:"people"},selfie:{keywords:["camera","phone"],char:"🤳",fitzpatrick_scale:!0,category:"people"},nail_care:{keywords:["beauty","manicure","finger","fashion","nail"],char:"💅",fitzpatrick_scale:!0,category:"people"},lips:{keywords:["mouth","kiss"],char:"👄",fitzpatrick_scale:!1,category:"people"},tooth:{keywords:["teeth","dentist"],char:"🦷",fitzpatrick_scale:!1,category:"people"},tongue:{keywords:["mouth","playful"],char:"👅",fitzpatrick_scale:!1,category:"people"},ear:{keywords:["face","hear","sound","listen"],char:"👂",fitzpatrick_scale:!0,category:"people"},nose:{keywords:["smell","sniff"],char:"👃",fitzpatrick_scale:!0,category:"people"},eye:{keywords:["face","look","see","watch","stare"],char:"👁",fitzpatrick_scale:!1,category:"people"},eyes:{keywords:["look","watch","stalk","peek","see"],char:"👀",fitzpatrick_scale:!1,category:"people"},brain:{keywords:["smart","intelligent"],char:"🧠",fitzpatrick_scale:!1,category:"people"},bust_in_silhouette:{keywords:["user","person","human"],char:"👤",fitzpatrick_scale:!1,category:"people"},busts_in_silhouette:{keywords:["user","person","human","group","team"],char:"👥",fitzpatrick_scale:!1,category:"people"},speaking_head:{keywords:["user","person","human","sing","say","talk"],char:"🗣",fitzpatrick_scale:!1,category:"people"},baby:{keywords:["child","boy","girl","toddler"],char:"👶",fitzpatrick_scale:!0,category:"people"},child:{keywords:["gender-neutral","young"],char:"🧒",fitzpatrick_scale:!0,category:"people"},boy:{keywords:["man","male","guy","teenager"],char:"👦",fitzpatrick_scale:!0,category:"people"},girl:{keywords:["female","woman","teenager"],char:"👧",fitzpatrick_scale:!0,category:"people"},adult:{keywords:["gender-neutral","person"],char:"🧑",fitzpatrick_scale:!0,category:"people"},man:{keywords:["mustache","father","dad","guy","classy","sir","moustache"],char:"👨",fitzpatrick_scale:!0,category:"people"},woman:{keywords:["female","girls","lady"],char:"👩",fitzpatrick_scale:!0,category:"people"},blonde_woman:{keywords:["woman","female","girl","blonde","person"],char:"👱‍♀️",fitzpatrick_scale:!0,category:"people"},blonde_man:{keywords:["man","male","boy","blonde","guy","person"],char:"👱",fitzpatrick_scale:!0,category:"people"},bearded_person:{keywords:["person","bewhiskered"],char:"🧔",fitzpatrick_scale:!0,category:"people"},older_adult:{keywords:["human","elder","senior","gender-neutral"],char:"🧓",fitzpatrick_scale:!0,category:"people"},older_man:{keywords:["human","male","men","old","elder","senior"],char:"👴",fitzpatrick_scale:!0,category:"people"},older_woman:{keywords:["human","female","women","lady","old","elder","senior"],char:"👵",fitzpatrick_scale:!0,category:"people"},man_with_gua_pi_mao:{keywords:["male","boy","chinese"],char:"👲",fitzpatrick_scale:!0,category:"people"},woman_with_headscarf:{keywords:["female","hijab","mantilla","tichel"],char:"🧕",fitzpatrick_scale:!0,category:"people"},woman_with_turban:{keywords:["female","indian","hinduism","arabs","woman"],char:"👳‍♀️",fitzpatrick_scale:!0,category:"people"},man_with_turban:{keywords:["male","indian","hinduism","arabs"],char:"👳",fitzpatrick_scale:!0,category:"people"},policewoman:{keywords:["woman","police","law","legal","enforcement","arrest","911","female"],char:"👮‍♀️",fitzpatrick_scale:!0,category:"people"},policeman:{keywords:["man","police","law","legal","enforcement","arrest","911"],char:"👮",fitzpatrick_scale:!0,category:"people"},construction_worker_woman:{keywords:["female","human","wip","build","construction","worker","labor","woman"],char:"👷‍♀️",fitzpatrick_scale:!0,category:"people"},construction_worker_man:{keywords:["male","human","wip","guy","build","construction","worker","labor"],char:"👷",fitzpatrick_scale:!0,category:"people"},guardswoman:{keywords:["uk","gb","british","female","royal","woman"],char:"💂‍♀️",fitzpatrick_scale:!0,category:"people"},guardsman:{keywords:["uk","gb","british","male","guy","royal"],char:"💂",fitzpatrick_scale:!0,category:"people"},female_detective:{keywords:["human","spy","detective","female","woman"],char:"🕵️‍♀️",fitzpatrick_scale:!0,category:"people"},male_detective:{keywords:["human","spy","detective"],char:"🕵",fitzpatrick_scale:!0,category:"people"},woman_health_worker:{keywords:["doctor","nurse","therapist","healthcare","woman","human"],char:"👩‍⚕️",fitzpatrick_scale:!0,category:"people"},man_health_worker:{keywords:["doctor","nurse","therapist","healthcare","man","human"],char:"👨‍⚕️",fitzpatrick_scale:!0,category:"people"},woman_farmer:{keywords:["rancher","gardener","woman","human"],char:"👩‍🌾",fitzpatrick_scale:!0,category:"people"},man_farmer:{keywords:["rancher","gardener","man","human"],char:"👨‍🌾",fitzpatrick_scale:!0,category:"people"},woman_cook:{keywords:["chef","woman","human"],char:"👩‍🍳",fitzpatrick_scale:!0,category:"people"},man_cook:{keywords:["chef","man","human"],char:"👨‍🍳",fitzpatrick_scale:!0,category:"people"},woman_student:{keywords:["graduate","woman","human"],char:"👩‍🎓",fitzpatrick_scale:!0,category:"people"},man_student:{keywords:["graduate","man","human"],char:"👨‍🎓",fitzpatrick_scale:!0,category:"people"},woman_singer:{keywords:["rockstar","entertainer","woman","human"],char:"👩‍🎤",fitzpatrick_scale:!0,category:"people"},man_singer:{keywords:["rockstar","entertainer","man","human"],char:"👨‍🎤",fitzpatrick_scale:!0,category:"people"},woman_teacher:{keywords:["instructor","professor","woman","human"],char:"👩‍🏫",fitzpatrick_scale:!0,category:"people"},man_teacher:{keywords:["instructor","professor","man","human"],char:"👨‍🏫",fitzpatrick_scale:!0,category:"people"},woman_factory_worker:{keywords:["assembly","industrial","woman","human"],char:"👩‍🏭",fitzpatrick_scale:!0,category:"people"},man_factory_worker:{keywords:["assembly","industrial","man","human"],char:"👨‍🏭",fitzpatrick_scale:!0,category:"people"},woman_technologist:{keywords:["coder","developer","engineer","programmer","software","woman","human","laptop","computer"],char:"👩‍💻",fitzpatrick_scale:!0,category:"people"},man_technologist:{keywords:["coder","developer","engineer","programmer","software","man","human","laptop","computer"],char:"👨‍💻",fitzpatrick_scale:!0,category:"people"},woman_office_worker:{keywords:["business","manager","woman","human"],char:"👩‍💼",fitzpatrick_scale:!0,category:"people"},man_office_worker:{keywords:["business","manager","man","human"],char:"👨‍💼",fitzpatrick_scale:!0,category:"people"},woman_mechanic:{keywords:["plumber","woman","human","wrench"],char:"👩‍🔧",fitzpatrick_scale:!0,category:"people"},man_mechanic:{keywords:["plumber","man","human","wrench"],char:"👨‍🔧",fitzpatrick_scale:!0,category:"people"},woman_scientist:{keywords:["biologist","chemist","engineer","physicist","woman","human"],char:"👩‍🔬",fitzpatrick_scale:!0,category:"people"},man_scientist:{keywords:["biologist","chemist","engineer","physicist","man","human"],char:"👨‍🔬",fitzpatrick_scale:!0,category:"people"},woman_artist:{keywords:["painter","woman","human"],char:"👩‍🎨",fitzpatrick_scale:!0,category:"people"},man_artist:{keywords:["painter","man","human"],char:"👨‍🎨",fitzpatrick_scale:!0,category:"people"},woman_firefighter:{keywords:["fireman","woman","human"],char:"👩‍🚒",fitzpatrick_scale:!0,category:"people"},man_firefighter:{keywords:["fireman","man","human"],char:"👨‍🚒",fitzpatrick_scale:!0,category:"people"},woman_pilot:{keywords:["aviator","plane","woman","human"],char:"👩‍✈️",fitzpatrick_scale:!0,category:"people"},man_pilot:{keywords:["aviator","plane","man","human"],char:"👨‍✈️",fitzpatrick_scale:!0,category:"people"},woman_astronaut:{keywords:["space","rocket","woman","human"],char:"👩‍🚀",fitzpatrick_scale:!0,category:"people"},man_astronaut:{keywords:["space","rocket","man","human"],char:"👨‍🚀",fitzpatrick_scale:!0,category:"people"},woman_judge:{keywords:["justice","court","woman","human"],char:"👩‍⚖️",fitzpatrick_scale:!0,category:"people"},man_judge:{keywords:["justice","court","man","human"],char:"👨‍⚖️",fitzpatrick_scale:!0,category:"people"},woman_superhero:{keywords:["woman","female","good","heroine","superpowers"],char:"🦸‍♀️",fitzpatrick_scale:!0,category:"people"},man_superhero:{keywords:["man","male","good","hero","superpowers"],char:"🦸‍♂️",fitzpatrick_scale:!0,category:"people"},woman_supervillain:{keywords:["woman","female","evil","bad","criminal","heroine","superpowers"],char:"🦹‍♀️",fitzpatrick_scale:!0,category:"people"},man_supervillain:{keywords:["man","male","evil","bad","criminal","hero","superpowers"],char:"🦹‍♂️",fitzpatrick_scale:!0,category:"people"},mrs_claus:{keywords:["woman","female","xmas","mother christmas"],char:"🤶",fitzpatrick_scale:!0,category:"people"},santa:{keywords:["festival","man","male","xmas","father christmas"],char:"🎅",fitzpatrick_scale:!0,category:"people"},sorceress:{keywords:["woman","female","mage","witch"],char:"🧙‍♀️",fitzpatrick_scale:!0,category:"people"},wizard:{keywords:["man","male","mage","sorcerer"],char:"🧙‍♂️",fitzpatrick_scale:!0,category:"people"},woman_elf:{keywords:["woman","female"],char:"🧝‍♀️",fitzpatrick_scale:!0,category:"people"},man_elf:{keywords:["man","male"],char:"🧝‍♂️",fitzpatrick_scale:!0,category:"people"},woman_vampire:{keywords:["woman","female"],char:"🧛‍♀️",fitzpatrick_scale:!0,category:"people"},man_vampire:{keywords:["man","male","dracula"],char:"🧛‍♂️",fitzpatrick_scale:!0,category:"people"},woman_zombie:{keywords:["woman","female","undead","walking dead"],char:"🧟‍♀️",fitzpatrick_scale:!1,category:"people"},man_zombie:{keywords:["man","male","dracula","undead","walking dead"],char:"🧟‍♂️",fitzpatrick_scale:!1,category:"people"},woman_genie:{keywords:["woman","female"],char:"🧞‍♀️",fitzpatrick_scale:!1,category:"people"},man_genie:{keywords:["man","male"],char:"🧞‍♂️",fitzpatrick_scale:!1,category:"people"},mermaid:{keywords:["woman","female","merwoman","ariel"],char:"🧜‍♀️",fitzpatrick_scale:!0,category:"people"},merman:{keywords:["man","male","triton"],char:"🧜‍♂️",fitzpatrick_scale:!0,category:"people"},woman_fairy:{keywords:["woman","female"],char:"🧚‍♀️",fitzpatrick_scale:!0,category:"people"},man_fairy:{keywords:["man","male"],char:"🧚‍♂️",fitzpatrick_scale:!0,category:"people"},angel:{keywords:["heaven","wings","halo"],char:"👼",fitzpatrick_scale:!0,category:"people"},pregnant_woman:{keywords:["baby"],char:"🤰",fitzpatrick_scale:!0,category:"people"},breastfeeding:{keywords:["nursing","baby"],char:"🤱",fitzpatrick_scale:!0,category:"people"},princess:{keywords:["girl","woman","female","blond","crown","royal","queen"],char:"👸",fitzpatrick_scale:!0,category:"people"},prince:{keywords:["boy","man","male","crown","royal","king"],char:"🤴",fitzpatrick_scale:!0,category:"people"},bride_with_veil:{keywords:["couple","marriage","wedding","woman","bride"],char:"👰",fitzpatrick_scale:!0,category:"people"},man_in_tuxedo:{keywords:["couple","marriage","wedding","groom"],char:"🤵",fitzpatrick_scale:!0,category:"people"},running_woman:{keywords:["woman","walking","exercise","race","running","female"],char:"🏃‍♀️",fitzpatrick_scale:!0,category:"people"},running_man:{keywords:["man","walking","exercise","race","running"],char:"🏃",fitzpatrick_scale:!0,category:"people"},walking_woman:{keywords:["human","feet","steps","woman","female"],char:"🚶‍♀️",fitzpatrick_scale:!0,category:"people"},walking_man:{keywords:["human","feet","steps"],char:"🚶",fitzpatrick_scale:!0,category:"people"},dancer:{keywords:["female","girl","woman","fun"],char:"💃",fitzpatrick_scale:!0,category:"people"},man_dancing:{keywords:["male","boy","fun","dancer"],char:"🕺",fitzpatrick_scale:!0,category:"people"},dancing_women:{keywords:["female","bunny","women","girls"],char:"👯",fitzpatrick_scale:!1,category:"people"},dancing_men:{keywords:["male","bunny","men","boys"],char:"👯‍♂️",fitzpatrick_scale:!1,category:"people"},couple:{keywords:["pair","people","human","love","date","dating","like","affection","valentines","marriage"],char:"👫",fitzpatrick_scale:!1,category:"people"},two_men_holding_hands:{keywords:["pair","couple","love","like","bromance","friendship","people","human"],char:"👬",fitzpatrick_scale:!1,category:"people"},two_women_holding_hands:{keywords:["pair","friendship","couple","love","like","female","people","human"],char:"👭",fitzpatrick_scale:!1,category:"people"},bowing_woman:{keywords:["woman","female","girl"],char:"🙇‍♀️",fitzpatrick_scale:!0,category:"people"},bowing_man:{keywords:["man","male","boy"],char:"🙇",fitzpatrick_scale:!0,category:"people"},man_facepalming:{keywords:["man","male","boy","disbelief"],char:"🤦‍♂️",fitzpatrick_scale:!0,category:"people"},woman_facepalming:{keywords:["woman","female","girl","disbelief"],char:"🤦‍♀️",fitzpatrick_scale:!0,category:"people"},woman_shrugging:{keywords:["woman","female","girl","confused","indifferent","doubt"],char:"🤷",fitzpatrick_scale:!0,category:"people"},man_shrugging:{keywords:["man","male","boy","confused","indifferent","doubt"],char:"🤷‍♂️",fitzpatrick_scale:!0,category:"people"},tipping_hand_woman:{keywords:["female","girl","woman","human","information"],char:"💁",fitzpatrick_scale:!0,category:"people"},tipping_hand_man:{keywords:["male","boy","man","human","information"],char:"💁‍♂️",fitzpatrick_scale:!0,category:"people"},no_good_woman:{keywords:["female","girl","woman","nope"],char:"🙅",fitzpatrick_scale:!0,category:"people"},no_good_man:{keywords:["male","boy","man","nope"],char:"🙅‍♂️",fitzpatrick_scale:!0,category:"people"},ok_woman:{keywords:["women","girl","female","pink","human","woman"],char:"🙆",fitzpatrick_scale:!0,category:"people"},ok_man:{keywords:["men","boy","male","blue","human","man"],char:"🙆‍♂️",fitzpatrick_scale:!0,category:"people"},raising_hand_woman:{keywords:["female","girl","woman"],char:"🙋",fitzpatrick_scale:!0,category:"people"},raising_hand_man:{keywords:["male","boy","man"],char:"🙋‍♂️",fitzpatrick_scale:!0,category:"people"},pouting_woman:{keywords:["female","girl","woman"],char:"🙎",fitzpatrick_scale:!0,category:"people"},pouting_man:{keywords:["male","boy","man"],char:"🙎‍♂️",fitzpatrick_scale:!0,category:"people"},frowning_woman:{keywords:["female","girl","woman","sad","depressed","discouraged","unhappy"],char:"🙍",fitzpatrick_scale:!0,category:"people"},frowning_man:{keywords:["male","boy","man","sad","depressed","discouraged","unhappy"],char:"🙍‍♂️",fitzpatrick_scale:!0,category:"people"},haircut_woman:{keywords:["female","girl","woman"],char:"💇",fitzpatrick_scale:!0,category:"people"},haircut_man:{keywords:["male","boy","man"],char:"💇‍♂️",fitzpatrick_scale:!0,category:"people"},massage_woman:{keywords:["female","girl","woman","head"],char:"💆",fitzpatrick_scale:!0,category:"people"},massage_man:{keywords:["male","boy","man","head"],char:"💆‍♂️",fitzpatrick_scale:!0,category:"people"},woman_in_steamy_room:{keywords:["female","woman","spa","steamroom","sauna"],char:"🧖‍♀️",fitzpatrick_scale:!0,category:"people"},man_in_steamy_room:{keywords:["male","man","spa","steamroom","sauna"],char:"🧖‍♂️",fitzpatrick_scale:!0,category:"people"},couple_with_heart_woman_man:{keywords:["pair","love","like","affection","human","dating","valentines","marriage"],char:"💑",fitzpatrick_scale:!1,category:"people"},couple_with_heart_woman_woman:{keywords:["pair","love","like","affection","human","dating","valentines","marriage"],char:"👩‍❤️‍👩",fitzpatrick_scale:!1,category:"people"},couple_with_heart_man_man:{keywords:["pair","love","like","affection","human","dating","valentines","marriage"],char:"👨‍❤️‍👨",fitzpatrick_scale:!1,category:"people"},couplekiss_man_woman:{keywords:["pair","valentines","love","like","dating","marriage"],char:"💏",fitzpatrick_scale:!1,category:"people"},couplekiss_woman_woman:{keywords:["pair","valentines","love","like","dating","marriage"],char:"👩‍❤️‍💋‍👩",fitzpatrick_scale:!1,category:"people"},couplekiss_man_man:{keywords:["pair","valentines","love","like","dating","marriage"],char:"👨‍❤️‍💋‍👨",fitzpatrick_scale:!1,category:"people"},family_man_woman_boy:{keywords:["home","parents","child","mom","dad","father","mother","people","human"],char:"👪",fitzpatrick_scale:!1,category:"people"},family_man_woman_girl:{keywords:["home","parents","people","human","child"],char:"👨‍👩‍👧",fitzpatrick_scale:!1,category:"people"},family_man_woman_girl_boy:{keywords:["home","parents","people","human","children"],char:"👨‍👩‍👧‍👦",fitzpatrick_scale:!1,category:"people"},family_man_woman_boy_boy:{keywords:["home","parents","people","human","children"],char:"👨‍👩‍👦‍👦",fitzpatrick_scale:!1,category:"people"},family_man_woman_girl_girl:{keywords:["home","parents","people","human","children"],char:"👨‍👩‍👧‍👧",fitzpatrick_scale:!1,category:"people"},family_woman_woman_boy:{keywords:["home","parents","people","human","children"],char:"👩‍👩‍👦",fitzpatrick_scale:!1,category:"people"},family_woman_woman_girl:{keywords:["home","parents","people","human","children"],char:"👩‍👩‍👧",fitzpatrick_scale:!1,category:"people"},family_woman_woman_girl_boy:{keywords:["home","parents","people","human","children"],char:"👩‍👩‍👧‍👦",fitzpatrick_scale:!1,category:"people"},family_woman_woman_boy_boy:{keywords:["home","parents","people","human","children"],char:"👩‍👩‍👦‍👦",fitzpatrick_scale:!1,category:"people"},family_woman_woman_girl_girl:{keywords:["home","parents","people","human","children"],char:"👩‍👩‍👧‍👧",fitzpatrick_scale:!1,category:"people"},family_man_man_boy:{keywords:["home","parents","people","human","children"],char:"👨‍👨‍👦",fitzpatrick_scale:!1,category:"people"},family_man_man_girl:{keywords:["home","parents","people","human","children"],char:"👨‍👨‍👧",fitzpatrick_scale:!1,category:"people"},family_man_man_girl_boy:{keywords:["home","parents","people","human","children"],char:"👨‍👨‍👧‍👦",fitzpatrick_scale:!1,category:"people"},family_man_man_boy_boy:{keywords:["home","parents","people","human","children"],char:"👨‍👨‍👦‍👦",fitzpatrick_scale:!1,category:"people"},family_man_man_girl_girl:{keywords:["home","parents","people","human","children"],char:"👨‍👨‍👧‍👧",fitzpatrick_scale:!1,category:"people"},family_woman_boy:{keywords:["home","parent","people","human","child"],char:"👩‍👦",fitzpatrick_scale:!1,category:"people"},family_woman_girl:{keywords:["home","parent","people","human","child"],char:"👩‍👧",fitzpatrick_scale:!1,category:"people"},family_woman_girl_boy:{keywords:["home","parent","people","human","children"],char:"👩‍👧‍👦",fitzpatrick_scale:!1,category:"people"},family_woman_boy_boy:{keywords:["home","parent","people","human","children"],char:"👩‍👦‍👦",fitzpatrick_scale:!1,category:"people"},family_woman_girl_girl:{keywords:["home","parent","people","human","children"],char:"👩‍👧‍👧",fitzpatrick_scale:!1,category:"people"},family_man_boy:{keywords:["home","parent","people","human","child"],char:"👨‍👦",fitzpatrick_scale:!1,category:"people"},family_man_girl:{keywords:["home","parent","people","human","child"],char:"👨‍👧",fitzpatrick_scale:!1,category:"people"},family_man_girl_boy:{keywords:["home","parent","people","human","children"],char:"👨‍👧‍👦",fitzpatrick_scale:!1,category:"people"},family_man_boy_boy:{keywords:["home","parent","people","human","children"],char:"👨‍👦‍👦",fitzpatrick_scale:!1,category:"people"},family_man_girl_girl:{keywords:["home","parent","people","human","children"],char:"👨‍👧‍👧",fitzpatrick_scale:!1,category:"people"},yarn:{keywords:["ball","crochet","knit"],char:"🧶",fitzpatrick_scale:!1,category:"people"},thread:{keywords:["needle","sewing","spool","string"],char:"🧵",fitzpatrick_scale:!1,category:"people"},coat:{keywords:["jacket"],char:"🧥",fitzpatrick_scale:!1,category:"people"},labcoat:{keywords:["doctor","experiment","scientist","chemist"],char:"🥼",fitzpatrick_scale:!1,category:"people"},womans_clothes:{keywords:["fashion","shopping_bags","female"],char:"👚",fitzpatrick_scale:!1,category:"people"},tshirt:{keywords:["fashion","cloth","casual","shirt","tee"],char:"👕",fitzpatrick_scale:!1,category:"people"},jeans:{keywords:["fashion","shopping"],char:"👖",fitzpatrick_scale:!1,category:"people"},necktie:{keywords:["shirt","suitup","formal","fashion","cloth","business"],char:"👔",fitzpatrick_scale:!1,category:"people"},dress:{keywords:["clothes","fashion","shopping"],char:"👗",fitzpatrick_scale:!1,category:"people"},bikini:{keywords:["swimming","female","woman","girl","fashion","beach","summer"],char:"👙",fitzpatrick_scale:!1,category:"people"},kimono:{keywords:["dress","fashion","women","female","japanese"],char:"👘",fitzpatrick_scale:!1,category:"people"},lipstick:{keywords:["female","girl","fashion","woman"],char:"💄",fitzpatrick_scale:!1,category:"people"},kiss:{keywords:["face","lips","love","like","affection","valentines"],char:"💋",fitzpatrick_scale:!1,category:"people"},footprints:{keywords:["feet","tracking","walking","beach"],char:"👣",fitzpatrick_scale:!1,category:"people"},flat_shoe:{keywords:["ballet","slip-on","slipper"],char:"🥿",fitzpatrick_scale:!1,category:"people"},high_heel:{keywords:["fashion","shoes","female","pumps","stiletto"],char:"👠",fitzpatrick_scale:!1,category:"people"},sandal:{keywords:["shoes","fashion","flip flops"],char:"👡",fitzpatrick_scale:!1,category:"people"},boot:{keywords:["shoes","fashion"],char:"👢",fitzpatrick_scale:!1,category:"people"},mans_shoe:{keywords:["fashion","male"],char:"👞",fitzpatrick_scale:!1,category:"people"},athletic_shoe:{keywords:["shoes","sports","sneakers"],char:"👟",fitzpatrick_scale:!1,category:"people"},hiking_boot:{keywords:["backpacking","camping","hiking"],char:"🥾",fitzpatrick_scale:!1,category:"people"},socks:{keywords:["stockings","clothes"],char:"🧦",fitzpatrick_scale:!1,category:"people"},gloves:{keywords:["hands","winter","clothes"],char:"🧤",fitzpatrick_scale:!1,category:"people"},scarf:{keywords:["neck","winter","clothes"],char:"🧣",fitzpatrick_scale:!1,category:"people"},womans_hat:{keywords:["fashion","accessories","female","lady","spring"],char:"👒",fitzpatrick_scale:!1,category:"people"},tophat:{keywords:["magic","gentleman","classy","circus"],char:"🎩",fitzpatrick_scale:!1,category:"people"},billed_hat:{keywords:["cap","baseball"],char:"🧢",fitzpatrick_scale:!1,category:"people"},rescue_worker_helmet:{keywords:["construction","build"],char:"⛑",fitzpatrick_scale:!1,category:"people"},mortar_board:{keywords:["school","college","degree","university","graduation","cap","hat","legal","learn","education"],char:"🎓",fitzpatrick_scale:!1,category:"people"},crown:{keywords:["king","kod","leader","royalty","lord"],char:"👑",fitzpatrick_scale:!1,category:"people"},school_satchel:{keywords:["student","education","bag","backpack"],char:"🎒",fitzpatrick_scale:!1,category:"people"},luggage:{keywords:["packing","travel"],char:"🧳",fitzpatrick_scale:!1,category:"people"},pouch:{keywords:["bag","accessories","shopping"],char:"👝",fitzpatrick_scale:!1,category:"people"},purse:{keywords:["fashion","accessories","money","sales","shopping"],char:"👛",fitzpatrick_scale:!1,category:"people"},handbag:{keywords:["fashion","accessory","accessories","shopping"],char:"👜",fitzpatrick_scale:!1,category:"people"},briefcase:{keywords:["business","documents","work","law","legal","job","career"],char:"💼",fitzpatrick_scale:!1,category:"people"},eyeglasses:{keywords:["fashion","accessories","eyesight","nerdy","dork","geek"],char:"👓",fitzpatrick_scale:!1,category:"people"},dark_sunglasses:{keywords:["face","cool","accessories"],char:"🕶",fitzpatrick_scale:!1,category:"people"},goggles:{keywords:["eyes","protection","safety"],char:"🥽",fitzpatrick_scale:!1,category:"people"},ring:{keywords:["wedding","propose","marriage","valentines","diamond","fashion","jewelry","gem","engagement"],char:"💍",fitzpatrick_scale:!1,category:"people"},closed_umbrella:{keywords:["weather","rain","drizzle"],char:"🌂",fitzpatrick_scale:!1,category:"people"},dog:{keywords:["animal","friend","nature","woof","puppy","pet","faithful"],char:"🐶",fitzpatrick_scale:!1,category:"animals_and_nature"},cat:{keywords:["animal","meow","nature","pet","kitten"],char:"🐱",fitzpatrick_scale:!1,category:"animals_and_nature"},mouse:{keywords:["animal","nature","cheese_wedge","rodent"],char:"🐭",fitzpatrick_scale:!1,category:"animals_and_nature"},hamster:{keywords:["animal","nature"],char:"🐹",fitzpatrick_scale:!1,category:"animals_and_nature"},rabbit:{keywords:["animal","nature","pet","spring","magic","bunny"],char:"🐰",fitzpatrick_scale:!1,category:"animals_and_nature"},fox_face:{keywords:["animal","nature","face"],char:"🦊",fitzpatrick_scale:!1,category:"animals_and_nature"},bear:{keywords:["animal","nature","wild"],char:"🐻",fitzpatrick_scale:!1,category:"animals_and_nature"},panda_face:{keywords:["animal","nature","panda"],char:"🐼",fitzpatrick_scale:!1,category:"animals_and_nature"},koala:{keywords:["animal","nature"],char:"🐨",fitzpatrick_scale:!1,category:"animals_and_nature"},tiger:{keywords:["animal","cat","danger","wild","nature","roar"],char:"🐯",fitzpatrick_scale:!1,category:"animals_and_nature"},lion:{keywords:["animal","nature"],char:"🦁",fitzpatrick_scale:!1,category:"animals_and_nature"},cow:{keywords:["beef","ox","animal","nature","moo","milk"],char:"🐮",fitzpatrick_scale:!1,category:"animals_and_nature"},pig:{keywords:["animal","oink","nature"],char:"🐷",fitzpatrick_scale:!1,category:"animals_and_nature"},pig_nose:{keywords:["animal","oink"],char:"🐽",fitzpatrick_scale:!1,category:"animals_and_nature"},frog:{keywords:["animal","nature","croak","toad"],char:"🐸",fitzpatrick_scale:!1,category:"animals_and_nature"},squid:{keywords:["animal","nature","ocean","sea"],char:"🦑",fitzpatrick_scale:!1,category:"animals_and_nature"},octopus:{keywords:["animal","creature","ocean","sea","nature","beach"],char:"🐙",fitzpatrick_scale:!1,category:"animals_and_nature"},shrimp:{keywords:["animal","ocean","nature","seafood"],char:"🦐",fitzpatrick_scale:!1,category:"animals_and_nature"},monkey_face:{keywords:["animal","nature","circus"],char:"🐵",fitzpatrick_scale:!1,category:"animals_and_nature"},gorilla:{keywords:["animal","nature","circus"],char:"🦍",fitzpatrick_scale:!1,category:"animals_and_nature"},see_no_evil:{keywords:["monkey","animal","nature","haha"],char:"🙈",fitzpatrick_scale:!1,category:"animals_and_nature"},hear_no_evil:{keywords:["animal","monkey","nature"],char:"🙉",fitzpatrick_scale:!1,category:"animals_and_nature"},speak_no_evil:{keywords:["monkey","animal","nature","omg"],char:"🙊",fitzpatrick_scale:!1,category:"animals_and_nature"},monkey:{keywords:["animal","nature","banana","circus"],char:"🐒",fitzpatrick_scale:!1,category:"animals_and_nature"},chicken:{keywords:["animal","cluck","nature","bird"],char:"🐔",fitzpatrick_scale:!1,category:"animals_and_nature"},penguin:{keywords:["animal","nature"],char:"🐧",fitzpatrick_scale:!1,category:"animals_and_nature"},bird:{keywords:["animal","nature","fly","tweet","spring"],char:"🐦",fitzpatrick_scale:!1,category:"animals_and_nature"},baby_chick:{keywords:["animal","chicken","bird"],char:"🐤",fitzpatrick_scale:!1,category:"animals_and_nature"},hatching_chick:{keywords:["animal","chicken","egg","born","baby","bird"],char:"🐣",fitzpatrick_scale:!1,category:"animals_and_nature"},hatched_chick:{keywords:["animal","chicken","baby","bird"],char:"🐥",fitzpatrick_scale:!1,category:"animals_and_nature"},duck:{keywords:["animal","nature","bird","mallard"],char:"🦆",fitzpatrick_scale:!1,category:"animals_and_nature"},eagle:{keywords:["animal","nature","bird"],char:"🦅",fitzpatrick_scale:!1,category:"animals_and_nature"},owl:{keywords:["animal","nature","bird","hoot"],char:"🦉",fitzpatrick_scale:!1,category:"animals_and_nature"},bat:{keywords:["animal","nature","blind","vampire"],char:"🦇",fitzpatrick_scale:!1,category:"animals_and_nature"},wolf:{keywords:["animal","nature","wild"],char:"🐺",fitzpatrick_scale:!1,category:"animals_and_nature"},boar:{keywords:["animal","nature"],char:"🐗",fitzpatrick_scale:!1,category:"animals_and_nature"},horse:{keywords:["animal","brown","nature"],char:"🐴",fitzpatrick_scale:!1,category:"animals_and_nature"},unicorn:{keywords:["animal","nature","mystical"],char:"🦄",fitzpatrick_scale:!1,category:"animals_and_nature"},honeybee:{keywords:["animal","insect","nature","bug","spring","honey"],char:"🐝",fitzpatrick_scale:!1,category:"animals_and_nature"},bug:{keywords:["animal","insect","nature","worm"],char:"🐛",fitzpatrick_scale:!1,category:"animals_and_nature"},butterfly:{keywords:["animal","insect","nature","caterpillar"],char:"🦋",fitzpatrick_scale:!1,category:"animals_and_nature"},snail:{keywords:["slow","animal","shell"],char:"🐌",fitzpatrick_scale:!1,category:"animals_and_nature"},beetle:{keywords:["animal","insect","nature","ladybug"],char:"🐞",fitzpatrick_scale:!1,category:"animals_and_nature"},ant:{keywords:["animal","insect","nature","bug"],char:"🐜",fitzpatrick_scale:!1,category:"animals_and_nature"},grasshopper:{keywords:["animal","cricket","chirp"],char:"🦗",fitzpatrick_scale:!1,category:"animals_and_nature"},spider:{keywords:["animal","arachnid"],char:"🕷",fitzpatrick_scale:!1,category:"animals_and_nature"},scorpion:{keywords:["animal","arachnid"],char:"🦂",fitzpatrick_scale:!1,category:"animals_and_nature"},crab:{keywords:["animal","crustacean"],char:"🦀",fitzpatrick_scale:!1,category:"animals_and_nature"},snake:{keywords:["animal","evil","nature","hiss","python"],char:"🐍",fitzpatrick_scale:!1,category:"animals_and_nature"},lizard:{keywords:["animal","nature","reptile"],char:"🦎",fitzpatrick_scale:!1,category:"animals_and_nature"},"t-rex":{keywords:["animal","nature","dinosaur","tyrannosaurus","extinct"],char:"🦖",fitzpatrick_scale:!1,category:"animals_and_nature"},sauropod:{keywords:["animal","nature","dinosaur","brachiosaurus","brontosaurus","diplodocus","extinct"],char:"🦕",fitzpatrick_scale:!1,category:"animals_and_nature"},turtle:{keywords:["animal","slow","nature","tortoise"],char:"🐢",fitzpatrick_scale:!1,category:"animals_and_nature"},tropical_fish:{keywords:["animal","swim","ocean","beach","nemo"],char:"🐠",fitzpatrick_scale:!1,category:"animals_and_nature"},fish:{keywords:["animal","food","nature"],char:"🐟",fitzpatrick_scale:!1,category:"animals_and_nature"},blowfish:{keywords:["animal","nature","food","sea","ocean"],char:"🐡",fitzpatrick_scale:!1,category:"animals_and_nature"},dolphin:{keywords:["animal","nature","fish","sea","ocean","flipper","fins","beach"],char:"🐬",fitzpatrick_scale:!1,category:"animals_and_nature"},shark:{keywords:["animal","nature","fish","sea","ocean","jaws","fins","beach"],char:"🦈",fitzpatrick_scale:!1,category:"animals_and_nature"},whale:{keywords:["animal","nature","sea","ocean"],char:"🐳",fitzpatrick_scale:!1,category:"animals_and_nature"},whale2:{keywords:["animal","nature","sea","ocean"],char:"🐋",fitzpatrick_scale:!1,category:"animals_and_nature"},crocodile:{keywords:["animal","nature","reptile","lizard","alligator"],char:"🐊",fitzpatrick_scale:!1,category:"animals_and_nature"},leopard:{keywords:["animal","nature"],char:"🐆",fitzpatrick_scale:!1,category:"animals_and_nature"},zebra:{keywords:["animal","nature","stripes","safari"],char:"🦓",fitzpatrick_scale:!1,category:"animals_and_nature"},tiger2:{keywords:["animal","nature","roar"],char:"🐅",fitzpatrick_scale:!1,category:"animals_and_nature"},water_buffalo:{keywords:["animal","nature","ox","cow"],char:"🐃",fitzpatrick_scale:!1,category:"animals_and_nature"},ox:{keywords:["animal","cow","beef"],char:"🐂",fitzpatrick_scale:!1,category:"animals_and_nature"},cow2:{keywords:["beef","ox","animal","nature","moo","milk"],char:"🐄",fitzpatrick_scale:!1,category:"animals_and_nature"},deer:{keywords:["animal","nature","horns","venison"],char:"🦌",fitzpatrick_scale:!1,category:"animals_and_nature"},dromedary_camel:{keywords:["animal","hot","desert","hump"],char:"🐪",fitzpatrick_scale:!1,category:"animals_and_nature"},camel:{keywords:["animal","nature","hot","desert","hump"],char:"🐫",fitzpatrick_scale:!1,category:"animals_and_nature"},giraffe:{keywords:["animal","nature","spots","safari"],char:"🦒",fitzpatrick_scale:!1,category:"animals_and_nature"},elephant:{keywords:["animal","nature","nose","th","circus"],char:"🐘",fitzpatrick_scale:!1,category:"animals_and_nature"},rhinoceros:{keywords:["animal","nature","horn"],char:"🦏",fitzpatrick_scale:!1,category:"animals_and_nature"},goat:{keywords:["animal","nature"],char:"🐐",fitzpatrick_scale:!1,category:"animals_and_nature"},ram:{keywords:["animal","sheep","nature"],char:"🐏",fitzpatrick_scale:!1,category:"animals_and_nature"},sheep:{keywords:["animal","nature","wool","shipit"],char:"🐑",fitzpatrick_scale:!1,category:"animals_and_nature"},racehorse:{keywords:["animal","gamble","luck"],char:"🐎",fitzpatrick_scale:!1,category:"animals_and_nature"},pig2:{keywords:["animal","nature"],char:"🐖",fitzpatrick_scale:!1,category:"animals_and_nature"},rat:{keywords:["animal","mouse","rodent"],char:"🐀",fitzpatrick_scale:!1,category:"animals_and_nature"},mouse2:{keywords:["animal","nature","rodent"],char:"🐁",fitzpatrick_scale:!1,category:"animals_and_nature"},rooster:{keywords:["animal","nature","chicken"],char:"🐓",fitzpatrick_scale:!1,category:"animals_and_nature"},turkey:{keywords:["animal","bird"],char:"🦃",fitzpatrick_scale:!1,category:"animals_and_nature"},dove:{keywords:["animal","bird"],char:"🕊",fitzpatrick_scale:!1,category:"animals_and_nature"},dog2:{keywords:["animal","nature","friend","doge","pet","faithful"],char:"🐕",fitzpatrick_scale:!1,category:"animals_and_nature"},poodle:{keywords:["dog","animal","101","nature","pet"],char:"🐩",fitzpatrick_scale:!1,category:"animals_and_nature"},cat2:{keywords:["animal","meow","pet","cats"],char:"🐈",fitzpatrick_scale:!1,category:"animals_and_nature"},rabbit2:{keywords:["animal","nature","pet","magic","spring"],char:"🐇",fitzpatrick_scale:!1,category:"animals_and_nature"},chipmunk:{keywords:["animal","nature","rodent","squirrel"],char:"🐿",fitzpatrick_scale:!1,category:"animals_and_nature"},hedgehog:{keywords:["animal","nature","spiny"],char:"🦔",fitzpatrick_scale:!1,category:"animals_and_nature"},raccoon:{keywords:["animal","nature"],char:"🦝",fitzpatrick_scale:!1,category:"animals_and_nature"},llama:{keywords:["animal","nature","alpaca"],char:"🦙",fitzpatrick_scale:!1,category:"animals_and_nature"},hippopotamus:{keywords:["animal","nature"],char:"🦛",fitzpatrick_scale:!1,category:"animals_and_nature"},kangaroo:{keywords:["animal","nature","australia","joey","hop","marsupial"],char:"🦘",fitzpatrick_scale:!1,category:"animals_and_nature"},badger:{keywords:["animal","nature","honey"],char:"🦡",fitzpatrick_scale:!1,category:"animals_and_nature"},swan:{keywords:["animal","nature","bird"],char:"🦢",fitzpatrick_scale:!1,category:"animals_and_nature"},peacock:{keywords:["animal","nature","peahen","bird"],char:"🦚",fitzpatrick_scale:!1,category:"animals_and_nature"},parrot:{keywords:["animal","nature","bird","pirate","talk"],char:"🦜",fitzpatrick_scale:!1,category:"animals_and_nature"},lobster:{keywords:["animal","nature","bisque","claws","seafood"],char:"🦞",fitzpatrick_scale:!1,category:"animals_and_nature"},mosquito:{keywords:["animal","nature","insect","malaria"],char:"🦟",fitzpatrick_scale:!1,category:"animals_and_nature"},paw_prints:{keywords:["animal","tracking","footprints","dog","cat","pet","feet"],char:"🐾",fitzpatrick_scale:!1,category:"animals_and_nature"},dragon:{keywords:["animal","myth","nature","chinese","green"],char:"🐉",fitzpatrick_scale:!1,category:"animals_and_nature"},dragon_face:{keywords:["animal","myth","nature","chinese","green"],char:"🐲",fitzpatrick_scale:!1,category:"animals_and_nature"},cactus:{keywords:["vegetable","plant","nature"],char:"🌵",fitzpatrick_scale:!1,category:"animals_and_nature"},christmas_tree:{keywords:["festival","vacation","december","xmas","celebration"],char:"🎄",fitzpatrick_scale:!1,category:"animals_and_nature"},evergreen_tree:{keywords:["plant","nature"],char:"🌲",fitzpatrick_scale:!1,category:"animals_and_nature"},deciduous_tree:{keywords:["plant","nature"],char:"🌳",fitzpatrick_scale:!1,category:"animals_and_nature"},palm_tree:{keywords:["plant","vegetable","nature","summer","beach","mojito","tropical"],char:"🌴",fitzpatrick_scale:!1,category:"animals_and_nature"},seedling:{keywords:["plant","nature","grass","lawn","spring"],char:"🌱",fitzpatrick_scale:!1,category:"animals_and_nature"},herb:{keywords:["vegetable","plant","medicine","weed","grass","lawn"],char:"🌿",fitzpatrick_scale:!1,category:"animals_and_nature"},shamrock:{keywords:["vegetable","plant","nature","irish","clover"],char:"☘",fitzpatrick_scale:!1,category:"animals_and_nature"},four_leaf_clover:{keywords:["vegetable","plant","nature","lucky","irish"],char:"🍀",fitzpatrick_scale:!1,category:"animals_and_nature"},bamboo:{keywords:["plant","nature","vegetable","panda","pine_decoration"],char:"🎍",fitzpatrick_scale:!1,category:"animals_and_nature"},tanabata_tree:{keywords:["plant","nature","branch","summer"],char:"🎋",fitzpatrick_scale:!1,category:"animals_and_nature"},leaves:{keywords:["nature","plant","tree","vegetable","grass","lawn","spring"],char:"🍃",fitzpatrick_scale:!1,category:"animals_and_nature"},fallen_leaf:{keywords:["nature","plant","vegetable","leaves"],char:"🍂",fitzpatrick_scale:!1,category:"animals_and_nature"},maple_leaf:{keywords:["nature","plant","vegetable","ca","fall"],char:"🍁",fitzpatrick_scale:!1,category:"animals_and_nature"},ear_of_rice:{keywords:["nature","plant"],char:"🌾",fitzpatrick_scale:!1,category:"animals_and_nature"},hibiscus:{keywords:["plant","vegetable","flowers","beach"],char:"🌺",fitzpatrick_scale:!1,category:"animals_and_nature"},sunflower:{keywords:["nature","plant","fall"],char:"🌻",fitzpatrick_scale:!1,category:"animals_and_nature"},rose:{keywords:["flowers","valentines","love","spring"],char:"🌹",fitzpatrick_scale:!1,category:"animals_and_nature"},wilted_flower:{keywords:["plant","nature","flower"],char:"🥀",fitzpatrick_scale:!1,category:"animals_and_nature"},tulip:{keywords:["flowers","plant","nature","summer","spring"],char:"🌷",fitzpatrick_scale:!1,category:"animals_and_nature"},blossom:{keywords:["nature","flowers","yellow"],char:"🌼",fitzpatrick_scale:!1,category:"animals_and_nature"},cherry_blossom:{keywords:["nature","plant","spring","flower"],char:"🌸",fitzpatrick_scale:!1,category:"animals_and_nature"},bouquet:{keywords:["flowers","nature","spring"],char:"💐",fitzpatrick_scale:!1,category:"animals_and_nature"},mushroom:{keywords:["plant","vegetable"],char:"🍄",fitzpatrick_scale:!1,category:"animals_and_nature"},chestnut:{keywords:["food","squirrel"],char:"🌰",fitzpatrick_scale:!1,category:"animals_and_nature"},jack_o_lantern:{keywords:["halloween","light","pumpkin","creepy","fall"],char:"🎃",fitzpatrick_scale:!1,category:"animals_and_nature"},shell:{keywords:["nature","sea","beach"],char:"🐚",fitzpatrick_scale:!1,category:"animals_and_nature"},spider_web:{keywords:["animal","insect","arachnid","silk"],char:"🕸",fitzpatrick_scale:!1,category:"animals_and_nature"},earth_americas:{keywords:["globe","world","USA","international"],char:"🌎",fitzpatrick_scale:!1,category:"animals_and_nature"},earth_africa:{keywords:["globe","world","international"],char:"🌍",fitzpatrick_scale:!1,category:"animals_and_nature"},earth_asia:{keywords:["globe","world","east","international"],char:"🌏",fitzpatrick_scale:!1,category:"animals_and_nature"},full_moon:{keywords:["nature","yellow","twilight","planet","space","night","evening","sleep"],char:"🌕",fitzpatrick_scale:!1,category:"animals_and_nature"},waning_gibbous_moon:{keywords:["nature","twilight","planet","space","night","evening","sleep","waxing_gibbous_moon"],char:"🌖",fitzpatrick_scale:!1,category:"animals_and_nature"},last_quarter_moon:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"🌗",fitzpatrick_scale:!1,category:"animals_and_nature"},waning_crescent_moon:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"🌘",fitzpatrick_scale:!1,category:"animals_and_nature"},new_moon:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"🌑",fitzpatrick_scale:!1,category:"animals_and_nature"},waxing_crescent_moon:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"🌒",fitzpatrick_scale:!1,category:"animals_and_nature"},first_quarter_moon:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"🌓",fitzpatrick_scale:!1,category:"animals_and_nature"},waxing_gibbous_moon:{keywords:["nature","night","sky","gray","twilight","planet","space","evening","sleep"],char:"🌔",fitzpatrick_scale:!1,category:"animals_and_nature"},new_moon_with_face:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"🌚",fitzpatrick_scale:!1,category:"animals_and_nature"},full_moon_with_face:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"🌝",fitzpatrick_scale:!1,category:"animals_and_nature"},first_quarter_moon_with_face:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"🌛",fitzpatrick_scale:!1,category:"animals_and_nature"},last_quarter_moon_with_face:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"🌜",fitzpatrick_scale:!1,category:"animals_and_nature"},sun_with_face:{keywords:["nature","morning","sky"],char:"🌞",fitzpatrick_scale:!1,category:"animals_and_nature"},crescent_moon:{keywords:["night","sleep","sky","evening","magic"],char:"🌙",fitzpatrick_scale:!1,category:"animals_and_nature"},star:{keywords:["night","yellow"],char:"⭐",fitzpatrick_scale:!1,category:"animals_and_nature"},star2:{keywords:["night","sparkle","awesome","good","magic"],char:"🌟",fitzpatrick_scale:!1,category:"animals_and_nature"},dizzy:{keywords:["star","sparkle","shoot","magic"],char:"💫",fitzpatrick_scale:!1,category:"animals_and_nature"},sparkles:{keywords:["stars","shine","shiny","cool","awesome","good","magic"],char:"✨",fitzpatrick_scale:!1,category:"animals_and_nature"},comet:{keywords:["space"],char:"☄",fitzpatrick_scale:!1,category:"animals_and_nature"},sunny:{keywords:["weather","nature","brightness","summer","beach","spring"],char:"☀️",fitzpatrick_scale:!1,category:"animals_and_nature"},sun_behind_small_cloud:{keywords:["weather"],char:"🌤",fitzpatrick_scale:!1,category:"animals_and_nature"},partly_sunny:{keywords:["weather","nature","cloudy","morning","fall","spring"],char:"⛅",fitzpatrick_scale:!1,category:"animals_and_nature"},sun_behind_large_cloud:{keywords:["weather"],char:"🌥",fitzpatrick_scale:!1,category:"animals_and_nature"},sun_behind_rain_cloud:{keywords:["weather"],char:"🌦",fitzpatrick_scale:!1,category:"animals_and_nature"},cloud:{keywords:["weather","sky"],char:"☁️",fitzpatrick_scale:!1,category:"animals_and_nature"},cloud_with_rain:{keywords:["weather"],char:"🌧",fitzpatrick_scale:!1,category:"animals_and_nature"},cloud_with_lightning_and_rain:{keywords:["weather","lightning"],char:"⛈",fitzpatrick_scale:!1,category:"animals_and_nature"},cloud_with_lightning:{keywords:["weather","thunder"],char:"🌩",fitzpatrick_scale:!1,category:"animals_and_nature"},zap:{keywords:["thunder","weather","lightning bolt","fast"],char:"⚡",fitzpatrick_scale:!1,category:"animals_and_nature"},fire:{keywords:["hot","cook","flame"],char:"🔥",fitzpatrick_scale:!1,category:"animals_and_nature"},boom:{keywords:["bomb","explode","explosion","collision","blown"],char:"💥",fitzpatrick_scale:!1,category:"animals_and_nature"},snowflake:{keywords:["winter","season","cold","weather","christmas","xmas"],char:"❄️",fitzpatrick_scale:!1,category:"animals_and_nature"},cloud_with_snow:{keywords:["weather"],char:"🌨",fitzpatrick_scale:!1,category:"animals_and_nature"},snowman:{keywords:["winter","season","cold","weather","christmas","xmas","frozen","without_snow"],char:"⛄",fitzpatrick_scale:!1,category:"animals_and_nature"},snowman_with_snow:{keywords:["winter","season","cold","weather","christmas","xmas","frozen"],char:"☃",fitzpatrick_scale:!1,category:"animals_and_nature"},wind_face:{keywords:["gust","air"],char:"🌬",fitzpatrick_scale:!1,category:"animals_and_nature"},dash:{keywords:["wind","air","fast","shoo","fart","smoke","puff"],char:"💨",fitzpatrick_scale:!1,category:"animals_and_nature"},tornado:{keywords:["weather","cyclone","twister"],char:"🌪",fitzpatrick_scale:!1,category:"animals_and_nature"},fog:{keywords:["weather"],char:"🌫",fitzpatrick_scale:!1,category:"animals_and_nature"},open_umbrella:{keywords:["weather","spring"],char:"☂",fitzpatrick_scale:!1,category:"animals_and_nature"},umbrella:{keywords:["rainy","weather","spring"],char:"☔",fitzpatrick_scale:!1,category:"animals_and_nature"},droplet:{keywords:["water","drip","faucet","spring"],char:"💧",fitzpatrick_scale:!1,category:"animals_and_nature"},sweat_drops:{keywords:["water","drip","oops"],char:"💦",fitzpatrick_scale:!1,category:"animals_and_nature"},ocean:{keywords:["sea","water","wave","nature","tsunami","disaster"],char:"🌊",fitzpatrick_scale:!1,category:"animals_and_nature"},green_apple:{keywords:["fruit","nature"],char:"🍏",fitzpatrick_scale:!1,category:"food_and_drink"},apple:{keywords:["fruit","mac","school"],char:"🍎",fitzpatrick_scale:!1,category:"food_and_drink"},pear:{keywords:["fruit","nature","food"],char:"🍐",fitzpatrick_scale:!1,category:"food_and_drink"},tangerine:{keywords:["food","fruit","nature","orange"],char:"🍊",fitzpatrick_scale:!1,category:"food_and_drink"},lemon:{keywords:["fruit","nature"],char:"🍋",fitzpatrick_scale:!1,category:"food_and_drink"},banana:{keywords:["fruit","food","monkey"],char:"🍌",fitzpatrick_scale:!1,category:"food_and_drink"},watermelon:{keywords:["fruit","food","picnic","summer"],char:"🍉",fitzpatrick_scale:!1,category:"food_and_drink"},grapes:{keywords:["fruit","food","wine"],char:"🍇",fitzpatrick_scale:!1,category:"food_and_drink"},strawberry:{keywords:["fruit","food","nature"],char:"🍓",fitzpatrick_scale:!1,category:"food_and_drink"},melon:{keywords:["fruit","nature","food"],char:"🍈",fitzpatrick_scale:!1,category:"food_and_drink"},cherries:{keywords:["food","fruit"],char:"🍒",fitzpatrick_scale:!1,category:"food_and_drink"},peach:{keywords:["fruit","nature","food"],char:"🍑",fitzpatrick_scale:!1,category:"food_and_drink"},pineapple:{keywords:["fruit","nature","food"],char:"🍍",fitzpatrick_scale:!1,category:"food_and_drink"},coconut:{keywords:["fruit","nature","food","palm"],char:"🥥",fitzpatrick_scale:!1,category:"food_and_drink"},kiwi_fruit:{keywords:["fruit","food"],char:"🥝",fitzpatrick_scale:!1,category:"food_and_drink"},mango:{keywords:["fruit","food","tropical"],char:"🥭",fitzpatrick_scale:!1,category:"food_and_drink"},avocado:{keywords:["fruit","food"],char:"🥑",fitzpatrick_scale:!1,category:"food_and_drink"},broccoli:{keywords:["fruit","food","vegetable"],char:"🥦",fitzpatrick_scale:!1,category:"food_and_drink"},tomato:{keywords:["fruit","vegetable","nature","food"],char:"🍅",fitzpatrick_scale:!1,category:"food_and_drink"},eggplant:{keywords:["vegetable","nature","food","aubergine"],char:"🍆",fitzpatrick_scale:!1,category:"food_and_drink"},cucumber:{keywords:["fruit","food","pickle"],char:"🥒",fitzpatrick_scale:!1,category:"food_and_drink"},carrot:{keywords:["vegetable","food","orange"],char:"🥕",fitzpatrick_scale:!1,category:"food_and_drink"},hot_pepper:{keywords:["food","spicy","chilli","chili"],char:"🌶",fitzpatrick_scale:!1,category:"food_and_drink"},potato:{keywords:["food","tuber","vegatable","starch"],char:"🥔",fitzpatrick_scale:!1,category:"food_and_drink"},corn:{keywords:["food","vegetable","plant"],char:"🌽",fitzpatrick_scale:!1,category:"food_and_drink"},leafy_greens:{keywords:["food","vegetable","plant","bok choy","cabbage","kale","lettuce"],char:"🥬",fitzpatrick_scale:!1,category:"food_and_drink"},sweet_potato:{keywords:["food","nature"],char:"🍠",fitzpatrick_scale:!1,category:"food_and_drink"},peanuts:{keywords:["food","nut"],char:"🥜",fitzpatrick_scale:!1,category:"food_and_drink"},honey_pot:{keywords:["bees","sweet","kitchen"],char:"🍯",fitzpatrick_scale:!1,category:"food_and_drink"},croissant:{keywords:["food","bread","french"],char:"🥐",fitzpatrick_scale:!1,category:"food_and_drink"},bread:{keywords:["food","wheat","breakfast","toast"],char:"🍞",fitzpatrick_scale:!1,category:"food_and_drink"},baguette_bread:{keywords:["food","bread","french"],char:"🥖",fitzpatrick_scale:!1,category:"food_and_drink"},bagel:{keywords:["food","bread","bakery","schmear"],char:"🥯",fitzpatrick_scale:!1,category:"food_and_drink"},pretzel:{keywords:["food","bread","twisted"],char:"🥨",fitzpatrick_scale:!1,category:"food_and_drink"},cheese:{keywords:["food","chadder"],char:"🧀",fitzpatrick_scale:!1,category:"food_and_drink"},egg:{keywords:["food","chicken","breakfast"],char:"🥚",fitzpatrick_scale:!1,category:"food_and_drink"},bacon:{keywords:["food","breakfast","pork","pig","meat"],char:"🥓",fitzpatrick_scale:!1,category:"food_and_drink"},steak:{keywords:["food","cow","meat","cut","chop","lambchop","porkchop"],char:"🥩",fitzpatrick_scale:!1,category:"food_and_drink"},pancakes:{keywords:["food","breakfast","flapjacks","hotcakes"],char:"🥞",fitzpatrick_scale:!1,category:"food_and_drink"},poultry_leg:{keywords:["food","meat","drumstick","bird","chicken","turkey"],char:"🍗",fitzpatrick_scale:!1,category:"food_and_drink"},meat_on_bone:{keywords:["good","food","drumstick"],char:"🍖",fitzpatrick_scale:!1,category:"food_and_drink"},bone:{keywords:["skeleton"],char:"🦴",fitzpatrick_scale:!1,category:"food_and_drink"},fried_shrimp:{keywords:["food","animal","appetizer","summer"],char:"🍤",fitzpatrick_scale:!1,category:"food_and_drink"},fried_egg:{keywords:["food","breakfast","kitchen","egg"],char:"🍳",fitzpatrick_scale:!1,category:"food_and_drink"},hamburger:{keywords:["meat","fast food","beef","cheeseburger","mcdonalds","burger king"],char:"🍔",fitzpatrick_scale:!1,category:"food_and_drink"},fries:{keywords:["chips","snack","fast food"],char:"🍟",fitzpatrick_scale:!1,category:"food_and_drink"},stuffed_flatbread:{keywords:["food","flatbread","stuffed","gyro"],char:"🥙",fitzpatrick_scale:!1,category:"food_and_drink"},hotdog:{keywords:["food","frankfurter"],char:"🌭",fitzpatrick_scale:!1,category:"food_and_drink"},pizza:{keywords:["food","party"],char:"🍕",fitzpatrick_scale:!1,category:"food_and_drink"},sandwich:{keywords:["food","lunch","bread"],char:"🥪",fitzpatrick_scale:!1,category:"food_and_drink"},canned_food:{keywords:["food","soup"],char:"🥫",fitzpatrick_scale:!1,category:"food_and_drink"},spaghetti:{keywords:["food","italian","noodle"],char:"🍝",fitzpatrick_scale:!1,category:"food_and_drink"},taco:{keywords:["food","mexican"],char:"🌮",fitzpatrick_scale:!1,category:"food_and_drink"},burrito:{keywords:["food","mexican"],char:"🌯",fitzpatrick_scale:!1,category:"food_and_drink"},green_salad:{keywords:["food","healthy","lettuce"],char:"🥗",fitzpatrick_scale:!1,category:"food_and_drink"},shallow_pan_of_food:{keywords:["food","cooking","casserole","paella"],char:"🥘",fitzpatrick_scale:!1,category:"food_and_drink"},ramen:{keywords:["food","japanese","noodle","chopsticks"],char:"🍜",fitzpatrick_scale:!1,category:"food_and_drink"},stew:{keywords:["food","meat","soup"],char:"🍲",fitzpatrick_scale:!1,category:"food_and_drink"},fish_cake:{keywords:["food","japan","sea","beach","narutomaki","pink","swirl","kamaboko","surimi","ramen"],char:"🍥",fitzpatrick_scale:!1,category:"food_and_drink"},fortune_cookie:{keywords:["food","prophecy"],char:"🥠",fitzpatrick_scale:!1,category:"food_and_drink"},sushi:{keywords:["food","fish","japanese","rice"],char:"🍣",fitzpatrick_scale:!1,category:"food_and_drink"},bento:{keywords:["food","japanese","box"],char:"🍱",fitzpatrick_scale:!1,category:"food_and_drink"},curry:{keywords:["food","spicy","hot","indian"],char:"🍛",fitzpatrick_scale:!1,category:"food_and_drink"},rice_ball:{keywords:["food","japanese"],char:"🍙",fitzpatrick_scale:!1,category:"food_and_drink"},rice:{keywords:["food","china","asian"],char:"🍚",fitzpatrick_scale:!1,category:"food_and_drink"},rice_cracker:{keywords:["food","japanese"],char:"🍘",fitzpatrick_scale:!1,category:"food_and_drink"},oden:{keywords:["food","japanese"],char:"🍢",fitzpatrick_scale:!1,category:"food_and_drink"},dango:{keywords:["food","dessert","sweet","japanese","barbecue","meat"],char:"🍡",fitzpatrick_scale:!1,category:"food_and_drink"},shaved_ice:{keywords:["hot","dessert","summer"],char:"🍧",fitzpatrick_scale:!1,category:"food_and_drink"},ice_cream:{keywords:["food","hot","dessert"],char:"🍨",fitzpatrick_scale:!1,category:"food_and_drink"},icecream:{keywords:["food","hot","dessert","summer"],char:"🍦",fitzpatrick_scale:!1,category:"food_and_drink"},pie:{keywords:["food","dessert","pastry"],char:"🥧",fitzpatrick_scale:!1,category:"food_and_drink"},cake:{keywords:["food","dessert"],char:"🍰",fitzpatrick_scale:!1,category:"food_and_drink"},cupcake:{keywords:["food","dessert","bakery","sweet"],char:"🧁",fitzpatrick_scale:!1,category:"food_and_drink"},moon_cake:{keywords:["food","autumn"],char:"🥮",fitzpatrick_scale:!1,category:"food_and_drink"},birthday:{keywords:["food","dessert","cake"],char:"🎂",fitzpatrick_scale:!1,category:"food_and_drink"},custard:{keywords:["dessert","food"],char:"🍮",fitzpatrick_scale:!1,category:"food_and_drink"},candy:{keywords:["snack","dessert","sweet","lolly"],char:"🍬",fitzpatrick_scale:!1,category:"food_and_drink"},lollipop:{keywords:["food","snack","candy","sweet"],char:"🍭",fitzpatrick_scale:!1,category:"food_and_drink"},chocolate_bar:{keywords:["food","snack","dessert","sweet"],char:"🍫",fitzpatrick_scale:!1,category:"food_and_drink"},popcorn:{keywords:["food","movie theater","films","snack"],char:"🍿",fitzpatrick_scale:!1,category:"food_and_drink"},dumpling:{keywords:["food","empanada","pierogi","potsticker"],char:"🥟",fitzpatrick_scale:!1,category:"food_and_drink"},doughnut:{keywords:["food","dessert","snack","sweet","donut"],char:"🍩",fitzpatrick_scale:!1,category:"food_and_drink"},cookie:{keywords:["food","snack","oreo","chocolate","sweet","dessert"],char:"🍪",fitzpatrick_scale:!1,category:"food_and_drink"},milk_glass:{keywords:["beverage","drink","cow"],char:"🥛",fitzpatrick_scale:!1,category:"food_and_drink"},beer:{keywords:["relax","beverage","drink","drunk","party","pub","summer","alcohol","booze"],char:"🍺",fitzpatrick_scale:!1,category:"food_and_drink"},beers:{keywords:["relax","beverage","drink","drunk","party","pub","summer","alcohol","booze"],char:"🍻",fitzpatrick_scale:!1,category:"food_and_drink"},clinking_glasses:{keywords:["beverage","drink","party","alcohol","celebrate","cheers","wine","champagne","toast"],char:"🥂",fitzpatrick_scale:!1,category:"food_and_drink"},wine_glass:{keywords:["drink","beverage","drunk","alcohol","booze"],char:"🍷",fitzpatrick_scale:!1,category:"food_and_drink"},tumbler_glass:{keywords:["drink","beverage","drunk","alcohol","liquor","booze","bourbon","scotch","whisky","glass","shot"],char:"🥃",fitzpatrick_scale:!1,category:"food_and_drink"},cocktail:{keywords:["drink","drunk","alcohol","beverage","booze","mojito"],char:"🍸",fitzpatrick_scale:!1,category:"food_and_drink"},tropical_drink:{keywords:["beverage","cocktail","summer","beach","alcohol","booze","mojito"],char:"🍹",fitzpatrick_scale:!1,category:"food_and_drink"},champagne:{keywords:["drink","wine","bottle","celebration"],char:"🍾",fitzpatrick_scale:!1,category:"food_and_drink"},sake:{keywords:["wine","drink","drunk","beverage","japanese","alcohol","booze"],char:"🍶",fitzpatrick_scale:!1,category:"food_and_drink"},tea:{keywords:["drink","bowl","breakfast","green","british"],char:"🍵",fitzpatrick_scale:!1,category:"food_and_drink"},cup_with_straw:{keywords:["drink","soda"],char:"🥤",fitzpatrick_scale:!1,category:"food_and_drink"},coffee:{keywords:["beverage","caffeine","latte","espresso"],char:"☕",fitzpatrick_scale:!1,category:"food_and_drink"},baby_bottle:{keywords:["food","container","milk"],char:"🍼",fitzpatrick_scale:!1,category:"food_and_drink"},salt:{keywords:["condiment","shaker"],char:"🧂",fitzpatrick_scale:!1,category:"food_and_drink"},spoon:{keywords:["cutlery","kitchen","tableware"],char:"🥄",fitzpatrick_scale:!1,category:"food_and_drink"},fork_and_knife:{keywords:["cutlery","kitchen"],char:"🍴",fitzpatrick_scale:!1,category:"food_and_drink"},plate_with_cutlery:{keywords:["food","eat","meal","lunch","dinner","restaurant"],char:"🍽",fitzpatrick_scale:!1,category:"food_and_drink"},bowl_with_spoon:{keywords:["food","breakfast","cereal","oatmeal","porridge"],char:"🥣",fitzpatrick_scale:!1,category:"food_and_drink"},takeout_box:{keywords:["food","leftovers"],char:"🥡",fitzpatrick_scale:!1,category:"food_and_drink"},chopsticks:{keywords:["food"],char:"🥢",fitzpatrick_scale:!1,category:"food_and_drink"},soccer:{keywords:["sports","football"],char:"⚽",fitzpatrick_scale:!1,category:"activity"},basketball:{keywords:["sports","balls","NBA"],char:"🏀",fitzpatrick_scale:!1,category:"activity"},football:{keywords:["sports","balls","NFL"],char:"🏈",fitzpatrick_scale:!1,category:"activity"},baseball:{keywords:["sports","balls"],char:"⚾",fitzpatrick_scale:!1,category:"activity"},softball:{keywords:["sports","balls"],char:"🥎",fitzpatrick_scale:!1,category:"activity"},tennis:{keywords:["sports","balls","green"],char:"🎾",fitzpatrick_scale:!1,category:"activity"},volleyball:{keywords:["sports","balls"],char:"🏐",fitzpatrick_scale:!1,category:"activity"},rugby_football:{keywords:["sports","team"],char:"🏉",fitzpatrick_scale:!1,category:"activity"},flying_disc:{keywords:["sports","frisbee","ultimate"],char:"🥏",fitzpatrick_scale:!1,category:"activity"},"8ball":{keywords:["pool","hobby","game","luck","magic"],char:"🎱",fitzpatrick_scale:!1,category:"activity"},golf:{keywords:["sports","business","flag","hole","summer"],char:"⛳",fitzpatrick_scale:!1,category:"activity"},golfing_woman:{keywords:["sports","business","woman","female"],char:"🏌️‍♀️",fitzpatrick_scale:!1,category:"activity"},golfing_man:{keywords:["sports","business"],char:"🏌",fitzpatrick_scale:!0,category:"activity"},ping_pong:{keywords:["sports","pingpong"],char:"🏓",fitzpatrick_scale:!1,category:"activity"},badminton:{keywords:["sports"],char:"🏸",fitzpatrick_scale:!1,category:"activity"},goal_net:{keywords:["sports"],char:"🥅",fitzpatrick_scale:!1,category:"activity"},ice_hockey:{keywords:["sports"],char:"🏒",fitzpatrick_scale:!1,category:"activity"},field_hockey:{keywords:["sports"],char:"🏑",fitzpatrick_scale:!1,category:"activity"},lacrosse:{keywords:["sports","ball","stick"],char:"🥍",fitzpatrick_scale:!1,category:"activity"},cricket:{keywords:["sports"],char:"🏏",fitzpatrick_scale:!1,category:"activity"},ski:{keywords:["sports","winter","cold","snow"],char:"🎿",fitzpatrick_scale:!1,category:"activity"},skier:{keywords:["sports","winter","snow"],char:"⛷",fitzpatrick_scale:!1,category:"activity"},snowboarder:{keywords:["sports","winter"],char:"🏂",fitzpatrick_scale:!0,category:"activity"},person_fencing:{keywords:["sports","fencing","sword"],char:"🤺",fitzpatrick_scale:!1,category:"activity"},women_wrestling:{keywords:["sports","wrestlers"],char:"🤼‍♀️",fitzpatrick_scale:!1,category:"activity"},men_wrestling:{keywords:["sports","wrestlers"],char:"🤼‍♂️",fitzpatrick_scale:!1,category:"activity"},woman_cartwheeling:{keywords:["gymnastics"],char:"🤸‍♀️",fitzpatrick_scale:!0,category:"activity"},man_cartwheeling:{keywords:["gymnastics"],char:"🤸‍♂️",fitzpatrick_scale:!0,category:"activity"},woman_playing_handball:{keywords:["sports"],char:"🤾‍♀️",fitzpatrick_scale:!0,category:"activity"},man_playing_handball:{keywords:["sports"],char:"🤾‍♂️",fitzpatrick_scale:!0,category:"activity"},ice_skate:{keywords:["sports"],char:"⛸",fitzpatrick_scale:!1,category:"activity"},curling_stone:{keywords:["sports"],char:"🥌",fitzpatrick_scale:!1,category:"activity"},skateboard:{keywords:["board"],char:"🛹",fitzpatrick_scale:!1,category:"activity"},sled:{keywords:["sleigh","luge","toboggan"],char:"🛷",fitzpatrick_scale:!1,category:"activity"},bow_and_arrow:{keywords:["sports"],char:"🏹",fitzpatrick_scale:!1,category:"activity"},fishing_pole_and_fish:{keywords:["food","hobby","summer"],char:"🎣",fitzpatrick_scale:!1,category:"activity"},boxing_glove:{keywords:["sports","fighting"],char:"🥊",fitzpatrick_scale:!1,category:"activity"},martial_arts_uniform:{keywords:["judo","karate","taekwondo"],char:"🥋",fitzpatrick_scale:!1,category:"activity"},rowing_woman:{keywords:["sports","hobby","water","ship","woman","female"],char:"🚣‍♀️",fitzpatrick_scale:!0,category:"activity"},rowing_man:{keywords:["sports","hobby","water","ship"],char:"🚣",fitzpatrick_scale:!0,category:"activity"},climbing_woman:{keywords:["sports","hobby","woman","female","rock"],char:"🧗‍♀️",fitzpatrick_scale:!0,category:"activity"},climbing_man:{keywords:["sports","hobby","man","male","rock"],char:"🧗‍♂️",fitzpatrick_scale:!0,category:"activity"},swimming_woman:{keywords:["sports","exercise","human","athlete","water","summer","woman","female"],char:"🏊‍♀️",fitzpatrick_scale:!0,category:"activity"},swimming_man:{keywords:["sports","exercise","human","athlete","water","summer"],char:"🏊",fitzpatrick_scale:!0,category:"activity"},woman_playing_water_polo:{keywords:["sports","pool"],char:"🤽‍♀️",fitzpatrick_scale:!0,category:"activity"},man_playing_water_polo:{keywords:["sports","pool"],char:"🤽‍♂️",fitzpatrick_scale:!0,category:"activity"},woman_in_lotus_position:{keywords:["woman","female","meditation","yoga","serenity","zen","mindfulness"],char:"🧘‍♀️",fitzpatrick_scale:!0,category:"activity"},man_in_lotus_position:{keywords:["man","male","meditation","yoga","serenity","zen","mindfulness"],char:"🧘‍♂️",fitzpatrick_scale:!0,category:"activity"},surfing_woman:{keywords:["sports","ocean","sea","summer","beach","woman","female"],char:"🏄‍♀️",fitzpatrick_scale:!0,category:"activity"},surfing_man:{keywords:["sports","ocean","sea","summer","beach"],char:"🏄",fitzpatrick_scale:!0,category:"activity"},bath:{keywords:["clean","shower","bathroom"],char:"🛀",fitzpatrick_scale:!0,category:"activity"},basketball_woman:{keywords:["sports","human","woman","female"],char:"⛹️‍♀️",fitzpatrick_scale:!0,category:"activity"},basketball_man:{keywords:["sports","human"],char:"⛹",fitzpatrick_scale:!0,category:"activity"},weight_lifting_woman:{keywords:["sports","training","exercise","woman","female"],char:"🏋️‍♀️",fitzpatrick_scale:!0,category:"activity"},weight_lifting_man:{keywords:["sports","training","exercise"],char:"🏋",fitzpatrick_scale:!0,category:"activity"},biking_woman:{keywords:["sports","bike","exercise","hipster","woman","female"],char:"🚴‍♀️",fitzpatrick_scale:!0,category:"activity"},biking_man:{keywords:["sports","bike","exercise","hipster"],char:"🚴",fitzpatrick_scale:!0,category:"activity"},mountain_biking_woman:{keywords:["transportation","sports","human","race","bike","woman","female"],char:"🚵‍♀️",fitzpatrick_scale:!0,category:"activity"},mountain_biking_man:{keywords:["transportation","sports","human","race","bike"],char:"🚵",fitzpatrick_scale:!0,category:"activity"},horse_racing:{keywords:["animal","betting","competition","gambling","luck"],char:"🏇",fitzpatrick_scale:!0,category:"activity"},business_suit_levitating:{keywords:["suit","business","levitate","hover","jump"],char:"🕴",fitzpatrick_scale:!0,category:"activity"},trophy:{keywords:["win","award","contest","place","ftw","ceremony"],char:"🏆",fitzpatrick_scale:!1,category:"activity"},running_shirt_with_sash:{keywords:["play","pageant"],char:"🎽",fitzpatrick_scale:!1,category:"activity"},medal_sports:{keywords:["award","winning"],char:"🏅",fitzpatrick_scale:!1,category:"activity"},medal_military:{keywords:["award","winning","army"],char:"🎖",fitzpatrick_scale:!1,category:"activity"},"1st_place_medal":{keywords:["award","winning","first"],char:"🥇",fitzpatrick_scale:!1,category:"activity"},"2nd_place_medal":{keywords:["award","second"],char:"🥈",fitzpatrick_scale:!1,category:"activity"},"3rd_place_medal":{keywords:["award","third"],char:"🥉",fitzpatrick_scale:!1,category:"activity"},reminder_ribbon:{keywords:["sports","cause","support","awareness"],char:"🎗",fitzpatrick_scale:!1,category:"activity"},rosette:{keywords:["flower","decoration","military"],char:"🏵",fitzpatrick_scale:!1,category:"activity"},ticket:{keywords:["event","concert","pass"],char:"🎫",fitzpatrick_scale:!1,category:"activity"},tickets:{keywords:["sports","concert","entrance"],char:"🎟",fitzpatrick_scale:!1,category:"activity"},performing_arts:{keywords:["acting","theater","drama"],char:"🎭",fitzpatrick_scale:!1,category:"activity"},art:{keywords:["design","paint","draw","colors"],char:"🎨",fitzpatrick_scale:!1,category:"activity"},circus_tent:{keywords:["festival","carnival","party"],char:"🎪",fitzpatrick_scale:!1,category:"activity"},woman_juggling:{keywords:["juggle","balance","skill","multitask"],char:"🤹‍♀️",fitzpatrick_scale:!0,category:"activity"},man_juggling:{keywords:["juggle","balance","skill","multitask"],char:"🤹‍♂️",fitzpatrick_scale:!0,category:"activity"},microphone:{keywords:["sound","music","PA","sing","talkshow"],char:"🎤",fitzpatrick_scale:!1,category:"activity"},headphones:{keywords:["music","score","gadgets"],char:"🎧",fitzpatrick_scale:!1,category:"activity"},musical_score:{keywords:["treble","clef","compose"],char:"🎼",fitzpatrick_scale:!1,category:"activity"},musical_keyboard:{keywords:["piano","instrument","compose"],char:"🎹",fitzpatrick_scale:!1,category:"activity"},drum:{keywords:["music","instrument","drumsticks","snare"],char:"🥁",fitzpatrick_scale:!1,category:"activity"},saxophone:{keywords:["music","instrument","jazz","blues"],char:"🎷",fitzpatrick_scale:!1,category:"activity"},trumpet:{keywords:["music","brass"],char:"🎺",fitzpatrick_scale:!1,category:"activity"},guitar:{keywords:["music","instrument"],char:"🎸",fitzpatrick_scale:!1,category:"activity"},violin:{keywords:["music","instrument","orchestra","symphony"],char:"🎻",fitzpatrick_scale:!1,category:"activity"},clapper:{keywords:["movie","film","record"],char:"🎬",fitzpatrick_scale:!1,category:"activity"},video_game:{keywords:["play","console","PS4","controller"],char:"🎮",fitzpatrick_scale:!1,category:"activity"},space_invader:{keywords:["game","arcade","play"],char:"👾",fitzpatrick_scale:!1,category:"activity"},dart:{keywords:["game","play","bar","target","bullseye"],char:"🎯",fitzpatrick_scale:!1,category:"activity"},game_die:{keywords:["dice","random","tabletop","play","luck"],char:"🎲",fitzpatrick_scale:!1,category:"activity"},chess_pawn:{keywords:["expendable"],char:"♟",fitzpatrick_scale:!1,category:"activity"},slot_machine:{keywords:["bet","gamble","vegas","fruit machine","luck","casino"],char:"🎰",fitzpatrick_scale:!1,category:"activity"},jigsaw:{keywords:["interlocking","puzzle","piece"],char:"🧩",fitzpatrick_scale:!1,category:"activity"},bowling:{keywords:["sports","fun","play"],char:"🎳",fitzpatrick_scale:!1,category:"activity"},red_car:{keywords:["red","transportation","vehicle"],char:"🚗",fitzpatrick_scale:!1,category:"travel_and_places"},taxi:{keywords:["uber","vehicle","cars","transportation"],char:"🚕",fitzpatrick_scale:!1,category:"travel_and_places"},blue_car:{keywords:["transportation","vehicle"],char:"🚙",fitzpatrick_scale:!1,category:"travel_and_places"},bus:{keywords:["car","vehicle","transportation"],char:"🚌",fitzpatrick_scale:!1,category:"travel_and_places"},trolleybus:{keywords:["bart","transportation","vehicle"],char:"🚎",fitzpatrick_scale:!1,category:"travel_and_places"},racing_car:{keywords:["sports","race","fast","formula","f1"],char:"🏎",fitzpatrick_scale:!1,category:"travel_and_places"},police_car:{keywords:["vehicle","cars","transportation","law","legal","enforcement"],char:"🚓",fitzpatrick_scale:!1,category:"travel_and_places"},ambulance:{keywords:["health","911","hospital"],char:"🚑",fitzpatrick_scale:!1,category:"travel_and_places"},fire_engine:{keywords:["transportation","cars","vehicle"],char:"🚒",fitzpatrick_scale:!1,category:"travel_and_places"},minibus:{keywords:["vehicle","car","transportation"],char:"🚐",fitzpatrick_scale:!1,category:"travel_and_places"},truck:{keywords:["cars","transportation"],char:"🚚",fitzpatrick_scale:!1,category:"travel_and_places"},articulated_lorry:{keywords:["vehicle","cars","transportation","express"],char:"🚛",fitzpatrick_scale:!1,category:"travel_and_places"},tractor:{keywords:["vehicle","car","farming","agriculture"],char:"🚜",fitzpatrick_scale:!1,category:"travel_and_places"},kick_scooter:{keywords:["vehicle","kick","razor"],char:"🛴",fitzpatrick_scale:!1,category:"travel_and_places"},motorcycle:{keywords:["race","sports","fast"],char:"🏍",fitzpatrick_scale:!1,category:"travel_and_places"},bike:{keywords:["sports","bicycle","exercise","hipster"],char:"🚲",fitzpatrick_scale:!1,category:"travel_and_places"},motor_scooter:{keywords:["vehicle","vespa","sasha"],char:"🛵",fitzpatrick_scale:!1,category:"travel_and_places"},rotating_light:{keywords:["police","ambulance","911","emergency","alert","error","pinged","law","legal"],char:"🚨",fitzpatrick_scale:!1,category:"travel_and_places"},oncoming_police_car:{keywords:["vehicle","law","legal","enforcement","911"],char:"🚔",fitzpatrick_scale:!1,category:"travel_and_places"},oncoming_bus:{keywords:["vehicle","transportation"],char:"🚍",fitzpatrick_scale:!1,category:"travel_and_places"},oncoming_automobile:{keywords:["car","vehicle","transportation"],char:"🚘",fitzpatrick_scale:!1,category:"travel_and_places"},oncoming_taxi:{keywords:["vehicle","cars","uber"],char:"🚖",fitzpatrick_scale:!1,category:"travel_and_places"},aerial_tramway:{keywords:["transportation","vehicle","ski"],char:"🚡",fitzpatrick_scale:!1,category:"travel_and_places"},mountain_cableway:{keywords:["transportation","vehicle","ski"],char:"🚠",fitzpatrick_scale:!1,category:"travel_and_places"},suspension_railway:{keywords:["vehicle","transportation"],char:"🚟",fitzpatrick_scale:!1,category:"travel_and_places"},railway_car:{keywords:["transportation","vehicle"],char:"🚃",fitzpatrick_scale:!1,category:"travel_and_places"},train:{keywords:["transportation","vehicle","carriage","public","travel"],char:"🚋",fitzpatrick_scale:!1,category:"travel_and_places"},monorail:{keywords:["transportation","vehicle"],char:"🚝",fitzpatrick_scale:!1,category:"travel_and_places"},bullettrain_side:{keywords:["transportation","vehicle"],char:"🚄",fitzpatrick_scale:!1,category:"travel_and_places"},bullettrain_front:{keywords:["transportation","vehicle","speed","fast","public","travel"],char:"🚅",fitzpatrick_scale:!1,category:"travel_and_places"},light_rail:{keywords:["transportation","vehicle"],char:"🚈",fitzpatrick_scale:!1,category:"travel_and_places"},mountain_railway:{keywords:["transportation","vehicle"],char:"🚞",fitzpatrick_scale:!1,category:"travel_and_places"},steam_locomotive:{keywords:["transportation","vehicle","train"],char:"🚂",fitzpatrick_scale:!1,category:"travel_and_places"},train2:{keywords:["transportation","vehicle"],char:"🚆",fitzpatrick_scale:!1,category:"travel_and_places"},metro:{keywords:["transportation","blue-square","mrt","underground","tube"],char:"🚇",fitzpatrick_scale:!1,category:"travel_and_places"},tram:{keywords:["transportation","vehicle"],char:"🚊",fitzpatrick_scale:!1,category:"travel_and_places"},station:{keywords:["transportation","vehicle","public"],char:"🚉",fitzpatrick_scale:!1,category:"travel_and_places"},flying_saucer:{keywords:["transportation","vehicle","ufo"],char:"🛸",fitzpatrick_scale:!1,category:"travel_and_places"},helicopter:{keywords:["transportation","vehicle","fly"],char:"🚁",fitzpatrick_scale:!1,category:"travel_and_places"},small_airplane:{keywords:["flight","transportation","fly","vehicle"],char:"🛩",fitzpatrick_scale:!1,category:"travel_and_places"},airplane:{keywords:["vehicle","transportation","flight","fly"],char:"✈️",fitzpatrick_scale:!1,category:"travel_and_places"},flight_departure:{keywords:["airport","flight","landing"],char:"🛫",fitzpatrick_scale:!1,category:"travel_and_places"},flight_arrival:{keywords:["airport","flight","boarding"],char:"🛬",fitzpatrick_scale:!1,category:"travel_and_places"},sailboat:{keywords:["ship","summer","transportation","water","sailing"],char:"⛵",fitzpatrick_scale:!1,category:"travel_and_places"},motor_boat:{keywords:["ship"],char:"🛥",fitzpatrick_scale:!1,category:"travel_and_places"},speedboat:{keywords:["ship","transportation","vehicle","summer"],char:"🚤",fitzpatrick_scale:!1,category:"travel_and_places"},ferry:{keywords:["boat","ship","yacht"],char:"⛴",fitzpatrick_scale:!1,category:"travel_and_places"},passenger_ship:{keywords:["yacht","cruise","ferry"],char:"🛳",fitzpatrick_scale:!1,category:"travel_and_places"},rocket:{keywords:["launch","ship","staffmode","NASA","outer space","outer_space","fly"],char:"🚀",fitzpatrick_scale:!1,category:"travel_and_places"},artificial_satellite:{keywords:["communication","gps","orbit","spaceflight","NASA","ISS"],char:"🛰",fitzpatrick_scale:!1,category:"travel_and_places"},seat:{keywords:["sit","airplane","transport","bus","flight","fly"],char:"💺",fitzpatrick_scale:!1,category:"travel_and_places"},canoe:{keywords:["boat","paddle","water","ship"],char:"🛶",fitzpatrick_scale:!1,category:"travel_and_places"},anchor:{keywords:["ship","ferry","sea","boat"],char:"⚓",fitzpatrick_scale:!1,category:"travel_and_places"},construction:{keywords:["wip","progress","caution","warning"],char:"🚧",fitzpatrick_scale:!1,category:"travel_and_places"},fuelpump:{keywords:["gas station","petroleum"],char:"⛽",fitzpatrick_scale:!1,category:"travel_and_places"},busstop:{keywords:["transportation","wait"],char:"🚏",fitzpatrick_scale:!1,category:"travel_and_places"},vertical_traffic_light:{keywords:["transportation","driving"],char:"🚦",fitzpatrick_scale:!1,category:"travel_and_places"},traffic_light:{keywords:["transportation","signal"],char:"🚥",fitzpatrick_scale:!1,category:"travel_and_places"},checkered_flag:{keywords:["contest","finishline","race","gokart"],char:"🏁",fitzpatrick_scale:!1,category:"travel_and_places"},ship:{keywords:["transportation","titanic","deploy"],char:"🚢",fitzpatrick_scale:!1,category:"travel_and_places"},ferris_wheel:{keywords:["photo","carnival","londoneye"],char:"🎡",fitzpatrick_scale:!1,category:"travel_and_places"},roller_coaster:{keywords:["carnival","playground","photo","fun"],char:"🎢",fitzpatrick_scale:!1,category:"travel_and_places"},carousel_horse:{keywords:["photo","carnival"],char:"🎠",fitzpatrick_scale:!1,category:"travel_and_places"},building_construction:{keywords:["wip","working","progress"],char:"🏗",fitzpatrick_scale:!1,category:"travel_and_places"},foggy:{keywords:["photo","mountain"],char:"🌁",fitzpatrick_scale:!1,category:"travel_and_places"},tokyo_tower:{keywords:["photo","japanese"],char:"🗼",fitzpatrick_scale:!1,category:"travel_and_places"},factory:{keywords:["building","industry","pollution","smoke"],char:"🏭",fitzpatrick_scale:!1,category:"travel_and_places"},fountain:{keywords:["photo","summer","water","fresh"],char:"⛲",fitzpatrick_scale:!1,category:"travel_and_places"},rice_scene:{keywords:["photo","japan","asia","tsukimi"],char:"🎑",fitzpatrick_scale:!1,category:"travel_and_places"},mountain:{keywords:["photo","nature","environment"],char:"⛰",fitzpatrick_scale:!1,category:"travel_and_places"},mountain_snow:{keywords:["photo","nature","environment","winter","cold"],char:"🏔",fitzpatrick_scale:!1,category:"travel_and_places"},mount_fuji:{keywords:["photo","mountain","nature","japanese"],char:"🗻",fitzpatrick_scale:!1,category:"travel_and_places"},volcano:{keywords:["photo","nature","disaster"],char:"🌋",fitzpatrick_scale:!1,category:"travel_and_places"},japan:{keywords:["nation","country","japanese","asia"],char:"🗾",fitzpatrick_scale:!1,category:"travel_and_places"},camping:{keywords:["photo","outdoors","tent"],char:"🏕",fitzpatrick_scale:!1,category:"travel_and_places"},tent:{keywords:["photo","camping","outdoors"],char:"⛺",fitzpatrick_scale:!1,category:"travel_and_places"},national_park:{keywords:["photo","environment","nature"],char:"🏞",fitzpatrick_scale:!1,category:"travel_and_places"},motorway:{keywords:["road","cupertino","interstate","highway"],char:"🛣",fitzpatrick_scale:!1,category:"travel_and_places"},railway_track:{keywords:["train","transportation"],char:"🛤",fitzpatrick_scale:!1,category:"travel_and_places"},sunrise:{keywords:["morning","view","vacation","photo"],char:"🌅",fitzpatrick_scale:!1,category:"travel_and_places"},sunrise_over_mountains:{keywords:["view","vacation","photo"],char:"🌄",fitzpatrick_scale:!1,category:"travel_and_places"},desert:{keywords:["photo","warm","saharah"],char:"🏜",fitzpatrick_scale:!1,category:"travel_and_places"},beach_umbrella:{keywords:["weather","summer","sunny","sand","mojito"],char:"🏖",fitzpatrick_scale:!1,category:"travel_and_places"},desert_island:{keywords:["photo","tropical","mojito"],char:"🏝",fitzpatrick_scale:!1,category:"travel_and_places"},city_sunrise:{keywords:["photo","good morning","dawn"],char:"🌇",fitzpatrick_scale:!1,category:"travel_and_places"},city_sunset:{keywords:["photo","evening","sky","buildings"],char:"🌆",fitzpatrick_scale:!1,category:"travel_and_places"},cityscape:{keywords:["photo","night life","urban"],char:"🏙",fitzpatrick_scale:!1,category:"travel_and_places"},night_with_stars:{keywords:["evening","city","downtown"],char:"🌃",fitzpatrick_scale:!1,category:"travel_and_places"},bridge_at_night:{keywords:["photo","sanfrancisco"],char:"🌉",fitzpatrick_scale:!1,category:"travel_and_places"},milky_way:{keywords:["photo","space","stars"],char:"🌌",fitzpatrick_scale:!1,category:"travel_and_places"},stars:{keywords:["night","photo"],char:"🌠",fitzpatrick_scale:!1,category:"travel_and_places"},sparkler:{keywords:["stars","night","shine"],char:"🎇",fitzpatrick_scale:!1,category:"travel_and_places"},fireworks:{keywords:["photo","festival","carnival","congratulations"],char:"🎆",fitzpatrick_scale:!1,category:"travel_and_places"},rainbow:{keywords:["nature","happy","unicorn_face","photo","sky","spring"],char:"🌈",fitzpatrick_scale:!1,category:"travel_and_places"},houses:{keywords:["buildings","photo"],char:"🏘",fitzpatrick_scale:!1,category:"travel_and_places"},european_castle:{keywords:["building","royalty","history"],char:"🏰",fitzpatrick_scale:!1,category:"travel_and_places"},japanese_castle:{keywords:["photo","building"],char:"🏯",fitzpatrick_scale:!1,category:"travel_and_places"},stadium:{keywords:["photo","place","sports","concert","venue"],char:"🏟",fitzpatrick_scale:!1,category:"travel_and_places"},statue_of_liberty:{keywords:["american","newyork"],char:"🗽",fitzpatrick_scale:!1,category:"travel_and_places"},house:{keywords:["building","home"],char:"🏠",fitzpatrick_scale:!1,category:"travel_and_places"},house_with_garden:{keywords:["home","plant","nature"],char:"🏡",fitzpatrick_scale:!1,category:"travel_and_places"},derelict_house:{keywords:["abandon","evict","broken","building"],char:"🏚",fitzpatrick_scale:!1,category:"travel_and_places"},office:{keywords:["building","bureau","work"],char:"🏢",fitzpatrick_scale:!1,category:"travel_and_places"},department_store:{keywords:["building","shopping","mall"],char:"🏬",fitzpatrick_scale:!1,category:"travel_and_places"},post_office:{keywords:["building","envelope","communication"],char:"🏣",fitzpatrick_scale:!1,category:"travel_and_places"},european_post_office:{keywords:["building","email"],char:"🏤",fitzpatrick_scale:!1,category:"travel_and_places"},hospital:{keywords:["building","health","surgery","doctor"],char:"🏥",fitzpatrick_scale:!1,category:"travel_and_places"},bank:{keywords:["building","money","sales","cash","business","enterprise"],char:"🏦",fitzpatrick_scale:!1,category:"travel_and_places"},hotel:{keywords:["building","accomodation","checkin"],char:"🏨",fitzpatrick_scale:!1,category:"travel_and_places"},convenience_store:{keywords:["building","shopping","groceries"],char:"🏪",fitzpatrick_scale:!1,category:"travel_and_places"},school:{keywords:["building","student","education","learn","teach"],char:"🏫",fitzpatrick_scale:!1,category:"travel_and_places"},love_hotel:{keywords:["like","affection","dating"],char:"🏩",fitzpatrick_scale:!1,category:"travel_and_places"},wedding:{keywords:["love","like","affection","couple","marriage","bride","groom"],char:"💒",fitzpatrick_scale:!1,category:"travel_and_places"},classical_building:{keywords:["art","culture","history"],char:"🏛",fitzpatrick_scale:!1,category:"travel_and_places"},church:{keywords:["building","religion","christ"],char:"⛪",fitzpatrick_scale:!1,category:"travel_and_places"},mosque:{keywords:["islam","worship","minaret"],char:"🕌",fitzpatrick_scale:!1,category:"travel_and_places"},synagogue:{keywords:["judaism","worship","temple","jewish"],char:"🕍",fitzpatrick_scale:!1,category:"travel_and_places"},kaaba:{keywords:["mecca","mosque","islam"],char:"🕋",fitzpatrick_scale:!1,category:"travel_and_places"},shinto_shrine:{keywords:["temple","japan","kyoto"],char:"⛩",fitzpatrick_scale:!1,category:"travel_and_places"},watch:{keywords:["time","accessories"],char:"⌚",fitzpatrick_scale:!1,category:"objects"},iphone:{keywords:["technology","apple","gadgets","dial"],char:"📱",fitzpatrick_scale:!1,category:"objects"},calling:{keywords:["iphone","incoming"],char:"📲",fitzpatrick_scale:!1,category:"objects"},computer:{keywords:["technology","laptop","screen","display","monitor"],char:"💻",fitzpatrick_scale:!1,category:"objects"},keyboard:{keywords:["technology","computer","type","input","text"],char:"⌨",fitzpatrick_scale:!1,category:"objects"},desktop_computer:{keywords:["technology","computing","screen"],char:"🖥",fitzpatrick_scale:!1,category:"objects"},printer:{keywords:["paper","ink"],char:"🖨",fitzpatrick_scale:!1,category:"objects"},computer_mouse:{keywords:["click"],char:"🖱",fitzpatrick_scale:!1,category:"objects"},trackball:{keywords:["technology","trackpad"],char:"🖲",fitzpatrick_scale:!1,category:"objects"},joystick:{keywords:["game","play"],char:"🕹",fitzpatrick_scale:!1,category:"objects"},clamp:{keywords:["tool"],char:"🗜",fitzpatrick_scale:!1,category:"objects"},minidisc:{keywords:["technology","record","data","disk","90s"],char:"💽",fitzpatrick_scale:!1,category:"objects"},floppy_disk:{keywords:["oldschool","technology","save","90s","80s"],char:"💾",fitzpatrick_scale:!1,category:"objects"},cd:{keywords:["technology","dvd","disk","disc","90s"],char:"💿",fitzpatrick_scale:!1,category:"objects"},dvd:{keywords:["cd","disk","disc"],char:"📀",fitzpatrick_scale:!1,category:"objects"},vhs:{keywords:["record","video","oldschool","90s","80s"],char:"📼",fitzpatrick_scale:!1,category:"objects"},camera:{keywords:["gadgets","photography"],char:"📷",fitzpatrick_scale:!1,category:"objects"},camera_flash:{keywords:["photography","gadgets"],char:"📸",fitzpatrick_scale:!1,category:"objects"},video_camera:{keywords:["film","record"],char:"📹",fitzpatrick_scale:!1,category:"objects"},movie_camera:{keywords:["film","record"],char:"🎥",fitzpatrick_scale:!1,category:"objects"},film_projector:{keywords:["video","tape","record","movie"],char:"📽",fitzpatrick_scale:!1,category:"objects"},film_strip:{keywords:["movie"],char:"🎞",fitzpatrick_scale:!1,category:"objects"},telephone_receiver:{keywords:["technology","communication","dial"],char:"📞",fitzpatrick_scale:!1,category:"objects"},phone:{keywords:["technology","communication","dial","telephone"],char:"☎️",fitzpatrick_scale:!1,category:"objects"},pager:{keywords:["bbcall","oldschool","90s"],char:"📟",fitzpatrick_scale:!1,category:"objects"},fax:{keywords:["communication","technology"],char:"📠",fitzpatrick_scale:!1,category:"objects"},tv:{keywords:["technology","program","oldschool","show","television"],char:"📺",fitzpatrick_scale:!1,category:"objects"},radio:{keywords:["communication","music","podcast","program"],char:"📻",fitzpatrick_scale:!1,category:"objects"},studio_microphone:{keywords:["sing","recording","artist","talkshow"],char:"🎙",fitzpatrick_scale:!1,category:"objects"},level_slider:{keywords:["scale"],char:"🎚",fitzpatrick_scale:!1,category:"objects"},control_knobs:{keywords:["dial"],char:"🎛",fitzpatrick_scale:!1,category:"objects"},compass:{keywords:["magnetic","navigation","orienteering"],char:"🧭",fitzpatrick_scale:!1,category:"objects"},stopwatch:{keywords:["time","deadline"],char:"⏱",fitzpatrick_scale:!1,category:"objects"},timer_clock:{keywords:["alarm"],char:"⏲",fitzpatrick_scale:!1,category:"objects"},alarm_clock:{keywords:["time","wake"],char:"⏰",fitzpatrick_scale:!1,category:"objects"},mantelpiece_clock:{keywords:["time"],char:"🕰",fitzpatrick_scale:!1,category:"objects"},hourglass_flowing_sand:{keywords:["oldschool","time","countdown"],char:"⏳",fitzpatrick_scale:!1,category:"objects"},hourglass:{keywords:["time","clock","oldschool","limit","exam","quiz","test"],char:"⌛",fitzpatrick_scale:!1,category:"objects"},satellite:{keywords:["communication","future","radio","space"],char:"📡",fitzpatrick_scale:!1,category:"objects"},battery:{keywords:["power","energy","sustain"],char:"🔋",fitzpatrick_scale:!1,category:"objects"},electric_plug:{keywords:["charger","power"],char:"🔌",fitzpatrick_scale:!1,category:"objects"},bulb:{keywords:["light","electricity","idea"],char:"💡",fitzpatrick_scale:!1,category:"objects"},flashlight:{keywords:["dark","camping","sight","night"],char:"🔦",fitzpatrick_scale:!1,category:"objects"},candle:{keywords:["fire","wax"],char:"🕯",fitzpatrick_scale:!1,category:"objects"},fire_extinguisher:{keywords:["quench"],char:"🧯",fitzpatrick_scale:!1,category:"objects"},wastebasket:{keywords:["bin","trash","rubbish","garbage","toss"],char:"🗑",fitzpatrick_scale:!1,category:"objects"},oil_drum:{keywords:["barrell"],char:"🛢",fitzpatrick_scale:!1,category:"objects"},money_with_wings:{keywords:["dollar","bills","payment","sale"],char:"💸",fitzpatrick_scale:!1,category:"objects"},dollar:{keywords:["money","sales","bill","currency"],char:"💵",fitzpatrick_scale:!1,category:"objects"},yen:{keywords:["money","sales","japanese","dollar","currency"],char:"💴",fitzpatrick_scale:!1,category:"objects"},euro:{keywords:["money","sales","dollar","currency"],char:"💶",fitzpatrick_scale:!1,category:"objects"},pound:{keywords:["british","sterling","money","sales","bills","uk","england","currency"],char:"💷",fitzpatrick_scale:!1,category:"objects"},moneybag:{keywords:["dollar","payment","coins","sale"],char:"💰",fitzpatrick_scale:!1,category:"objects"},credit_card:{keywords:["money","sales","dollar","bill","payment","shopping"],char:"💳",fitzpatrick_scale:!1,category:"objects"},gem:{keywords:["blue","ruby","diamond","jewelry"],char:"💎",fitzpatrick_scale:!1,category:"objects"},balance_scale:{keywords:["law","fairness","weight"],char:"⚖",fitzpatrick_scale:!1,category:"objects"},toolbox:{keywords:["tools","diy","fix","maintainer","mechanic"],char:"🧰",fitzpatrick_scale:!1,category:"objects"},wrench:{keywords:["tools","diy","ikea","fix","maintainer"],char:"🔧",fitzpatrick_scale:!1,category:"objects"},hammer:{keywords:["tools","build","create"],char:"🔨",fitzpatrick_scale:!1,category:"objects"},hammer_and_pick:{keywords:["tools","build","create"],char:"⚒",fitzpatrick_scale:!1,category:"objects"},hammer_and_wrench:{keywords:["tools","build","create"],char:"🛠",fitzpatrick_scale:!1,category:"objects"},pick:{keywords:["tools","dig"],char:"⛏",fitzpatrick_scale:!1,category:"objects"},nut_and_bolt:{keywords:["handy","tools","fix"],char:"🔩",fitzpatrick_scale:!1,category:"objects"},gear:{keywords:["cog"],char:"⚙",fitzpatrick_scale:!1,category:"objects"},brick:{keywords:["bricks"],char:"🧱",fitzpatrick_scale:!1,category:"objects"},chains:{keywords:["lock","arrest"],char:"⛓",fitzpatrick_scale:!1,category:"objects"},magnet:{keywords:["attraction","magnetic"],char:"🧲",fitzpatrick_scale:!1,category:"objects"},gun:{keywords:["violence","weapon","pistol","revolver"],char:"🔫",fitzpatrick_scale:!1,category:"objects"},bomb:{keywords:["boom","explode","explosion","terrorism"],char:"💣",fitzpatrick_scale:!1,category:"objects"},firecracker:{keywords:["dynamite","boom","explode","explosion","explosive"],char:"🧨",fitzpatrick_scale:!1,category:"objects"},hocho:{keywords:["knife","blade","cutlery","kitchen","weapon"],char:"🔪",fitzpatrick_scale:!1,category:"objects"},dagger:{keywords:["weapon"],char:"🗡",fitzpatrick_scale:!1,category:"objects"},crossed_swords:{keywords:["weapon"],char:"⚔",fitzpatrick_scale:!1,category:"objects"},shield:{keywords:["protection","security"],char:"🛡",fitzpatrick_scale:!1,category:"objects"},smoking:{keywords:["kills","tobacco","cigarette","joint","smoke"],char:"🚬",fitzpatrick_scale:!1,category:"objects"},skull_and_crossbones:{keywords:["poison","danger","deadly","scary","death","pirate","evil"],char:"☠",fitzpatrick_scale:!1,category:"objects"},coffin:{keywords:["vampire","dead","die","death","rip","graveyard","cemetery","casket","funeral","box"],char:"⚰",fitzpatrick_scale:!1,category:"objects"},funeral_urn:{keywords:["dead","die","death","rip","ashes"],char:"⚱",fitzpatrick_scale:!1,category:"objects"},amphora:{keywords:["vase","jar"],char:"🏺",fitzpatrick_scale:!1,category:"objects"},crystal_ball:{keywords:["disco","party","magic","circus","fortune_teller"],char:"🔮",fitzpatrick_scale:!1,category:"objects"},prayer_beads:{keywords:["dhikr","religious"],char:"📿",fitzpatrick_scale:!1,category:"objects"},nazar_amulet:{keywords:["bead","charm"],char:"🧿",fitzpatrick_scale:!1,category:"objects"},barber:{keywords:["hair","salon","style"],char:"💈",fitzpatrick_scale:!1,category:"objects"},alembic:{keywords:["distilling","science","experiment","chemistry"],char:"⚗",fitzpatrick_scale:!1,category:"objects"},telescope:{keywords:["stars","space","zoom","science","astronomy"],char:"🔭",fitzpatrick_scale:!1,category:"objects"},microscope:{keywords:["laboratory","experiment","zoomin","science","study"],char:"🔬",fitzpatrick_scale:!1,category:"objects"},hole:{keywords:["embarrassing"],char:"🕳",fitzpatrick_scale:!1,category:"objects"},pill:{keywords:["health","medicine","doctor","pharmacy","drug"],char:"💊",fitzpatrick_scale:!1,category:"objects"},syringe:{keywords:["health","hospital","drugs","blood","medicine","needle","doctor","nurse"],char:"💉",fitzpatrick_scale:!1,category:"objects"},dna:{keywords:["biologist","genetics","life"],char:"🧬",fitzpatrick_scale:!1,category:"objects"},microbe:{keywords:["amoeba","bacteria","germs"],char:"🦠",fitzpatrick_scale:!1,category:"objects"},petri_dish:{keywords:["bacteria","biology","culture","lab"],char:"🧫",fitzpatrick_scale:!1,category:"objects"},test_tube:{keywords:["chemistry","experiment","lab","science"],char:"🧪",fitzpatrick_scale:!1,category:"objects"},thermometer:{keywords:["weather","temperature","hot","cold"],char:"🌡",fitzpatrick_scale:!1,category:"objects"},broom:{keywords:["cleaning","sweeping","witch"],char:"🧹",fitzpatrick_scale:!1,category:"objects"},basket:{keywords:["laundry"],char:"🧺",fitzpatrick_scale:!1,category:"objects"},toilet_paper:{keywords:["roll"],char:"🧻",fitzpatrick_scale:!1,category:"objects"},label:{keywords:["sale","tag"],char:"🏷",fitzpatrick_scale:!1,category:"objects"},bookmark:{keywords:["favorite","label","save"],char:"🔖",fitzpatrick_scale:!1,category:"objects"},toilet:{keywords:["restroom","wc","washroom","bathroom","potty"],char:"🚽",fitzpatrick_scale:!1,category:"objects"},shower:{keywords:["clean","water","bathroom"],char:"🚿",fitzpatrick_scale:!1,category:"objects"},bathtub:{keywords:["clean","shower","bathroom"],char:"🛁",fitzpatrick_scale:!1,category:"objects"},soap:{keywords:["bar","bathing","cleaning","lather"],char:"🧼",fitzpatrick_scale:!1,category:"objects"},sponge:{keywords:["absorbing","cleaning","porous"],char:"🧽",fitzpatrick_scale:!1,category:"objects"},lotion_bottle:{keywords:["moisturizer","sunscreen"],char:"🧴",fitzpatrick_scale:!1,category:"objects"},key:{keywords:["lock","door","password"],char:"🔑",fitzpatrick_scale:!1,category:"objects"},old_key:{keywords:["lock","door","password"],char:"🗝",fitzpatrick_scale:!1,category:"objects"},couch_and_lamp:{keywords:["read","chill"],char:"🛋",fitzpatrick_scale:!1,category:"objects"},sleeping_bed:{keywords:["bed","rest"],char:"🛌",fitzpatrick_scale:!0,category:"objects"},bed:{keywords:["sleep","rest"],char:"🛏",fitzpatrick_scale:!1,category:"objects"},door:{keywords:["house","entry","exit"],char:"🚪",fitzpatrick_scale:!1,category:"objects"},bellhop_bell:{keywords:["service"],char:"🛎",fitzpatrick_scale:!1,category:"objects"},teddy_bear:{keywords:["plush","stuffed"],char:"🧸",fitzpatrick_scale:!1,category:"objects"},framed_picture:{keywords:["photography"],char:"🖼",fitzpatrick_scale:!1,category:"objects"},world_map:{keywords:["location","direction"],char:"🗺",fitzpatrick_scale:!1,category:"objects"},parasol_on_ground:{keywords:["weather","summer"],char:"⛱",fitzpatrick_scale:!1,category:"objects"},moyai:{keywords:["rock","easter island","moai"],char:"🗿",fitzpatrick_scale:!1,category:"objects"},shopping:{keywords:["mall","buy","purchase"],char:"🛍",fitzpatrick_scale:!1,category:"objects"},shopping_cart:{keywords:["trolley"],char:"🛒",fitzpatrick_scale:!1,category:"objects"},balloon:{keywords:["party","celebration","birthday","circus"],char:"🎈",fitzpatrick_scale:!1,category:"objects"},flags:{keywords:["fish","japanese","koinobori","carp","banner"],char:"🎏",fitzpatrick_scale:!1,category:"objects"},ribbon:{keywords:["decoration","pink","girl","bowtie"],char:"🎀",fitzpatrick_scale:!1,category:"objects"},gift:{keywords:["present","birthday","christmas","xmas"],char:"🎁",fitzpatrick_scale:!1,category:"objects"},confetti_ball:{keywords:["festival","party","birthday","circus"],char:"🎊",fitzpatrick_scale:!1,category:"objects"},tada:{keywords:["party","congratulations","birthday","magic","circus","celebration"],char:"🎉",fitzpatrick_scale:!1,category:"objects"},dolls:{keywords:["japanese","toy","kimono"],char:"🎎",fitzpatrick_scale:!1,category:"objects"},wind_chime:{keywords:["nature","ding","spring","bell"],char:"🎐",fitzpatrick_scale:!1,category:"objects"},crossed_flags:{keywords:["japanese","nation","country","border"],char:"🎌",fitzpatrick_scale:!1,category:"objects"},izakaya_lantern:{keywords:["light","paper","halloween","spooky"],char:"🏮",fitzpatrick_scale:!1,category:"objects"},red_envelope:{keywords:["gift"],char:"🧧",fitzpatrick_scale:!1,category:"objects"},email:{keywords:["letter","postal","inbox","communication"],char:"✉️",fitzpatrick_scale:!1,category:"objects"},envelope_with_arrow:{keywords:["email","communication"],char:"📩",fitzpatrick_scale:!1,category:"objects"},incoming_envelope:{keywords:["email","inbox"],char:"📨",fitzpatrick_scale:!1,category:"objects"},"e-mail":{keywords:["communication","inbox"],char:"📧",fitzpatrick_scale:!1,category:"objects"},love_letter:{keywords:["email","like","affection","envelope","valentines"],char:"💌",fitzpatrick_scale:!1,category:"objects"},postbox:{keywords:["email","letter","envelope"],char:"📮",fitzpatrick_scale:!1,category:"objects"},mailbox_closed:{keywords:["email","communication","inbox"],char:"📪",fitzpatrick_scale:!1,category:"objects"},mailbox:{keywords:["email","inbox","communication"],char:"📫",fitzpatrick_scale:!1,category:"objects"},mailbox_with_mail:{keywords:["email","inbox","communication"],char:"📬",fitzpatrick_scale:!1,category:"objects"},mailbox_with_no_mail:{keywords:["email","inbox"],char:"📭",fitzpatrick_scale:!1,category:"objects"},package:{keywords:["mail","gift","cardboard","box","moving"],char:"📦",fitzpatrick_scale:!1,category:"objects"},postal_horn:{keywords:["instrument","music"],char:"📯",fitzpatrick_scale:!1,category:"objects"},inbox_tray:{keywords:["email","documents"],char:"📥",fitzpatrick_scale:!1,category:"objects"},outbox_tray:{keywords:["inbox","email"],char:"📤",fitzpatrick_scale:!1,category:"objects"},scroll:{keywords:["documents","ancient","history","paper"],char:"📜",fitzpatrick_scale:!1,category:"objects"},page_with_curl:{keywords:["documents","office","paper"],char:"📃",fitzpatrick_scale:!1,category:"objects"},bookmark_tabs:{keywords:["favorite","save","order","tidy"],char:"📑",fitzpatrick_scale:!1,category:"objects"},receipt:{keywords:["accounting","expenses"],char:"🧾",fitzpatrick_scale:!1,category:"objects"},bar_chart:{keywords:["graph","presentation","stats"],char:"📊",fitzpatrick_scale:!1,category:"objects"},chart_with_upwards_trend:{keywords:["graph","presentation","stats","recovery","business","economics","money","sales","good","success"],char:"📈",fitzpatrick_scale:!1,category:"objects"},chart_with_downwards_trend:{keywords:["graph","presentation","stats","recession","business","economics","money","sales","bad","failure"],char:"📉",fitzpatrick_scale:!1,category:"objects"},page_facing_up:{keywords:["documents","office","paper","information"],char:"📄",fitzpatrick_scale:!1,category:"objects"},date:{keywords:["calendar","schedule"],char:"📅",fitzpatrick_scale:!1,category:"objects"},calendar:{keywords:["schedule","date","planning"],char:"📆",fitzpatrick_scale:!1,category:"objects"},spiral_calendar:{keywords:["date","schedule","planning"],char:"🗓",fitzpatrick_scale:!1,category:"objects"},card_index:{keywords:["business","stationery"],char:"📇",fitzpatrick_scale:!1,category:"objects"},card_file_box:{keywords:["business","stationery"],char:"🗃",fitzpatrick_scale:!1,category:"objects"},ballot_box:{keywords:["election","vote"],char:"🗳",fitzpatrick_scale:!1,category:"objects"},file_cabinet:{keywords:["filing","organizing"],char:"🗄",fitzpatrick_scale:!1,category:"objects"},clipboard:{keywords:["stationery","documents"],char:"📋",fitzpatrick_scale:!1,category:"objects"},spiral_notepad:{keywords:["memo","stationery"],char:"🗒",fitzpatrick_scale:!1,category:"objects"},file_folder:{keywords:["documents","business","office"],char:"📁",fitzpatrick_scale:!1,category:"objects"},open_file_folder:{keywords:["documents","load"],char:"📂",fitzpatrick_scale:!1,category:"objects"},card_index_dividers:{keywords:["organizing","business","stationery"],char:"🗂",fitzpatrick_scale:!1,category:"objects"},newspaper_roll:{keywords:["press","headline"],char:"🗞",fitzpatrick_scale:!1,category:"objects"},newspaper:{keywords:["press","headline"],char:"📰",fitzpatrick_scale:!1,category:"objects"},notebook:{keywords:["stationery","record","notes","paper","study"],char:"📓",fitzpatrick_scale:!1,category:"objects"},closed_book:{keywords:["read","library","knowledge","textbook","learn"],char:"📕",fitzpatrick_scale:!1,category:"objects"},green_book:{keywords:["read","library","knowledge","study"],char:"📗",fitzpatrick_scale:!1,category:"objects"},blue_book:{keywords:["read","library","knowledge","learn","study"],char:"📘",fitzpatrick_scale:!1,category:"objects"},orange_book:{keywords:["read","library","knowledge","textbook","study"],char:"📙",fitzpatrick_scale:!1,category:"objects"},notebook_with_decorative_cover:{keywords:["classroom","notes","record","paper","study"],char:"📔",fitzpatrick_scale:!1,category:"objects"},ledger:{keywords:["notes","paper"],char:"📒",fitzpatrick_scale:!1,category:"objects"},books:{keywords:["literature","library","study"],char:"📚",fitzpatrick_scale:!1,category:"objects"},open_book:{keywords:["book","read","library","knowledge","literature","learn","study"],char:"📖",fitzpatrick_scale:!1,category:"objects"},safety_pin:{keywords:["diaper"],char:"🧷",fitzpatrick_scale:!1,category:"objects"},link:{keywords:["rings","url"],char:"🔗",fitzpatrick_scale:!1,category:"objects"},paperclip:{keywords:["documents","stationery"],char:"📎",fitzpatrick_scale:!1,category:"objects"},paperclips:{keywords:["documents","stationery"],char:"🖇",fitzpatrick_scale:!1,category:"objects"},scissors:{keywords:["stationery","cut"],char:"✂️",fitzpatrick_scale:!1,category:"objects"},triangular_ruler:{keywords:["stationery","math","architect","sketch"],char:"📐",fitzpatrick_scale:!1,category:"objects"},straight_ruler:{keywords:["stationery","calculate","length","math","school","drawing","architect","sketch"],char:"📏",fitzpatrick_scale:!1,category:"objects"},abacus:{keywords:["calculation"],char:"🧮",fitzpatrick_scale:!1,category:"objects"},pushpin:{keywords:["stationery","mark","here"],char:"📌",fitzpatrick_scale:!1,category:"objects"},round_pushpin:{keywords:["stationery","location","map","here"],char:"📍",fitzpatrick_scale:!1,category:"objects"},triangular_flag_on_post:{keywords:["mark","milestone","place"],char:"🚩",fitzpatrick_scale:!1,category:"objects"},white_flag:{keywords:["losing","loser","lost","surrender","give up","fail"],char:"🏳",fitzpatrick_scale:!1,category:"objects"},black_flag:{keywords:["pirate"],char:"🏴",fitzpatrick_scale:!1,category:"objects"},rainbow_flag:{keywords:["flag","rainbow","pride","gay","lgbt","glbt","queer","homosexual","lesbian","bisexual","transgender"],char:"🏳️‍🌈",fitzpatrick_scale:!1,category:"objects"},closed_lock_with_key:{keywords:["security","privacy"],char:"🔐",fitzpatrick_scale:!1,category:"objects"},lock:{keywords:["security","password","padlock"],char:"🔒",fitzpatrick_scale:!1,category:"objects"},unlock:{keywords:["privacy","security"],char:"🔓",fitzpatrick_scale:!1,category:"objects"},lock_with_ink_pen:{keywords:["security","secret"],char:"🔏",fitzpatrick_scale:!1,category:"objects"},pen:{keywords:["stationery","writing","write"],char:"🖊",fitzpatrick_scale:!1,category:"objects"},fountain_pen:{keywords:["stationery","writing","write"],char:"🖋",fitzpatrick_scale:!1,category:"objects"},black_nib:{keywords:["pen","stationery","writing","write"],char:"✒️",fitzpatrick_scale:!1,category:"objects"},memo:{keywords:["write","documents","stationery","pencil","paper","writing","legal","exam","quiz","test","study","compose"],char:"📝",fitzpatrick_scale:!1,category:"objects"},pencil2:{keywords:["stationery","write","paper","writing","school","study"],char:"✏️",fitzpatrick_scale:!1,category:"objects"},crayon:{keywords:["drawing","creativity"],char:"🖍",fitzpatrick_scale:!1,category:"objects"},paintbrush:{keywords:["drawing","creativity","art"],char:"🖌",fitzpatrick_scale:!1,category:"objects"},mag:{keywords:["search","zoom","find","detective"],char:"🔍",fitzpatrick_scale:!1,category:"objects"},mag_right:{keywords:["search","zoom","find","detective"],char:"🔎",fitzpatrick_scale:!1,category:"objects"},heart:{keywords:["love","like","valentines"],char:"❤️",fitzpatrick_scale:!1,category:"symbols"},orange_heart:{keywords:["love","like","affection","valentines"],char:"🧡",fitzpatrick_scale:!1,category:"symbols"},yellow_heart:{keywords:["love","like","affection","valentines"],char:"💛",fitzpatrick_scale:!1,category:"symbols"},green_heart:{keywords:["love","like","affection","valentines"],char:"💚",fitzpatrick_scale:!1,category:"symbols"},blue_heart:{keywords:["love","like","affection","valentines"],char:"💙",fitzpatrick_scale:!1,category:"symbols"},purple_heart:{keywords:["love","like","affection","valentines"],char:"💜",fitzpatrick_scale:!1,category:"symbols"},black_heart:{keywords:["evil"],char:"🖤",fitzpatrick_scale:!1,category:"symbols"},broken_heart:{keywords:["sad","sorry","break","heart","heartbreak"],char:"💔",fitzpatrick_scale:!1,category:"symbols"},heavy_heart_exclamation:{keywords:["decoration","love"],char:"❣",fitzpatrick_scale:!1,category:"symbols"},two_hearts:{keywords:["love","like","affection","valentines","heart"],char:"💕",fitzpatrick_scale:!1,category:"symbols"},revolving_hearts:{keywords:["love","like","affection","valentines"],char:"💞",fitzpatrick_scale:!1,category:"symbols"},heartbeat:{keywords:["love","like","affection","valentines","pink","heart"],char:"💓",fitzpatrick_scale:!1,category:"symbols"},heartpulse:{keywords:["like","love","affection","valentines","pink"],char:"💗",fitzpatrick_scale:!1,category:"symbols"},sparkling_heart:{keywords:["love","like","affection","valentines"],char:"💖",fitzpatrick_scale:!1,category:"symbols"},cupid:{keywords:["love","like","heart","affection","valentines"],char:"💘",fitzpatrick_scale:!1,category:"symbols"},gift_heart:{keywords:["love","valentines"],char:"💝",fitzpatrick_scale:!1,category:"symbols"},heart_decoration:{keywords:["purple-square","love","like"],char:"💟",fitzpatrick_scale:!1,category:"symbols"},peace_symbol:{keywords:["hippie"],char:"☮",fitzpatrick_scale:!1,category:"symbols"},latin_cross:{keywords:["christianity"],char:"✝",fitzpatrick_scale:!1,category:"symbols"},star_and_crescent:{keywords:["islam"],char:"☪",fitzpatrick_scale:!1,category:"symbols"},om:{keywords:["hinduism","buddhism","sikhism","jainism"],char:"🕉",fitzpatrick_scale:!1,category:"symbols"},wheel_of_dharma:{keywords:["hinduism","buddhism","sikhism","jainism"],char:"☸",fitzpatrick_scale:!1,category:"symbols"},star_of_david:{keywords:["judaism"],char:"✡",fitzpatrick_scale:!1,category:"symbols"},six_pointed_star:{keywords:["purple-square","religion","jewish","hexagram"],char:"🔯",fitzpatrick_scale:!1,category:"symbols"},menorah:{keywords:["hanukkah","candles","jewish"],char:"🕎",fitzpatrick_scale:!1,category:"symbols"},yin_yang:{keywords:["balance"],char:"☯",fitzpatrick_scale:!1,category:"symbols"},orthodox_cross:{keywords:["suppedaneum","religion"],char:"☦",fitzpatrick_scale:!1,category:"symbols"},place_of_worship:{keywords:["religion","church","temple","prayer"],char:"🛐",fitzpatrick_scale:!1,category:"symbols"},ophiuchus:{keywords:["sign","purple-square","constellation","astrology"],char:"⛎",fitzpatrick_scale:!1,category:"symbols"},aries:{keywords:["sign","purple-square","zodiac","astrology"],char:"♈",fitzpatrick_scale:!1,category:"symbols"},taurus:{keywords:["purple-square","sign","zodiac","astrology"],char:"♉",fitzpatrick_scale:!1,category:"symbols"},gemini:{keywords:["sign","zodiac","purple-square","astrology"],char:"♊",fitzpatrick_scale:!1,category:"symbols"},cancer:{keywords:["sign","zodiac","purple-square","astrology"],char:"♋",fitzpatrick_scale:!1,category:"symbols"},leo:{keywords:["sign","purple-square","zodiac","astrology"],char:"♌",fitzpatrick_scale:!1,category:"symbols"},virgo:{keywords:["sign","zodiac","purple-square","astrology"],char:"♍",fitzpatrick_scale:!1,category:"symbols"},libra:{keywords:["sign","purple-square","zodiac","astrology"],char:"♎",fitzpatrick_scale:!1,category:"symbols"},scorpius:{keywords:["sign","zodiac","purple-square","astrology","scorpio"],char:"♏",fitzpatrick_scale:!1,category:"symbols"},sagittarius:{keywords:["sign","zodiac","purple-square","astrology"],char:"♐",fitzpatrick_scale:!1,category:"symbols"},capricorn:{keywords:["sign","zodiac","purple-square","astrology"],char:"♑",fitzpatrick_scale:!1,category:"symbols"},aquarius:{keywords:["sign","purple-square","zodiac","astrology"],char:"♒",fitzpatrick_scale:!1,category:"symbols"},pisces:{keywords:["purple-square","sign","zodiac","astrology"],char:"♓",fitzpatrick_scale:!1,category:"symbols"},id:{keywords:["purple-square","words"],char:"🆔",fitzpatrick_scale:!1,category:"symbols"},atom_symbol:{keywords:["science","physics","chemistry"],char:"⚛",fitzpatrick_scale:!1,category:"symbols"},u7a7a:{keywords:["kanji","japanese","chinese","empty","sky","blue-square"],char:"🈳",fitzpatrick_scale:!1,category:"symbols"},u5272:{keywords:["cut","divide","chinese","kanji","pink-square"],char:"🈹",fitzpatrick_scale:!1,category:"symbols"},radioactive:{keywords:["nuclear","danger"],char:"☢",fitzpatrick_scale:!1,category:"symbols"},biohazard:{keywords:["danger"],char:"☣",fitzpatrick_scale:!1,category:"symbols"},mobile_phone_off:{keywords:["mute","orange-square","silence","quiet"],char:"📴",fitzpatrick_scale:!1,category:"symbols"},vibration_mode:{keywords:["orange-square","phone"],char:"📳",fitzpatrick_scale:!1,category:"symbols"},u6709:{keywords:["orange-square","chinese","have","kanji"],char:"🈶",fitzpatrick_scale:!1,category:"symbols"},u7121:{keywords:["nothing","chinese","kanji","japanese","orange-square"],char:"🈚",fitzpatrick_scale:!1,category:"symbols"},u7533:{keywords:["chinese","japanese","kanji","orange-square"],char:"🈸",fitzpatrick_scale:!1,category:"symbols"},u55b6:{keywords:["japanese","opening hours","orange-square"],char:"🈺",fitzpatrick_scale:!1,category:"symbols"},u6708:{keywords:["chinese","month","moon","japanese","orange-square","kanji"],char:"🈷️",fitzpatrick_scale:!1,category:"symbols"},eight_pointed_black_star:{keywords:["orange-square","shape","polygon"],char:"✴️",fitzpatrick_scale:!1,category:"symbols"},vs:{keywords:["words","orange-square"],char:"🆚",fitzpatrick_scale:!1,category:"symbols"},accept:{keywords:["ok","good","chinese","kanji","agree","yes","orange-circle"],char:"🉑",fitzpatrick_scale:!1,category:"symbols"},white_flower:{keywords:["japanese","spring"],char:"💮",fitzpatrick_scale:!1,category:"symbols"},ideograph_advantage:{keywords:["chinese","kanji","obtain","get","circle"],char:"🉐",fitzpatrick_scale:!1,category:"symbols"},secret:{keywords:["privacy","chinese","sshh","kanji","red-circle"],char:"㊙️",fitzpatrick_scale:!1,category:"symbols"},congratulations:{keywords:["chinese","kanji","japanese","red-circle"],char:"㊗️",fitzpatrick_scale:!1,category:"symbols"},u5408:{keywords:["japanese","chinese","join","kanji","red-square"],char:"🈴",fitzpatrick_scale:!1,category:"symbols"},u6e80:{keywords:["full","chinese","japanese","red-square","kanji"],char:"🈵",fitzpatrick_scale:!1,category:"symbols"},u7981:{keywords:["kanji","japanese","chinese","forbidden","limit","restricted","red-square"],char:"🈲",fitzpatrick_scale:!1,category:"symbols"},a:{keywords:["red-square","alphabet","letter"],char:"🅰️",fitzpatrick_scale:!1,category:"symbols"},b:{keywords:["red-square","alphabet","letter"],char:"🅱️",fitzpatrick_scale:!1,category:"symbols"},ab:{keywords:["red-square","alphabet"],char:"🆎",fitzpatrick_scale:!1,category:"symbols"},cl:{keywords:["alphabet","words","red-square"],char:"🆑",fitzpatrick_scale:!1,category:"symbols"},o2:{keywords:["alphabet","red-square","letter"],char:"🅾️",fitzpatrick_scale:!1,category:"symbols"},sos:{keywords:["help","red-square","words","emergency","911"],char:"🆘",fitzpatrick_scale:!1,category:"symbols"},no_entry:{keywords:["limit","security","privacy","bad","denied","stop","circle"],char:"⛔",fitzpatrick_scale:!1,category:"symbols"},name_badge:{keywords:["fire","forbid"],char:"📛",fitzpatrick_scale:!1,category:"symbols"},no_entry_sign:{keywords:["forbid","stop","limit","denied","disallow","circle"],char:"🚫",fitzpatrick_scale:!1,category:"symbols"},x:{keywords:["no","delete","remove","cancel","red"],char:"❌",fitzpatrick_scale:!1,category:"symbols"},o:{keywords:["circle","round"],char:"⭕",fitzpatrick_scale:!1,category:"symbols"},stop_sign:{keywords:["stop"],char:"🛑",fitzpatrick_scale:!1,category:"symbols"},anger:{keywords:["angry","mad"],char:"💢",fitzpatrick_scale:!1,category:"symbols"},hotsprings:{keywords:["bath","warm","relax"],char:"♨️",fitzpatrick_scale:!1,category:"symbols"},no_pedestrians:{keywords:["rules","crossing","walking","circle"],char:"🚷",fitzpatrick_scale:!1,category:"symbols"},do_not_litter:{keywords:["trash","bin","garbage","circle"],char:"🚯",fitzpatrick_scale:!1,category:"symbols"},no_bicycles:{keywords:["cyclist","prohibited","circle"],char:"🚳",fitzpatrick_scale:!1,category:"symbols"},"non-potable_water":{keywords:["drink","faucet","tap","circle"],char:"🚱",fitzpatrick_scale:!1,category:"symbols"},underage:{keywords:["18","drink","pub","night","minor","circle"],char:"🔞",fitzpatrick_scale:!1,category:"symbols"},no_mobile_phones:{keywords:["iphone","mute","circle"],char:"📵",fitzpatrick_scale:!1,category:"symbols"},exclamation:{keywords:["heavy_exclamation_mark","danger","surprise","punctuation","wow","warning"],char:"❗",fitzpatrick_scale:!1,category:"symbols"},grey_exclamation:{keywords:["surprise","punctuation","gray","wow","warning"],char:"❕",fitzpatrick_scale:!1,category:"symbols"},question:{keywords:["doubt","confused"],char:"❓",fitzpatrick_scale:!1,category:"symbols"},grey_question:{keywords:["doubts","gray","huh","confused"],char:"❔",fitzpatrick_scale:!1,category:"symbols"},bangbang:{keywords:["exclamation","surprise"],char:"‼️",fitzpatrick_scale:!1,category:"symbols"},interrobang:{keywords:["wat","punctuation","surprise"],char:"⁉️",fitzpatrick_scale:!1,category:"symbols"},100:{keywords:["score","perfect","numbers","century","exam","quiz","test","pass","hundred"],char:"💯",fitzpatrick_scale:!1,category:"symbols"},low_brightness:{keywords:["sun","afternoon","warm","summer"],char:"🔅",fitzpatrick_scale:!1,category:"symbols"},high_brightness:{keywords:["sun","light"],char:"🔆",fitzpatrick_scale:!1,category:"symbols"},trident:{keywords:["weapon","spear"],char:"🔱",fitzpatrick_scale:!1,category:"symbols"},fleur_de_lis:{keywords:["decorative","scout"],char:"⚜",fitzpatrick_scale:!1,category:"symbols"},part_alternation_mark:{keywords:["graph","presentation","stats","business","economics","bad"],char:"〽️",fitzpatrick_scale:!1,category:"symbols"},warning:{keywords:["exclamation","wip","alert","error","problem","issue"],char:"⚠️",fitzpatrick_scale:!1,category:"symbols"},children_crossing:{keywords:["school","warning","danger","sign","driving","yellow-diamond"],char:"🚸",fitzpatrick_scale:!1,category:"symbols"},beginner:{keywords:["badge","shield"],char:"🔰",fitzpatrick_scale:!1,category:"symbols"},recycle:{keywords:["arrow","environment","garbage","trash"],char:"♻️",fitzpatrick_scale:!1,category:"symbols"},u6307:{keywords:["chinese","point","green-square","kanji"],char:"🈯",fitzpatrick_scale:!1,category:"symbols"},chart:{keywords:["green-square","graph","presentation","stats"],char:"💹",fitzpatrick_scale:!1,category:"symbols"},sparkle:{keywords:["stars","green-square","awesome","good","fireworks"],char:"❇️",fitzpatrick_scale:!1,category:"symbols"},eight_spoked_asterisk:{keywords:["star","sparkle","green-square"],char:"✳️",fitzpatrick_scale:!1,category:"symbols"},negative_squared_cross_mark:{keywords:["x","green-square","no","deny"],char:"❎",fitzpatrick_scale:!1,category:"symbols"},white_check_mark:{keywords:["green-square","ok","agree","vote","election","answer","tick"],char:"✅",fitzpatrick_scale:!1,category:"symbols"},diamond_shape_with_a_dot_inside:{keywords:["jewel","blue","gem","crystal","fancy"],char:"💠",fitzpatrick_scale:!1,category:"symbols"},cyclone:{keywords:["weather","swirl","blue","cloud","vortex","spiral","whirlpool","spin","tornado","hurricane","typhoon"],char:"🌀",fitzpatrick_scale:!1,category:"symbols"},loop:{keywords:["tape","cassette"],char:"➿",fitzpatrick_scale:!1,category:"symbols"},globe_with_meridians:{keywords:["earth","international","world","internet","interweb","i18n"],char:"🌐",fitzpatrick_scale:!1,category:"symbols"},m:{keywords:["alphabet","blue-circle","letter"],char:"Ⓜ️",fitzpatrick_scale:!1,category:"symbols"},atm:{keywords:["money","sales","cash","blue-square","payment","bank"],char:"🏧",fitzpatrick_scale:!1,category:"symbols"},sa:{keywords:["japanese","blue-square","katakana"],char:"🈂️",fitzpatrick_scale:!1,category:"symbols"},passport_control:{keywords:["custom","blue-square"],char:"🛂",fitzpatrick_scale:!1,category:"symbols"},customs:{keywords:["passport","border","blue-square"],char:"🛃",fitzpatrick_scale:!1,category:"symbols"},baggage_claim:{keywords:["blue-square","airport","transport"],char:"🛄",fitzpatrick_scale:!1,category:"symbols"},left_luggage:{keywords:["blue-square","travel"],char:"🛅",fitzpatrick_scale:!1,category:"symbols"},wheelchair:{keywords:["blue-square","disabled","a11y","accessibility"],char:"♿",fitzpatrick_scale:!1,category:"symbols"},no_smoking:{keywords:["cigarette","blue-square","smell","smoke"],char:"🚭",fitzpatrick_scale:!1,category:"symbols"},wc:{keywords:["toilet","restroom","blue-square"],char:"🚾",fitzpatrick_scale:!1,category:"symbols"},parking:{keywords:["cars","blue-square","alphabet","letter"],char:"🅿️",fitzpatrick_scale:!1,category:"symbols"},potable_water:{keywords:["blue-square","liquid","restroom","cleaning","faucet"],char:"🚰",fitzpatrick_scale:!1,category:"symbols"},mens:{keywords:["toilet","restroom","wc","blue-square","gender","male"],char:"🚹",fitzpatrick_scale:!1,category:"symbols"},womens:{keywords:["purple-square","woman","female","toilet","loo","restroom","gender"],char:"🚺",fitzpatrick_scale:!1,category:"symbols"},baby_symbol:{keywords:["orange-square","child"],char:"🚼",fitzpatrick_scale:!1,category:"symbols"},restroom:{keywords:["blue-square","toilet","refresh","wc","gender"],char:"🚻",fitzpatrick_scale:!1,category:"symbols"},put_litter_in_its_place:{keywords:["blue-square","sign","human","info"],char:"🚮",fitzpatrick_scale:!1,category:"symbols"},cinema:{keywords:["blue-square","record","film","movie","curtain","stage","theater"],char:"🎦",fitzpatrick_scale:!1,category:"symbols"},signal_strength:{keywords:["blue-square","reception","phone","internet","connection","wifi","bluetooth","bars"],char:"📶",fitzpatrick_scale:!1,category:"symbols"},koko:{keywords:["blue-square","here","katakana","japanese","destination"],char:"🈁",fitzpatrick_scale:!1,category:"symbols"},ng:{keywords:["blue-square","words","shape","icon"],char:"🆖",fitzpatrick_scale:!1,category:"symbols"},ok:{keywords:["good","agree","yes","blue-square"],char:"🆗",fitzpatrick_scale:!1,category:"symbols"},up:{keywords:["blue-square","above","high"],char:"🆙",fitzpatrick_scale:!1,category:"symbols"},cool:{keywords:["words","blue-square"],char:"🆒",fitzpatrick_scale:!1,category:"symbols"},new:{keywords:["blue-square","words","start"],char:"🆕",fitzpatrick_scale:!1,category:"symbols"},free:{keywords:["blue-square","words"],char:"🆓",fitzpatrick_scale:!1,category:"symbols"},zero:{keywords:["0","numbers","blue-square","null"],char:"0️⃣",fitzpatrick_scale:!1,category:"symbols"},one:{keywords:["blue-square","numbers","1"],char:"1️⃣",fitzpatrick_scale:!1,category:"symbols"},two:{keywords:["numbers","2","prime","blue-square"],char:"2️⃣",fitzpatrick_scale:!1,category:"symbols"},three:{keywords:["3","numbers","prime","blue-square"],char:"3️⃣",fitzpatrick_scale:!1,category:"symbols"},four:{keywords:["4","numbers","blue-square"],char:"4️⃣",fitzpatrick_scale:!1,category:"symbols"},five:{keywords:["5","numbers","blue-square","prime"],char:"5️⃣",fitzpatrick_scale:!1,category:"symbols"},six:{keywords:["6","numbers","blue-square"],char:"6️⃣",fitzpatrick_scale:!1,category:"symbols"},seven:{keywords:["7","numbers","blue-square","prime"],char:"7️⃣",fitzpatrick_scale:!1,category:"symbols"},eight:{keywords:["8","blue-square","numbers"],char:"8️⃣",fitzpatrick_scale:!1,category:"symbols"},nine:{keywords:["blue-square","numbers","9"],char:"9️⃣",fitzpatrick_scale:!1,category:"symbols"},keycap_ten:{keywords:["numbers","10","blue-square"],char:"🔟",fitzpatrick_scale:!1,category:"symbols"},asterisk:{keywords:["star","keycap"],char:"*⃣",fitzpatrick_scale:!1,category:"symbols"},1234:{keywords:["numbers","blue-square"],char:"🔢",fitzpatrick_scale:!1,category:"symbols"},eject_button:{keywords:["blue-square"],char:"⏏️",fitzpatrick_scale:!1,category:"symbols"},arrow_forward:{keywords:["blue-square","right","direction","play"],char:"▶️",fitzpatrick_scale:!1,category:"symbols"},pause_button:{keywords:["pause","blue-square"],char:"⏸",fitzpatrick_scale:!1,category:"symbols"},next_track_button:{keywords:["forward","next","blue-square"],char:"⏭",fitzpatrick_scale:!1,category:"symbols"},stop_button:{keywords:["blue-square"],char:"⏹",fitzpatrick_scale:!1,category:"symbols"},record_button:{keywords:["blue-square"],char:"⏺",fitzpatrick_scale:!1,category:"symbols"},play_or_pause_button:{keywords:["blue-square","play","pause"],char:"⏯",fitzpatrick_scale:!1,category:"symbols"},previous_track_button:{keywords:["backward"],char:"⏮",fitzpatrick_scale:!1,category:"symbols"},fast_forward:{keywords:["blue-square","play","speed","continue"],char:"⏩",fitzpatrick_scale:!1,category:"symbols"},rewind:{keywords:["play","blue-square"],char:"⏪",fitzpatrick_scale:!1,category:"symbols"},twisted_rightwards_arrows:{keywords:["blue-square","shuffle","music","random"],char:"🔀",fitzpatrick_scale:!1,category:"symbols"},repeat:{keywords:["loop","record"],char:"🔁",fitzpatrick_scale:!1,category:"symbols"},repeat_one:{keywords:["blue-square","loop"],char:"🔂",fitzpatrick_scale:!1,category:"symbols"},arrow_backward:{keywords:["blue-square","left","direction"],char:"◀️",fitzpatrick_scale:!1,category:"symbols"},arrow_up_small:{keywords:["blue-square","triangle","direction","point","forward","top"],char:"🔼",fitzpatrick_scale:!1,category:"symbols"},arrow_down_small:{keywords:["blue-square","direction","bottom"],char:"🔽",fitzpatrick_scale:!1,category:"symbols"},arrow_double_up:{keywords:["blue-square","direction","top"],char:"⏫",fitzpatrick_scale:!1,category:"symbols"},arrow_double_down:{keywords:["blue-square","direction","bottom"],char:"⏬",fitzpatrick_scale:!1,category:"symbols"},arrow_right:{keywords:["blue-square","next"],char:"➡️",fitzpatrick_scale:!1,category:"symbols"},arrow_left:{keywords:["blue-square","previous","back"],char:"⬅️",fitzpatrick_scale:!1,category:"symbols"},arrow_up:{keywords:["blue-square","continue","top","direction"],char:"⬆️",fitzpatrick_scale:!1,category:"symbols"},arrow_down:{keywords:["blue-square","direction","bottom"],char:"⬇️",fitzpatrick_scale:!1,category:"symbols"},arrow_upper_right:{keywords:["blue-square","point","direction","diagonal","northeast"],char:"↗️",fitzpatrick_scale:!1,category:"symbols"},arrow_lower_right:{keywords:["blue-square","direction","diagonal","southeast"],char:"↘️",fitzpatrick_scale:!1,category:"symbols"},arrow_lower_left:{keywords:["blue-square","direction","diagonal","southwest"],char:"↙️",fitzpatrick_scale:!1,category:"symbols"},arrow_upper_left:{keywords:["blue-square","point","direction","diagonal","northwest"],char:"↖️",fitzpatrick_scale:!1,category:"symbols"},arrow_up_down:{keywords:["blue-square","direction","way","vertical"],char:"↕️",fitzpatrick_scale:!1,category:"symbols"},left_right_arrow:{keywords:["shape","direction","horizontal","sideways"],char:"↔️",fitzpatrick_scale:!1,category:"symbols"},arrows_counterclockwise:{keywords:["blue-square","sync","cycle"],char:"🔄",fitzpatrick_scale:!1,category:"symbols"},arrow_right_hook:{keywords:["blue-square","return","rotate","direction"],char:"↪️",fitzpatrick_scale:!1,category:"symbols"},leftwards_arrow_with_hook:{keywords:["back","return","blue-square","undo","enter"],char:"↩️",fitzpatrick_scale:!1,category:"symbols"},arrow_heading_up:{keywords:["blue-square","direction","top"],char:"⤴️",fitzpatrick_scale:!1,category:"symbols"},arrow_heading_down:{keywords:["blue-square","direction","bottom"],char:"⤵️",fitzpatrick_scale:!1,category:"symbols"},hash:{keywords:["symbol","blue-square","twitter"],char:"#️⃣",fitzpatrick_scale:!1,category:"symbols"},information_source:{keywords:["blue-square","alphabet","letter"],char:"ℹ️",fitzpatrick_scale:!1,category:"symbols"},abc:{keywords:["blue-square","alphabet"],char:"🔤",fitzpatrick_scale:!1,category:"symbols"},abcd:{keywords:["blue-square","alphabet"],char:"🔡",fitzpatrick_scale:!1,category:"symbols"},capital_abcd:{keywords:["alphabet","words","blue-square"],char:"🔠",fitzpatrick_scale:!1,category:"symbols"},symbols:{keywords:["blue-square","music","note","ampersand","percent","glyphs","characters"],char:"🔣",fitzpatrick_scale:!1,category:"symbols"},musical_note:{keywords:["score","tone","sound"],char:"🎵",fitzpatrick_scale:!1,category:"symbols"},notes:{keywords:["music","score"],char:"🎶",fitzpatrick_scale:!1,category:"symbols"},wavy_dash:{keywords:["draw","line","moustache","mustache","squiggle","scribble"],char:"〰️",fitzpatrick_scale:!1,category:"symbols"},curly_loop:{keywords:["scribble","draw","shape","squiggle"],char:"➰",fitzpatrick_scale:!1,category:"symbols"},heavy_check_mark:{keywords:["ok","nike","answer","yes","tick"],char:"✔️",fitzpatrick_scale:!1,category:"symbols"},arrows_clockwise:{keywords:["sync","cycle","round","repeat"],char:"🔃",fitzpatrick_scale:!1,category:"symbols"},heavy_plus_sign:{keywords:["math","calculation","addition","more","increase"],char:"➕",fitzpatrick_scale:!1,category:"symbols"},heavy_minus_sign:{keywords:["math","calculation","subtract","less"],char:"➖",fitzpatrick_scale:!1,category:"symbols"},heavy_division_sign:{keywords:["divide","math","calculation"],char:"➗",fitzpatrick_scale:!1,category:"symbols"},heavy_multiplication_x:{keywords:["math","calculation"],char:"✖️",fitzpatrick_scale:!1,category:"symbols"},infinity:{keywords:["forever"],char:"♾",fitzpatrick_scale:!1,category:"symbols"},heavy_dollar_sign:{keywords:["money","sales","payment","currency","buck"],char:"💲",fitzpatrick_scale:!1,category:"symbols"},currency_exchange:{keywords:["money","sales","dollar","travel"],char:"💱",fitzpatrick_scale:!1,category:"symbols"},copyright:{keywords:["ip","license","circle","law","legal"],char:"©️",fitzpatrick_scale:!1,category:"symbols"},registered:{keywords:["alphabet","circle"],char:"®️",fitzpatrick_scale:!1,category:"symbols"},tm:{keywords:["trademark","brand","law","legal"],char:"™️",fitzpatrick_scale:!1,category:"symbols"},end:{keywords:["words","arrow"],char:"🔚",fitzpatrick_scale:!1,category:"symbols"},back:{keywords:["arrow","words","return"],char:"🔙",fitzpatrick_scale:!1,category:"symbols"},on:{keywords:["arrow","words"],char:"🔛",fitzpatrick_scale:!1,category:"symbols"},top:{keywords:["words","blue-square"],char:"🔝",fitzpatrick_scale:!1,category:"symbols"},soon:{keywords:["arrow","words"],char:"🔜",fitzpatrick_scale:!1,category:"symbols"},ballot_box_with_check:{keywords:["ok","agree","confirm","black-square","vote","election","yes","tick"],char:"☑️",fitzpatrick_scale:!1,category:"symbols"},radio_button:{keywords:["input","old","music","circle"],char:"🔘",fitzpatrick_scale:!1,category:"symbols"},white_circle:{keywords:["shape","round"],char:"⚪",fitzpatrick_scale:!1,category:"symbols"},black_circle:{keywords:["shape","button","round"],char:"⚫",fitzpatrick_scale:!1,category:"symbols"},red_circle:{keywords:["shape","error","danger"],char:"🔴",fitzpatrick_scale:!1,category:"symbols"},large_blue_circle:{keywords:["shape","icon","button"],char:"🔵",fitzpatrick_scale:!1,category:"symbols"},small_orange_diamond:{keywords:["shape","jewel","gem"],char:"🔸",fitzpatrick_scale:!1,category:"symbols"},small_blue_diamond:{keywords:["shape","jewel","gem"],char:"🔹",fitzpatrick_scale:!1,category:"symbols"},large_orange_diamond:{keywords:["shape","jewel","gem"],char:"🔶",fitzpatrick_scale:!1,category:"symbols"},large_blue_diamond:{keywords:["shape","jewel","gem"],char:"🔷",fitzpatrick_scale:!1,category:"symbols"},small_red_triangle:{keywords:["shape","direction","up","top"],char:"🔺",fitzpatrick_scale:!1,category:"symbols"},black_small_square:{keywords:["shape","icon"],char:"▪️",fitzpatrick_scale:!1,category:"symbols"},white_small_square:{keywords:["shape","icon"],char:"▫️",fitzpatrick_scale:!1,category:"symbols"},black_large_square:{keywords:["shape","icon","button"],char:"⬛",fitzpatrick_scale:!1,category:"symbols"},white_large_square:{keywords:["shape","icon","stone","button"],char:"⬜",fitzpatrick_scale:!1,category:"symbols"},small_red_triangle_down:{keywords:["shape","direction","bottom"],char:"🔻",fitzpatrick_scale:!1,category:"symbols"},black_medium_square:{keywords:["shape","button","icon"],char:"◼️",fitzpatrick_scale:!1,category:"symbols"},white_medium_square:{keywords:["shape","stone","icon"],char:"◻️",fitzpatrick_scale:!1,category:"symbols"},black_medium_small_square:{keywords:["icon","shape","button"],char:"◾",fitzpatrick_scale:!1,category:"symbols"},white_medium_small_square:{keywords:["shape","stone","icon","button"],char:"◽",fitzpatrick_scale:!1,category:"symbols"},black_square_button:{keywords:["shape","input","frame"],char:"🔲",fitzpatrick_scale:!1,category:"symbols"},white_square_button:{keywords:["shape","input"],char:"🔳",fitzpatrick_scale:!1,category:"symbols"},speaker:{keywords:["sound","volume","silence","broadcast"],char:"🔈",fitzpatrick_scale:!1,category:"symbols"},sound:{keywords:["volume","speaker","broadcast"],char:"🔉",fitzpatrick_scale:!1,category:"symbols"},loud_sound:{keywords:["volume","noise","noisy","speaker","broadcast"],char:"🔊",fitzpatrick_scale:!1,category:"symbols"},mute:{keywords:["sound","volume","silence","quiet"],char:"🔇",fitzpatrick_scale:!1,category:"symbols"},mega:{keywords:["sound","speaker","volume"],char:"📣",fitzpatrick_scale:!1,category:"symbols"},loudspeaker:{keywords:["volume","sound"],char:"📢",fitzpatrick_scale:!1,category:"symbols"},bell:{keywords:["sound","notification","christmas","xmas","chime"],char:"🔔",fitzpatrick_scale:!1,category:"symbols"},no_bell:{keywords:["sound","volume","mute","quiet","silent"],char:"🔕",fitzpatrick_scale:!1,category:"symbols"},black_joker:{keywords:["poker","cards","game","play","magic"],char:"🃏",fitzpatrick_scale:!1,category:"symbols"},mahjong:{keywords:["game","play","chinese","kanji"],char:"🀄",fitzpatrick_scale:!1,category:"symbols"},spades:{keywords:["poker","cards","suits","magic"],char:"♠️",fitzpatrick_scale:!1,category:"symbols"},clubs:{keywords:["poker","cards","magic","suits"],char:"♣️",fitzpatrick_scale:!1,category:"symbols"},hearts:{keywords:["poker","cards","magic","suits"],char:"♥️",fitzpatrick_scale:!1,category:"symbols"},diamonds:{keywords:["poker","cards","magic","suits"],char:"♦️",fitzpatrick_scale:!1,category:"symbols"},flower_playing_cards:{keywords:["game","sunset","red"],char:"🎴",fitzpatrick_scale:!1,category:"symbols"},thought_balloon:{keywords:["bubble","cloud","speech","thinking","dream"],char:"💭",fitzpatrick_scale:!1,category:"symbols"},right_anger_bubble:{keywords:["caption","speech","thinking","mad"],char:"🗯",fitzpatrick_scale:!1,category:"symbols"},speech_balloon:{keywords:["bubble","words","message","talk","chatting"],char:"💬",fitzpatrick_scale:!1,category:"symbols"},left_speech_bubble:{keywords:["words","message","talk","chatting"],char:"🗨",fitzpatrick_scale:!1,category:"symbols"},clock1:{keywords:["time","late","early","schedule"],char:"🕐",fitzpatrick_scale:!1,category:"symbols"},clock2:{keywords:["time","late","early","schedule"],char:"🕑",fitzpatrick_scale:!1,category:"symbols"},clock3:{keywords:["time","late","early","schedule"],char:"🕒",fitzpatrick_scale:!1,category:"symbols"},clock4:{keywords:["time","late","early","schedule"],char:"🕓",fitzpatrick_scale:!1,category:"symbols"},clock5:{keywords:["time","late","early","schedule"],char:"🕔",fitzpatrick_scale:!1,category:"symbols"},clock6:{keywords:["time","late","early","schedule","dawn","dusk"],char:"🕕",fitzpatrick_scale:!1,category:"symbols"},clock7:{keywords:["time","late","early","schedule"],char:"🕖",fitzpatrick_scale:!1,category:"symbols"},clock8:{keywords:["time","late","early","schedule"],char:"🕗",fitzpatrick_scale:!1,category:"symbols"},clock9:{keywords:["time","late","early","schedule"],char:"🕘",fitzpatrick_scale:!1,category:"symbols"},clock10:{keywords:["time","late","early","schedule"],char:"🕙",fitzpatrick_scale:!1,category:"symbols"},clock11:{keywords:["time","late","early","schedule"],char:"🕚",fitzpatrick_scale:!1,category:"symbols"},clock12:{keywords:["time","noon","midnight","midday","late","early","schedule"],char:"🕛",fitzpatrick_scale:!1,category:"symbols"},clock130:{keywords:["time","late","early","schedule"],char:"🕜",fitzpatrick_scale:!1,category:"symbols"},clock230:{keywords:["time","late","early","schedule"],char:"🕝",fitzpatrick_scale:!1,category:"symbols"},clock330:{keywords:["time","late","early","schedule"],char:"🕞",fitzpatrick_scale:!1,category:"symbols"},clock430:{keywords:["time","late","early","schedule"],char:"🕟",fitzpatrick_scale:!1,category:"symbols"},clock530:{keywords:["time","late","early","schedule"],char:"🕠",fitzpatrick_scale:!1,category:"symbols"},clock630:{keywords:["time","late","early","schedule"],char:"🕡",fitzpatrick_scale:!1,category:"symbols"},clock730:{keywords:["time","late","early","schedule"],char:"🕢",fitzpatrick_scale:!1,category:"symbols"},clock830:{keywords:["time","late","early","schedule"],char:"🕣",fitzpatrick_scale:!1,category:"symbols"},clock930:{keywords:["time","late","early","schedule"],char:"🕤",fitzpatrick_scale:!1,category:"symbols"},clock1030:{keywords:["time","late","early","schedule"],char:"🕥",fitzpatrick_scale:!1,category:"symbols"},clock1130:{keywords:["time","late","early","schedule"],char:"🕦",fitzpatrick_scale:!1,category:"symbols"},clock1230:{keywords:["time","late","early","schedule"],char:"🕧",fitzpatrick_scale:!1,category:"symbols"},afghanistan:{keywords:["af","flag","nation","country","banner"],char:"🇦🇫",fitzpatrick_scale:!1,category:"flags"},aland_islands:{keywords:["Åland","islands","flag","nation","country","banner"],char:"🇦🇽",fitzpatrick_scale:!1,category:"flags"},albania:{keywords:["al","flag","nation","country","banner"],char:"🇦🇱",fitzpatrick_scale:!1,category:"flags"},algeria:{keywords:["dz","flag","nation","country","banner"],char:"🇩🇿",fitzpatrick_scale:!1,category:"flags"},american_samoa:{keywords:["american","ws","flag","nation","country","banner"],char:"🇦🇸",fitzpatrick_scale:!1,category:"flags"},andorra:{keywords:["ad","flag","nation","country","banner"],char:"🇦🇩",fitzpatrick_scale:!1,category:"flags"},angola:{keywords:["ao","flag","nation","country","banner"],char:"🇦🇴",fitzpatrick_scale:!1,category:"flags"},anguilla:{keywords:["ai","flag","nation","country","banner"],char:"🇦🇮",fitzpatrick_scale:!1,category:"flags"},antarctica:{keywords:["aq","flag","nation","country","banner"],char:"🇦🇶",fitzpatrick_scale:!1,category:"flags"},antigua_barbuda:{keywords:["antigua","barbuda","flag","nation","country","banner"],char:"🇦🇬",fitzpatrick_scale:!1,category:"flags"},argentina:{keywords:["ar","flag","nation","country","banner"],char:"🇦🇷",fitzpatrick_scale:!1,category:"flags"},armenia:{keywords:["am","flag","nation","country","banner"],char:"🇦🇲",fitzpatrick_scale:!1,category:"flags"},aruba:{keywords:["aw","flag","nation","country","banner"],char:"🇦🇼",fitzpatrick_scale:!1,category:"flags"},australia:{keywords:["au","flag","nation","country","banner"],char:"🇦🇺",fitzpatrick_scale:!1,category:"flags"},austria:{keywords:["at","flag","nation","country","banner"],char:"🇦🇹",fitzpatrick_scale:!1,category:"flags"},azerbaijan:{keywords:["az","flag","nation","country","banner"],char:"🇦🇿",fitzpatrick_scale:!1,category:"flags"},bahamas:{keywords:["bs","flag","nation","country","banner"],char:"🇧🇸",fitzpatrick_scale:!1,category:"flags"},bahrain:{keywords:["bh","flag","nation","country","banner"],char:"🇧🇭",fitzpatrick_scale:!1,category:"flags"},bangladesh:{keywords:["bd","flag","nation","country","banner"],char:"🇧🇩",fitzpatrick_scale:!1,category:"flags"},barbados:{keywords:["bb","flag","nation","country","banner"],char:"🇧🇧",fitzpatrick_scale:!1,category:"flags"},belarus:{keywords:["by","flag","nation","country","banner"],char:"🇧🇾",fitzpatrick_scale:!1,category:"flags"},belgium:{keywords:["be","flag","nation","country","banner"],char:"🇧🇪",fitzpatrick_scale:!1,category:"flags"},belize:{keywords:["bz","flag","nation","country","banner"],char:"🇧🇿",fitzpatrick_scale:!1,category:"flags"},benin:{keywords:["bj","flag","nation","country","banner"],char:"🇧🇯",fitzpatrick_scale:!1,category:"flags"},bermuda:{keywords:["bm","flag","nation","country","banner"],char:"🇧🇲",fitzpatrick_scale:!1,category:"flags"},bhutan:{keywords:["bt","flag","nation","country","banner"],char:"🇧🇹",fitzpatrick_scale:!1,category:"flags"},bolivia:{keywords:["bo","flag","nation","country","banner"],char:"🇧🇴",fitzpatrick_scale:!1,category:"flags"},caribbean_netherlands:{keywords:["bonaire","flag","nation","country","banner"],char:"🇧🇶",fitzpatrick_scale:!1,category:"flags"},bosnia_herzegovina:{keywords:["bosnia","herzegovina","flag","nation","country","banner"],char:"🇧🇦",fitzpatrick_scale:!1,category:"flags"},botswana:{keywords:["bw","flag","nation","country","banner"],char:"🇧🇼",fitzpatrick_scale:!1,category:"flags"},brazil:{keywords:["br","flag","nation","country","banner"],char:"🇧🇷",fitzpatrick_scale:!1,category:"flags"},british_indian_ocean_territory:{keywords:["british","indian","ocean","territory","flag","nation","country","banner"],char:"🇮🇴",fitzpatrick_scale:!1,category:"flags"},british_virgin_islands:{keywords:["british","virgin","islands","bvi","flag","nation","country","banner"],char:"🇻🇬",fitzpatrick_scale:!1,category:"flags"},brunei:{keywords:["bn","darussalam","flag","nation","country","banner"],char:"🇧🇳",fitzpatrick_scale:!1,category:"flags"},bulgaria:{keywords:["bg","flag","nation","country","banner"],char:"🇧🇬",fitzpatrick_scale:!1,category:"flags"},burkina_faso:{keywords:["burkina","faso","flag","nation","country","banner"],char:"🇧🇫",fitzpatrick_scale:!1,category:"flags"},burundi:{keywords:["bi","flag","nation","country","banner"],char:"🇧🇮",fitzpatrick_scale:!1,category:"flags"},cape_verde:{keywords:["cabo","verde","flag","nation","country","banner"],char:"🇨🇻",fitzpatrick_scale:!1,category:"flags"},cambodia:{keywords:["kh","flag","nation","country","banner"],char:"🇰🇭",fitzpatrick_scale:!1,category:"flags"},cameroon:{keywords:["cm","flag","nation","country","banner"],char:"🇨🇲",fitzpatrick_scale:!1,category:"flags"},canada:{keywords:["ca","flag","nation","country","banner"],char:"🇨🇦",fitzpatrick_scale:!1,category:"flags"},canary_islands:{keywords:["canary","islands","flag","nation","country","banner"],char:"🇮🇨",fitzpatrick_scale:!1,category:"flags"},cayman_islands:{keywords:["cayman","islands","flag","nation","country","banner"],char:"🇰🇾",fitzpatrick_scale:!1,category:"flags"},central_african_republic:{keywords:["central","african","republic","flag","nation","country","banner"],char:"🇨🇫",fitzpatrick_scale:!1,category:"flags"},chad:{keywords:["td","flag","nation","country","banner"],char:"🇹🇩",fitzpatrick_scale:!1,category:"flags"},chile:{keywords:["flag","nation","country","banner"],char:"🇨🇱",fitzpatrick_scale:!1,category:"flags"},cn:{keywords:["china","chinese","prc","flag","country","nation","banner"],char:"🇨🇳",fitzpatrick_scale:!1,category:"flags"},christmas_island:{keywords:["christmas","island","flag","nation","country","banner"],char:"🇨🇽",fitzpatrick_scale:!1,category:"flags"},cocos_islands:{keywords:["cocos","keeling","islands","flag","nation","country","banner"],char:"🇨🇨",fitzpatrick_scale:!1,category:"flags"},colombia:{keywords:["co","flag","nation","country","banner"],char:"🇨🇴",fitzpatrick_scale:!1,category:"flags"},comoros:{keywords:["km","flag","nation","country","banner"],char:"🇰🇲",fitzpatrick_scale:!1,category:"flags"},congo_brazzaville:{keywords:["congo","flag","nation","country","banner"],char:"🇨🇬",fitzpatrick_scale:!1,category:"flags"},congo_kinshasa:{keywords:["congo","democratic","republic","flag","nation","country","banner"],char:"🇨🇩",fitzpatrick_scale:!1,category:"flags"},cook_islands:{keywords:["cook","islands","flag","nation","country","banner"],char:"🇨🇰",fitzpatrick_scale:!1,category:"flags"},costa_rica:{keywords:["costa","rica","flag","nation","country","banner"],char:"🇨🇷",fitzpatrick_scale:!1,category:"flags"},croatia:{keywords:["hr","flag","nation","country","banner"],char:"🇭🇷",fitzpatrick_scale:!1,category:"flags"},cuba:{keywords:["cu","flag","nation","country","banner"],char:"🇨🇺",fitzpatrick_scale:!1,category:"flags"},curacao:{keywords:["curaçao","flag","nation","country","banner"],char:"🇨🇼",fitzpatrick_scale:!1,category:"flags"},cyprus:{keywords:["cy","flag","nation","country","banner"],char:"🇨🇾",fitzpatrick_scale:!1,category:"flags"},czech_republic:{keywords:["cz","flag","nation","country","banner"],char:"🇨🇿",fitzpatrick_scale:!1,category:"flags"},denmark:{keywords:["dk","flag","nation","country","banner"],char:"🇩🇰",fitzpatrick_scale:!1,category:"flags"},djibouti:{keywords:["dj","flag","nation","country","banner"],char:"🇩🇯",fitzpatrick_scale:!1,category:"flags"},dominica:{keywords:["dm","flag","nation","country","banner"],char:"🇩🇲",fitzpatrick_scale:!1,category:"flags"},dominican_republic:{keywords:["dominican","republic","flag","nation","country","banner"],char:"🇩🇴",fitzpatrick_scale:!1,category:"flags"},ecuador:{keywords:["ec","flag","nation","country","banner"],char:"🇪🇨",fitzpatrick_scale:!1,category:"flags"},egypt:{keywords:["eg","flag","nation","country","banner"],char:"🇪🇬",fitzpatrick_scale:!1,category:"flags"},el_salvador:{keywords:["el","salvador","flag","nation","country","banner"],char:"🇸🇻",fitzpatrick_scale:!1,category:"flags"},equatorial_guinea:{keywords:["equatorial","gn","flag","nation","country","banner"],char:"🇬🇶",fitzpatrick_scale:!1,category:"flags"},eritrea:{keywords:["er","flag","nation","country","banner"],char:"🇪🇷",fitzpatrick_scale:!1,category:"flags"},estonia:{keywords:["ee","flag","nation","country","banner"],char:"🇪🇪",fitzpatrick_scale:!1,category:"flags"},ethiopia:{keywords:["et","flag","nation","country","banner"],char:"🇪🇹",fitzpatrick_scale:!1,category:"flags"},eu:{keywords:["european","union","flag","banner"],char:"🇪🇺",fitzpatrick_scale:!1,category:"flags"},falkland_islands:{keywords:["falkland","islands","malvinas","flag","nation","country","banner"],char:"🇫🇰",fitzpatrick_scale:!1,category:"flags"},faroe_islands:{keywords:["faroe","islands","flag","nation","country","banner"],char:"🇫🇴",fitzpatrick_scale:!1,category:"flags"},fiji:{keywords:["fj","flag","nation","country","banner"],char:"🇫🇯",fitzpatrick_scale:!1,category:"flags"},finland:{keywords:["fi","flag","nation","country","banner"],char:"🇫🇮",fitzpatrick_scale:!1,category:"flags"},fr:{keywords:["banner","flag","nation","france","french","country"],char:"🇫🇷",fitzpatrick_scale:!1,category:"flags"},french_guiana:{keywords:["french","guiana","flag","nation","country","banner"],char:"🇬🇫",fitzpatrick_scale:!1,category:"flags"},french_polynesia:{keywords:["french","polynesia","flag","nation","country","banner"],char:"🇵🇫",fitzpatrick_scale:!1,category:"flags"},french_southern_territories:{keywords:["french","southern","territories","flag","nation","country","banner"],char:"🇹🇫",fitzpatrick_scale:!1,category:"flags"},gabon:{keywords:["ga","flag","nation","country","banner"],char:"🇬🇦",fitzpatrick_scale:!1,category:"flags"},gambia:{keywords:["gm","flag","nation","country","banner"],char:"🇬🇲",fitzpatrick_scale:!1,category:"flags"},georgia:{keywords:["ge","flag","nation","country","banner"],char:"🇬🇪",fitzpatrick_scale:!1,category:"flags"},de:{keywords:["german","nation","flag","country","banner"],char:"🇩🇪",fitzpatrick_scale:!1,category:"flags"},ghana:{keywords:["gh","flag","nation","country","banner"],char:"🇬🇭",fitzpatrick_scale:!1,category:"flags"},gibraltar:{keywords:["gi","flag","nation","country","banner"],char:"🇬🇮",fitzpatrick_scale:!1,category:"flags"},greece:{keywords:["gr","flag","nation","country","banner"],char:"🇬🇷",fitzpatrick_scale:!1,category:"flags"},greenland:{keywords:["gl","flag","nation","country","banner"],char:"🇬🇱",fitzpatrick_scale:!1,category:"flags"},grenada:{keywords:["gd","flag","nation","country","banner"],char:"🇬🇩",fitzpatrick_scale:!1,category:"flags"},guadeloupe:{keywords:["gp","flag","nation","country","banner"],char:"🇬🇵",fitzpatrick_scale:!1,category:"flags"},guam:{keywords:["gu","flag","nation","country","banner"],char:"🇬🇺",fitzpatrick_scale:!1,category:"flags"},guatemala:{keywords:["gt","flag","nation","country","banner"],char:"🇬🇹",fitzpatrick_scale:!1,category:"flags"},guernsey:{keywords:["gg","flag","nation","country","banner"],char:"🇬🇬",fitzpatrick_scale:!1,category:"flags"},guinea:{keywords:["gn","flag","nation","country","banner"],char:"🇬🇳",fitzpatrick_scale:!1,category:"flags"},guinea_bissau:{keywords:["gw","bissau","flag","nation","country","banner"],char:"🇬🇼",fitzpatrick_scale:!1,category:"flags"},guyana:{keywords:["gy","flag","nation","country","banner"],char:"🇬🇾",fitzpatrick_scale:!1,category:"flags"},haiti:{keywords:["ht","flag","nation","country","banner"],char:"🇭🇹",fitzpatrick_scale:!1,category:"flags"},honduras:{keywords:["hn","flag","nation","country","banner"],char:"🇭🇳",fitzpatrick_scale:!1,category:"flags"},hong_kong:{keywords:["hong","kong","flag","nation","country","banner"],char:"🇭🇰",fitzpatrick_scale:!1,category:"flags"},hungary:{keywords:["hu","flag","nation","country","banner"],char:"🇭🇺",fitzpatrick_scale:!1,category:"flags"},iceland:{keywords:["is","flag","nation","country","banner"],char:"🇮🇸",fitzpatrick_scale:!1,category:"flags"},india:{keywords:["in","flag","nation","country","banner"],char:"🇮🇳",fitzpatrick_scale:!1,category:"flags"},indonesia:{keywords:["flag","nation","country","banner"],char:"🇮🇩",fitzpatrick_scale:!1,category:"flags"},iran:{keywords:["iran,","islamic","republic","flag","nation","country","banner"],char:"🇮🇷",fitzpatrick_scale:!1,category:"flags"},iraq:{keywords:["iq","flag","nation","country","banner"],char:"🇮🇶",fitzpatrick_scale:!1,category:"flags"},ireland:{keywords:["ie","flag","nation","country","banner"],char:"🇮🇪",fitzpatrick_scale:!1,category:"flags"},isle_of_man:{keywords:["isle","man","flag","nation","country","banner"],char:"🇮🇲",fitzpatrick_scale:!1,category:"flags"},israel:{keywords:["il","flag","nation","country","banner"],char:"🇮🇱",fitzpatrick_scale:!1,category:"flags"},it:{keywords:["italy","flag","nation","country","banner"],char:"🇮🇹",fitzpatrick_scale:!1,category:"flags"},cote_divoire:{keywords:["ivory","coast","flag","nation","country","banner"],char:"🇨🇮",fitzpatrick_scale:!1,category:"flags"},jamaica:{keywords:["jm","flag","nation","country","banner"],char:"🇯🇲",fitzpatrick_scale:!1,category:"flags"},jp:{keywords:["japanese","nation","flag","country","banner"],char:"🇯🇵",fitzpatrick_scale:!1,category:"flags"},jersey:{keywords:["je","flag","nation","country","banner"],char:"🇯🇪",fitzpatrick_scale:!1,category:"flags"},jordan:{keywords:["jo","flag","nation","country","banner"],char:"🇯🇴",fitzpatrick_scale:!1,category:"flags"},kazakhstan:{keywords:["kz","flag","nation","country","banner"],char:"🇰🇿",fitzpatrick_scale:!1,category:"flags"},kenya:{keywords:["ke","flag","nation","country","banner"],char:"🇰🇪",fitzpatrick_scale:!1,category:"flags"},kiribati:{keywords:["ki","flag","nation","country","banner"],char:"🇰🇮",fitzpatrick_scale:!1,category:"flags"},kosovo:{keywords:["xk","flag","nation","country","banner"],char:"🇽🇰",fitzpatrick_scale:!1,category:"flags"},kuwait:{keywords:["kw","flag","nation","country","banner"],char:"🇰🇼",fitzpatrick_scale:!1,category:"flags"},kyrgyzstan:{keywords:["kg","flag","nation","country","banner"],char:"🇰🇬",fitzpatrick_scale:!1,category:"flags"},laos:{keywords:["lao","democratic","republic","flag","nation","country","banner"],char:"🇱🇦",fitzpatrick_scale:!1,category:"flags"},latvia:{keywords:["lv","flag","nation","country","banner"],char:"🇱🇻",fitzpatrick_scale:!1,category:"flags"},lebanon:{keywords:["lb","flag","nation","country","banner"],char:"🇱🇧",fitzpatrick_scale:!1,category:"flags"},lesotho:{keywords:["ls","flag","nation","country","banner"],char:"🇱🇸",fitzpatrick_scale:!1,category:"flags"},liberia:{keywords:["lr","flag","nation","country","banner"],char:"🇱🇷",fitzpatrick_scale:!1,category:"flags"},libya:{keywords:["ly","flag","nation","country","banner"],char:"🇱🇾",fitzpatrick_scale:!1,category:"flags"},liechtenstein:{keywords:["li","flag","nation","country","banner"],char:"🇱🇮",fitzpatrick_scale:!1,category:"flags"},lithuania:{keywords:["lt","flag","nation","country","banner"],char:"🇱🇹",fitzpatrick_scale:!1,category:"flags"},luxembourg:{keywords:["lu","flag","nation","country","banner"],char:"🇱🇺",fitzpatrick_scale:!1,category:"flags"},macau:{keywords:["macao","flag","nation","country","banner"],char:"🇲🇴",fitzpatrick_scale:!1,category:"flags"},macedonia:{keywords:["macedonia,","flag","nation","country","banner"],char:"🇲🇰",fitzpatrick_scale:!1,category:"flags"},madagascar:{keywords:["mg","flag","nation","country","banner"],char:"🇲🇬",fitzpatrick_scale:!1,category:"flags"},malawi:{keywords:["mw","flag","nation","country","banner"],char:"🇲🇼",fitzpatrick_scale:!1,category:"flags"},malaysia:{keywords:["my","flag","nation","country","banner"],char:"🇲🇾",fitzpatrick_scale:!1,category:"flags"},maldives:{keywords:["mv","flag","nation","country","banner"],char:"🇲🇻",fitzpatrick_scale:!1,category:"flags"},mali:{keywords:["ml","flag","nation","country","banner"],char:"🇲🇱",fitzpatrick_scale:!1,category:"flags"},malta:{keywords:["mt","flag","nation","country","banner"],char:"🇲🇹",fitzpatrick_scale:!1,category:"flags"},marshall_islands:{keywords:["marshall","islands","flag","nation","country","banner"],char:"🇲🇭",fitzpatrick_scale:!1,category:"flags"},martinique:{keywords:["mq","flag","nation","country","banner"],char:"🇲🇶",fitzpatrick_scale:!1,category:"flags"},mauritania:{keywords:["mr","flag","nation","country","banner"],char:"🇲🇷",fitzpatrick_scale:!1,category:"flags"},mauritius:{keywords:["mu","flag","nation","country","banner"],char:"🇲🇺",fitzpatrick_scale:!1,category:"flags"},mayotte:{keywords:["yt","flag","nation","country","banner"],char:"🇾🇹",fitzpatrick_scale:!1,category:"flags"},mexico:{keywords:["mx","flag","nation","country","banner"],char:"🇲🇽",fitzpatrick_scale:!1,category:"flags"},micronesia:{keywords:["micronesia,","federated","states","flag","nation","country","banner"],char:"🇫🇲",fitzpatrick_scale:!1,category:"flags"},moldova:{keywords:["moldova,","republic","flag","nation","country","banner"],char:"🇲🇩",fitzpatrick_scale:!1,category:"flags"},monaco:{keywords:["mc","flag","nation","country","banner"],char:"🇲🇨",fitzpatrick_scale:!1,category:"flags"},mongolia:{keywords:["mn","flag","nation","country","banner"],char:"🇲🇳",fitzpatrick_scale:!1,category:"flags"},montenegro:{keywords:["me","flag","nation","country","banner"],char:"🇲🇪",fitzpatrick_scale:!1,category:"flags"},montserrat:{keywords:["ms","flag","nation","country","banner"],char:"🇲🇸",fitzpatrick_scale:!1,category:"flags"},morocco:{keywords:["ma","flag","nation","country","banner"],char:"🇲🇦",fitzpatrick_scale:!1,category:"flags"},mozambique:{keywords:["mz","flag","nation","country","banner"],char:"🇲🇿",fitzpatrick_scale:!1,category:"flags"},myanmar:{keywords:["mm","flag","nation","country","banner"],char:"🇲🇲",fitzpatrick_scale:!1,category:"flags"},namibia:{keywords:["na","flag","nation","country","banner"],char:"🇳🇦",fitzpatrick_scale:!1,category:"flags"},nauru:{keywords:["nr","flag","nation","country","banner"],char:"🇳🇷",fitzpatrick_scale:!1,category:"flags"},nepal:{keywords:["np","flag","nation","country","banner"],char:"🇳🇵",fitzpatrick_scale:!1,category:"flags"},netherlands:{keywords:["nl","flag","nation","country","banner"],char:"🇳🇱",fitzpatrick_scale:!1,category:"flags"},new_caledonia:{keywords:["new","caledonia","flag","nation","country","banner"],char:"🇳🇨",fitzpatrick_scale:!1,category:"flags"},new_zealand:{keywords:["new","zealand","flag","nation","country","banner"],char:"🇳🇿",fitzpatrick_scale:!1,category:"flags"},nicaragua:{keywords:["ni","flag","nation","country","banner"],char:"🇳🇮",fitzpatrick_scale:!1,category:"flags"},niger:{keywords:["ne","flag","nation","country","banner"],char:"🇳🇪",fitzpatrick_scale:!1,category:"flags"},nigeria:{keywords:["flag","nation","country","banner"],char:"🇳🇬",fitzpatrick_scale:!1,category:"flags"},niue:{keywords:["nu","flag","nation","country","banner"],char:"🇳🇺",fitzpatrick_scale:!1,category:"flags"},norfolk_island:{keywords:["norfolk","island","flag","nation","country","banner"],char:"🇳🇫",fitzpatrick_scale:!1,category:"flags"},northern_mariana_islands:{keywords:["northern","mariana","islands","flag","nation","country","banner"],char:"🇲🇵",fitzpatrick_scale:!1,category:"flags"},north_korea:{keywords:["north","korea","nation","flag","country","banner"],char:"🇰🇵",fitzpatrick_scale:!1,category:"flags"},norway:{keywords:["no","flag","nation","country","banner"],char:"🇳🇴",fitzpatrick_scale:!1,category:"flags"},oman:{keywords:["om_symbol","flag","nation","country","banner"],char:"🇴🇲",fitzpatrick_scale:!1,category:"flags"},pakistan:{keywords:["pk","flag","nation","country","banner"],char:"🇵🇰",fitzpatrick_scale:!1,category:"flags"},palau:{keywords:["pw","flag","nation","country","banner"],char:"🇵🇼",fitzpatrick_scale:!1,category:"flags"},palestinian_territories:{keywords:["palestine","palestinian","territories","flag","nation","country","banner"],char:"🇵🇸",fitzpatrick_scale:!1,category:"flags"},panama:{keywords:["pa","flag","nation","country","banner"],char:"🇵🇦",fitzpatrick_scale:!1,category:"flags"},papua_new_guinea:{keywords:["papua","new","guinea","flag","nation","country","banner"],char:"🇵🇬",fitzpatrick_scale:!1,category:"flags"},paraguay:{keywords:["py","flag","nation","country","banner"],char:"🇵🇾",fitzpatrick_scale:!1,category:"flags"},peru:{keywords:["pe","flag","nation","country","banner"],char:"🇵🇪",fitzpatrick_scale:!1,category:"flags"},philippines:{keywords:["ph","flag","nation","country","banner"],char:"🇵🇭",fitzpatrick_scale:!1,category:"flags"},pitcairn_islands:{keywords:["pitcairn","flag","nation","country","banner"],char:"🇵🇳",fitzpatrick_scale:!1,category:"flags"},poland:{keywords:["pl","flag","nation","country","banner"],char:"🇵🇱",fitzpatrick_scale:!1,category:"flags"},portugal:{keywords:["pt","flag","nation","country","banner"],char:"🇵🇹",fitzpatrick_scale:!1,category:"flags"},puerto_rico:{keywords:["puerto","rico","flag","nation","country","banner"],char:"🇵🇷",fitzpatrick_scale:!1,category:"flags"},qatar:{keywords:["qa","flag","nation","country","banner"],char:"🇶🇦",fitzpatrick_scale:!1,category:"flags"},reunion:{keywords:["réunion","flag","nation","country","banner"],char:"🇷🇪",fitzpatrick_scale:!1,category:"flags"},romania:{keywords:["ro","flag","nation","country","banner"],char:"🇷🇴",fitzpatrick_scale:!1,category:"flags"},ru:{keywords:["russian","federation","flag","nation","country","banner"],char:"🇷🇺",fitzpatrick_scale:!1,category:"flags"},rwanda:{keywords:["rw","flag","nation","country","banner"],char:"🇷🇼",fitzpatrick_scale:!1,category:"flags"},st_barthelemy:{keywords:["saint","barthélemy","flag","nation","country","banner"],char:"🇧🇱",fitzpatrick_scale:!1,category:"flags"},st_helena:{keywords:["saint","helena","ascension","tristan","cunha","flag","nation","country","banner"],char:"🇸🇭",fitzpatrick_scale:!1,category:"flags"},st_kitts_nevis:{keywords:["saint","kitts","nevis","flag","nation","country","banner"],char:"🇰🇳",fitzpatrick_scale:!1,category:"flags"},st_lucia:{keywords:["saint","lucia","flag","nation","country","banner"],char:"🇱🇨",fitzpatrick_scale:!1,category:"flags"},st_pierre_miquelon:{keywords:["saint","pierre","miquelon","flag","nation","country","banner"],char:"🇵🇲",fitzpatrick_scale:!1,category:"flags"},st_vincent_grenadines:{keywords:["saint","vincent","grenadines","flag","nation","country","banner"],char:"🇻🇨",fitzpatrick_scale:!1,category:"flags"},samoa:{keywords:["ws","flag","nation","country","banner"],char:"🇼🇸",fitzpatrick_scale:!1,category:"flags"},san_marino:{keywords:["san","marino","flag","nation","country","banner"],char:"🇸🇲",fitzpatrick_scale:!1,category:"flags"},sao_tome_principe:{keywords:["sao","tome","principe","flag","nation","country","banner"],char:"🇸🇹",fitzpatrick_scale:!1,category:"flags"},saudi_arabia:{keywords:["flag","nation","country","banner"],char:"🇸🇦",fitzpatrick_scale:!1,category:"flags"},senegal:{keywords:["sn","flag","nation","country","banner"],char:"🇸🇳",fitzpatrick_scale:!1,category:"flags"},serbia:{keywords:["rs","flag","nation","country","banner"],char:"🇷🇸",fitzpatrick_scale:!1,category:"flags"},seychelles:{keywords:["sc","flag","nation","country","banner"],char:"🇸🇨",fitzpatrick_scale:!1,category:"flags"},sierra_leone:{keywords:["sierra","leone","flag","nation","country","banner"],char:"🇸🇱",fitzpatrick_scale:!1,category:"flags"},singapore:{keywords:["sg","flag","nation","country","banner"],char:"🇸🇬",fitzpatrick_scale:!1,category:"flags"},sint_maarten:{keywords:["sint","maarten","dutch","flag","nation","country","banner"],char:"🇸🇽",fitzpatrick_scale:!1,category:"flags"},slovakia:{keywords:["sk","flag","nation","country","banner"],char:"🇸🇰",fitzpatrick_scale:!1,category:"flags"},slovenia:{keywords:["si","flag","nation","country","banner"],char:"🇸🇮",fitzpatrick_scale:!1,category:"flags"},solomon_islands:{keywords:["solomon","islands","flag","nation","country","banner"],char:"🇸🇧",fitzpatrick_scale:!1,category:"flags"},somalia:{keywords:["so","flag","nation","country","banner"],char:"🇸🇴",fitzpatrick_scale:!1,category:"flags"},south_africa:{keywords:["south","africa","flag","nation","country","banner"],char:"🇿🇦",fitzpatrick_scale:!1,category:"flags"},south_georgia_south_sandwich_islands:{keywords:["south","georgia","sandwich","islands","flag","nation","country","banner"],char:"🇬🇸",fitzpatrick_scale:!1,category:"flags"},kr:{keywords:["south","korea","nation","flag","country","banner"],char:"🇰🇷",fitzpatrick_scale:!1,category:"flags"},south_sudan:{keywords:["south","sd","flag","nation","country","banner"],char:"🇸🇸",fitzpatrick_scale:!1,category:"flags"},es:{keywords:["spain","flag","nation","country","banner"],char:"🇪🇸",fitzpatrick_scale:!1,category:"flags"},sri_lanka:{keywords:["sri","lanka","flag","nation","country","banner"],char:"🇱🇰",fitzpatrick_scale:!1,category:"flags"},sudan:{keywords:["sd","flag","nation","country","banner"],char:"🇸🇩",fitzpatrick_scale:!1,category:"flags"},suriname:{keywords:["sr","flag","nation","country","banner"],char:"🇸🇷",fitzpatrick_scale:!1,category:"flags"},swaziland:{keywords:["sz","flag","nation","country","banner"],char:"🇸🇿",fitzpatrick_scale:!1,category:"flags"},sweden:{keywords:["se","flag","nation","country","banner"],char:"🇸🇪",fitzpatrick_scale:!1,category:"flags"},switzerland:{keywords:["ch","flag","nation","country","banner"],char:"🇨🇭",fitzpatrick_scale:!1,category:"flags"},syria:{keywords:["syrian","arab","republic","flag","nation","country","banner"],char:"🇸🇾",fitzpatrick_scale:!1,category:"flags"},taiwan:{keywords:["tw","flag","nation","country","banner"],char:"🇹🇼",fitzpatrick_scale:!1,category:"flags"},tajikistan:{keywords:["tj","flag","nation","country","banner"],char:"🇹🇯",fitzpatrick_scale:!1,category:"flags"},tanzania:{keywords:["tanzania,","united","republic","flag","nation","country","banner"],char:"🇹🇿",fitzpatrick_scale:!1,category:"flags"},thailand:{keywords:["th","flag","nation","country","banner"],char:"🇹🇭",fitzpatrick_scale:!1,category:"flags"},timor_leste:{keywords:["timor","leste","flag","nation","country","banner"],char:"🇹🇱",fitzpatrick_scale:!1,category:"flags"},togo:{keywords:["tg","flag","nation","country","banner"],char:"🇹🇬",fitzpatrick_scale:!1,category:"flags"},tokelau:{keywords:["tk","flag","nation","country","banner"],char:"🇹🇰",fitzpatrick_scale:!1,category:"flags"},tonga:{keywords:["to","flag","nation","country","banner"],char:"🇹🇴",fitzpatrick_scale:!1,category:"flags"},trinidad_tobago:{keywords:["trinidad","tobago","flag","nation","country","banner"],char:"🇹🇹",fitzpatrick_scale:!1,category:"flags"},tunisia:{keywords:["tn","flag","nation","country","banner"],char:"🇹🇳",fitzpatrick_scale:!1,category:"flags"},tr:{keywords:["turkey","flag","nation","country","banner"],char:"🇹🇷",fitzpatrick_scale:!1,category:"flags"},turkmenistan:{keywords:["flag","nation","country","banner"],char:"🇹🇲",fitzpatrick_scale:!1,category:"flags"},turks_caicos_islands:{keywords:["turks","caicos","islands","flag","nation","country","banner"],char:"🇹🇨",fitzpatrick_scale:!1,category:"flags"},tuvalu:{keywords:["flag","nation","country","banner"],char:"🇹🇻",fitzpatrick_scale:!1,category:"flags"},uganda:{keywords:["ug","flag","nation","country","banner"],char:"🇺🇬",fitzpatrick_scale:!1,category:"flags"},ukraine:{keywords:["ua","flag","nation","country","banner"],char:"🇺🇦",fitzpatrick_scale:!1,category:"flags"},united_arab_emirates:{keywords:["united","arab","emirates","flag","nation","country","banner"],char:"🇦🇪",fitzpatrick_scale:!1,category:"flags"},uk:{keywords:["united","kingdom","great","britain","northern","ireland","flag","nation","country","banner","british","UK","english","england","union jack"],char:"🇬🇧",fitzpatrick_scale:!1,category:"flags"},england:{keywords:["flag","english"],char:"🏴󠁧󠁢󠁥󠁮󠁧󠁿",fitzpatrick_scale:!1,category:"flags"},scotland:{keywords:["flag","scottish"],char:"🏴󠁧󠁢󠁳󠁣󠁴󠁿",fitzpatrick_scale:!1,category:"flags"},wales:{keywords:["flag","welsh"],char:"🏴󠁧󠁢󠁷󠁬󠁳󠁿",fitzpatrick_scale:!1,category:"flags"},us:{keywords:["united","states","america","flag","nation","country","banner"],char:"🇺🇸",fitzpatrick_scale:!1,category:"flags"},us_virgin_islands:{keywords:["virgin","islands","us","flag","nation","country","banner"],char:"🇻🇮",fitzpatrick_scale:!1,category:"flags"},uruguay:{keywords:["uy","flag","nation","country","banner"],char:"🇺🇾",fitzpatrick_scale:!1,category:"flags"},uzbekistan:{keywords:["uz","flag","nation","country","banner"],char:"🇺🇿",fitzpatrick_scale:!1,category:"flags"},vanuatu:{keywords:["vu","flag","nation","country","banner"],char:"🇻🇺",fitzpatrick_scale:!1,category:"flags"},vatican_city:{keywords:["vatican","city","flag","nation","country","banner"],char:"🇻🇦",fitzpatrick_scale:!1,category:"flags"},venezuela:{keywords:["ve","bolivarian","republic","flag","nation","country","banner"],char:"🇻🇪",fitzpatrick_scale:!1,category:"flags"},vietnam:{keywords:["viet","nam","flag","nation","country","banner"],char:"🇻🇳",fitzpatrick_scale:!1,category:"flags"},wallis_futuna:{keywords:["wallis","futuna","flag","nation","country","banner"],char:"🇼🇫",fitzpatrick_scale:!1,category:"flags"},western_sahara:{keywords:["western","sahara","flag","nation","country","banner"],char:"🇪🇭",fitzpatrick_scale:!1,category:"flags"},yemen:{keywords:["ye","flag","nation","country","banner"],char:"🇾🇪",fitzpatrick_scale:!1,category:"flags"},zambia:{keywords:["zm","flag","nation","country","banner"],char:"🇿🇲",fitzpatrick_scale:!1,category:"flags"},zimbabwe:{keywords:["zw","flag","nation","country","banner"],char:"🇿🇼",fitzpatrick_scale:!1,category:"flags"},united_nations:{keywords:["un","flag","banner"],char:"🇺🇳",fitzpatrick_scale:!1,category:"flags"},pirate_flag:{keywords:["skull","crossbones","flag","banner"],char:"🏴‍☠️",fitzpatrick_scale:!1,category:"flags"}});(function(){var xo=tinymce.util.Tools.resolve("tinymce.PluginManager");const Ko=lt=>lt==null,Io=lt=>!Ko(lt),on=()=>{},Qo=lt=>()=>lt;class io{constructor(Mt,ht){this.tag=Mt,this.value=ht}static some(Mt){return new io(!0,Mt)}static none(){return io.singletonNone}fold(Mt,ht){return this.tag?ht(this.value):Mt()}isSome(){return this.tag}isNone(){return!this.tag}map(Mt){return this.tag?io.some(Mt(this.value)):io.none()}bind(Mt){return this.tag?Mt(this.value):io.none()}exists(Mt){return this.tag&&Mt(this.value)}forall(Mt){return!this.tag||Mt(this.value)}filter(Mt){return!this.tag||Mt(this.value)?this:io.none()}getOr(Mt){return this.tag?this.value:Mt}or(Mt){return this.tag?this:Mt}getOrThunk(Mt){return this.tag?this.value:Mt()}orThunk(Mt){return this.tag?this:Mt()}getOrDie(Mt){if(this.tag)return this.value;throw new Error(Mt??"Called getOrDie on None")}static from(Mt){return Io(Mt)?io.some(Mt):io.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(Mt){this.tag&&Mt(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}io.singletonNone=new io(!1);const Po=(lt,Mt)=>Mt>=0&&Mt<lt.length?io.some(lt[Mt]):io.none(),jt=lt=>Po(lt,0);var ko=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils");const Mo=typeof window<"u"?window:Function("return this;")(),jo=function(lt,Mt,ht){const Rt=window.Prism;window.Prism={manual:!0};var uo=typeof window<"u"?window:typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope?self:{},Bt=function(V){var dt=/(?:^|\s)lang(?:uage)?-([\w-]+)(?=\s|$)/i,Ie=0,Co={},Pt={manual:V.Prism&&V.Prism.manual,disableWorkerMessageHandler:V.Prism&&V.Prism.disableWorkerMessageHandler,util:{encode:function Fe(ge){return ge instanceof lo?new lo(ge.type,Fe(ge.content),ge.alias):Array.isArray(ge)?ge.map(Fe):ge.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(Fe){return Object.prototype.toString.call(Fe).slice(8,-1)},objId:function(Fe){return Fe.__id||Object.defineProperty(Fe,"__id",{value:++Ie}),Fe.__id},clone:function Fe(ge,Me){Me=Me||{};var at,ze;switch(Pt.util.type(ge)){case"Object":if(ze=Pt.util.objId(ge),Me[ze])return Me[ze];at={},Me[ze]=at;for(var Ge in ge)ge.hasOwnProperty(Ge)&&(at[Ge]=Fe(ge[Ge],Me));return at;case"Array":return ze=Pt.util.objId(ge),Me[ze]?Me[ze]:(at=[],Me[ze]=at,ge.forEach(function(Gt,Vt){at[Vt]=Fe(Gt,Me)}),at);default:return ge}},getLanguage:function(Fe){for(;Fe;){var ge=dt.exec(Fe.className);if(ge)return ge[1].toLowerCase();Fe=Fe.parentElement}return"none"},setLanguage:function(Fe,ge){Fe.className=Fe.className.replace(RegExp(dt,"gi"),""),Fe.classList.add("language-"+ge)},currentScript:function(){if(typeof document>"u")return null;if("currentScript"in document&&1<2)return document.currentScript;try{throw new Error}catch(at){var Fe=(/at [^(\r\n]*\((.*):[^:]+:[^:]+\)$/i.exec(at.stack)||[])[1];if(Fe){var ge=document.getElementsByTagName("script");for(var Me in ge)if(ge[Me].src==Fe)return ge[Me]}return null}},isActive:function(Fe,ge,Me){for(var at="no-"+ge;Fe;){var ze=Fe.classList;if(ze.contains(ge))return!0;if(ze.contains(at))return!1;Fe=Fe.parentElement}return!!Me}},languages:{plain:Co,plaintext:Co,text:Co,txt:Co,extend:function(Fe,ge){var Me=Pt.util.clone(Pt.languages[Fe]);for(var at in ge)Me[at]=ge[at];return Me},insertBefore:function(Fe,ge,Me,at){at=at||Pt.languages;var ze=at[Fe],Ge={};for(var Gt in ze)if(ze.hasOwnProperty(Gt)){if(Gt==ge)for(var Vt in Me)Me.hasOwnProperty(Vt)&&(Ge[Vt]=Me[Vt]);Me.hasOwnProperty(Gt)||(Ge[Gt]=ze[Gt])}var Xo=at[Fe];return at[Fe]=Ge,Pt.languages.DFS(Pt.languages,function($o,Zo){Zo===Xo&&$o!=Fe&&(this[$o]=Ge)}),Ge},DFS:function Fe(ge,Me,at,ze){ze=ze||{};var Ge=Pt.util.objId;for(var Gt in ge)if(ge.hasOwnProperty(Gt)){Me.call(ge,Gt,ge[Gt],at||Gt);var Vt=ge[Gt],Xo=Pt.util.type(Vt);Xo==="Object"&&!ze[Ge(Vt)]?(ze[Ge(Vt)]=!0,Fe(Vt,Me,null,ze)):Xo==="Array"&&!ze[Ge(Vt)]&&(ze[Ge(Vt)]=!0,Fe(Vt,Me,Gt,ze))}}},plugins:{},highlightAll:function(Fe,ge){Pt.highlightAllUnder(document,Fe,ge)},highlightAllUnder:function(Fe,ge,Me){var at={callback:Me,container:Fe,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};Pt.hooks.run("before-highlightall",at),at.elements=Array.prototype.slice.apply(at.container.querySelectorAll(at.selector)),Pt.hooks.run("before-all-elements-highlight",at);for(var ze=0,Ge;Ge=at.elements[ze++];)Pt.highlightElement(Ge,ge===!0,at.callback)},highlightElement:function(Fe,ge,Me){var at=Pt.util.getLanguage(Fe),ze=Pt.languages[at];Pt.util.setLanguage(Fe,at);var Ge=Fe.parentElement;Ge&&Ge.nodeName.toLowerCase()==="pre"&&Pt.util.setLanguage(Ge,at);var Gt=Fe.textContent,Vt={element:Fe,language:at,grammar:ze,code:Gt};function Xo(Zo){Vt.highlightedCode=Zo,Pt.hooks.run("before-insert",Vt),Vt.element.innerHTML=Vt.highlightedCode,Pt.hooks.run("after-highlight",Vt),Pt.hooks.run("complete",Vt),Me&&Me.call(Vt.element)}if(Pt.hooks.run("before-sanity-check",Vt),Ge=Vt.element.parentElement,Ge&&Ge.nodeName.toLowerCase()==="pre"&&!Ge.hasAttribute("tabindex")&&Ge.setAttribute("tabindex","0"),!Vt.code){Pt.hooks.run("complete",Vt),Me&&Me.call(Vt.element);return}if(Pt.hooks.run("before-highlight",Vt),!Vt.grammar){Xo(Pt.util.encode(Vt.code));return}if(ge&&V.Worker){var $o=new Worker(Pt.filename);$o.onmessage=function(Zo){Xo(Zo.data)},$o.postMessage(JSON.stringify({language:Vt.language,code:Vt.code,immediateClose:!0}))}else Xo(Pt.highlight(Vt.code,Vt.grammar,Vt.language))},highlight:function(Fe,ge,Me){var at={code:Fe,grammar:ge,language:Me};if(Pt.hooks.run("before-tokenize",at),!at.grammar)throw new Error('The language "'+at.language+'" has no grammar.');return at.tokens=Pt.tokenize(at.code,at.grammar),Pt.hooks.run("after-tokenize",at),lo.stringify(Pt.util.encode(at.tokens),at.language)},tokenize:function(Fe,ge){var Me=ge.rest;if(Me){for(var at in Me)ge[at]=Me[at];delete ge.rest}var ze=new Se;return $e(ze,ze.head,Fe),to(Fe,ze,ge,ze.head,0),gt(ze)},hooks:{all:{},add:function(Fe,ge){var Me=Pt.hooks.all;Me[Fe]=Me[Fe]||[],Me[Fe].push(ge)},run:function(Fe,ge){var Me=Pt.hooks.all[Fe];if(!(!Me||!Me.length))for(var at=0,ze;ze=Me[at++];)ze(ge)}},Token:lo};V.Prism=Pt;function lo(Fe,ge,Me,at){this.type=Fe,this.content=ge,this.alias=Me,this.length=(at||"").length|0}lo.stringify=function Fe(ge,Me){if(typeof ge=="string")return ge;if(Array.isArray(ge)){var at="";return ge.forEach(function(Xo){at+=Fe(Xo,Me)}),at}var ze={type:ge.type,content:Fe(ge.content,Me),tag:"span",classes:["token",ge.type],attributes:{},language:Me},Ge=ge.alias;Ge&&(Array.isArray(Ge)?Array.prototype.push.apply(ze.classes,Ge):ze.classes.push(Ge)),Pt.hooks.run("wrap",ze);var Gt="";for(var Vt in ze.attributes)Gt+=" "+Vt+'="'+(ze.attributes[Vt]||"").replace(/"/g,"&quot;")+'"';return"<"+ze.tag+' class="'+ze.classes.join(" ")+'"'+Gt+">"+ze.content+"</"+ze.tag+">"};function zo(Fe,ge,Me,at){Fe.lastIndex=ge;var ze=Fe.exec(Me);if(ze&&at&&ze[1]){var Ge=ze[1].length;ze.index+=Ge,ze[0]=ze[0].slice(Ge)}return ze}function to(Fe,ge,Me,at,ze,Ge){for(var Gt in Me)if(!(!Me.hasOwnProperty(Gt)||!Me[Gt])){var Vt=Me[Gt];Vt=Array.isArray(Vt)?Vt:[Vt];for(var Xo=0;Xo<Vt.length;++Xo){if(Ge&&Ge.cause==Gt+","+Xo)return;var $o=Vt[Xo],Zo=$o.inside,Gn=!!$o.lookbehind,Pn=!!$o.greedy,zn=$o.alias;if(Pn&&!$o.pattern.global){var ut=$o.pattern.toString().match(/[imsuy]*$/)[0];$o.pattern=RegExp($o.pattern.source,ut+"g")}for(var zt=$o.pattern||$o,Ft=at.next,vo=ze;Ft!==ge.tail&&!(Ge&&vo>=Ge.reach);vo+=Ft.value.length,Ft=Ft.next){var Xt=Ft.value;if(ge.length>Fe.length)return;if(!(Xt instanceof lo)){var Vo=1,$n;if(Pn){if($n=zo(zt,vo,Fe,Gn),!$n||$n.index>=Fe.length)break;var Fn=$n.index,Rr=$n.index+$n[0].length,Wt=vo;for(Wt+=Ft.value.length;Fn>=Wt;)Ft=Ft.next,Wt+=Ft.value.length;if(Wt-=Ft.value.length,vo=Wt,Ft.value instanceof lo)continue;for(var vr=Ft;vr!==ge.tail&&(Wt<Rr||typeof vr.value=="string");vr=vr.next)Vo++,Wt+=vr.value.length;Vo--,Xt=Fe.slice(vo,Wt),$n.index-=vo}else if($n=zo(zt,0,Xt,Gn),!$n)continue;var Fn=$n.index,ln=$n[0],xr=Xt.slice(0,Fn),Ys=Xt.slice(Fn+ln.length),Yr=vo+Xt.length;Ge&&Yr>Ge.reach&&(Ge.reach=Yr);var Pa=Ft.prev;xr&&(Pa=$e(ge,Pa,xr),vo+=xr.length),ct(ge,Pa,Vo);var cs=new lo(Gt,Zo?Pt.tokenize(ln,Zo):ln,zn,ln);if(Ft=$e(ge,Pa,cs),Ys&&$e(ge,Ft,Ys),Vo>1){var Ha={cause:Gt+","+Xo,reach:Yr};to(Fe,ge,Me,Ft.prev,vo,Ha),Ge&&Ha.reach>Ge.reach&&(Ge.reach=Ha.reach)}}}}}}function Se(){var Fe={value:null,prev:null,next:null},ge={value:null,prev:Fe,next:null};Fe.next=ge,this.head=Fe,this.tail=ge,this.length=0}function $e(Fe,ge,Me){var at=ge.next,ze={value:Me,prev:ge,next:at};return ge.next=ze,at.prev=ze,Fe.length++,ze}function ct(Fe,ge,Me){for(var at=ge.next,ze=0;ze<Me&&at!==Fe.tail;ze++)at=at.next;ge.next=at,at.prev=ge,Fe.length-=ze}function gt(Fe){for(var ge=[],Me=Fe.head.next;Me!==Fe.tail;)ge.push(Me.value),Me=Me.next;return ge}if(!V.document)return V.addEventListener&&(Pt.disableWorkerMessageHandler||V.addEventListener("message",function(Fe){var ge=JSON.parse(Fe.data),Me=ge.language,at=ge.code,ze=ge.immediateClose;V.postMessage(Pt.highlight(at,Pt.languages[Me],Me)),ze&&V.close()},!1)),Pt;var pe=Pt.util.currentScript();pe&&(Pt.filename=pe.src,pe.hasAttribute("data-manual")&&(Pt.manual=!0));function Oe(){Pt.manual||Pt.highlightAll()}if(!Pt.manual){var We=document.readyState;We==="loading"||We==="interactive"&&pe&&pe.defer?document.addEventListener("DOMContentLoaded",Oe):window.requestAnimationFrame?window.requestAnimationFrame(Oe):window.setTimeout(Oe,16)}return Pt}(uo);return typeof Mt<"u"&&Mt.exports&&(Mt.exports=Bt),typeof lt<"u"&&(lt.Prism=Bt),Bt.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|trait)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\b/,boolean:/\b(?:false|true)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/},function(V){function dt(Ie,Co){return"___"+Ie.toUpperCase()+Co+"___"}Object.defineProperties(V.languages["markup-templating"]={},{buildPlaceholders:{value:function(Ie,Co,Pt,lo){if(Ie.language===Co){var zo=Ie.tokenStack=[];Ie.code=Ie.code.replace(Pt,function(to){if(typeof lo=="function"&&!lo(to))return to;for(var Se=zo.length,$e;Ie.code.indexOf($e=dt(Co,Se))!==-1;)++Se;return zo[Se]=to,$e}),Ie.grammar=V.languages.markup}}},tokenizePlaceholders:{value:function(Ie,Co){if(Ie.language!==Co||!Ie.tokenStack)return;Ie.grammar=V.languages[Co];var Pt=0,lo=Object.keys(Ie.tokenStack);function zo(to){for(var Se=0;Se<to.length&&!(Pt>=lo.length);Se++){var $e=to[Se];if(typeof $e=="string"||$e.content&&typeof $e.content=="string"){var ct=lo[Pt],gt=Ie.tokenStack[ct],pe=typeof $e=="string"?$e:$e.content,Oe=dt(Co,ct),We=pe.indexOf(Oe);if(We>-1){++Pt;var Fe=pe.substring(0,We),ge=new V.Token(Co,V.tokenize(gt,Ie.grammar),"language-"+Co,gt),Me=pe.substring(We+Oe.length),at=[];Fe&&at.push.apply(at,zo([Fe])),at.push(ge),Me&&at.push.apply(at,zo([Me])),typeof $e=="string"?to.splice.apply(to,[Se,1].concat(at)):$e.content=at}}else $e.content&&zo($e.content)}return to}zo(Ie.tokens)}}})}(Bt),Bt.languages.c=Bt.languages.extend("clike",{comment:{pattern:/\/\/(?:[^\r\n\\]|\\(?:\r\n?|\n|(?![\r\n])))*|\/\*[\s\S]*?(?:\*\/|$)/,greedy:!0},string:{pattern:/"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"/,greedy:!0},"class-name":{pattern:/(\b(?:enum|struct)\s+(?:__attribute__\s*\(\([\s\S]*?\)\)\s*)?)\w+|\b[a-z]\w*_t\b/,lookbehind:!0},keyword:/\b(?:_Alignas|_Alignof|_Atomic|_Bool|_Complex|_Generic|_Imaginary|_Noreturn|_Static_assert|_Thread_local|__attribute__|asm|auto|break|case|char|const|continue|default|do|double|else|enum|extern|float|for|goto|if|inline|int|long|register|return|short|signed|sizeof|static|struct|switch|typedef|typeof|union|unsigned|void|volatile|while)\b/,function:/\b[a-z_]\w*(?=\s*\()/i,number:/(?:\b0x(?:[\da-f]+(?:\.[\da-f]*)?|\.[\da-f]+)(?:p[+-]?\d+)?|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?)[ful]{0,4}/i,operator:/>>=?|<<=?|->|([-+&|:])\1|[?:~]|[-+*/%&|^!=<>]=?/}),Bt.languages.insertBefore("c","string",{char:{pattern:/'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n]){0,32}'/,greedy:!0}}),Bt.languages.insertBefore("c","string",{macro:{pattern:/(^[\t ]*)#\s*[a-z](?:[^\r\n\\/]|\/(?!\*)|\/\*(?:[^*]|\*(?!\/))*\*\/|\\(?:\r\n|[\s\S]))*/im,lookbehind:!0,greedy:!0,alias:"property",inside:{string:[{pattern:/^(#\s*include\s*)<[^>]+>/,lookbehind:!0},Bt.languages.c.string],char:Bt.languages.c.char,comment:Bt.languages.c.comment,"macro-name":[{pattern:/(^#\s*define\s+)\w+\b(?!\()/i,lookbehind:!0},{pattern:/(^#\s*define\s+)\w+\b(?=\()/i,lookbehind:!0,alias:"function"}],directive:{pattern:/^(#\s*)[a-z]+/,lookbehind:!0,alias:"keyword"},"directive-hash":/^#/,punctuation:/##|\\(?=[\r\n])/,expression:{pattern:/\S[\s\S]*/,inside:Bt.languages.c}}}}),Bt.languages.insertBefore("c","function",{constant:/\b(?:EOF|NULL|SEEK_CUR|SEEK_END|SEEK_SET|__DATE__|__FILE__|__LINE__|__TIMESTAMP__|__TIME__|__func__|stderr|stdin|stdout)\b/}),delete Bt.languages.c.boolean,function(V){var dt=/\b(?:alignas|alignof|asm|auto|bool|break|case|catch|char|char16_t|char32_t|char8_t|class|co_await|co_return|co_yield|compl|concept|const|const_cast|consteval|constexpr|constinit|continue|decltype|default|delete|do|double|dynamic_cast|else|enum|explicit|export|extern|final|float|for|friend|goto|if|import|inline|int|int16_t|int32_t|int64_t|int8_t|long|module|mutable|namespace|new|noexcept|nullptr|operator|override|private|protected|public|register|reinterpret_cast|requires|return|short|signed|sizeof|static|static_assert|static_cast|struct|switch|template|this|thread_local|throw|try|typedef|typeid|typename|uint16_t|uint32_t|uint64_t|uint8_t|union|unsigned|using|virtual|void|volatile|wchar_t|while)\b/,Ie=/\b(?!<keyword>)\w+(?:\s*\.\s*\w+)*\b/.source.replace(/<keyword>/g,function(){return dt.source});V.languages.cpp=V.languages.extend("c",{"class-name":[{pattern:RegExp(/(\b(?:class|concept|enum|struct|typename)\s+)(?!<keyword>)\w+/.source.replace(/<keyword>/g,function(){return dt.source})),lookbehind:!0},/\b[A-Z]\w*(?=\s*::\s*\w+\s*\()/,/\b[A-Z_]\w*(?=\s*::\s*~\w+\s*\()/i,/\b\w+(?=\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>\s*::\s*\w+\s*\()/],keyword:dt,number:{pattern:/(?:\b0b[01']+|\b0x(?:[\da-f']+(?:\.[\da-f']*)?|\.[\da-f']+)(?:p[+-]?[\d']+)?|(?:\b[\d']+(?:\.[\d']*)?|\B\.[\d']+)(?:e[+-]?[\d']+)?)[ful]{0,4}/i,greedy:!0},operator:/>>=?|<<=?|->|--|\+\+|&&|\|\||[?:~]|<=>|[-+*/%&|^!=<>]=?|\b(?:and|and_eq|bitand|bitor|not|not_eq|or|or_eq|xor|xor_eq)\b/,boolean:/\b(?:false|true)\b/}),V.languages.insertBefore("cpp","string",{module:{pattern:RegExp(/(\b(?:import|module)\s+)/.source+"(?:"+/"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|<[^<>\r\n]*>/.source+"|"+/<mod-name>(?:\s*:\s*<mod-name>)?|:\s*<mod-name>/.source.replace(/<mod-name>/g,function(){return Ie})+")"),lookbehind:!0,greedy:!0,inside:{string:/^[<"][\s\S]+/,operator:/:/,punctuation:/\./}},"raw-string":{pattern:/R"([^()\\ ]{0,16})\([\s\S]*?\)\1"/,alias:"string",greedy:!0}}),V.languages.insertBefore("cpp","keyword",{"generic-function":{pattern:/\b(?!operator\b)[a-z_]\w*\s*<(?:[^<>]|<[^<>]*>)*>(?=\s*\()/i,inside:{function:/^\w+/,generic:{pattern:/<[\s\S]+/,alias:"class-name",inside:V.languages.cpp}}}}),V.languages.insertBefore("cpp","operator",{"double-colon":{pattern:/::/,alias:"punctuation"}}),V.languages.insertBefore("cpp","class-name",{"base-clause":{pattern:/(\b(?:class|struct)\s+\w+\s*:\s*)[^;{}"'\s]+(?:\s+[^;{}"'\s]+)*(?=\s*[;{])/,lookbehind:!0,greedy:!0,inside:V.languages.extend("cpp",{})}}),V.languages.insertBefore("inside","double-colon",{"class-name":/\b[a-z_]\w*\b(?!\s*::)/i},V.languages.cpp["base-clause"])}(Bt),function(V){function dt($n,Rr){return $n.replace(/<<(\d+)>>/g,function(Wt,vr){return"(?:"+Rr[+vr]+")"})}function Ie($n,Rr,Wt){return RegExp(dt($n,Rr),Wt||"")}function Co($n,Rr){for(var Wt=0;Wt<Rr;Wt++)$n=$n.replace(/<<self>>/g,function(){return"(?:"+$n+")"});return $n.replace(/<<self>>/g,"[^\\s\\S]")}var Pt={type:"bool byte char decimal double dynamic float int long object sbyte short string uint ulong ushort var void",typeDeclaration:"class enum interface record struct",contextual:"add alias and ascending async await by descending from(?=\\s*(?:\\w|$)) get global group into init(?=\\s*;) join let nameof not notnull on or orderby partial remove select set unmanaged value when where with(?=\\s*{)",other:"abstract as base break case catch checked const continue default delegate do else event explicit extern finally fixed for foreach goto if implicit in internal is lock namespace new null operator out override params private protected public readonly ref return sealed sizeof stackalloc static switch this throw try typeof unchecked unsafe using virtual volatile while yield"};function lo($n){return"\\b(?:"+$n.trim().replace(/ /g,"|")+")\\b"}var zo=lo(Pt.typeDeclaration),to=RegExp(lo(Pt.type+" "+Pt.typeDeclaration+" "+Pt.contextual+" "+Pt.other)),Se=lo(Pt.typeDeclaration+" "+Pt.contextual+" "+Pt.other),$e=lo(Pt.type+" "+Pt.typeDeclaration+" "+Pt.other),ct=Co(/<(?:[^<>;=+\-*/%&|^]|<<self>>)*>/.source,2),gt=Co(/\((?:[^()]|<<self>>)*\)/.source,2),pe=/@?\b[A-Za-z_]\w*\b/.source,Oe=dt(/<<0>>(?:\s*<<1>>)?/.source,[pe,ct]),We=dt(/(?!<<0>>)<<1>>(?:\s*\.\s*<<1>>)*/.source,[Se,Oe]),Fe=/\[\s*(?:,\s*)*\]/.source,ge=dt(/<<0>>(?:\s*(?:\?\s*)?<<1>>)*(?:\s*\?)?/.source,[We,Fe]),Me=dt(/[^,()<>[\];=+\-*/%&|^]|<<0>>|<<1>>|<<2>>/.source,[ct,gt,Fe]),at=dt(/\(<<0>>+(?:,<<0>>+)+\)/.source,[Me]),ze=dt(/(?:<<0>>|<<1>>)(?:\s*(?:\?\s*)?<<2>>)*(?:\s*\?)?/.source,[at,We,Fe]),Ge={keyword:to,punctuation:/[<>()?,.:[\]]/},Gt=/'(?:[^\r\n'\\]|\\.|\\[Uux][\da-fA-F]{1,8})'/.source,Vt=/"(?:\\.|[^\\"\r\n])*"/.source,Xo=/@"(?:""|\\[\s\S]|[^\\"])*"(?!")/.source;V.languages.csharp=V.languages.extend("clike",{string:[{pattern:Ie(/(^|[^$\\])<<0>>/.source,[Xo]),lookbehind:!0,greedy:!0},{pattern:Ie(/(^|[^@$\\])<<0>>/.source,[Vt]),lookbehind:!0,greedy:!0}],"class-name":[{pattern:Ie(/(\busing\s+static\s+)<<0>>(?=\s*;)/.source,[We]),lookbehind:!0,inside:Ge},{pattern:Ie(/(\busing\s+<<0>>\s*=\s*)<<1>>(?=\s*;)/.source,[pe,ze]),lookbehind:!0,inside:Ge},{pattern:Ie(/(\busing\s+)<<0>>(?=\s*=)/.source,[pe]),lookbehind:!0},{pattern:Ie(/(\b<<0>>\s+)<<1>>/.source,[zo,Oe]),lookbehind:!0,inside:Ge},{pattern:Ie(/(\bcatch\s*\(\s*)<<0>>/.source,[We]),lookbehind:!0,inside:Ge},{pattern:Ie(/(\bwhere\s+)<<0>>/.source,[pe]),lookbehind:!0},{pattern:Ie(/(\b(?:is(?:\s+not)?|as)\s+)<<0>>/.source,[ge]),lookbehind:!0,inside:Ge},{pattern:Ie(/\b<<0>>(?=\s+(?!<<1>>|with\s*\{)<<2>>(?:\s*[=,;:{)\]]|\s+(?:in|when)\b))/.source,[ze,$e,pe]),inside:Ge}],keyword:to,number:/(?:\b0(?:x[\da-f_]*[\da-f]|b[01_]*[01])|(?:\B\.\d+(?:_+\d+)*|\b\d+(?:_+\d+)*(?:\.\d+(?:_+\d+)*)?)(?:e[-+]?\d+(?:_+\d+)*)?)(?:[dflmu]|lu|ul)?\b/i,operator:/>>=?|<<=?|[-=]>|([-+&|])\1|~|\?\?=?|[-+*/%&|^!=<>]=?/,punctuation:/\?\.?|::|[{}[\];(),.:]/}),V.languages.insertBefore("csharp","number",{range:{pattern:/\.\./,alias:"operator"}}),V.languages.insertBefore("csharp","punctuation",{"named-parameter":{pattern:Ie(/([(,]\s*)<<0>>(?=\s*:)/.source,[pe]),lookbehind:!0,alias:"punctuation"}}),V.languages.insertBefore("csharp","class-name",{namespace:{pattern:Ie(/(\b(?:namespace|using)\s+)<<0>>(?:\s*\.\s*<<0>>)*(?=\s*[;{])/.source,[pe]),lookbehind:!0,inside:{punctuation:/\./}},"type-expression":{pattern:Ie(/(\b(?:default|sizeof|typeof)\s*\(\s*(?!\s))(?:[^()\s]|\s(?!\s)|<<0>>)*(?=\s*\))/.source,[gt]),lookbehind:!0,alias:"class-name",inside:Ge},"return-type":{pattern:Ie(/<<0>>(?=\s+(?:<<1>>\s*(?:=>|[({]|\.\s*this\s*\[)|this\s*\[))/.source,[ze,We]),inside:Ge,alias:"class-name"},"constructor-invocation":{pattern:Ie(/(\bnew\s+)<<0>>(?=\s*[[({])/.source,[ze]),lookbehind:!0,inside:Ge,alias:"class-name"},"generic-method":{pattern:Ie(/<<0>>\s*<<1>>(?=\s*\()/.source,[pe,ct]),inside:{function:Ie(/^<<0>>/.source,[pe]),generic:{pattern:RegExp(ct),alias:"class-name",inside:Ge}}},"type-list":{pattern:Ie(/\b((?:<<0>>\s+<<1>>|record\s+<<1>>\s*<<5>>|where\s+<<2>>)\s*:\s*)(?:<<3>>|<<4>>|<<1>>\s*<<5>>|<<6>>)(?:\s*,\s*(?:<<3>>|<<4>>|<<6>>))*(?=\s*(?:where|[{;]|=>|$))/.source,[zo,Oe,pe,ze,to.source,gt,/\bnew\s*\(\s*\)/.source]),lookbehind:!0,inside:{"record-arguments":{pattern:Ie(/(^(?!new\s*\()<<0>>\s*)<<1>>/.source,[Oe,gt]),lookbehind:!0,greedy:!0,inside:V.languages.csharp},keyword:to,"class-name":{pattern:RegExp(ze),greedy:!0,inside:Ge},punctuation:/[,()]/}},preprocessor:{pattern:/(^[\t ]*)#.*/m,lookbehind:!0,alias:"property",inside:{directive:{pattern:/(#)\b(?:define|elif|else|endif|endregion|error|if|line|nullable|pragma|region|undef|warning)\b/,lookbehind:!0,alias:"keyword"}}}});var $o=Vt+"|"+Gt,Zo=dt(/\/(?![*/])|\/\/[^\r\n]*[\r\n]|\/\*(?:[^*]|\*(?!\/))*\*\/|<<0>>/.source,[$o]),Gn=Co(dt(/[^"'/()]|<<0>>|\(<<self>>*\)/.source,[Zo]),2),Pn=/\b(?:assembly|event|field|method|module|param|property|return|type)\b/.source,zn=dt(/<<0>>(?:\s*\(<<1>>*\))?/.source,[We,Gn]);V.languages.insertBefore("csharp","class-name",{attribute:{pattern:Ie(/((?:^|[^\s\w>)?])\s*\[\s*)(?:<<0>>\s*:\s*)?<<1>>(?:\s*,\s*<<1>>)*(?=\s*\])/.source,[Pn,zn]),lookbehind:!0,greedy:!0,inside:{target:{pattern:Ie(/^<<0>>(?=\s*:)/.source,[Pn]),alias:"keyword"},"attribute-arguments":{pattern:Ie(/\(<<0>>*\)/.source,[Gn]),inside:V.languages.csharp},"class-name":{pattern:RegExp(We),inside:{punctuation:/\./}},punctuation:/[:,]/}}});var ut=/:[^}\r\n]+/.source,zt=Co(dt(/[^"'/()]|<<0>>|\(<<self>>*\)/.source,[Zo]),2),Ft=dt(/\{(?!\{)(?:(?![}:])<<0>>)*<<1>>?\}/.source,[zt,ut]),vo=Co(dt(/[^"'/()]|\/(?!\*)|\/\*(?:[^*]|\*(?!\/))*\*\/|<<0>>|\(<<self>>*\)/.source,[$o]),2),Xt=dt(/\{(?!\{)(?:(?![}:])<<0>>)*<<1>>?\}/.source,[vo,ut]);function Vo($n,Rr){return{interpolation:{pattern:Ie(/((?:^|[^{])(?:\{\{)*)<<0>>/.source,[$n]),lookbehind:!0,inside:{"format-string":{pattern:Ie(/(^\{(?:(?![}:])<<0>>)*)<<1>>(?=\}$)/.source,[Rr,ut]),lookbehind:!0,inside:{punctuation:/^:/}},punctuation:/^\{|\}$/,expression:{pattern:/[\s\S]+/,alias:"language-csharp",inside:V.languages.csharp}}},string:/[\s\S]+/}}V.languages.insertBefore("csharp","string",{"interpolation-string":[{pattern:Ie(/(^|[^\\])(?:\$@|@\$)"(?:""|\\[\s\S]|\{\{|<<0>>|[^\\{"])*"/.source,[Ft]),lookbehind:!0,greedy:!0,inside:Vo(Ft,zt)},{pattern:Ie(/(^|[^@\\])\$"(?:\\.|\{\{|<<0>>|[^\\"{])*"/.source,[Xt]),lookbehind:!0,greedy:!0,inside:Vo(Xt,vo)}],char:{pattern:RegExp(Gt),greedy:!0}}),V.languages.dotnet=V.languages.cs=V.languages.csharp}(Bt),function(V){var dt=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;V.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:RegExp("@[\\w-](?:"+/[^;{\s"']|\s+(?!\s)/.source+"|"+dt.source+")*?"+/(?:;|(?=\s*\{))/.source),inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+dt.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+dt.source+"$"),alias:"url"}}},selector:{pattern:RegExp(`(^|[{}\\s])[^{}\\s](?:[^{};"'\\s]|\\s+(?![\\s{])|`+dt.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:dt,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},V.languages.css.atrule.inside.rest=V.languages.css;var Ie=V.languages.markup;Ie&&(Ie.tag.addInlined("style","css"),Ie.tag.addAttribute("style","css"))}(Bt),function(V){var dt=/\b(?:abstract|assert|boolean|break|byte|case|catch|char|class|const|continue|default|do|double|else|enum|exports|extends|final|finally|float|for|goto|if|implements|import|instanceof|int|interface|long|module|native|new|non-sealed|null|open|opens|package|permits|private|protected|provides|public|record(?!\s*[(){}[\]<>=%~.:,;?+\-*/&|^])|requires|return|sealed|short|static|strictfp|super|switch|synchronized|this|throw|throws|to|transient|transitive|try|uses|var|void|volatile|while|with|yield)\b/,Ie=/(?:[a-z]\w*\s*\.\s*)*(?:[A-Z]\w*\s*\.\s*)*/.source,Co={pattern:RegExp(/(^|[^\w.])/.source+Ie+/[A-Z](?:[\d_A-Z]*[a-z]\w*)?\b/.source),lookbehind:!0,inside:{namespace:{pattern:/^[a-z]\w*(?:\s*\.\s*[a-z]\w*)*(?:\s*\.)?/,inside:{punctuation:/\./}},punctuation:/\./}};V.languages.java=V.languages.extend("clike",{string:{pattern:/(^|[^\\])"(?:\\.|[^"\\\r\n])*"/,lookbehind:!0,greedy:!0},"class-name":[Co,{pattern:RegExp(/(^|[^\w.])/.source+Ie+/[A-Z]\w*(?=\s+\w+\s*[;,=()]|\s*(?:\[[\s,]*\]\s*)?::\s*new\b)/.source),lookbehind:!0,inside:Co.inside},{pattern:RegExp(/(\b(?:class|enum|extends|implements|instanceof|interface|new|record|throws)\s+)/.source+Ie+/[A-Z]\w*\b/.source),lookbehind:!0,inside:Co.inside}],keyword:dt,function:[V.languages.clike.function,{pattern:/(::\s*)[a-z_]\w*/,lookbehind:!0}],number:/\b0b[01][01_]*L?\b|\b0x(?:\.[\da-f_p+-]+|[\da-f_]+(?:\.[\da-f_p+-]+)?)\b|(?:\b\d[\d_]*(?:\.[\d_]*)?|\B\.\d[\d_]*)(?:e[+-]?\d[\d_]*)?[dfl]?/i,operator:{pattern:/(^|[^.])(?:<<=?|>>>?=?|->|--|\+\+|&&|\|\||::|[?:~]|[-+*/%&|^!=<>]=?)/m,lookbehind:!0},constant:/\b[A-Z][A-Z_\d]+\b/}),V.languages.insertBefore("java","string",{"triple-quoted-string":{pattern:/"""[ \t]*[\r\n](?:(?:"|"")?(?:\\.|[^"\\]))*"""/,greedy:!0,alias:"string"},char:{pattern:/'(?:\\.|[^'\\\r\n]){1,6}'/,greedy:!0}}),V.languages.insertBefore("java","class-name",{annotation:{pattern:/(^|[^.])@\w+(?:\s*\.\s*\w+)*/,lookbehind:!0,alias:"punctuation"},generics:{pattern:/<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&))*>)*>)*>)*>/,inside:{"class-name":Co,keyword:dt,punctuation:/[<>(),.:]/,operator:/[?&|]/}},import:[{pattern:RegExp(/(\bimport\s+)/.source+Ie+/(?:[A-Z]\w*|\*)(?=\s*;)/.source),lookbehind:!0,inside:{namespace:Co.inside.namespace,punctuation:/\./,operator:/\*/,"class-name":/\w+/}},{pattern:RegExp(/(\bimport\s+static\s+)/.source+Ie+/(?:\w+|\*)(?=\s*;)/.source),lookbehind:!0,alias:"static",inside:{namespace:Co.inside.namespace,static:/\b\w+$/,punctuation:/\./,operator:/\*/,"class-name":/\w+/}}],namespace:{pattern:RegExp(/(\b(?:exports|import(?:\s+static)?|module|open|opens|package|provides|requires|to|transitive|uses|with)\s+)(?!<keyword>)[a-z]\w*(?:\.[a-z]\w*)*\.?/.source.replace(/<keyword>/g,function(){return dt.source})),lookbehind:!0,inside:{punctuation:/\./}}})}(Bt),Bt.languages.javascript=Bt.languages.extend("clike",{"class-name":[Bt.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+(/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source)+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/}),Bt.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/,Bt.languages.insertBefore("javascript","keyword",{regex:{pattern:RegExp(/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)/.source+/\//.source+"(?:"+/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}/.source+"|"+/(?:\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.)*\])*\])*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}v[dgimyus]{0,7}/.source+")"+/(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/.source),lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:Bt.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:Bt.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:Bt.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:Bt.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:Bt.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),Bt.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:Bt.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}}),Bt.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}}),Bt.languages.markup&&(Bt.languages.markup.tag.addInlined("script","javascript"),Bt.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript")),Bt.languages.js=Bt.languages.javascript,Bt.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},{pattern:/^(\s*)["']|["']$/,lookbehind:!0}]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]},Bt.languages.markup.tag.inside["attr-value"].inside.entity=Bt.languages.markup.entity,Bt.languages.markup.doctype.inside["internal-subset"].inside=Bt.languages.markup,Bt.hooks.add("wrap",function(V){V.type==="entity"&&(V.attributes.title=V.content.replace(/&amp;/,"&"))}),Object.defineProperty(Bt.languages.markup.tag,"addInlined",{value:function(dt,Ie){var Co={};Co["language-"+Ie]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:Bt.languages[Ie]},Co.cdata=/^<!\[CDATA\[|\]\]>$/i;var Pt={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:Co}};Pt["language-"+Ie]={pattern:/[\s\S]+/,inside:Bt.languages[Ie]};var lo={};lo[dt]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,function(){return dt}),"i"),lookbehind:!0,greedy:!0,inside:Pt},Bt.languages.insertBefore("markup","cdata",lo)}}),Object.defineProperty(Bt.languages.markup.tag,"addAttribute",{value:function(V,dt){Bt.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+V+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[dt,"language-"+dt],inside:Bt.languages[dt]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}}),Bt.languages.html=Bt.languages.markup,Bt.languages.mathml=Bt.languages.markup,Bt.languages.svg=Bt.languages.markup,Bt.languages.xml=Bt.languages.extend("markup",{}),Bt.languages.ssml=Bt.languages.xml,Bt.languages.atom=Bt.languages.xml,Bt.languages.rss=Bt.languages.xml,function(V){var dt=/\/\*[\s\S]*?\*\/|\/\/.*|#(?!\[).*/,Ie=[{pattern:/\b(?:false|true)\b/i,alias:"boolean"},{pattern:/(::\s*)\b[a-z_]\w*\b(?!\s*\()/i,greedy:!0,lookbehind:!0},{pattern:/(\b(?:case|const)\s+)\b[a-z_]\w*(?=\s*[;=])/i,greedy:!0,lookbehind:!0},/\b(?:null)\b/i,/\b[A-Z_][A-Z0-9_]*\b(?!\s*\()/],Co=/\b0b[01]+(?:_[01]+)*\b|\b0o[0-7]+(?:_[0-7]+)*\b|\b0x[\da-f]+(?:_[\da-f]+)*\b|(?:\b\d+(?:_\d+)*\.?(?:\d+(?:_\d+)*)?|\B\.\d+)(?:e[+-]?\d+)?/i,Pt=/<?=>|\?\?=?|\.{3}|\??->|[!=]=?=?|::|\*\*=?|--|\+\+|&&|\|\||<<|>>|[?~]|[/^|%*&<>.+-]=?/,lo=/[{}\[\](),:;]/;V.languages.php={delimiter:{pattern:/\?>$|^<\?(?:php(?=\s)|=)?/i,alias:"important"},comment:dt,variable:/\$+(?:\w+\b|(?=\{))/,package:{pattern:/(namespace\s+|use\s+(?:function\s+)?)(?:\\?\b[a-z_]\w*)+\b(?!\\)/i,lookbehind:!0,inside:{punctuation:/\\/}},"class-name-definition":{pattern:/(\b(?:class|enum|interface|trait)\s+)\b[a-z_]\w*(?!\\)\b/i,lookbehind:!0,alias:"class-name"},"function-definition":{pattern:/(\bfunction\s+)[a-z_]\w*(?=\s*\()/i,lookbehind:!0,alias:"function"},keyword:[{pattern:/(\(\s*)\b(?:array|bool|boolean|float|int|integer|object|string)\b(?=\s*\))/i,alias:"type-casting",greedy:!0,lookbehind:!0},{pattern:/([(,?]\s*)\b(?:array(?!\s*\()|bool|callable|(?:false|null)(?=\s*\|)|float|int|iterable|mixed|object|self|static|string)\b(?=\s*\$)/i,alias:"type-hint",greedy:!0,lookbehind:!0},{pattern:/(\)\s*:\s*(?:\?\s*)?)\b(?:array(?!\s*\()|bool|callable|(?:false|null)(?=\s*\|)|float|int|iterable|mixed|never|object|self|static|string|void)\b/i,alias:"return-type",greedy:!0,lookbehind:!0},{pattern:/\b(?:array(?!\s*\()|bool|float|int|iterable|mixed|object|string|void)\b/i,alias:"type-declaration",greedy:!0},{pattern:/(\|\s*)(?:false|null)\b|\b(?:false|null)(?=\s*\|)/i,alias:"type-declaration",greedy:!0,lookbehind:!0},{pattern:/\b(?:parent|self|static)(?=\s*::)/i,alias:"static-context",greedy:!0},{pattern:/(\byield\s+)from\b/i,lookbehind:!0},/\bclass\b/i,{pattern:/((?:^|[^\s>:]|(?:^|[^-])>|(?:^|[^:]):)\s*)\b(?:abstract|and|array|as|break|callable|case|catch|clone|const|continue|declare|default|die|do|echo|else|elseif|empty|enddeclare|endfor|endforeach|endif|endswitch|endwhile|enum|eval|exit|extends|final|finally|fn|for|foreach|function|global|goto|if|implements|include|include_once|instanceof|insteadof|interface|isset|list|match|namespace|never|new|or|parent|print|private|protected|public|readonly|require|require_once|return|self|static|switch|throw|trait|try|unset|use|var|while|xor|yield|__halt_compiler)\b/i,lookbehind:!0}],"argument-name":{pattern:/([(,]\s*)\b[a-z_]\w*(?=\s*:(?!:))/i,lookbehind:!0},"class-name":[{pattern:/(\b(?:extends|implements|instanceof|new(?!\s+self|\s+static))\s+|\bcatch\s*\()\b[a-z_]\w*(?!\\)\b/i,greedy:!0,lookbehind:!0},{pattern:/(\|\s*)\b[a-z_]\w*(?!\\)\b/i,greedy:!0,lookbehind:!0},{pattern:/\b[a-z_]\w*(?!\\)\b(?=\s*\|)/i,greedy:!0},{pattern:/(\|\s*)(?:\\?\b[a-z_]\w*)+\b/i,alias:"class-name-fully-qualified",greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}},{pattern:/(?:\\?\b[a-z_]\w*)+\b(?=\s*\|)/i,alias:"class-name-fully-qualified",greedy:!0,inside:{punctuation:/\\/}},{pattern:/(\b(?:extends|implements|instanceof|new(?!\s+self\b|\s+static\b))\s+|\bcatch\s*\()(?:\\?\b[a-z_]\w*)+\b(?!\\)/i,alias:"class-name-fully-qualified",greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}},{pattern:/\b[a-z_]\w*(?=\s*\$)/i,alias:"type-declaration",greedy:!0},{pattern:/(?:\\?\b[a-z_]\w*)+(?=\s*\$)/i,alias:["class-name-fully-qualified","type-declaration"],greedy:!0,inside:{punctuation:/\\/}},{pattern:/\b[a-z_]\w*(?=\s*::)/i,alias:"static-context",greedy:!0},{pattern:/(?:\\?\b[a-z_]\w*)+(?=\s*::)/i,alias:["class-name-fully-qualified","static-context"],greedy:!0,inside:{punctuation:/\\/}},{pattern:/([(,?]\s*)[a-z_]\w*(?=\s*\$)/i,alias:"type-hint",greedy:!0,lookbehind:!0},{pattern:/([(,?]\s*)(?:\\?\b[a-z_]\w*)+(?=\s*\$)/i,alias:["class-name-fully-qualified","type-hint"],greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}},{pattern:/(\)\s*:\s*(?:\?\s*)?)\b[a-z_]\w*(?!\\)\b/i,alias:"return-type",greedy:!0,lookbehind:!0},{pattern:/(\)\s*:\s*(?:\?\s*)?)(?:\\?\b[a-z_]\w*)+\b(?!\\)/i,alias:["class-name-fully-qualified","return-type"],greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}}],constant:Ie,function:{pattern:/(^|[^\\\w])\\?[a-z_](?:[\w\\]*\w)?(?=\s*\()/i,lookbehind:!0,inside:{punctuation:/\\/}},property:{pattern:/(->\s*)\w+/,lookbehind:!0},number:Co,operator:Pt,punctuation:lo};var zo={pattern:/\{\$(?:\{(?:\{[^{}]+\}|[^{}]+)\}|[^{}])+\}|(^|[^\\{])\$+(?:\w+(?:\[[^\r\n\[\]]+\]|->\w+)?)/,lookbehind:!0,inside:V.languages.php},to=[{pattern:/<<<'([^']+)'[\r\n](?:.*[\r\n])*?\1;/,alias:"nowdoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<<'[^']+'|[a-z_]\w*;$/i,alias:"symbol",inside:{punctuation:/^<<<'?|[';]$/}}}},{pattern:/<<<(?:"([^"]+)"[\r\n](?:.*[\r\n])*?\1;|([a-z_]\w*)[\r\n](?:.*[\r\n])*?\2;)/i,alias:"heredoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<<(?:"[^"]+"|[a-z_]\w*)|[a-z_]\w*;$/i,alias:"symbol",inside:{punctuation:/^<<<"?|[";]$/}},interpolation:zo}},{pattern:/`(?:\\[\s\S]|[^\\`])*`/,alias:"backtick-quoted-string",greedy:!0},{pattern:/'(?:\\[\s\S]|[^\\'])*'/,alias:"single-quoted-string",greedy:!0},{pattern:/"(?:\\[\s\S]|[^\\"])*"/,alias:"double-quoted-string",greedy:!0,inside:{interpolation:zo}}];V.languages.insertBefore("php","variable",{string:to,attribute:{pattern:/#\[(?:[^"'\/#]|\/(?![*/])|\/\/.*$|#(?!\[).*$|\/\*(?:[^*]|\*(?!\/))*\*\/|"(?:\\[\s\S]|[^\\"])*"|'(?:\\[\s\S]|[^\\'])*')+\](?=\s*[a-z$#])/im,greedy:!0,inside:{"attribute-content":{pattern:/^(#\[)[\s\S]+(?=\]$)/,lookbehind:!0,inside:{comment:dt,string:to,"attribute-class-name":[{pattern:/([^:]|^)\b[a-z_]\w*(?!\\)\b/i,alias:"class-name",greedy:!0,lookbehind:!0},{pattern:/([^:]|^)(?:\\?\b[a-z_]\w*)+/i,alias:["class-name","class-name-fully-qualified"],greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}}],constant:Ie,number:Co,operator:Pt,punctuation:lo}},delimiter:{pattern:/^#\[|\]$/,alias:"punctuation"}}}}),V.hooks.add("before-tokenize",function(Se){if(/<\?/.test(Se.code)){var $e=/<\?(?:[^"'/#]|\/(?![*/])|("|')(?:\\[\s\S]|(?!\1)[^\\])*\1|(?:\/\/|#(?!\[))(?:[^?\n\r]|\?(?!>))*(?=$|\?>|[\r\n])|#\[|\/\*(?:[^*]|\*(?!\/))*(?:\*\/|$))*?(?:\?>|$)/g;V.languages["markup-templating"].buildPlaceholders(Se,"php",$e)}}),V.hooks.add("after-tokenize",function(Se){V.languages["markup-templating"].tokenizePlaceholders(Se,"php")})}(Bt),Bt.languages.python={comment:{pattern:/(^|[^\\])#.*/,lookbehind:!0,greedy:!0},"string-interpolation":{pattern:/(?:f|fr|rf)(?:("""|''')[\s\S]*?\1|("|')(?:\\.|(?!\2)[^\\\r\n])*\2)/i,greedy:!0,inside:{interpolation:{pattern:/((?:^|[^{])(?:\{\{)*)\{(?!\{)(?:[^{}]|\{(?!\{)(?:[^{}]|\{(?!\{)(?:[^{}])+\})+\})+\}/,lookbehind:!0,inside:{"format-spec":{pattern:/(:)[^:(){}]+(?=\}$)/,lookbehind:!0},"conversion-option":{pattern:/![sra](?=[:}]$)/,alias:"punctuation"},rest:null}},string:/[\s\S]+/}},"triple-quoted-string":{pattern:/(?:[rub]|br|rb)?("""|''')[\s\S]*?\1/i,greedy:!0,alias:"string"},string:{pattern:/(?:[rub]|br|rb)?("|')(?:\\.|(?!\1)[^\\\r\n])*\1/i,greedy:!0},function:{pattern:/((?:^|\s)def[ \t]+)[a-zA-Z_]\w*(?=\s*\()/g,lookbehind:!0},"class-name":{pattern:/(\bclass\s+)\w+/i,lookbehind:!0},decorator:{pattern:/(^[\t ]*)@\w+(?:\.\w+)*/m,lookbehind:!0,alias:["annotation","punctuation"],inside:{punctuation:/\./}},keyword:/\b(?:_(?=\s*:)|and|as|assert|async|await|break|case|class|continue|def|del|elif|else|except|exec|finally|for|from|global|if|import|in|is|lambda|match|nonlocal|not|or|pass|print|raise|return|try|while|with|yield)\b/,builtin:/\b(?:__import__|abs|all|any|apply|ascii|basestring|bin|bool|buffer|bytearray|bytes|callable|chr|classmethod|cmp|coerce|compile|complex|delattr|dict|dir|divmod|enumerate|eval|execfile|file|filter|float|format|frozenset|getattr|globals|hasattr|hash|help|hex|id|input|int|intern|isinstance|issubclass|iter|len|list|locals|long|map|max|memoryview|min|next|object|oct|open|ord|pow|property|range|raw_input|reduce|reload|repr|reversed|round|set|setattr|slice|sorted|staticmethod|str|sum|super|tuple|type|unichr|unicode|vars|xrange|zip)\b/,boolean:/\b(?:False|None|True)\b/,number:/\b0(?:b(?:_?[01])+|o(?:_?[0-7])+|x(?:_?[a-f0-9])+)\b|(?:\b\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\B\.\d+(?:_\d+)*)(?:e[+-]?\d+(?:_\d+)*)?j?(?!\w)/i,operator:/[-+%=]=?|!=|:=|\*\*?=?|\/\/?=?|<[<=>]?|>[=>]?|[&|^~]/,punctuation:/[{}[\];(),.:]/},Bt.languages.python["string-interpolation"].inside.interpolation.inside.rest=Bt.languages.python,Bt.languages.py=Bt.languages.python,function(V){V.languages.ruby=V.languages.extend("clike",{comment:{pattern:/#.*|^=begin\s[\s\S]*?^=end/m,greedy:!0},"class-name":{pattern:/(\b(?:class|module)\s+|\bcatch\s+\()[\w.\\]+|\b[A-Z_]\w*(?=\s*\.\s*new\b)/,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:BEGIN|END|alias|and|begin|break|case|class|def|define_method|defined|do|each|else|elsif|end|ensure|extend|for|if|in|include|module|new|next|nil|not|or|prepend|private|protected|public|raise|redo|require|rescue|retry|return|self|super|then|throw|undef|unless|until|when|while|yield)\b/,operator:/\.{2,3}|&\.|===|<?=>|[!=]?~|(?:&&|\|\||<<|>>|\*\*|[+\-*/%<>!^&|=])=?|[?:]/,punctuation:/[(){}[\].,;]/}),V.languages.insertBefore("ruby","operator",{"double-colon":{pattern:/::/,alias:"punctuation"}});var dt={pattern:/((?:^|[^\\])(?:\\{2})*)#\{(?:[^{}]|\{[^{}]*\})*\}/,lookbehind:!0,inside:{content:{pattern:/^(#\{)[\s\S]+(?=\}$)/,lookbehind:!0,inside:V.languages.ruby},delimiter:{pattern:/^#\{|\}$/,alias:"punctuation"}}};delete V.languages.ruby.function;var Ie="(?:"+[/([^a-zA-Z0-9\s{(\[<=])(?:(?!\1)[^\\]|\\[\s\S])*\1/.source,/\((?:[^()\\]|\\[\s\S]|\((?:[^()\\]|\\[\s\S])*\))*\)/.source,/\{(?:[^{}\\]|\\[\s\S]|\{(?:[^{}\\]|\\[\s\S])*\})*\}/.source,/\[(?:[^\[\]\\]|\\[\s\S]|\[(?:[^\[\]\\]|\\[\s\S])*\])*\]/.source,/<(?:[^<>\\]|\\[\s\S]|<(?:[^<>\\]|\\[\s\S])*>)*>/.source].join("|")+")",Co=/(?:"(?:\\.|[^"\\\r\n])*"|(?:\b[a-zA-Z_]\w*|[^\s\0-\x7F]+)[?!]?|\$.)/.source;V.languages.insertBefore("ruby","keyword",{"regex-literal":[{pattern:RegExp(/%r/.source+Ie+/[egimnosux]{0,6}/.source),greedy:!0,inside:{interpolation:dt,regex:/[\s\S]+/}},{pattern:/(^|[^/])\/(?!\/)(?:\[[^\r\n\]]+\]|\\.|[^[/\\\r\n])+\/[egimnosux]{0,6}(?=\s*(?:$|[\r\n,.;})#]))/,lookbehind:!0,greedy:!0,inside:{interpolation:dt,regex:/[\s\S]+/}}],variable:/[@$]+[a-zA-Z_]\w*(?:[?!]|\b)/,symbol:[{pattern:RegExp(/(^|[^:]):/.source+Co),lookbehind:!0,greedy:!0},{pattern:RegExp(/([\r\n{(,][ \t]*)/.source+Co+/(?=:(?!:))/.source),lookbehind:!0,greedy:!0}],"method-definition":{pattern:/(\bdef\s+)\w+(?:\s*\.\s*\w+)?/,lookbehind:!0,inside:{function:/\b\w+$/,keyword:/^self\b/,"class-name":/^\w+/,punctuation:/\./}}}),V.languages.insertBefore("ruby","string",{"string-literal":[{pattern:RegExp(/%[qQiIwWs]?/.source+Ie),greedy:!0,inside:{interpolation:dt,string:/[\s\S]+/}},{pattern:/("|')(?:#\{[^}]+\}|#(?!\{)|\\(?:\r\n|[\s\S])|(?!\1)[^\\#\r\n])*\1/,greedy:!0,inside:{interpolation:dt,string:/[\s\S]+/}},{pattern:/<<[-~]?([a-z_]\w*)[\r\n](?:.*[\r\n])*?[\t ]*\1/i,alias:"heredoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<[-~]?[a-z_]\w*|\b[a-z_]\w*$/i,inside:{symbol:/\b\w+/,punctuation:/^<<[-~]?/}},interpolation:dt,string:/[\s\S]+/}},{pattern:/<<[-~]?'([a-z_]\w*)'[\r\n](?:.*[\r\n])*?[\t ]*\1/i,alias:"heredoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<[-~]?'[a-z_]\w*'|\b[a-z_]\w*$/i,inside:{symbol:/\b\w+/,punctuation:/^<<[-~]?'|'$/}},string:/[\s\S]+/}}],"command-literal":[{pattern:RegExp(/%x/.source+Ie),greedy:!0,inside:{interpolation:dt,command:{pattern:/[\s\S]+/,alias:"string"}}},{pattern:/`(?:#\{[^}]+\}|#(?!\{)|\\(?:\r\n|[\s\S])|[^\\`#\r\n])*`/,greedy:!0,inside:{interpolation:dt,command:{pattern:/[\s\S]+/,alias:"string"}}}]}),delete V.languages.ruby.string,V.languages.insertBefore("ruby","number",{builtin:/\b(?:Array|Bignum|Binding|Class|Continuation|Dir|Exception|FalseClass|File|Fixnum|Float|Hash|IO|Integer|MatchData|Method|Module|NilClass|Numeric|Object|Proc|Range|Regexp|Stat|String|Struct|Symbol|TMS|Thread|ThreadGroup|Time|TrueClass)\b/,constant:/\b[A-Z][A-Z0-9_]*(?:[?!]|\b)/}),V.languages.rb=V.languages.ruby}(Bt),window.Prism=Rt,Bt}(void 0,void 0),tn=lt=>Mt=>Mt.options.get(lt),To=lt=>{const Mt=lt.options.register;Mt("codesample_languages",{processor:"object[]"}),Mt("codesample_global_prismjs",{processor:"boolean",default:!1})},Ue=tn("codesample_languages"),it=tn("codesample_global_prismjs"),So=lt=>Mo.Prism&&it(lt)?Mo.Prism:jo,co=lt=>Io(lt)&&lt.nodeName==="PRE"&&lt.className.indexOf("language-")!==-1,he=lt=>{const Mt=lt.selection?lt.selection.getNode():null;return co(Mt)?io.some(Mt):io.none()},Dt=(lt,Mt,ht)=>{const Rt=lt.dom;lt.undoManager.transact(()=>{const uo=he(lt);return ht=ko.DOM.encode(ht),uo.fold(()=>{lt.insertContent('<pre id="__new" class="language-'+Mt+'">'+ht+"</pre>");const Bt=Rt.select("#__new")[0];Rt.setAttrib(Bt,"id",null),lt.selection.select(Bt)},Bt=>{Rt.setAttrib(Bt,"class","language-"+Mt),Bt.innerHTML=ht,So(lt).highlightElement(Bt),lt.selection.select(Bt)})})},fo=lt=>he(lt).bind(ht=>io.from(ht.textContent)).getOr(""),me=lt=>{const Mt=[{text:"HTML/XML",value:"markup"},{text:"JavaScript",value:"javascript"},{text:"CSS",value:"css"},{text:"PHP",value:"php"},{text:"Ruby",value:"ruby"},{text:"Python",value:"python"},{text:"Java",value:"java"},{text:"C",value:"c"},{text:"C#",value:"csharp"},{text:"C++",value:"cpp"}],ht=Ue(lt);return ht||Mt},Ze=(lt,Mt)=>he(lt).fold(()=>Mt,Rt=>{const uo=Rt.className.match(/language-(\w+)/);return uo?uo[1]:Mt}),de=lt=>{const Mt=me(lt),ht=jt(Mt).fold(Qo(""),Bt=>Bt.value),Rt=Ze(lt,ht),uo=fo(lt);lt.windowManager.open({title:"Insert/Edit Code Sample",size:"large",body:{type:"panel",items:[{type:"listbox",name:"language",label:"Language",items:Mt},{type:"textarea",name:"code",label:"Code view"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:{language:Rt,code:uo},onSubmit:Bt=>{const V=Bt.getData();Dt(lt,V.language,V.code),Bt.close()}})},rt=lt=>{lt.addCommand("codesample",()=>{const Mt=lt.selection.getNode();lt.selection.isCollapsed()||co(Mt)?de(lt):lt.formatter.toggle("code")})},$t=(lt=>Mt=>Mt.replace(lt,""))(/^\s+|\s+$/g);var gn=tinymce.util.Tools.resolve("tinymce.util.Tools");const Bo=lt=>{lt.on("PreProcess",Mt=>{const ht=lt.dom,Rt=ht.select("pre[contenteditable=false]",Mt.node);gn.each(gn.grep(Rt,co),uo=>{const Bt=uo.textContent;ht.setAttrib(uo,"class",$t(ht.getAttrib(uo,"class"))),ht.setAttrib(uo,"contentEditable",null),ht.setAttrib(uo,"data-mce-highlighted",null);let V;for(;V=uo.firstChild;)uo.removeChild(V);const dt=ht.add(uo,"code");dt.textContent=Bt})}),lt.on("SetContent",()=>{const Mt=lt.dom,ht=gn.grep(Mt.select("pre"),Rt=>co(Rt)&&Mt.getAttrib(Rt,"data-mce-highlighted")!=="true");ht.length&&lt.undoManager.transact(()=>{gn.each(ht,Rt=>{var uo;gn.each(Mt.select("br",Rt),Bt=>{Mt.replace(lt.getDoc().createTextNode(`
`),Bt)}),Rt.innerHTML=Mt.encode((uo=Rt.textContent)!==null&&uo!==void 0?uo:""),So(lt).highlightElement(Rt),Mt.setAttrib(Rt,"data-mce-highlighted",!0),Rt.className=$t(Rt.className)})})}),lt.on("PreInit",()=>{lt.parser.addNodeFilter("pre",Mt=>{var ht;for(let Rt=0,uo=Mt.length;Rt<uo;Rt++){const Bt=Mt[Rt];((ht=Bt.attr("class"))!==null&&ht!==void 0?ht:"").indexOf("language-")!==-1&&(Bt.attr("contenteditable","false"),Bt.attr("data-mce-highlighted","false"))}})})},Ct=(lt,Mt=on)=>ht=>{const Rt=()=>{ht.setEnabled(lt.selection.isEditable()),Mt(ht)};return lt.on("NodeChange",Rt),Rt(),()=>{lt.off("NodeChange",Rt)}},R=lt=>{const Mt=lt.selection.getStart();return lt.dom.is(Mt,'pre[class*="language-"]')},qe=lt=>{const Mt=()=>lt.execCommand("codesample");lt.ui.registry.addToggleButton("codesample",{icon:"code-sample",tooltip:"Insert/edit code sample",onAction:Mt,onSetup:Ct(lt,ht=>{ht.setActive(R(lt))})}),lt.ui.registry.addMenuItem("codesample",{text:"Code sample...",icon:"code-sample",onAction:Mt,onSetup:Ct(lt)})};var Je=()=>{xo.add("codesample",lt=>{To(lt),Bo(lt),qe(lt),rt(lt),lt.on("dblclick",Mt=>{co(Mt.target)&&de(lt)})})};Je()})();(function(){var xo=tinymce.util.Tools.resolve("tinymce.PluginManager");const Ko=(ut,zt,Ft)=>{var vo;return Ft(ut,zt.prototype)?!0:((vo=ut.constructor)===null||vo===void 0?void 0:vo.name)===zt.name},Io=ut=>{const zt=typeof ut;return ut===null?"null":zt==="object"&&Array.isArray(ut)?"array":zt==="object"&&Ko(ut,String,(Ft,vo)=>vo.isPrototypeOf(Ft))?"string":zt},on=ut=>zt=>Io(zt)===ut,Qo=ut=>zt=>typeof zt===ut,io=on("string"),Po=Qo("boolean"),jt=ut=>ut==null,ko=ut=>!jt(ut),Mo=Qo("function"),jo=Qo("number"),tn=(ut,zt)=>Ft=>ut(zt(Ft)),Ue=(ut=>()=>ut)(!1);class it{constructor(zt,Ft){this.tag=zt,this.value=Ft}static some(zt){return new it(!0,zt)}static none(){return it.singletonNone}fold(zt,Ft){return this.tag?Ft(this.value):zt()}isSome(){return this.tag}isNone(){return!this.tag}map(zt){return this.tag?it.some(zt(this.value)):it.none()}bind(zt){return this.tag?zt(this.value):it.none()}exists(zt){return this.tag&&zt(this.value)}forall(zt){return!this.tag||zt(this.value)}filter(zt){return!this.tag||zt(this.value)?this:it.none()}getOr(zt){return this.tag?this.value:zt}or(zt){return this.tag?this:zt}getOrThunk(zt){return this.tag?this.value:zt()}orThunk(zt){return this.tag?this:zt()}getOrDie(zt){if(this.tag)return this.value;throw new Error(zt??"Called getOrDie on None")}static from(zt){return ko(zt)?it.some(zt):it.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(zt){this.tag&&zt(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}it.singletonNone=new it(!1);const So=(ut,zt)=>{const Ft=ut.length,vo=new Array(Ft);for(let Xt=0;Xt<Ft;Xt++){const Vo=ut[Xt];vo[Xt]=zt(Vo,Xt)}return vo},co=(ut,zt)=>{for(let Ft=0,vo=ut.length;Ft<vo;Ft++){const Xt=ut[Ft];zt(Xt,Ft)}},he=(ut,zt)=>{const Ft=[];for(let vo=0,Xt=ut.length;vo<Xt;vo++){const Vo=ut[vo];zt(Vo,vo)&&Ft.push(Vo)}return Ft},Dt=9,fo=11,me=1,Ze=3,de=(ut,zt)=>{const vo=(zt||document).createElement("div");if(vo.innerHTML=ut,!vo.hasChildNodes()||vo.childNodes.length>1){const Xt="HTML does not have a single root node";throw console.error(Xt,ut),new Error(Xt)}return $t(vo.childNodes[0])},rt=(ut,zt)=>{const vo=(zt||document).createElement(ut);return $t(vo)},Yo=(ut,zt)=>{const vo=(zt||document).createTextNode(ut);return $t(vo)},$t=ut=>{if(ut==null)throw new Error("Node cannot be null or undefined");return{dom:ut}},Bo={fromHtml:de,fromTag:rt,fromText:Yo,fromDom:$t,fromPoint:(ut,zt,Ft)=>it.from(ut.dom.elementFromPoint(zt,Ft)).map($t)},Ct=(ut,zt)=>{const Ft=ut.dom;if(Ft.nodeType!==me)return!1;{const vo=Ft;if(vo.matches!==void 0)return vo.matches(zt);if(vo.msMatchesSelector!==void 0)return vo.msMatchesSelector(zt);if(vo.webkitMatchesSelector!==void 0)return vo.webkitMatchesSelector(zt);if(vo.mozMatchesSelector!==void 0)return vo.mozMatchesSelector(zt);throw new Error("Browser lacks native selectors")}};typeof window<"u"||Function("return this;")();const R=ut=>ut.dom.nodeName.toLowerCase(),qe=ut=>ut.dom.nodeType,Je=ut=>zt=>qe(zt)===ut,lt=Je(me),Mt=Je(Ze),ht=Je(Dt),Rt=Je(fo),uo=ut=>zt=>lt(zt)&&R(zt)===ut,Bt=ut=>Bo.fromDom(ut.dom.ownerDocument),V=ut=>ht(ut)?ut:Bt(ut),dt=ut=>it.from(ut.dom.parentNode).map(Bo.fromDom),Ie=ut=>So(ut.dom.childNodes,Bo.fromDom),Co=(ut,zt,Ft)=>{if(io(Ft)||Po(Ft)||jo(Ft))ut.setAttribute(zt,Ft+"");else throw console.error("Invalid call to Attribute.set. Key ",zt,":: Value ",Ft,":: Element ",ut),new Error("Attribute value was not simple")},Pt=(ut,zt,Ft)=>{Co(ut.dom,zt,Ft)},lo=(ut,zt)=>{ut.dom.removeAttribute(zt)},zo=ut=>Rt(ut)&&ko(ut.dom.host),Se=Mo(Element.prototype.attachShadow)&&Mo(Node.prototype.getRootNode)?ut=>Bo.fromDom(ut.dom.getRootNode()):V,$e=ut=>{const zt=Se(ut);return zo(zt)?it.some(zt):it.none()},ct=ut=>Bo.fromDom(ut.dom.host),gt=ut=>{const zt=Mt(ut)?ut.dom.parentNode:ut.dom;if(zt==null||zt.ownerDocument===null)return!1;const Ft=zt.ownerDocument;return $e(Bo.fromDom(zt)).fold(()=>Ft.body.contains(zt),tn(gt,ct))},pe=(ut,zt,Ft)=>{let vo=ut.dom;const Xt=Mo(Ft)?Ft:Ue;for(;vo.parentNode;){vo=vo.parentNode;const Vo=Bo.fromDom(vo);if(zt(Vo))return it.some(Vo);if(Xt(Vo))break}return it.none()},Oe=(ut,zt,Ft)=>pe(ut,vo=>Ct(vo,zt),Ft),We=ut=>ut.style!==void 0&&Mo(ut.style.getPropertyValue),Fe=(ut,zt)=>{const Ft=ut.dom,Xt=window.getComputedStyle(Ft).getPropertyValue(zt);return Xt===""&&!gt(ut)?ge(Ft,zt):Xt},ge=(ut,zt)=>We(ut)?ut.style.getPropertyValue(zt):"",Me=ut=>Fe(ut,"direction")==="rtl"?"rtl":"ltr",at=(ut,zt)=>he(Ie(ut),zt),ze=(ut,zt)=>at(ut,Ft=>Ct(Ft,zt)),Ge=ut=>dt(ut).filter(lt),Gt=(ut,zt)=>(zt?Oe(ut,"ol,ul"):it.some(ut)).getOr(ut),Vt=uo("li"),Xo=(ut,zt,Ft)=>{co(zt,vo=>{const Xt=Bo.fromDom(vo),Vo=Vt(Xt),$n=Gt(Xt,Vo);Ge($n).each(Wt=>{if(ut.setStyle($n.dom,"direction",null),Me(Wt)===Ft?lo($n,"dir"):Pt($n,"dir",Ft),Me($n)!==Ft&&ut.setStyle($n.dom,"direction",Ft),Vo){const Fn=ze($n,"li[dir],li[style]");co(Fn,ln=>{lo(ln,"dir"),ut.setStyle(ln.dom,"direction",null)})}})})},$o=(ut,zt)=>{ut.selection.isEditable()&&(Xo(ut.dom,ut.selection.getSelectedBlocks(),zt),ut.nodeChanged())},Zo=ut=>{ut.addCommand("mceDirectionLTR",()=>{$o(ut,"ltr")}),ut.addCommand("mceDirectionRTL",()=>{$o(ut,"rtl")})},Gn=(ut,zt)=>Ft=>{const vo=Xt=>{const Vo=Bo.fromDom(Xt.element);Ft.setActive(Me(Vo)===zt),Ft.setEnabled(ut.selection.isEditable())};return ut.on("NodeChange",vo),Ft.setEnabled(ut.selection.isEditable()),()=>ut.off("NodeChange",vo)},Pn=ut=>{ut.ui.registry.addToggleButton("ltr",{tooltip:"Left to right",icon:"ltr",onAction:()=>ut.execCommand("mceDirectionLTR"),onSetup:Gn(ut,"ltr")}),ut.ui.registry.addToggleButton("rtl",{tooltip:"Right to left",icon:"rtl",onAction:()=>ut.execCommand("mceDirectionRTL"),onSetup:Gn(ut,"rtl")})};var zn=()=>{xo.add("directionality",ut=>{Zo(ut),Pn(ut)})};zn()})();(function(){const xo=ie=>{let ve=ie;return{get:()=>ve,set:yn=>{ve=yn}}};var Ko=tinymce.util.Tools.resolve("tinymce.PluginManager");const Io=ie=>({isFullscreen:()=>ie.get()!==null}),on=(ie,ve,yt)=>{var Lt;return yt(ie,ve.prototype)?!0:((Lt=ie.constructor)===null||Lt===void 0?void 0:Lt.name)===ve.name},Qo=ie=>{const ve=typeof ie;return ie===null?"null":ve==="object"&&Array.isArray(ie)?"array":ve==="object"&&on(ie,String,(yt,Lt)=>Lt.isPrototypeOf(yt))?"string":ve},io=ie=>ve=>Qo(ve)===ie,Po=ie=>ve=>typeof ve===ie,jt=ie=>ve=>ie===ve,ko=io("string"),Mo=io("object"),jo=io("array"),tn=jt(null),To=Po("boolean"),Ue=jt(void 0),it=ie=>ie==null,So=ie=>!it(ie),co=Po("function"),he=Po("number"),Dt=()=>{},fo=(ie,ve)=>(...yt)=>ie(ve.apply(null,yt)),me=(ie,ve)=>yt=>ie(ve(yt)),Ze=ie=>()=>ie;function de(ie,...ve){return(...yt)=>{const Lt=ve.concat(yt);return ie.apply(null,Lt)}}const rt=Ze(!1),Yo=Ze(!0);class $t{constructor(ve,yt){this.tag=ve,this.value=yt}static some(ve){return new $t(!0,ve)}static none(){return $t.singletonNone}fold(ve,yt){return this.tag?yt(this.value):ve()}isSome(){return this.tag}isNone(){return!this.tag}map(ve){return this.tag?$t.some(ve(this.value)):$t.none()}bind(ve){return this.tag?ve(this.value):$t.none()}exists(ve){return this.tag&&ve(this.value)}forall(ve){return!this.tag||ve(this.value)}filter(ve){return!this.tag||ve(this.value)?this:$t.none()}getOr(ve){return this.tag?this.value:ve}or(ve){return this.tag?this:ve}getOrThunk(ve){return this.tag?this.value:ve()}orThunk(ve){return this.tag?this:ve()}getOrDie(ve){if(this.tag)return this.value;throw new Error(ve??"Called getOrDie on None")}static from(ve){return So(ve)?$t.some(ve):$t.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(ve){this.tag&&ve(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}$t.singletonNone=new $t(!1);const gn=Array.prototype.push,Bo=(ie,ve)=>{const yt=ie.length,Lt=new Array(yt);for(let yn=0;yn<yt;yn++){const ur=ie[yn];Lt[yn]=ve(ur,yn)}return Lt},Ct=(ie,ve)=>{for(let yt=0,Lt=ie.length;yt<Lt;yt++){const yn=ie[yt];ve(yn,yt)}},R=(ie,ve)=>{const yt=[];for(let Lt=0,yn=ie.length;Lt<yn;Lt++){const ur=ie[Lt];ve(ur,Lt)&&yt.push(ur)}return yt},qe=(ie,ve,yt)=>{for(let Lt=0,yn=ie.length;Lt<yn;Lt++){const ur=ie[Lt];if(ve(ur,Lt))return $t.some(ur);if(yt(ur,Lt))break}return $t.none()},Je=(ie,ve)=>qe(ie,ve,rt),lt=ie=>{const ve=[];for(let yt=0,Lt=ie.length;yt<Lt;++yt){if(!jo(ie[yt]))throw new Error("Arr.flatten item "+yt+" was not an array, input: "+ie);gn.apply(ve,ie[yt])}return ve},Mt=(ie,ve)=>lt(Bo(ie,ve)),ht=(ie,ve)=>ve>=0&&ve<ie.length?$t.some(ie[ve]):$t.none(),Rt=ie=>ht(ie,0),uo=(ie,ve)=>{for(let yt=0;yt<ie.length;yt++){const Lt=ve(ie[yt],yt);if(Lt.isSome())return Lt}return $t.none()},Bt=(ie,ve,yt)=>ie.isSome()&&ve.isSome()?$t.some(yt(ie.getOrDie(),ve.getOrDie())):$t.none(),V=ie=>{const ve=xo($t.none()),yt=()=>ve.get().each(ie);return{clear:()=>{yt(),ve.set($t.none())},isSet:()=>ve.get().isSome(),get:()=>ve.get(),set:ei=>{yt(),ve.set($t.some(ei))}}},dt=()=>V(ie=>ie.unbind()),Ie=()=>{const ie=V(Dt);return{...ie,on:yt=>ie.get().each(yt)}},Co=(ie,ve)=>{let yt=null;return{cancel:()=>{tn(yt)||(clearTimeout(yt),yt=null)},throttle:(...ur)=>{tn(yt)&&(yt=setTimeout(()=>{yt=null,ie.apply(null,ur)},ve))}}},Pt=Object.keys,lo=(ie,ve)=>{const yt=Pt(ie);for(let Lt=0,yn=yt.length;Lt<yn;Lt++){const ur=yt[Lt],Ra=ie[ur];ve(Ra,ur)}},zo=typeof window<"u"?window:Function("return this;")(),to=(ie,ve)=>{let yt=ve??zo;for(let Lt=0;Lt<ie.length&&yt!==void 0&&yt!==null;++Lt)yt=yt[ie[Lt]];return yt},Se=(ie,ve)=>{const yt=ie.split(".");return to(yt,ve)},$e=(ie,ve)=>Se(ie,ve),ct=(ie,ve)=>{const yt=$e(ie,ve);if(yt==null)throw new Error(ie+" not available on this browser");return yt},gt=Object.getPrototypeOf,pe=ie=>ct("HTMLElement",ie),Oe=ie=>{const ve=Se("ownerDocument.defaultView",ie);return Mo(ie)&&(pe(ve).prototype.isPrototypeOf(ie)||/^HTML\w*Element$/.test(gt(ie).constructor.name))},We=9,Fe=11,ge=1,Me=3,at=ie=>ie.dom.nodeType,ze=ie=>ve=>at(ve)===ie,Ge=ie=>Gt(ie)&&Oe(ie.dom),Gt=ze(ge),Vt=ze(Me),Xo=ze(We),$o=ze(Fe),Zo=(ie,ve,yt)=>{if(ko(yt)||To(yt)||he(yt))ie.setAttribute(ve,yt+"");else throw console.error("Invalid call to Attribute.set. Key ",ve,":: Value ",yt,":: Element ",ie),new Error("Attribute value was not simple")},Gn=(ie,ve,yt)=>{Zo(ie.dom,ve,yt)},Pn=(ie,ve)=>{const yt=ie.dom.getAttribute(ve);return yt===null?void 0:yt},zn=(ie,ve)=>{ie.dom.removeAttribute(ve)},ut=ie=>ie.dom.classList!==void 0,zt=(ie,ve)=>ut(ie)&&ie.dom.classList.contains(ve),Ft=(ie,ve,yt=0,Lt)=>{const yn=ie.indexOf(ve,yt);return yn!==-1?Ue(Lt)?!0:yn+ve.length<=Lt:!1},vo=ie=>ie.style!==void 0&&co(ie.style.getPropertyValue),Xt=(ie,ve)=>{const Lt=(ve||document).createElement("div");if(Lt.innerHTML=ie,!Lt.hasChildNodes()||Lt.childNodes.length>1){const yn="HTML does not have a single root node";throw console.error(yn,ie),new Error(yn)}return Rr(Lt.childNodes[0])},Vo=(ie,ve)=>{const Lt=(ve||document).createElement(ie);return Rr(Lt)},$n=(ie,ve)=>{const Lt=(ve||document).createTextNode(ie);return Rr(Lt)},Rr=ie=>{if(ie==null)throw new Error("Node cannot be null or undefined");return{dom:ie}},vr={fromHtml:Xt,fromTag:Vo,fromText:$n,fromDom:Rr,fromPoint:(ie,ve,yt)=>$t.from(ie.dom.elementFromPoint(ve,yt)).map(Rr)},Fn=(ie,ve)=>{const yt=ie.dom;if(yt.nodeType!==ge)return!1;{const Lt=yt;if(Lt.matches!==void 0)return Lt.matches(ve);if(Lt.msMatchesSelector!==void 0)return Lt.msMatchesSelector(ve);if(Lt.webkitMatchesSelector!==void 0)return Lt.webkitMatchesSelector(ve);if(Lt.mozMatchesSelector!==void 0)return Lt.mozMatchesSelector(ve);throw new Error("Browser lacks native selectors")}},ln=ie=>ie.nodeType!==ge&&ie.nodeType!==We&&ie.nodeType!==Fe||ie.childElementCount===0,xr=(ie,ve)=>{const yt=ve===void 0?document:ve.dom;return ln(yt)?[]:Bo(yt.querySelectorAll(ie),vr.fromDom)},Ys=(ie,ve)=>ie.dom===ve.dom,Yr=ie=>vr.fromDom(ie.dom.ownerDocument),Pa=ie=>Xo(ie)?ie:Yr(ie),cs=ie=>$t.from(ie.dom.parentNode).map(vr.fromDom),Ha=(ie,ve)=>{const yt=co(ve)?ve:rt;let Lt=ie.dom;const yn=[];for(;Lt.parentNode!==null&&Lt.parentNode!==void 0;){const ur=Lt.parentNode,Ra=vr.fromDom(ur);if(yn.push(Ra),yt(Ra)===!0)break;Lt=ur}return yn},ja=ie=>{const ve=yt=>R(yt,Lt=>!Ys(ie,Lt));return cs(ie).map(Us).map(ve).getOr([])},$s=ie=>$t.from(ie.dom.nextSibling).map(vr.fromDom),Us=ie=>Bo(ie.dom.childNodes,vr.fromDom),_a=ie=>$o(ie)&&So(ie.dom.host),tt=co(Element.prototype.attachShadow)&&co(Node.prototype.getRootNode),_t=Ze(tt),Do=tt?ie=>vr.fromDom(ie.dom.getRootNode()):Pa,St=ie=>{const ve=Do(ie);return _a(ve)?$t.some(ve):$t.none()},zr=ie=>vr.fromDom(ie.dom.host),kr=ie=>{if(_t()&&So(ie.target)){const ve=vr.fromDom(ie.target);if(Gt(ve)&&Is(ve)&&ie.composed&&ie.composedPath){const yt=ie.composedPath();if(yt)return Rt(yt)}}return $t.from(ie.target)},Is=ie=>So(ie.dom.shadowRoot),Xr=ie=>{const ve=Vt(ie)?ie.dom.parentNode:ie.dom;if(ve==null||ve.ownerDocument===null)return!1;const yt=ve.ownerDocument;return St(vr.fromDom(ve)).fold(()=>yt.body.contains(ve),me(Xr,zr))},gr=ie=>{const ve=ie.dom.body;if(ve==null)throw new Error("Body is not available yet");return vr.fromDom(ve)},De=(ie,ve,yt)=>{if(!ko(yt))throw console.error("Invalid call to CSS.set. Property ",ve,":: Value ",yt,":: Element ",ie),new Error("CSS value must be a string: "+yt);vo(ie)&&ie.style.setProperty(ve,yt)},Ae=(ie,ve,yt)=>{const Lt=ie.dom;De(Lt,ve,yt)},wt=(ie,ve)=>{const yt=ie.dom;lo(ve,(Lt,yn)=>{De(yt,yn,Lt)})},It=(ie,ve)=>{const yt=ie.dom,yn=window.getComputedStyle(yt).getPropertyValue(ve);return yn===""&&!Xr(ie)?dn(yt,ve):yn},dn=(ie,ve)=>vo(ie)?ie.style.getPropertyValue(ve):"",nn=(ie,ve,yt,Lt,yn,ur,Ra)=>({target:ie,x:ve,y:yt,stop:Lt,prevent:yn,kill:ur,raw:Ra}),sr=ie=>{const ve=vr.fromDom(kr(ie).getOr(ie.target)),yt=()=>ie.stopPropagation(),Lt=()=>ie.preventDefault(),yn=fo(Lt,yt);return nn(ve,ie.clientX,ie.clientY,yt,Lt,yn,ie)},Vr=(ie,ve)=>yt=>{ie(yt)&&ve(sr(yt))},Br=(ie,ve,yt,Lt,yn)=>{const ur=Vr(yt,Lt);return ie.dom.addEventListener(ve,ur,yn),{unbind:de(Ce,ie,ve,ur,yn)}},Jo=(ie,ve,yt,Lt)=>Br(ie,ve,yt,Lt,!1),Ce=(ie,ve,yt,Lt)=>{ie.dom.removeEventListener(ve,yt,Lt)},Ne=Yo,Zt=(ie,ve,yt)=>Jo(ie,ve,Ne,yt),Lo=ie=>{let ve=!1,yt;return(...Lt)=>(ve||(ve=!0,yt=ie.apply(null,Lt)),yt)},Ho=(ie,ve,yt,Lt)=>{const yn=ie.isiOS()&&/ipad/i.test(yt)===!0,ur=ie.isiOS()&&!yn,Ra=ie.isiOS()||ie.isAndroid(),ei=Ra||Lt("(pointer:coarse)"),ia=yn||!ur&&Ra&&Lt("(min-device-width:768px)"),pa=ur||Ra&&!ia,Ps=ve.isSafari()&&ie.isiOS()&&/safari/i.test(yt)===!1,ta=!pa&&!ia&&!Ps;return{isiPad:Ze(yn),isiPhone:Ze(ur),isTablet:Ze(ia),isPhone:Ze(pa),isTouch:Ze(ei),isAndroid:ie.isAndroid,isiOS:ie.isiOS,isWebView:Ze(Ps),isDesktop:Ze(ta)}},rn=(ie,ve)=>{for(let yt=0;yt<ie.length;yt++){const Lt=ie[yt];if(Lt.test(ve))return Lt}},Go=(ie,ve)=>{const yt=rn(ie,ve);if(!yt)return{major:0,minor:0};const Lt=yn=>Number(ve.replace(yt,"$"+yn));return Un(Lt(1),Lt(2))},hn=(ie,ve)=>{const yt=String(ve).toLowerCase();return ie.length===0?wn():Go(ie,yt)},wn=()=>Un(0,0),Un=(ie,ve)=>({major:ie,minor:ve}),Ar={nu:Un,detect:hn,unknown:wn},ra=(ie,ve)=>uo(ve.brands,yt=>{const Lt=yt.brand.toLowerCase();return Je(ie,yn=>{var ur;return Lt===((ur=yn.brand)===null||ur===void 0?void 0:ur.toLowerCase())}).map(yn=>({current:yn.name,version:Ar.nu(parseInt(yt.version,10),0)}))}),Xs=(ie,ve)=>{const yt=String(ve).toLowerCase();return Je(ie,Lt=>Lt.search(yt))},Zs=(ie,ve)=>Xs(ie,ve).map(yt=>{const Lt=Ar.detect(yt.versionRegexes,ve);return{current:yt.name,version:Lt}}),mi=(ie,ve)=>Xs(ie,ve).map(yt=>{const Lt=Ar.detect(yt.versionRegexes,ve);return{current:yt.name,version:Lt}}),Wr=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,rr=ie=>ve=>Ft(ve,ie),Sr=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:ie=>Ft(ie,"edge/")&&Ft(ie,"chrome")&&Ft(ie,"safari")&&Ft(ie,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Wr],search:ie=>Ft(ie,"chrome")&&!Ft(ie,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:ie=>Ft(ie,"msie")||Ft(ie,"trident")},{name:"Opera",versionRegexes:[Wr,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:rr("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:rr("firefox")},{name:"Safari",versionRegexes:[Wr,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:ie=>(Ft(ie,"safari")||Ft(ie,"mobile/"))&&Ft(ie,"applewebkit")}],va=[{name:"Windows",search:rr("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:ie=>Ft(ie,"iphone")||Ft(ie,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:rr("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:rr("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:rr("linux"),versionRegexes:[]},{name:"Solaris",search:rr("sunos"),versionRegexes:[]},{name:"FreeBSD",search:rr("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:rr("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],Cs={browsers:Ze(Sr),oses:Ze(va)},za="Edge",ws="Chromium",As="IE",Aa="Opera",Kn="Firefox",Os="Safari",Ma=()=>Ca({current:void 0,version:Ar.unknown()}),Ca=ie=>{const ve=ie.current,yt=ie.version,Lt=yn=>()=>ve===yn;return{current:ve,version:yt,isEdge:Lt(za),isChromium:Lt(ws),isIE:Lt(As),isOpera:Lt(Aa),isFirefox:Lt(Kn),isSafari:Lt(Os)}},ds={unknown:Ma,nu:Ca,edge:Ze(za),chromium:Ze(ws),ie:Ze(As),opera:Ze(Aa),firefox:Ze(Kn),safari:Ze(Os)},xa="Windows",Rn="iOS",Hi="Android",Bn="Linux",ji="macOS",go="Solaris",aa="FreeBSD",Ss="ChromeOS",Ir=()=>gi({current:void 0,version:Ar.unknown()}),gi=ie=>{const ve=ie.current,yt=ie.version,Lt=yn=>()=>ve===yn;return{current:ve,version:yt,isWindows:Lt(xa),isiOS:Lt(Rn),isAndroid:Lt(Hi),isMacOS:Lt(ji),isLinux:Lt(Bn),isSolaris:Lt(go),isFreeBSD:Lt(aa),isChromeOS:Lt(Ss)}},sc={unknown:Ir,nu:gi,windows:Ze(xa),ios:Ze(Rn),android:Ze(Hi),linux:Ze(Bn),macos:Ze(ji),solaris:Ze(go),freebsd:Ze(aa),chromeos:Ze(Ss)},ne={detect:(ie,ve,yt)=>{const Lt=Cs.browsers(),yn=Cs.oses(),ur=ve.bind(ia=>ra(Lt,ia)).orThunk(()=>Zs(Lt,ie)).fold(ds.unknown,ds.nu),Ra=mi(yn,ie).fold(sc.unknown,sc.nu),ei=Ho(Ra,ur,ie,yt);return{browser:ur,os:Ra,deviceType:ei}}},Be=ie=>window.matchMedia(ie).matches;let Pe=Lo(()=>ne.detect(navigator.userAgent,$t.from(navigator.userAgentData),Be));const Nt=()=>Pe(),ho=(ie,ve)=>({left:ie,top:ve,translate:(Lt,yn)=>ho(ie+Lt,ve+yn)}),bn=ho,kn=ie=>{const ve=ie!==void 0?ie.dom:document,yt=ve.body.scrollLeft||ve.documentElement.scrollLeft,Lt=ve.body.scrollTop||ve.documentElement.scrollTop;return bn(yt,Lt)},_r=ie=>{const ve=ie===void 0?window:ie;return Nt().browser.isFirefox()?$t.none():$t.from(ve.visualViewport)},Or=(ie,ve,yt,Lt)=>({x:ie,y:ve,width:yt,height:Lt,right:ie+yt,bottom:ve+Lt}),Sa=ie=>{const ve=ie===void 0?window:ie,yt=ve.document,Lt=kn(vr.fromDom(yt));return _r(ve).fold(()=>{const yn=ve.document.documentElement,ur=yn.clientWidth,Ra=yn.clientHeight;return Or(Lt.left,Lt.top,ur,Ra)},yn=>Or(Math.max(yn.pageLeft,Lt.left),Math.max(yn.pageTop,Lt.top),yn.width,yn.height))},ma=(ie,ve,yt)=>_r(yt).map(Lt=>{const yn=ur=>ve(sr(ur));return Lt.addEventListener(ie,yn),{unbind:()=>Lt.removeEventListener(ie,yn)}}).getOrThunk(()=>({unbind:Dt}));var Ga=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),Q=tinymce.util.Tools.resolve("tinymce.Env");const Ee=(ie,ve)=>{ie.dispatch("FullscreenStateChanged",{state:ve}),ie.dispatch("ResizeEditor")},bt=ie=>ve=>ve.options.get(ie),wo=ie=>{const ve=ie.options.register;ve("fullscreen_native",{processor:"boolean",default:!1})},Zn=bt("fullscreen_native"),U=ie=>{const ve=vr.fromDom(ie.getElement());return St(ve).map(zr).getOrThunk(()=>gr(Yr(ve)))},oe=ie=>ie.fullscreenElement!==void 0?ie.fullscreenElement:ie.msFullscreenElement!==void 0?ie.msFullscreenElement:ie.webkitFullscreenElement!==void 0?ie.webkitFullscreenElement:null,xe=()=>document.fullscreenElement!==void 0?"fullscreenchange":document.msFullscreenElement!==void 0?"MSFullscreenChange":document.webkitFullscreenElement!==void 0?"webkitfullscreenchange":"fullscreenchange",xt=ie=>{const ve=ie.dom;ve.requestFullscreen?ve.requestFullscreen():ve.msRequestFullscreen?ve.msRequestFullscreen():ve.webkitRequestFullScreen&&ve.webkitRequestFullScreen()},po=ie=>{const ve=ie.dom;ve.exitFullscreen?ve.exitFullscreen():ve.msExitFullscreen?ve.msExitFullscreen():ve.webkitCancelFullScreen&&ve.webkitCancelFullScreen()},Yn=ie=>ie.dom===oe(Yr(ie).dom),ga=(ie,ve,yt)=>R(Ha(ie,yt),ve),ks=(ie,ve)=>R(ja(ie),ve),_i=ie=>xr(ie),Js=(ie,ve,yt)=>ga(ie,Lt=>Fn(Lt,ve),yt),Vi=(ie,ve)=>ks(ie,yt=>Fn(yt,ve)),Qs="data-ephox-mobile-fullscreen-style",ic="display:none!important;",_s="position:absolute!important;",vc="top:0!important;left:0!important;margin:0!important;padding:0!important;width:100%!important;height:100%!important;overflow:visible!important;",je="background-color:rgb(255,255,255)!important;",Ll=Q.os.isAndroid(),pd=ie=>{const ve=It(ie,"background-color");return ve!==void 0&&ve!==""?"background-color:"+ve+"!important":je},Ci=(ie,ve,yt)=>{const Lt=pa=>Vi(pa,"*:not(.tox-silver-sink)"),yn=pa=>Ps=>{const ta=Pn(Ps,"style"),cc=ta===void 0?"no-styles":ta.trim();cc!==pa&&(Gn(Ps,Qs,cc),wt(Ps,ie.parseStyle(pa)))},ur=Js(ve,"*"),Ra=Mt(ur,Lt),ei=pd(yt);Ct(Ra,yn(ic)),Ct(ur,yn(_s+vc+ei)),yn((Ll===!0?"":_s)+vc+ei)(ve)},bp=ie=>{const ve=_i("["+Qs+"]");Ct(ve,yt=>{const Lt=Pn(yt,Qs);Lt&&Lt!=="no-styles"?wt(yt,ie.parseStyle(Lt)):zn(yt,"style"),zn(yt,Qs)})},sa=Ga.DOM,lc=()=>Sa(window),ag=ie=>window.scrollTo(ie.x,ie.y),Si=_r().fold(()=>({bind:Dt,unbind:Dt}),ie=>{const ve=Ie(),yt=dt(),Lt=dt(),yn=()=>{document.body.scrollTop=0,document.documentElement.scrollTop=0},ur=()=>{window.requestAnimationFrame(()=>{ve.on(pa=>wt(pa,{top:ie.offsetTop+"px",left:ie.offsetLeft+"px",height:ie.height+"px",width:ie.width+"px"}))})},Ra=Co(()=>{yn(),ur()},50);return{bind:pa=>{ve.set(pa),Ra.throttle(),yt.set(ma("resize",Ra.throttle)),Lt.set(ma("scroll",Ra.throttle))},unbind:()=>{ve.on(()=>{yt.clear(),Lt.clear()}),ve.clear()}}}),Gc=(ie,ve)=>{const yt=document.body,Lt=document.documentElement,yn=ie.getContainer(),ur=vr.fromDom(yn),Ra=$s(ur).filter(Es=>Ge(Es)&&zt(Es,"tox-silver-sink")),ei=U(ie),ia=ve.get(),pa=vr.fromDom(ie.getBody()),Ps=Q.deviceType.isTouch(),ta=yn.style,cc=ie.iframeElement,Xl=cc?.style,Ei=Es=>{Es(yt,"tox-fullscreen"),Es(Lt,"tox-fullscreen"),Es(yn,"tox-fullscreen"),St(ur).map(Ba=>zr(Ba).dom).each(Ba=>{Es(Ba,"tox-fullscreen"),Es(Ba,"tox-shadowhost")})},xc=()=>{Ps&&bp(ie.dom),Ei(sa.removeClass),Si.unbind(),$t.from(ve.get()).each(Es=>Es.fullscreenChangeHandler.unbind())};if(ia)ia.fullscreenChangeHandler.unbind(),Zn(ie)&&Yn(ei)&&po(Yr(ei)),Xl.width=ia.iframeWidth,Xl.height=ia.iframeHeight,ta.width=ia.containerWidth,ta.height=ia.containerHeight,ta.top=ia.containerTop,ta.left=ia.containerLeft,Bt(Ra,ia.sinkCssPosition,(Es,Ba)=>{Ae(Es,"position",Ba)}),xc(),ag(ia.scrollPos),ve.set(null),Ee(ie,!1),ie.off("remove",xc);else{const Es=Zt(Yr(ei),xe(),Fa=>{Zn(ie)&&!Yn(ei)&&ve.get()!==null&&Gc(ie,ve)}),Ba={scrollPos:lc(),containerWidth:ta.width,containerHeight:ta.height,containerTop:ta.top,containerLeft:ta.left,iframeWidth:Xl.width,iframeHeight:Xl.height,fullscreenChangeHandler:Es,sinkCssPosition:Ra.map(Fa=>It(Fa,"position"))};Ps&&Ci(ie.dom,ur,pa),Xl.width=Xl.height="100%",ta.width=ta.height="",Ei(sa.addClass),Ra.each(Fa=>{Ae(Fa,"position","fixed")}),Si.bind(ur),ie.on("remove",xc),ve.set(Ba),Zn(ie)&&xt(ei),Ee(ie,!0)}},Gi=(ie,ve)=>{ie.addCommand("mceFullScreen",()=>{Gc(ie,ve)})},Il=(ie,ve)=>yt=>{yt.setActive(ve.get()!==null);const Lt=yn=>yt.setActive(yn.state);return ie.on("FullscreenStateChanged",Lt),()=>ie.off("FullscreenStateChanged",Lt)},Yl=(ie,ve)=>{const yt=()=>ie.execCommand("mceFullScreen");ie.ui.registry.addToggleMenuItem("fullscreen",{text:"Fullscreen",icon:"fullscreen",shortcut:"Meta+Shift+F",onAction:yt,onSetup:Il(ie,ve)}),ie.ui.registry.addToggleButton("fullscreen",{tooltip:"Fullscreen",icon:"fullscreen",onAction:yt,onSetup:Il(ie,ve)})};var Ki=()=>{Ko.add("fullscreen",ie=>{const ve=xo(null);return ie.inline||(wo(ie),Gi(ie,ve),Yl(ie,ve),ie.addShortcut("Meta+Shift+F","","mceFullScreen")),Io(ve)})};Ki()})();(function(){const xo=ze=>{let Ge=ze;return{get:()=>Ge,set:Xo=>{Ge=Xo}}};var Ko=tinymce.util.Tools.resolve("tinymce.PluginManager");let Io=0;const on=ze=>{const Gt=new Date().getTime(),Vt=Math.floor(Math.random()*1e9);return Io++,ze+"_"+Vt+Io+String(Gt)},Qo=ze=>({addTab:Gt=>{var Vt;const Xo=(Vt=Gt.name)!==null&&Vt!==void 0?Vt:on("tab-name"),$o=ze.get();$o[Xo]=Gt,ze.set($o)}}),io=(ze,Ge)=>{ze.addCommand("mceHelp",Ge)},Po=ze=>Ge=>Ge.options.get(ze),jt=ze=>{const Ge=ze.options.register;Ge("help_tabs",{processor:"array"})},ko=Po("help_tabs"),Mo=Po("forced_plugins"),jo=(ze,Ge)=>{ze.ui.registry.addButton("help",{icon:"help",tooltip:"Help",onAction:Ge}),ze.ui.registry.addMenuItem("help",{text:"Help",icon:"help",shortcut:"Alt+0",onAction:Ge})},tn=(ze,Ge,Gt)=>{var Vt;return Gt(ze,Ge.prototype)?!0:((Vt=ze.constructor)===null||Vt===void 0?void 0:Vt.name)===Ge.name},To=ze=>{const Ge=typeof ze;return ze===null?"null":Ge==="object"&&Array.isArray(ze)?"array":Ge==="object"&&tn(ze,String,(Gt,Vt)=>Vt.isPrototypeOf(Gt))?"string":Ge},Ue=ze=>Ge=>To(Ge)===ze,it=ze=>Ge=>typeof Ge===ze,So=ze=>Ge=>ze===Ge,co=Ue("string"),he=So(void 0),Dt=ze=>ze==null,fo=ze=>!Dt(ze),me=it("function"),de=(ze=>()=>ze)(!1);class rt{constructor(Ge,Gt){this.tag=Ge,this.value=Gt}static some(Ge){return new rt(!0,Ge)}static none(){return rt.singletonNone}fold(Ge,Gt){return this.tag?Gt(this.value):Ge()}isSome(){return this.tag}isNone(){return!this.tag}map(Ge){return this.tag?rt.some(Ge(this.value)):rt.none()}bind(Ge){return this.tag?Ge(this.value):rt.none()}exists(Ge){return this.tag&&Ge(this.value)}forall(Ge){return!this.tag||Ge(this.value)}filter(Ge){return!this.tag||Ge(this.value)?this:rt.none()}getOr(Ge){return this.tag?this.value:Ge}or(Ge){return this.tag?this:Ge}getOrThunk(Ge){return this.tag?this.value:Ge()}orThunk(Ge){return this.tag?this:Ge()}getOrDie(Ge){if(this.tag)return this.value;throw new Error(Ge??"Called getOrDie on None")}static from(Ge){return fo(Ge)?rt.some(Ge):rt.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(Ge){this.tag&&Ge(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}rt.singletonNone=new rt(!1);const Yo=Array.prototype.slice,$t=Array.prototype.indexOf,gn=(ze,Ge)=>$t.call(ze,Ge),Bo=(ze,Ge)=>gn(ze,Ge)>-1,Ct=(ze,Ge)=>{const Gt=ze.length,Vt=new Array(Gt);for(let Xo=0;Xo<Gt;Xo++){const $o=ze[Xo];Vt[Xo]=Ge($o,Xo)}return Vt},R=(ze,Ge)=>{const Gt=[];for(let Vt=0,Xo=ze.length;Vt<Xo;Vt++){const $o=ze[Vt];Ge($o,Vt)&&Gt.push($o)}return Gt},qe=(ze,Ge,Gt)=>{for(let Vt=0,Xo=ze.length;Vt<Xo;Vt++){const $o=ze[Vt];if(Ge($o,Vt))return rt.some($o);if(Gt($o,Vt))break}return rt.none()},Je=(ze,Ge)=>qe(ze,Ge,de),lt=(ze,Ge)=>{const Gt=Yo.call(ze,0);return Gt.sort(Ge),Gt},Mt=Object.keys,ht=Object.hasOwnProperty,Rt=(ze,Ge)=>uo(ze,Ge)?rt.from(ze[Ge]):rt.none(),uo=(ze,Ge)=>ht.call(ze,Ge),Bt=ze=>{const Ge=[],Gt=Vt=>{Ge.push(Vt)};for(let Vt=0;Vt<ze.length;Vt++)ze[Vt].each(Gt);return Ge};var V=tinymce.util.Tools.resolve("tinymce.Resource"),dt=tinymce.util.Tools.resolve("tinymce.util.I18n");const Ie=(ze,Ge)=>V.load(`tinymce.html-i18n.help-keynav.${Ge}`,`${ze}/js/i18n/keynav/${Ge}.js`),Co=ze=>Ie(ze,dt.getCode()).catch(()=>Ie(ze,"en")),Pt=(ze,Ge)=>{ze.on("init",()=>{Co(Ge)})},lo=async ze=>({name:"keyboardnav",title:"Keyboard Navigation",items:[{type:"htmlpanel",presets:"document",html:await Co(ze)}]});var zo=tinymce.util.Tools.resolve("tinymce.Env");const to=ze=>{const Ge=zo.os.isMacOS()||zo.os.isiOS(),Xo=Ge?{alt:"&#x2325;",ctrl:"&#x2303;",shift:"&#x21E7;",meta:"&#x2318;",access:"&#x2303;&#x2325;"}:{meta:"Ctrl ",access:"Shift + Alt "},$o=ze.split("+"),Zo=Ct($o,Gn=>{const Pn=Gn.toLowerCase().trim();return uo(Xo,Pn)?Xo[Pn]:Gn});return Ge?Zo.join("").replace(/\s/,""):Zo.join("+")},Se=[{shortcuts:["Meta + B"],action:"Bold"},{shortcuts:["Meta + I"],action:"Italic"},{shortcuts:["Meta + U"],action:"Underline"},{shortcuts:["Meta + A"],action:"Select all"},{shortcuts:["Meta + Y","Meta + Shift + Z"],action:"Redo"},{shortcuts:["Meta + Z"],action:"Undo"},{shortcuts:["Access + 1"],action:"Heading 1"},{shortcuts:["Access + 2"],action:"Heading 2"},{shortcuts:["Access + 3"],action:"Heading 3"},{shortcuts:["Access + 4"],action:"Heading 4"},{shortcuts:["Access + 5"],action:"Heading 5"},{shortcuts:["Access + 6"],action:"Heading 6"},{shortcuts:["Access + 7"],action:"Paragraph"},{shortcuts:["Access + 8"],action:"Div"},{shortcuts:["Access + 9"],action:"Address"},{shortcuts:["Alt + 0"],action:"Open help dialog"},{shortcuts:["Alt + F9"],action:"Focus to menubar"},{shortcuts:["Alt + F10"],action:"Focus to toolbar"},{shortcuts:["Alt + F11"],action:"Focus to element path"},{shortcuts:["Ctrl + F9"],action:"Focus to contextual toolbar"},{shortcuts:["Shift + Enter"],action:"Open popup menu for split buttons"},{shortcuts:["Meta + K"],action:"Insert link (if link plugin activated)"},{shortcuts:["Meta + S"],action:"Save (if save plugin activated)"},{shortcuts:["Meta + F"],action:"Find (if searchreplace plugin activated)"},{shortcuts:["Meta + Shift + F"],action:"Switch to or from fullscreen mode"}],$e=()=>{const ze=Ct(Se,Gt=>{const Vt=Ct(Gt.shortcuts,to).join(" or ");return[Gt.action,Vt]});return{name:"shortcuts",title:"Handy Shortcuts",items:[{type:"table",header:["Action","Shortcut"],cells:ze}]}},ct=Ct([{key:"accordion",name:"Accordion"},{key:"advlist",name:"Advanced List"},{key:"anchor",name:"Anchor"},{key:"autolink",name:"Autolink"},{key:"autoresize",name:"Autoresize"},{key:"autosave",name:"Autosave"},{key:"charmap",name:"Character Map"},{key:"code",name:"Code"},{key:"codesample",name:"Code Sample"},{key:"colorpicker",name:"Color Picker"},{key:"directionality",name:"Directionality"},{key:"emoticons",name:"Emoticons"},{key:"fullscreen",name:"Full Screen"},{key:"help",name:"Help"},{key:"image",name:"Image"},{key:"importcss",name:"Import CSS"},{key:"insertdatetime",name:"Insert Date/Time"},{key:"link",name:"Link"},{key:"lists",name:"Lists"},{key:"media",name:"Media"},{key:"nonbreaking",name:"Nonbreaking"},{key:"pagebreak",name:"Page Break"},{key:"preview",name:"Preview"},{key:"quickbars",name:"Quick Toolbars"},{key:"save",name:"Save"},{key:"searchreplace",name:"Search and Replace"},{key:"table",name:"Table"},{key:"template",name:"Template"},{key:"textcolor",name:"Text Color"},{key:"visualblocks",name:"Visual Blocks"},{key:"visualchars",name:"Visual Characters"},{key:"wordcount",name:"Word Count"},{key:"a11ychecker",name:"Accessibility Checker",type:"premium"},{key:"advcode",name:"Advanced Code Editor",type:"premium"},{key:"advtable",name:"Advanced Tables",type:"premium"},{key:"advtemplate",name:"Advanced Templates",type:"premium",slug:"advanced-templates"},{key:"ai",name:"AI Assistant",type:"premium"},{key:"casechange",name:"Case Change",type:"premium"},{key:"checklist",name:"Checklist",type:"premium"},{key:"editimage",name:"Enhanced Image Editing",type:"premium"},{key:"footnotes",name:"Footnotes",type:"premium"},{key:"typography",name:"Advanced Typography",type:"premium",slug:"advanced-typography"},{key:"mediaembed",name:"Enhanced Media Embed",type:"premium",slug:"introduction-to-mediaembed"},{key:"export",name:"Export",type:"premium"},{key:"formatpainter",name:"Format Painter",type:"premium"},{key:"inlinecss",name:"Inline CSS",type:"premium",slug:"inline-css"},{key:"linkchecker",name:"Link Checker",type:"premium"},{key:"mentions",name:"Mentions",type:"premium"},{key:"mergetags",name:"Merge Tags",type:"premium"},{key:"pageembed",name:"Page Embed",type:"premium"},{key:"permanentpen",name:"Permanent Pen",type:"premium"},{key:"powerpaste",name:"PowerPaste",type:"premium",slug:"introduction-to-powerpaste"},{key:"rtc",name:"Real-Time Collaboration",type:"premium",slug:"rtc-introduction"},{key:"tinymcespellchecker",name:"Spell Checker Pro",type:"premium",slug:"introduction-to-tiny-spellchecker"},{key:"autocorrect",name:"Spelling Autocorrect",type:"premium"},{key:"tableofcontents",name:"Table of Contents",type:"premium"},{key:"tinycomments",name:"Tiny Comments",type:"premium",slug:"introduction-to-tiny-comments"},{key:"tinydrive",name:"Tiny Drive",type:"premium",slug:"tinydrive-introduction"}],ze=>({...ze,type:ze.type||"opensource",slug:ze.slug||ze.key})),gt=ze=>{const Ge=()=>{const zn=R(ct,({type:Ft})=>Ft==="premium"),ut=lt(Ct(zn,Ft=>Ft.name),(Ft,vo)=>Ft.localeCompare(vo)),zt=Ct(ut,Ft=>`<li>${Ft}</li>`).join("");return"<div><p><b>"+dt.translate("Premium plugins:")+"</b></p><ul>"+zt+'<li class="tox-help__more-link" "><a href="https://www.tiny.cloud/pricing/?utm_campaign=help_dialog_plugin_tab&utm_source=tiny&utm_medium=referral&utm_term=read_more&utm_content=premium_plugin_heading" rel="noopener" target="_blank" data-alloy-tabstop="true" tabindex="-1">'+dt.translate("Learn more...")+"</a></li></ul></div>"},Gt=zn=>`<a data-alloy-tabstop="true" tabindex="-1" href="${zn.url}" target="_blank" rel="noopener">${zn.name}</a>`,Vt=(zn,ut)=>{const zt=zn.plugins[ut].getMetadata;if(me(zt)){const Ft=zt();return{name:Ft.name,html:Gt(Ft)}}else return{name:ut,html:ut}},Xo=(zn,ut)=>Je(ct,zt=>zt.key===ut).fold(()=>Vt(zn,ut),zt=>{const Ft=zt.type==="premium"?`${zt.name}*`:zt.name,vo=Gt({name:Ft,url:`https://www.tiny.cloud/docs/tinymce/6/${zt.slug}/`});return{name:Ft,html:vo}}),$o=zn=>{const ut=Mt(zn.plugins),zt=Mo(zn);return he(zt)?ut:R(ut,Ft=>!Bo(zt,Ft))},Zo=zn=>{const ut=$o(zn),zt=lt(Ct(ut,$n=>Xo(zn,$n)),($n,Rr)=>$n.name.localeCompare(Rr.name)),Ft=Ct(zt,$n=>"<li>"+$n.html+"</li>"),vo=Ft.length,Xt=Ft.join("");return"<p><b>"+dt.translate(["Plugins installed ({0}):",vo])+"</b></p><ul>"+Xt+"</ul>"};return{name:"plugins",title:"Plugins",items:[{type:"htmlpanel",presets:"document",html:[(zn=>zn==null?"":"<div>"+Zo(zn)+"</div>")(ze),Ge()].join("")}]}};var pe=tinymce.util.Tools.resolve("tinymce.EditorManager");const Oe=()=>{const Gt='<a data-alloy-tabstop="true" tabindex="-1" href="https://www.tiny.cloud/docs/tinymce/6/changelog/?utm_campaign=help_dialog_version_tab&utm_source=tiny&utm_medium=referral" rel="noopener" target="_blank">TinyMCE '+((Xo,$o)=>Xo.indexOf("@")===0?"X.X.X":Xo+"."+$o)(pe.majorVersion,pe.minorVersion)+"</a>";return{name:"versions",title:"Version",items:[{type:"htmlpanel",html:"<p>"+dt.translate(["You are using {0}",Gt])+"</p>",presets:"document"}]}},We=(ze,Ge)=>{const Gt={},Vt=Ct(ze,Xo=>{var $o;if(co(Xo))return uo(Ge,Xo)&&(Gt[Xo]=Ge[Xo]),Xo;{const Zo=($o=Xo.name)!==null&&$o!==void 0?$o:on("tab-name");return Gt[Zo]=Xo,Zo}});return{tabs:Gt,names:Vt}},Fe=ze=>{const Ge=Mt(ze),Gt=Ge.indexOf("versions");return Gt!==-1&&(Ge.splice(Gt,1),Ge.push("versions")),{tabs:ze,names:Ge}},ge=async(ze,Ge,Gt)=>{const Vt=$e(),Xo=await lo(Gt),$o=gt(ze),Zo=Oe(),Gn={[Vt.name]:Vt,[Xo.name]:Xo,[$o.name]:$o,[Zo.name]:Zo,...Ge.get()};return rt.from(ko(ze)).fold(()=>Fe(Gn),Pn=>We(Pn,Gn))},Me=(ze,Ge,Gt)=>()=>{ge(ze,Ge,Gt).then(({tabs:Vt,names:Xo})=>{const $o=Ct(Xo,Pn=>Rt(Vt,Pn)),Gn={type:"tabpanel",tabs:Bt($o)};ze.windowManager.open({title:"Help",size:"medium",body:Gn,buttons:[{type:"cancel",name:"close",text:"Close",primary:!0}],initialData:{}})})};var at=()=>{Ko.add("help",(ze,Ge)=>{const Gt=xo({}),Vt=Qo(Gt);jt(ze);const Xo=Me(ze,Gt,Ge);return jo(ze,Xo),io(ze,Xo),ze.shortcuts.add("Alt+0","Open help dialog","mceHelp"),Pt(ze,Ge),Vt})};at()})();(function(){var xo=tinymce.util.Tools.resolve("tinymce.PluginManager");const Ko=Object.getPrototypeOf,Io=(U,oe,xe)=>{var xt;return xe(U,oe.prototype)?!0:((xt=U.constructor)===null||xt===void 0?void 0:xt.name)===oe.name},on=U=>{const oe=typeof U;return U===null?"null":oe==="object"&&Array.isArray(U)?"array":oe==="object"&&Io(U,String,(xe,xt)=>xt.isPrototypeOf(xe))?"string":oe},Qo=U=>oe=>on(oe)===U,io=U=>oe=>typeof oe===U,Po=U=>oe=>U===oe,jt=(U,oe)=>Mo(U)&&Io(U,oe,(xe,xt)=>Ko(xe)===xt),ko=Qo("string"),Mo=Qo("object"),jo=U=>jt(U,Object),tn=Qo("array"),To=Po(null),Ue=io("boolean"),it=U=>U==null,So=U=>!it(U),co=io("function"),he=io("number"),Dt=(U,oe)=>{if(tn(U)){for(let xe=0,xt=U.length;xe<xt;++xe)if(!oe(U[xe]))return!1;return!0}return!1},fo=()=>{};class me{constructor(oe,xe){this.tag=oe,this.value=xe}static some(oe){return new me(!0,oe)}static none(){return me.singletonNone}fold(oe,xe){return this.tag?xe(this.value):oe()}isSome(){return this.tag}isNone(){return!this.tag}map(oe){return this.tag?me.some(oe(this.value)):me.none()}bind(oe){return this.tag?oe(this.value):me.none()}exists(oe){return this.tag&&oe(this.value)}forall(oe){return!this.tag||oe(this.value)}filter(oe){return!this.tag||oe(this.value)?this:me.none()}getOr(oe){return this.tag?this.value:oe}or(oe){return this.tag?this:oe}getOrThunk(oe){return this.tag?this.value:oe()}orThunk(oe){return this.tag?this:oe()}getOrDie(oe){if(this.tag)return this.value;throw new Error(oe??"Called getOrDie on None")}static from(oe){return So(oe)?me.some(oe):me.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(oe){this.tag&&oe(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}me.singletonNone=new me(!1);const Ze=Object.keys,de=Object.hasOwnProperty,rt=(U,oe)=>{const xe=Ze(U);for(let xt=0,po=xe.length;xt<po;xt++){const Yn=xe[xt],ga=U[Yn];oe(ga,Yn)}},Yo=U=>(oe,xe)=>{U[xe]=oe},$t=(U,oe,xe,xt)=>{rt(U,(po,Yn)=>{(oe(po,Yn)?xe:xt)(po,Yn)})},gn=(U,oe)=>{const xe={};return $t(U,oe,Yo(xe),fo),xe},Bo=(U,oe)=>de.call(U,oe),Ct=(U,oe)=>Bo(U,oe)&&U[oe]!==void 0&&U[oe]!==null,R=Array.prototype.push,qe=U=>{const oe=[];for(let xe=0,xt=U.length;xe<xt;++xe){if(!tn(U[xe]))throw new Error("Arr.flatten item "+xe+" was not an array, input: "+U);R.apply(oe,U[xe])}return oe},Je=(U,oe)=>oe>=0&&oe<U.length?me.some(U[oe]):me.none(),lt=U=>Je(U,0),Mt=(U,oe)=>{for(let xe=0;xe<U.length;xe++){const xt=oe(U[xe],xe);if(xt.isSome())return xt}return me.none()};typeof window<"u"||Function("return this;")();const ht=(U,oe,xe)=>{if(ko(xe)||Ue(xe)||he(xe))U.setAttribute(oe,xe+"");else throw console.error("Invalid call to Attribute.set. Key ",oe,":: Value ",xe,":: Element ",U),new Error("Attribute value was not simple")},Rt=(U,oe,xe)=>{ht(U.dom,oe,xe)},uo=(U,oe)=>{U.dom.removeAttribute(oe)},Bt=(U,oe)=>{const xt=(oe||document).createElement("div");if(xt.innerHTML=U,!xt.hasChildNodes()||xt.childNodes.length>1){const po="HTML does not have a single root node";throw console.error(po,U),new Error(po)}return Ie(xt.childNodes[0])},V=(U,oe)=>{const xt=(oe||document).createElement(U);return Ie(xt)},dt=(U,oe)=>{const xt=(oe||document).createTextNode(U);return Ie(xt)},Ie=U=>{if(U==null)throw new Error("Node cannot be null or undefined");return{dom:U}},Pt={fromHtml:Bt,fromTag:V,fromText:dt,fromDom:Ie,fromPoint:(U,oe,xe)=>me.from(U.dom.elementFromPoint(oe,xe)).map(Ie)};var lo=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),zo=tinymce.util.Tools.resolve("tinymce.util.URI");const to=U=>U.length>0,Se=U=>oe=>oe.options.get(U),$e=U=>{const oe=U.options.register;oe("image_dimensions",{processor:"boolean",default:!0}),oe("image_advtab",{processor:"boolean",default:!1}),oe("image_uploadtab",{processor:"boolean",default:!0}),oe("image_prepend_url",{processor:"string",default:""}),oe("image_class_list",{processor:"object[]"}),oe("image_description",{processor:"boolean",default:!0}),oe("image_title",{processor:"boolean",default:!1}),oe("image_caption",{processor:"boolean",default:!1}),oe("image_list",{processor:xe=>{const xt=xe===!1||ko(xe)||Dt(xe,Mo)||co(xe);return xt?{value:xe,valid:xt}:{valid:!1,message:"Must be false, a string, an array or a function."}},default:!1})},ct=Se("image_dimensions"),gt=Se("image_advtab"),pe=Se("image_uploadtab"),Oe=Se("image_prepend_url"),We=Se("image_class_list"),Fe=Se("image_description"),ge=Se("image_title"),Me=Se("image_caption"),at=Se("image_list"),ze=Se("a11y_advanced_options"),Ge=Se("automatic_uploads"),Gt=U=>to(U.options.get("images_upload_url")),Vt=U=>So(U.options.get("images_upload_handler")),Xo=(U,oe)=>Math.max(parseInt(U,10),parseInt(oe,10)),$o=U=>new Promise(oe=>{const xe=document.createElement("img"),xt=Yn=>{xe.onload=xe.onerror=null,xe.parentNode&&xe.parentNode.removeChild(xe),oe(Yn)};xe.onload=()=>{const Yn=Xo(xe.width,xe.clientWidth),ga=Xo(xe.height,xe.clientHeight),ks={width:Yn,height:ga};xt(Promise.resolve(ks))},xe.onerror=()=>{xt(Promise.reject(`Failed to get image dimensions for: ${U}`))};const po=xe.style;po.visibility="hidden",po.position="fixed",po.bottom=po.left="0px",po.width=po.height="auto",document.body.appendChild(xe),xe.src=U}),Zo=U=>(U&&(U=U.replace(/px$/,"")),U),Gn=U=>(U.length>0&&/^[0-9]+$/.test(U)&&(U+="px"),U),Pn=U=>{if(U.margin){const oe=String(U.margin).split(" ");switch(oe.length){case 1:U["margin-top"]=U["margin-top"]||oe[0],U["margin-right"]=U["margin-right"]||oe[0],U["margin-bottom"]=U["margin-bottom"]||oe[0],U["margin-left"]=U["margin-left"]||oe[0];break;case 2:U["margin-top"]=U["margin-top"]||oe[0],U["margin-right"]=U["margin-right"]||oe[1],U["margin-bottom"]=U["margin-bottom"]||oe[0],U["margin-left"]=U["margin-left"]||oe[1];break;case 3:U["margin-top"]=U["margin-top"]||oe[0],U["margin-right"]=U["margin-right"]||oe[1],U["margin-bottom"]=U["margin-bottom"]||oe[2],U["margin-left"]=U["margin-left"]||oe[1];break;case 4:U["margin-top"]=U["margin-top"]||oe[0],U["margin-right"]=U["margin-right"]||oe[1],U["margin-bottom"]=U["margin-bottom"]||oe[2],U["margin-left"]=U["margin-left"]||oe[3]}delete U.margin}return U},zn=(U,oe)=>{const xe=at(U);ko(xe)?fetch(xe).then(xt=>{xt.ok&&xt.json().then(oe)}):co(xe)?xe(oe):oe(xe)},ut=(U,oe,xe)=>{const xt=()=>{xe.onload=xe.onerror=null,U.selection&&(U.selection.select(xe),U.nodeChanged())};xe.onload=()=>{!oe.width&&!oe.height&&ct(U)&&U.dom.setAttribs(xe,{width:String(xe.clientWidth),height:String(xe.clientHeight)}),xt()},xe.onerror=xt},zt=U=>new Promise((oe,xe)=>{const xt=new FileReader;xt.onload=()=>{oe(xt.result)},xt.onerror=()=>{var po;xe((po=xt.error)===null||po===void 0?void 0:po.message)},xt.readAsDataURL(U)}),Ft=U=>U.nodeName==="IMG"&&(U.hasAttribute("data-mce-object")||U.hasAttribute("data-mce-placeholder")),vo=(U,oe)=>{const xe=U.options.get;return zo.isDomSafe(oe,"img",{allow_html_data_urls:xe("allow_html_data_urls"),allow_script_urls:xe("allow_script_urls"),allow_svg_data_urls:xe("allow_svg_data_urls")})},Xt=lo.DOM,Vo=U=>U.style.marginLeft&&U.style.marginRight&&U.style.marginLeft===U.style.marginRight?Zo(U.style.marginLeft):"",$n=U=>U.style.marginTop&&U.style.marginBottom&&U.style.marginTop===U.style.marginBottom?Zo(U.style.marginTop):"",Rr=U=>U.style.borderWidth?Zo(U.style.borderWidth):"",Wt=(U,oe)=>{var xe;return U.hasAttribute(oe)&&(xe=U.getAttribute(oe))!==null&&xe!==void 0?xe:""},vr=U=>U.parentNode!==null&&U.parentNode.nodeName==="FIGURE",Fn=(U,oe,xe)=>{xe===""||xe===null?U.removeAttribute(oe):U.setAttribute(oe,xe)},ln=U=>{const oe=Xt.create("figure",{class:"image"});Xt.insertAfter(oe,U),oe.appendChild(U),oe.appendChild(Xt.create("figcaption",{contentEditable:"true"},"Caption")),oe.contentEditable="false"},xr=U=>{const oe=U.parentNode;So(oe)&&(Xt.insertAfter(U,oe),Xt.remove(oe))},Ys=U=>{vr(U)?xr(U):ln(U)},Yr=(U,oe)=>{const xe=U.getAttribute("style"),xt=oe(xe!==null?xe:"");xt.length>0?(U.setAttribute("style",xt),U.setAttribute("data-mce-style",xt)):U.removeAttribute("style")},Pa=(U,oe)=>(xe,xt,po)=>{const Yn=xe.style;Yn[xt]?(Yn[xt]=Gn(po),Yr(xe,oe)):Fn(xe,xt,po)},cs=(U,oe)=>U.style[oe]?Zo(U.style[oe]):Wt(U,oe),Ha=(U,oe)=>{const xe=Gn(oe);U.style.marginLeft=xe,U.style.marginRight=xe},ja=(U,oe)=>{const xe=Gn(oe);U.style.marginTop=xe,U.style.marginBottom=xe},$s=(U,oe)=>{const xe=Gn(oe);U.style.borderWidth=xe},Us=(U,oe)=>{U.style.borderStyle=oe},_a=U=>{var oe;return(oe=U.style.borderStyle)!==null&&oe!==void 0?oe:""},tt=U=>So(U)&&U.nodeName==="FIGURE",_t=U=>U.nodeName==="IMG",Do=U=>Xt.getAttrib(U,"alt").length===0&&Xt.getAttrib(U,"role")==="presentation",St=U=>Do(U)?"":Wt(U,"alt"),zr=()=>({src:"",alt:"",title:"",width:"",height:"",class:"",style:"",caption:!1,hspace:"",vspace:"",border:"",borderStyle:"",isDecorative:!1}),kr=(U,oe)=>{var xe;const xt=document.createElement("img");return Fn(xt,"style",oe.style),(Vo(xt)||oe.hspace!=="")&&Ha(xt,oe.hspace),($n(xt)||oe.vspace!=="")&&ja(xt,oe.vspace),(Rr(xt)||oe.border!=="")&&$s(xt,oe.border),(_a(xt)||oe.borderStyle!=="")&&Us(xt,oe.borderStyle),U((xe=xt.getAttribute("style"))!==null&&xe!==void 0?xe:"")},Is=(U,oe)=>{const xe=document.createElement("img");if(It(U,{...oe,caption:!1},xe),De(xe,oe.alt,oe.isDecorative),oe.caption){const xt=Xt.create("figure",{class:"image"});return xt.appendChild(xe),xt.appendChild(Xt.create("figcaption",{contentEditable:"true"},"Caption")),xt.contentEditable="false",xt}else return xe},Xr=(U,oe)=>({src:Wt(oe,"src"),alt:St(oe),title:Wt(oe,"title"),width:cs(oe,"width"),height:cs(oe,"height"),class:Wt(oe,"class"),style:U(Wt(oe,"style")),caption:vr(oe),hspace:Vo(oe),vspace:$n(oe),border:Rr(oe),borderStyle:_a(oe),isDecorative:Do(oe)}),gr=(U,oe,xe,xt,po)=>{xe[xt]!==oe[xt]&&po(U,xt,String(xe[xt]))},De=(U,oe,xe)=>{if(xe){Xt.setAttrib(U,"role","presentation");const xt=Pt.fromDom(U);Rt(xt,"alt","")}else{if(To(oe)){const xt=Pt.fromDom(U);uo(xt,"alt")}else{const xt=Pt.fromDom(U);Rt(xt,"alt",oe)}Xt.getAttrib(U,"role")==="presentation"&&Xt.setAttrib(U,"role","")}},Ae=(U,oe,xe)=>{(xe.alt!==oe.alt||xe.isDecorative!==oe.isDecorative)&&De(U,xe.alt,xe.isDecorative)},wt=(U,oe)=>(xe,xt,po)=>{U(xe,po),Yr(xe,oe)},It=(U,oe,xe)=>{const xt=Xr(U,xe);gr(xe,xt,oe,"caption",(po,Yn,ga)=>Ys(po)),gr(xe,xt,oe,"src",Fn),gr(xe,xt,oe,"title",Fn),gr(xe,xt,oe,"width",Pa("width",U)),gr(xe,xt,oe,"height",Pa("height",U)),gr(xe,xt,oe,"class",Fn),gr(xe,xt,oe,"style",wt((po,Yn)=>Fn(po,"style",Yn),U)),gr(xe,xt,oe,"hspace",wt(Ha,U)),gr(xe,xt,oe,"vspace",wt(ja,U)),gr(xe,xt,oe,"border",wt($s,U)),gr(xe,xt,oe,"borderStyle",wt(Us,U)),Ae(xe,xt,oe)},dn=(U,oe)=>{const xe=U.dom.styles.parse(oe),xt=Pn(xe),po=U.dom.styles.parse(U.dom.styles.serialize(xt));return U.dom.styles.serialize(po)},nn=U=>{const oe=U.selection.getNode(),xe=U.dom.getParent(oe,"figure.image");return xe?U.dom.select("img",xe)[0]:oe&&(oe.nodeName!=="IMG"||Ft(oe))?null:oe},sr=(U,oe)=>{var xe;const xt=U.dom,po=gn(U.schema.getTextBlockElements(),(ga,ks)=>!U.schema.isValidChild(ks,"figure")),Yn=xt.getParent(oe.parentNode,ga=>Ct(po,ga.nodeName),U.getBody());return Yn&&(xe=xt.split(Yn,oe))!==null&&xe!==void 0?xe:oe},Vr=U=>{const oe=nn(U);return oe?Xr(xe=>dn(U,xe),oe):zr()},Br=(U,oe)=>{const xe=Is(po=>dn(U,po),oe);U.dom.setAttrib(xe,"data-mce-id","__mcenew"),U.focus(),U.selection.setContent(xe.outerHTML);const xt=U.dom.select('*[data-mce-id="__mcenew"]')[0];if(U.dom.setAttrib(xt,"data-mce-id",null),tt(xt)){const po=sr(U,xt);U.selection.select(po)}else U.selection.select(xt)},Jo=(U,oe)=>{U.dom.setAttrib(oe,"src",oe.getAttribute("src"))},Ce=(U,oe)=>{if(oe){const xe=U.dom.is(oe.parentNode,"figure.image")?oe.parentNode:oe;U.dom.remove(xe),U.focus(),U.nodeChanged(),U.dom.isEmpty(U.getBody())&&(U.setContent(""),U.selection.setCursorLocation())}},Ne=(U,oe)=>{const xe=nn(U);if(xe)if(It(xt=>dn(U,xt),oe,xe),Jo(U,xe),tt(xe.parentNode)){const xt=xe.parentNode;sr(U,xt),U.selection.select(xe.parentNode)}else U.selection.select(xe),ut(U,oe,xe)},Zt=(U,oe)=>{const xe=oe.src;return{...oe,src:vo(U,xe)?xe:""}},Lo=(U,oe)=>{const xe=nn(U);if(xe){const po={...Xr(ga=>dn(U,ga),xe),...oe},Yn=Zt(U,po);po.src?Ne(U,Yn):Ce(U,xe)}else oe.src&&Br(U,{...zr(),...oe})},Go=(U=>(...oe)=>{if(oe.length===0)throw new Error("Can't merge zero objects");const xe={};for(let xt=0;xt<oe.length;xt++){const po=oe[xt];for(const Yn in po)Bo(po,Yn)&&(xe[Yn]=U(xe[Yn],po[Yn]))}return xe})((U,oe)=>jo(U)&&jo(oe)?Go(U,oe):oe);var hn=tinymce.util.Tools.resolve("tinymce.util.ImageUploader"),wn=tinymce.util.Tools.resolve("tinymce.util.Tools");const Un=U=>ko(U.value)?U.value:"",Ar=U=>ko(U.text)?U.text:ko(U.title)?U.title:"",ra=(U,oe)=>{const xe=[];return wn.each(U,xt=>{const po=Ar(xt);if(xt.menu!==void 0){const Yn=ra(xt.menu,oe);xe.push({text:po,items:Yn})}else{const Yn=oe(xt);xe.push({text:po,value:Yn})}}),xe},Xs=(U=Un)=>oe=>oe?me.from(oe).map(xe=>ra(xe,U)):me.none(),Zs=U=>Xs(Un)(U),mi=U=>Bo(U,"items"),Wr=(U,oe)=>Mt(U,xe=>mi(xe)?Wr(xe.items,oe):xe.value===oe?me.some(xe):me.none()),Sr={sanitizer:Xs,sanitize:Zs,findEntry:(U,oe)=>U.bind(xe=>Wr(xe,oe))},Cs={makeTab:U=>({title:"Advanced",name:"advanced",items:[{type:"grid",columns:2,items:[{type:"input",label:"Vertical space",name:"vspace",inputMode:"numeric"},{type:"input",label:"Horizontal space",name:"hspace",inputMode:"numeric"},{type:"input",label:"Border width",name:"border",inputMode:"numeric"},{type:"listbox",name:"borderstyle",label:"Border style",items:[{text:"Select...",value:""},{text:"Solid",value:"solid"},{text:"Dotted",value:"dotted"},{text:"Dashed",value:"dashed"},{text:"Double",value:"double"},{text:"Groove",value:"groove"},{text:"Ridge",value:"ridge"},{text:"Inset",value:"inset"},{text:"Outset",value:"outset"},{text:"None",value:"none"},{text:"Hidden",value:"hidden"}]}]}]})},za=U=>{const oe=Sr.sanitizer(Ll=>U.convertURL(Ll.value||Ll.url||"","src")),xe=new Promise(Ll=>{zn(U,pd=>{Ll(oe(pd).map(Ci=>qe([[{text:"None",value:""}],Ci])))})}),xt=Sr.sanitize(We(U)),po=gt(U),Yn=pe(U),ga=Gt(U),ks=Vt(U),_i=Vr(U),Js=Fe(U),Vi=ge(U),Qs=ct(U),ic=Me(U),_s=ze(U),vc=Ge(U),je=me.some(Oe(U)).filter(Ll=>ko(Ll)&&Ll.length>0);return xe.then(Ll=>({image:_i,imageList:Ll,classList:xt,hasAdvTab:po,hasUploadTab:Yn,hasUploadUrl:ga,hasUploadHandler:ks,hasDescription:Js,hasImageTitle:Vi,hasDimensions:Qs,hasImageCaption:ic,prependURL:je,hasAccessibilityOptions:_s,automaticUploads:vc}))},ws=U=>{const oe={name:"src",type:"urlinput",filetype:"image",label:"Source",picker_text:"Browse files"},xe=U.imageList.map(Vi=>({name:"images",type:"listbox",label:"Image list",items:Vi})),xt={name:"alt",type:"input",label:"Alternative description",enabled:!(U.hasAccessibilityOptions&&U.image.isDecorative)},po={name:"title",type:"input",label:"Image title"},Yn={name:"dimensions",type:"sizeinput"},ga={type:"label",label:"Accessibility",items:[{name:"isDecorative",type:"checkbox",label:"Image is decorative"}]},ks=U.classList.map(Vi=>({name:"classes",type:"listbox",label:"Class",items:Vi})),_i={type:"label",label:"Caption",items:[{type:"checkbox",name:"caption",label:"Show caption"}]},Js=Vi=>Vi?{type:"grid",columns:2}:{type:"panel"};return qe([[oe],xe.toArray(),U.hasAccessibilityOptions&&U.hasDescription?[ga]:[],U.hasDescription?[xt]:[],U.hasImageTitle?[po]:[],U.hasDimensions?[Yn]:[],[{...Js(U.classList.isSome()&&U.hasImageCaption),items:qe([ks.toArray(),U.hasImageCaption?[_i]:[]])}]])},Aa={makeTab:U=>({title:"General",name:"general",items:ws(U)}),makeItems:ws},Os={makeTab:U=>({title:"Upload",name:"upload",items:[{type:"dropzone",name:"fileinput"}]})},Ma=U=>({prevImage:Sr.findEntry(U.imageList,U.image.src),prevAlt:U.image.alt,open:!0}),Ca=U=>({src:{value:U.src,meta:{}},images:U.src,alt:U.alt,title:U.title,dimensions:{width:U.width,height:U.height},classes:U.class,caption:U.caption,style:U.style,vspace:U.vspace,border:U.border,hspace:U.hspace,borderstyle:U.borderStyle,fileinput:[],isDecorative:U.isDecorative}),ds=(U,oe)=>({src:U.src.value,alt:(U.alt===null||U.alt.length===0)&&oe?null:U.alt,title:U.title,width:U.dimensions.width,height:U.dimensions.height,class:U.classes,style:U.style,caption:U.caption,hspace:U.hspace,vspace:U.vspace,border:U.border,borderStyle:U.borderstyle,isDecorative:U.isDecorative}),xa=(U,oe)=>/^(?:[a-zA-Z]+:)?\/\//.test(oe)?me.none():U.prependURL.bind(xe=>oe.substring(0,xe.length)!==xe?me.some(xe+oe):me.none()),Rn=(U,oe)=>{const xe=oe.getData();xa(U,xe.src.value).each(xt=>{oe.setData({src:{value:xt,meta:xe.src.meta}})})},Hi=(U,oe,xe)=>{U.hasDescription&&ko(xe.alt)&&(oe.alt=xe.alt),U.hasAccessibilityOptions&&(oe.isDecorative=xe.isDecorative||oe.isDecorative||!1),U.hasImageTitle&&ko(xe.title)&&(oe.title=xe.title),U.hasDimensions&&(ko(xe.width)&&(oe.dimensions.width=xe.width),ko(xe.height)&&(oe.dimensions.height=xe.height)),ko(xe.class)&&Sr.findEntry(U.classList,xe.class).each(xt=>{oe.classes=xt.value}),U.hasImageCaption&&Ue(xe.caption)&&(oe.caption=xe.caption),U.hasAdvTab&&(ko(xe.style)&&(oe.style=xe.style),ko(xe.vspace)&&(oe.vspace=xe.vspace),ko(xe.border)&&(oe.border=xe.border),ko(xe.hspace)&&(oe.hspace=xe.hspace),ko(xe.borderstyle)&&(oe.borderstyle=xe.borderstyle))},Bn=(U,oe)=>{const xe=oe.getData(),xt=xe.src.meta;if(xt!==void 0){const po=Go({},xe);Hi(U,po,xt),oe.setData(po)}},ji=(U,oe,xe,xt)=>{const po=xt.getData(),Yn=po.src.value,ga=po.src.meta||{};!ga.width&&!ga.height&&oe.hasDimensions&&(to(Yn)?U.imageSize(Yn).then(ks=>{xe.open&&xt.setData({dimensions:ks})}).catch(ks=>console.error(ks)):xt.setData({dimensions:{width:"",height:""}}))},go=(U,oe,xe)=>{const xt=xe.getData(),po=Sr.findEntry(U.imageList,xt.src.value);oe.prevImage=po,xe.setData({images:po.map(Yn=>Yn.value).getOr("")})},aa=(U,oe,xe,xt)=>{Rn(oe,xt),Bn(oe,xt),ji(U,oe,xe,xt),go(oe,xe,xt)},Ss=(U,oe,xe,xt)=>{const po=xt.getData(),Yn=Sr.findEntry(oe.imageList,po.images);Yn.each(ga=>{po.alt===""||xe.prevImage.map(_i=>_i.text===po.alt).getOr(!1)?ga.value===""?xt.setData({src:ga,alt:xe.prevAlt}):xt.setData({src:ga,alt:ga.text}):xt.setData({src:ga})}),xe.prevImage=Yn,aa(U,oe,xe,xt)},Ir=(U,oe,xe,xt)=>{const po=xt.getData();xt.block("Uploading image"),lt(po.fileinput).fold(()=>{xt.unblock()},Yn=>{const ga=URL.createObjectURL(Yn),ks=()=>{xt.unblock(),URL.revokeObjectURL(ga)},_i=Js=>{xt.setData({src:{value:Js,meta:{}}}),xt.showTab("general"),aa(U,oe,xe,xt)};zt(Yn).then(Js=>{const Vi=U.createBlobCache(Yn,ga,Js);oe.automaticUploads?U.uploadImage(Vi).then(Qs=>{_i(Qs.url),ks()}).catch(Qs=>{ks(),U.alertErr(Qs)}):(U.addToBlobCache(Vi),_i(Vi.blobUri()),xt.unblock())})})},gi=(U,oe,xe)=>(xt,po)=>{po.name==="src"?aa(U,oe,xe,xt):po.name==="images"?Ss(U,oe,xe,xt):po.name==="alt"?xe.prevAlt=xt.getData().alt:po.name==="fileinput"?Ir(U,oe,xe,xt):po.name==="isDecorative"&&xt.setEnabled("alt",!xt.getData().isDecorative)},sc=U=>()=>{U.open=!1},Pr=U=>U.hasAdvTab||U.hasUploadUrl||U.hasUploadHandler?{type:"tabpanel",tabs:qe([[Aa.makeTab(U)],U.hasAdvTab?[Cs.makeTab(U)]:[],U.hasUploadTab&&(U.hasUploadUrl||U.hasUploadHandler)?[Os.makeTab(U)]:[]])}:{type:"panel",items:Aa.makeItems(U)},ne=(U,oe,xe)=>xt=>{const po=Go(Ca(oe.image),xt.getData()),Yn={...po,style:kr(xe.normalizeCss,ds(po,!1))};U.execCommand("mceUpdateImage",!1,ds(Yn,oe.hasAccessibilityOptions)),U.editorUpload.uploadImagesAuto(),xt.close()},Be=U=>oe=>vo(U,oe)?$o(U.documentBaseURI.toAbsolute(oe)).then(xe=>({width:String(xe.width),height:String(xe.height)})):Promise.resolve({width:"",height:""}),Pe=U=>(oe,xe,xt)=>{var po;return U.editorUpload.blobCache.create({blob:oe,blobUri:xe,name:(po=oe.name)===null||po===void 0?void 0:po.replace(/\.[^\.]+$/,""),filename:oe.name,base64:xt.split(",")[1]})},Nt=U=>oe=>{U.editorUpload.blobCache.add(oe)},ho=U=>oe=>{U.windowManager.alert(oe)},bn=U=>oe=>dn(U,oe),kn=U=>oe=>U.dom.parseStyle(oe),_r=U=>(oe,xe)=>U.dom.serializeStyle(oe,xe),Or=U=>oe=>hn(U).upload([oe],!1).then(xe=>{var xt;return xe.length===0?Promise.reject("Failed to upload image"):xe[0].status===!1?Promise.reject((xt=xe[0].error)===null||xt===void 0?void 0:xt.message):xe[0]}),Sa=U=>{const oe={imageSize:Be(U),addToBlobCache:Nt(U),createBlobCache:Pe(U),alertErr:ho(U),normalizeCss:bn(U),parseStyle:kn(U),serializeStyle:_r(U),uploadImage:Or(U)};return{open:()=>{za(U).then(xt=>{const po=Ma(xt);return{title:"Insert/Edit Image",size:"normal",body:Pr(xt),buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:Ca(xt.image),onSubmit:ne(U,xt,oe),onChange:gi(oe,xt,po),onClose:sc(po)}}).then(U.windowManager.open)}}},ma=U=>{U.addCommand("mceImage",Sa(U).open),U.addCommand("mceUpdateImage",(oe,xe)=>{U.undoManager.transact(()=>Lo(U,xe))})},Ga=U=>{const oe=U.attr("class");return So(oe)&&/\bimage\b/.test(oe)},Q=U=>oe=>{let xe=oe.length;const xt=po=>{po.attr("contenteditable",U?"true":null)};for(;xe--;){const po=oe[xe];Ga(po)&&(po.attr("contenteditable",U?"false":null),wn.each(po.getAll("figcaption"),xt))}},Ee=U=>{U.on("PreInit",()=>{U.parser.addNodeFilter("figure",Q(!0)),U.serializer.addNodeFilter("figure",Q(!1))})},bt=U=>oe=>{const xe=()=>{oe.setEnabled(U.selection.isEditable())};return U.on("NodeChange",xe),xe(),()=>{U.off("NodeChange",xe)}},wo=U=>{U.ui.registry.addToggleButton("image",{icon:"image",tooltip:"Insert/edit image",onAction:Sa(U).open,onSetup:oe=>{oe.setActive(So(nn(U)));const xe=U.selection.selectorChangedWithUnbind("img:not([data-mce-object]):not([data-mce-placeholder]),figure.image",oe.setActive).unbind,xt=bt(U)(oe);return()=>{xe(),xt()}}}),U.ui.registry.addMenuItem("image",{icon:"image",text:"Image...",onAction:Sa(U).open,onSetup:bt(U)}),U.ui.registry.addContextMenu("image",{update:oe=>U.selection.isEditable()&&(tt(oe)||_t(oe)&&!Ft(oe))?["image"]:[]})};var Zn=()=>{xo.add("image",U=>{$e(U),Ee(U),wo(U),ma(U)})};Zn()})();(function(){var xo=tinymce.util.Tools.resolve("tinymce.PluginManager");const Ko=(Se,$e,ct)=>{var gt;return ct(Se,$e.prototype)?!0:((gt=Se.constructor)===null||gt===void 0?void 0:gt.name)===$e.name},Io=Se=>{const $e=typeof Se;return Se===null?"null":$e==="object"&&Array.isArray(Se)?"array":$e==="object"&&Ko(Se,String,(ct,gt)=>gt.isPrototypeOf(ct))?"string":$e},on=Se=>$e=>Io($e)===Se,Qo=Se=>$e=>typeof $e===Se,io=on("string"),Po=on("object"),jt=on("array"),ko=Qo("function");var Mo=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),jo=tinymce.util.Tools.resolve("tinymce.EditorManager"),tn=tinymce.util.Tools.resolve("tinymce.Env"),To=tinymce.util.Tools.resolve("tinymce.util.Tools");const Ue=Se=>$e=>$e.options.get(Se),it=Se=>{const $e=Se.options.register,ct=gt=>io(gt)||ko(gt)||Po(gt);$e("importcss_merge_classes",{processor:"boolean",default:!0}),$e("importcss_exclusive",{processor:"boolean",default:!0}),$e("importcss_selector_converter",{processor:"function"}),$e("importcss_selector_filter",{processor:ct}),$e("importcss_file_filter",{processor:ct}),$e("importcss_groups",{processor:"object[]"}),$e("importcss_append",{processor:"boolean",default:!1})},So=Ue("importcss_merge_classes"),co=Ue("importcss_exclusive"),he=Ue("importcss_selector_converter"),Dt=Ue("importcss_selector_filter"),fo=Ue("importcss_groups"),me=Ue("importcss_append"),Ze=Ue("importcss_file_filter"),de=Ue("skin"),rt=Ue("skin_url"),Yo=Array.prototype.push,$t=(Se,$e)=>{const ct=Se.length,gt=new Array(ct);for(let pe=0;pe<ct;pe++){const Oe=Se[pe];gt[pe]=$e(Oe,pe)}return gt},gn=Se=>{const $e=[];for(let ct=0,gt=Se.length;ct<gt;++ct){if(!jt(Se[ct]))throw new Error("Arr.flatten item "+ct+" was not an array, input: "+Se);Yo.apply($e,Se[ct])}return $e},Bo=(Se,$e)=>gn($t(Se,$e)),Ct=()=>{const Se=[],$e=[],ct={};return{addItemToGroup:(We,Fe)=>{ct[We]?ct[We].push(Fe):($e.push(We),ct[We]=[Fe])},addItem:We=>{Se.push(We)},toFormats:()=>Bo($e,Fe=>{const ge=ct[Fe];return ge.length===0?[]:[{title:Fe,items:ge}]}).concat(Se)}},R=/^\.(?:ephox|tiny-pageembed|mce)(?:[.-]+\w+)+$/,qe=Se=>{const $e=tn.cacheSuffix;return io(Se)&&(Se=Se.replace("?"+$e,"").replace("&"+$e,"")),Se},Je=(Se,$e)=>{const ct=de(Se);if(ct){const gt=rt(Se),pe=gt?Se.documentBaseURI.toAbsolute(gt):jo.baseURL+"/skins/ui/"+ct,Oe=jo.baseURL+"/skins/content/";return $e===pe+"/content"+(Se.inline?".inline":"")+".min.css"||$e.indexOf(Oe)!==-1}return!1},lt=Se=>io(Se)?$e=>$e.indexOf(Se)!==-1:Se instanceof RegExp?$e=>Se.test($e):Se,Mt=Se=>Se.styleSheet,ht=Se=>Se.selectorText,Rt=(Se,$e,ct)=>{const gt=[],pe={},Oe=(We,Fe)=>{let ge=We.href,Me;if(ge=qe(ge),!(!ge||ct&&!ct(ge,Fe)||Je(Se,ge))){To.each(We.imports,at=>{Oe(at,!0)});try{Me=We.cssRules||We.rules}catch{}To.each(Me,at=>{Mt(at)&&at.styleSheet?Oe(at.styleSheet,!0):ht(at)&&To.each(at.selectorText.split(","),ze=>{gt.push(To.trim(ze))})})}};To.each(Se.contentCSS,We=>{pe[We]=!0}),ct||(ct=(We,Fe)=>Fe||pe[We]);try{To.each($e.styleSheets,We=>{Oe(We)})}catch{}return gt},uo=(Se,$e)=>{let ct={};const gt=/^(?:([a-z0-9\-_]+))?(\.[a-z0-9_\-\.]+)$/i.exec($e);if(!gt)return;const pe=gt[1],Oe=gt[2].substr(1).split(".").join(" "),We=To.makeMap("a,img");return gt[1]?(ct={title:$e},Se.schema.getTextBlockElements()[pe]?ct.block=pe:Se.schema.getBlockElements()[pe]||We[pe.toLowerCase()]?ct.selector=pe:ct.inline=pe):gt[2]&&(ct={inline:"span",title:$e.substr(1),classes:Oe}),So(Se)?ct.classes=Oe:ct.attributes={class:Oe},ct},Bt=(Se,$e)=>To.grep(Se,ct=>!ct.filter||ct.filter($e)),V=Se=>To.map(Se,$e=>To.extend({},$e,{original:$e,selectors:{},filter:lt($e.filter)})),dt=(Se,$e)=>$e===null||co(Se),Ie=(Se,$e,ct,gt)=>!(dt(Se,ct)?$e in gt:$e in ct.selectors),Co=(Se,$e,ct,gt)=>{dt(Se,ct)?gt[$e]=!0:ct.selectors[$e]=!0},Pt=(Se,$e,ct,gt)=>{let pe;const Oe=he(Se);return gt&&gt.selector_converter?pe=gt.selector_converter:Oe?pe=Oe:pe=()=>uo(Se,ct),pe.call($e,ct,gt)},lo=Se=>{Se.on("init",()=>{const $e=Ct(),ct={},gt=lt(Dt(Se)),pe=V(fo(Se)),Oe=(Fe,ge)=>{if(Ie(Se,Fe,ge,ct)){Co(Se,Fe,ge,ct);const Me=Pt(Se,Se.plugins.importcss,Fe,ge);if(Me){const at=Me.name||Mo.DOM.uniqueId();return Se.formatter.register(at,Me),{title:Me.title,format:at}}}return null};To.each(Rt(Se,Se.getDoc(),lt(Ze(Se))),Fe=>{if(!R.test(Fe)&&(!gt||gt(Fe))){const ge=Bt(pe,Fe);if(ge.length>0)To.each(ge,Me=>{const at=Oe(Fe,Me);at&&$e.addItemToGroup(Me.title,at)});else{const Me=Oe(Fe,null);Me&&$e.addItem(Me)}}});const We=$e.toFormats();Se.dispatch("addStyleModifications",{items:We,replace:!me(Se)})})},zo=Se=>({convertSelectorToFormat:ct=>uo(Se,ct)});var to=()=>{xo.add("importcss",Se=>(it(Se),lo(Se),zo(Se)))};to()})();(function(){var xo=tinymce.util.Tools.resolve("tinymce.PluginManager");const Ko=de=>rt=>rt.options.get(de),Io=de=>{const rt=de.options.register;rt("insertdatetime_dateformat",{processor:"string",default:de.translate("%Y-%m-%d")}),rt("insertdatetime_timeformat",{processor:"string",default:de.translate("%H:%M:%S")}),rt("insertdatetime_formats",{processor:"string[]",default:["%H:%M:%S","%Y-%m-%d","%I:%M:%S %p","%D"]}),rt("insertdatetime_element",{processor:"boolean",default:!1})},on=Ko("insertdatetime_dateformat"),Qo=Ko("insertdatetime_timeformat"),io=Ko("insertdatetime_formats"),Po=Ko("insertdatetime_element"),jt=de=>{const rt=io(de);return rt.length>0?rt[0]:Qo(de)},ko="Sun Mon Tue Wed Thu Fri Sat Sun".split(" "),Mo="Sunday Monday Tuesday Wednesday Thursday Friday Saturday Sunday".split(" "),jo="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),tn="January February March April May June July August September October November December".split(" "),To=(de,rt)=>{if(de=""+de,de.length<rt)for(let Yo=0;Yo<rt-de.length;Yo++)de="0"+de;return de},Ue=(de,rt,Yo=new Date)=>(rt=rt.replace("%D","%m/%d/%Y"),rt=rt.replace("%r","%I:%M:%S %p"),rt=rt.replace("%Y",""+Yo.getFullYear()),rt=rt.replace("%y",""+Yo.getYear()),rt=rt.replace("%m",To(Yo.getMonth()+1,2)),rt=rt.replace("%d",To(Yo.getDate(),2)),rt=rt.replace("%H",""+To(Yo.getHours(),2)),rt=rt.replace("%M",""+To(Yo.getMinutes(),2)),rt=rt.replace("%S",""+To(Yo.getSeconds(),2)),rt=rt.replace("%I",""+((Yo.getHours()+11)%12+1)),rt=rt.replace("%p",Yo.getHours()<12?"AM":"PM"),rt=rt.replace("%B",""+de.translate(tn[Yo.getMonth()])),rt=rt.replace("%b",""+de.translate(jo[Yo.getMonth()])),rt=rt.replace("%A",""+de.translate(Mo[Yo.getDay()])),rt=rt.replace("%a",""+de.translate(ko[Yo.getDay()])),rt=rt.replace("%%","%"),rt),it=(de,rt,Yo,$t)=>{const gn=de.dom.create("time",{datetime:Yo},$t);de.dom.replace(gn,rt),de.selection.select(gn,!0),de.selection.collapse(!1)},So=(de,rt)=>{if(Po(de)){const Yo=Ue(de,rt);let $t;/%[HMSIp]/.test(rt)?$t=Ue(de,"%Y-%m-%dT%H:%M"):$t=Ue(de,"%Y-%m-%d");const gn=de.dom.getParent(de.selection.getStart(),"time");gn?it(de,gn,$t,Yo):de.insertContent('<time datetime="'+$t+'">'+Yo+"</time>")}else de.insertContent(Ue(de,rt))},co=de=>{de.addCommand("mceInsertDate",(rt,Yo)=>{So(de,Yo??on(de))}),de.addCommand("mceInsertTime",(rt,Yo)=>{So(de,Yo??Qo(de))})},he=de=>{let rt=de;return{get:()=>rt,set:gn=>{rt=gn}}};var Dt=tinymce.util.Tools.resolve("tinymce.util.Tools");const fo=de=>rt=>{const Yo=()=>{rt.setEnabled(de.selection.isEditable())};return de.on("NodeChange",Yo),Yo(),()=>{de.off("NodeChange",Yo)}},me=de=>{const rt=io(de),Yo=he(jt(de)),$t=Bo=>de.execCommand("mceInsertDate",!1,Bo);de.ui.registry.addSplitButton("insertdatetime",{icon:"insert-time",tooltip:"Insert date/time",select:Bo=>Bo===Yo.get(),fetch:Bo=>{Bo(Dt.map(rt,Ct=>({type:"choiceitem",text:Ue(de,Ct),value:Ct})))},onAction:Bo=>{$t(Yo.get())},onItemAction:(Bo,Ct)=>{Yo.set(Ct),$t(Ct)},onSetup:fo(de)});const gn=Bo=>()=>{Yo.set(Bo),$t(Bo)};de.ui.registry.addNestedMenuItem("insertdatetime",{icon:"insert-time",text:"Date/time",getSubmenuItems:()=>Dt.map(rt,Bo=>({type:"menuitem",text:Ue(de,Bo),onAction:gn(Bo)})),onSetup:fo(de)})};var Ze=()=>{xo.add("insertdatetime",de=>{Io(de),co(de),me(de)})};Ze()})();(function(){var xo=tinymce.util.Tools.resolve("tinymce.PluginManager");const Ko=(ne,Be,Pe)=>{var Nt;return Pe(ne,Be.prototype)?!0:((Nt=ne.constructor)===null||Nt===void 0?void 0:Nt.name)===Be.name},Io=ne=>{const Be=typeof ne;return ne===null?"null":Be==="object"&&Array.isArray(ne)?"array":Be==="object"&&Ko(ne,String,(Pe,Nt)=>Nt.isPrototypeOf(Pe))?"string":Be},on=ne=>Be=>Io(Be)===ne,Qo=ne=>Be=>typeof Be===ne,io=ne=>Be=>ne===Be,Po=on("string"),jt=on("object"),ko=on("array"),Mo=io(null),jo=Qo("boolean"),tn=ne=>ne==null,To=ne=>!tn(ne),Ue=Qo("function"),it=(ne,Be)=>{if(ko(ne)){for(let Pe=0,Nt=ne.length;Pe<Nt;++Pe)if(!Be(ne[Pe]))return!1;return!0}return!1},So=()=>{},co=ne=>()=>ne,he=(ne,Be)=>ne===Be;class Dt{constructor(Be,Pe){this.tag=Be,this.value=Pe}static some(Be){return new Dt(!0,Be)}static none(){return Dt.singletonNone}fold(Be,Pe){return this.tag?Pe(this.value):Be()}isSome(){return this.tag}isNone(){return!this.tag}map(Be){return this.tag?Dt.some(Be(this.value)):Dt.none()}bind(Be){return this.tag?Be(this.value):Dt.none()}exists(Be){return this.tag&&Be(this.value)}forall(Be){return!this.tag||Be(this.value)}filter(Be){return!this.tag||Be(this.value)?this:Dt.none()}getOr(Be){return this.tag?this.value:Be}or(Be){return this.tag?this:Be}getOrThunk(Be){return this.tag?this.value:Be()}orThunk(Be){return this.tag?this:Be()}getOrDie(Be){if(this.tag)return this.value;throw new Error(Be??"Called getOrDie on None")}static from(Be){return To(Be)?Dt.some(Be):Dt.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(Be){this.tag&&Be(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}Dt.singletonNone=new Dt(!1);const fo=Array.prototype.indexOf,me=Array.prototype.push,Ze=(ne,Be)=>fo.call(ne,Be),de=(ne,Be)=>Ze(ne,Be)>-1,rt=(ne,Be)=>{const Pe=ne.length,Nt=new Array(Pe);for(let ho=0;ho<Pe;ho++){const bn=ne[ho];Nt[ho]=Be(bn,ho)}return Nt},Yo=(ne,Be)=>{for(let Pe=0,Nt=ne.length;Pe<Nt;Pe++){const ho=ne[Pe];Be(ho,Pe)}},$t=(ne,Be,Pe)=>(Yo(ne,(Nt,ho)=>{Pe=Be(Pe,Nt,ho)}),Pe),gn=ne=>{const Be=[];for(let Pe=0,Nt=ne.length;Pe<Nt;++Pe){if(!ko(ne[Pe]))throw new Error("Arr.flatten item "+Pe+" was not an array, input: "+ne);me.apply(Be,ne[Pe])}return Be},Bo=(ne,Be)=>gn(rt(ne,Be)),Ct=(ne,Be)=>{for(let Pe=0;Pe<ne.length;Pe++){const Nt=Be(ne[Pe],Pe);if(Nt.isSome())return Nt}return Dt.none()},R=(ne,Be,Pe=he)=>ne.exists(Nt=>Pe(Nt,Be)),qe=ne=>{const Be=[],Pe=Nt=>{Be.push(Nt)};for(let Nt=0;Nt<ne.length;Nt++)ne[Nt].each(Pe);return Be},Je=(ne,Be)=>ne?Dt.some(Be):Dt.none(),lt=ne=>Be=>Be.options.get(ne),Mt=ne=>{const Be=ne.options.register;Be("link_assume_external_targets",{processor:Pe=>{const Nt=Po(Pe)||jo(Pe);return Nt?Pe===!0?{value:1,valid:Nt}:Pe==="http"||Pe==="https"?{value:Pe,valid:Nt}:{value:0,valid:Nt}:{valid:!1,message:"Must be a string or a boolean."}},default:!1}),Be("link_context_toolbar",{processor:"boolean",default:!1}),Be("link_list",{processor:Pe=>Po(Pe)||Ue(Pe)||it(Pe,jt)}),Be("link_default_target",{processor:"string"}),Be("link_default_protocol",{processor:"string",default:"https"}),Be("link_target_list",{processor:Pe=>jo(Pe)||it(Pe,jt),default:!0}),Be("link_rel_list",{processor:"object[]",default:[]}),Be("link_class_list",{processor:"object[]",default:[]}),Be("link_title",{processor:"boolean",default:!0}),Be("allow_unsafe_link_target",{processor:"boolean",default:!1}),Be("link_quicklink",{processor:"boolean",default:!1})},ht=lt("link_assume_external_targets"),Rt=lt("link_context_toolbar"),uo=lt("link_list"),Bt=lt("link_default_target"),V=lt("link_default_protocol"),dt=lt("link_target_list"),Ie=lt("link_rel_list"),Co=lt("link_class_list"),Pt=lt("link_title"),lo=lt("allow_unsafe_link_target"),zo=lt("link_quicklink");var to=tinymce.util.Tools.resolve("tinymce.util.Tools");const Se=ne=>Po(ne.value)?ne.value:"",$e=ne=>Po(ne.text)?ne.text:Po(ne.title)?ne.title:"",ct=(ne,Be)=>{const Pe=[];return to.each(ne,Nt=>{const ho=$e(Nt);if(Nt.menu!==void 0){const bn=ct(Nt.menu,Be);Pe.push({text:ho,items:bn})}else{const bn=Be(Nt);Pe.push({text:ho,value:bn})}}),Pe},gt=(ne=Se)=>Be=>Dt.from(Be).map(Pe=>ct(Pe,ne)),We={sanitize:ne=>gt(Se)(ne),sanitizeWith:gt,createUi:(ne,Be)=>Pe=>({name:ne,type:"listbox",label:Be,items:Pe}),getValue:Se},Fe=Object.keys,ge=Object.hasOwnProperty,Me=(ne,Be)=>{const Pe=Fe(ne);for(let Nt=0,ho=Pe.length;Nt<ho;Nt++){const bn=Pe[Nt],kn=ne[bn];Be(kn,bn)}},at=ne=>(Be,Pe)=>{ne[Pe]=Be},ze=(ne,Be,Pe,Nt)=>{Me(ne,(ho,bn)=>{(Be(ho,bn)?Pe:Nt)(ho,bn)})},Ge=(ne,Be)=>{const Pe={};return ze(ne,Be,at(Pe),So),Pe},Gt=(ne,Be)=>ge.call(ne,Be),Vt=(ne,Be)=>Gt(ne,Be)&&ne[Be]!==void 0&&ne[Be]!==null;var Xo=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),$o=tinymce.util.Tools.resolve("tinymce.util.URI");const Zo=ne=>To(ne)&&ne.nodeName.toLowerCase()==="a",Gn=ne=>Zo(ne)&&!!ut(ne),Pn=(ne,Be)=>{if(ne.collapsed)return[];{const Pe=ne.cloneContents(),Nt=Pe.firstChild,ho=new Xo(Nt,Pe),bn=[];let kn=Nt;do Be(kn)&&bn.push(kn);while(kn=ho.next());return bn}},zn=ne=>/^\w+:/i.test(ne),ut=ne=>{var Be,Pe;return(Pe=(Be=ne.getAttribute("data-mce-href"))!==null&&Be!==void 0?Be:ne.getAttribute("href"))!==null&&Pe!==void 0?Pe:""},zt=(ne,Be)=>{const Pe=["noopener"],Nt=ne?ne.split(/\s+/):[],ho=Or=>to.trim(Or.sort().join(" ")),bn=Or=>(Or=kn(Or),Or.length>0?Or.concat(Pe):Pe),kn=Or=>Or.filter(Sa=>to.inArray(Pe,Sa)===-1),_r=Be?bn(Nt):kn(Nt);return _r.length>0?ho(_r):""},Ft=ne=>ne.replace(/\uFEFF/g,""),vo=(ne,Be)=>(Be=Be||$n(ne.selection.getRng())[0]||ne.selection.getNode(),ln(Be)?Dt.from(ne.dom.select("a[href]",Be)[0]):Dt.from(ne.dom.getParent(Be,"a[href]"))),Xt=(ne,Be)=>vo(ne,Be).isSome(),Vo=(ne,Be)=>{const Pe=Be.fold(()=>ne.getContent({format:"text"}),Nt=>Nt.innerText||Nt.textContent||"");return Ft(Pe)},$n=ne=>Pn(ne,Gn),Rr=ne=>to.grep(ne,Gn),Wt=ne=>Rr(ne).length>0,vr=ne=>$n(ne).length>0,Fn=ne=>{const Be=ne.schema.getTextInlineElements(),Pe=bn=>bn.nodeType===1&&!Zo(bn)&&!Gt(Be,bn.nodeName.toLowerCase());if(vo(ne).exists(bn=>bn.hasAttribute("data-mce-block")))return!1;const ho=ne.selection.getRng();return ho.collapsed?!0:Pn(ho,Pe).length===0},ln=ne=>To(ne)&&ne.nodeName==="FIGURE"&&/\bimage\b/i.test(ne.className),xr=ne=>$t(["title","rel","class","target"],(Pe,Nt)=>(ne[Nt].each(ho=>{Pe[Nt]=ho.length>0?ho:null}),Pe),{href:ne.href}),Ys=(ne,Be)=>(Be==="http"||Be==="https")&&!zn(ne)?Be+"://"+ne:ne,Yr=(ne,Be)=>{const Pe={...Be};if(Ie(ne).length===0&&!lo(ne)){const Nt=zt(Pe.rel,Pe.target==="_blank");Pe.rel=Nt||null}return Dt.from(Pe.target).isNone()&&dt(ne)===!1&&(Pe.target=Bt(ne)),Pe.href=Ys(Pe.href,ht(ne)),Pe},Pa=(ne,Be,Pe,Nt)=>{Pe.each(ho=>{Gt(Be,"innerText")?Be.innerText=ho:Be.textContent=ho}),ne.dom.setAttribs(Be,Nt),ne.selection.select(Be)},cs=(ne,Be,Pe,Nt)=>{const ho=ne.dom;ln(Be)?St(ho,Be,Nt):Pe.fold(()=>{ne.execCommand("mceInsertLink",!1,Nt)},bn=>{ne.insertContent(ho.createHTML("a",Nt,ho.encode(bn)))})},Ha=(ne,Be,Pe)=>{const Nt=ne.selection.getNode(),ho=vo(ne,Nt),bn=Yr(ne,xr(Pe));ne.undoManager.transact(()=>{Pe.href===Be.href&&Be.attach(),ho.fold(()=>{cs(ne,Nt,Pe.text,bn)},kn=>{ne.focus(),Pa(ne,kn,Pe.text,bn)})})},ja=ne=>{const Be=ne.dom,Pe=ne.selection,Nt=Pe.getBookmark(),ho=Pe.getRng().cloneRange(),bn=Be.getParent(ho.startContainer,"a[href]",ne.getBody()),kn=Be.getParent(ho.endContainer,"a[href]",ne.getBody());bn&&ho.setStartBefore(bn),kn&&ho.setEndAfter(kn),Pe.setRng(ho),ne.execCommand("unlink"),Pe.moveToBookmark(Nt)},$s=ne=>{ne.undoManager.transact(()=>{const Be=ne.selection.getNode();ln(Be)?Do(ne,Be):ja(ne),ne.focus()})},Us=ne=>{const{class:Be,href:Pe,rel:Nt,target:ho,text:bn,title:kn}=ne;return Ge({class:Be.getOrNull(),href:Pe,rel:Nt.getOrNull(),target:ho.getOrNull(),text:bn.getOrNull(),title:kn.getOrNull()},(_r,Or)=>Mo(_r)===!1)},_a=(ne,Be)=>{const Pe=ne.options.get,Nt={allow_html_data_urls:Pe("allow_html_data_urls"),allow_script_urls:Pe("allow_script_urls"),allow_svg_data_urls:Pe("allow_svg_data_urls")},ho=Be.href;return{...Be,href:$o.isDomSafe(ho,"a",Nt)?ho:""}},tt=(ne,Be,Pe)=>{const Nt=_a(ne,Pe);ne.hasPlugin("rtc",!0)?ne.execCommand("createlink",!1,Us(Nt)):Ha(ne,Be,Nt)},_t=ne=>{ne.hasPlugin("rtc",!0)?ne.execCommand("unlink"):$s(ne)},Do=(ne,Be)=>{var Pe;const Nt=ne.dom.select("img",Be)[0];if(Nt){const ho=ne.dom.getParents(Nt,"a[href]",Be)[0];ho&&((Pe=ho.parentNode)===null||Pe===void 0||Pe.insertBefore(Nt,ho),ne.dom.remove(ho))}},St=(ne,Be,Pe)=>{var Nt;const ho=ne.select("img",Be)[0];if(ho){const bn=ne.create("a",Pe);(Nt=ho.parentNode)===null||Nt===void 0||Nt.insertBefore(bn,ho),bn.appendChild(ho)}},zr=ne=>Vt(ne,"items"),kr=(ne,Be)=>Ct(Be,Pe=>zr(Pe)?kr(ne,Pe.items):Je(Pe.value===ne,Pe)),Is=(ne,Be,Pe,Nt)=>{const ho=Nt[Be],bn=ne.length>0;return ho!==void 0?kr(ho,Pe).map(kn=>({url:{value:kn.value,meta:{text:bn?ne:kn.text,attach:So}},text:bn?ne:kn.text})):Dt.none()},Xr=(ne,Be)=>Be==="link"?ne.link:Be==="anchor"?ne.anchor:Dt.none(),De={init:(ne,Be)=>{const Pe={text:ne.text,title:ne.title},Nt=Or=>{var Sa;return Je(Pe.title.length<=0,Dt.from((Sa=Or.meta)===null||Sa===void 0?void 0:Sa.title).getOr(""))},ho=Or=>{var Sa;return Je(Pe.text.length<=0,Dt.from((Sa=Or.meta)===null||Sa===void 0?void 0:Sa.text).getOr(Or.value))},bn=Or=>{const Sa=ho(Or.url),ma=Nt(Or.url);return Sa.isSome()||ma.isSome()?Dt.some({...Sa.map(Ga=>({text:Ga})).getOr({}),...ma.map(Ga=>({title:Ga})).getOr({})}):Dt.none()},kn=(Or,Sa)=>{const ma=Xr(Be,Sa).getOr([]);return Is(Pe.text,Sa,ma,Or)};return{onChange:(Or,Sa)=>{const ma=Sa.name;return ma==="url"?bn(Or()):de(["anchor","link"],ma)?kn(Or(),ma):((ma==="text"||ma==="title")&&(Pe[ma]=Or()[ma]),Dt.none())}}},getDelta:Is};var Ae=tinymce.util.Tools.resolve("tinymce.util.Delay");const wt=(ne,Be,Pe)=>{const Nt=ne.selection.getRng();Ae.setEditorTimeout(ne,()=>{ne.windowManager.confirm(Be,ho=>{ne.selection.setRng(Nt),Pe(ho)})})},It=ne=>{const Be=ne.href;return Be.indexOf("@")>0&&Be.indexOf("/")===-1&&Be.indexOf("mailto:")===-1?Dt.some({message:"The URL you entered seems to be an email address. Do you want to add the required mailto: prefix?",preprocess:Nt=>({...Nt,href:"mailto:"+Be})}):Dt.none()},dn=(ne,Be)=>Pe=>{const Nt=Pe.href;return ne===1&&!zn(Nt)||ne===0&&/^\s*www(\.|\d\.)/i.test(Nt)?Dt.some({message:`The URL you entered seems to be an external link. Do you want to add the required ${Be}:// prefix?`,preprocess:bn=>({...bn,href:Be+"://"+Nt})}):Dt.none()},sr={preprocess:(ne,Be)=>Ct([It,dn(ht(ne),V(ne))],Pe=>Pe(Be)).fold(()=>Promise.resolve(Be),Pe=>new Promise(Nt=>{wt(ne,Pe.message,ho=>{Nt(ho?Pe.preprocess(Be):Be)})}))},Br={getAnchors:ne=>{const Be=ne.dom.select("a:not([href])"),Pe=Bo(Be,Nt=>{const ho=Nt.name||Nt.id;return ho?[{text:ho,value:"#"+ho}]:[]});return Pe.length>0?Dt.some([{text:"None",value:""}].concat(Pe)):Dt.none()}},Ce={getClasses:ne=>{const Be=Co(ne);return Be.length>0?We.sanitize(Be):Dt.none()}},Ne=ne=>{try{return Dt.some(JSON.parse(ne))}catch{return Dt.none()}},Lo={getLinks:ne=>{const Be=Nt=>ne.convertURL(Nt.value||Nt.url||"","href"),Pe=uo(ne);return new Promise(Nt=>{Po(Pe)?fetch(Pe).then(ho=>ho.ok?ho.text().then(Ne):Promise.reject()).then(Nt,()=>Nt(Dt.none())):Ue(Pe)?Pe(ho=>Nt(Dt.some(ho))):Nt(Dt.from(Pe))}).then(Nt=>Nt.bind(We.sanitizeWith(Be)).map(ho=>ho.length>0?[{text:"None",value:""}].concat(ho):ho))}},rn={getRels:(ne,Be)=>{const Pe=Ie(ne);if(Pe.length>0){const Nt=R(Be,"_blank"),ho=lo(ne)===!1,bn=_r=>zt(We.getValue(_r),Nt);return(ho?We.sanitizeWith(bn):We.sanitize)(Pe)}return Dt.none()}},Go=[{text:"Current window",value:""},{text:"New window",value:"_blank"}],wn={getTargets:ne=>{const Be=dt(ne);return ko(Be)?We.sanitize(Be).orThunk(()=>Dt.some(Go)):Be===!1?Dt.none():Dt.some(Go)}},Un=(ne,Be,Pe)=>{const Nt=ne.getAttrib(Be,Pe);return Nt!==null&&Nt.length>0?Dt.some(Nt):Dt.none()},Ar=(ne,Be)=>{const Pe=ne.dom,ho=Fn(ne)?Dt.some(Vo(ne.selection,Be)):Dt.none(),bn=Be.bind(ma=>Dt.from(Pe.getAttrib(ma,"href"))),kn=Be.bind(ma=>Dt.from(Pe.getAttrib(ma,"target"))),_r=Be.bind(ma=>Un(Pe,ma,"rel")),Or=Be.bind(ma=>Un(Pe,ma,"class")),Sa=Be.bind(ma=>Un(Pe,ma,"title"));return{url:bn,text:ho,title:Sa,target:kn,rel:_r,linkClass:Or}},Xs={collect:(ne,Be)=>Lo.getLinks(ne).then(Pe=>{const Nt=Ar(ne,Be);return{anchor:Nt,catalogs:{targets:wn.getTargets(ne),rels:rn.getRels(ne,Nt.target),classes:Ce.getClasses(ne),anchor:Br.getAnchors(ne),link:Pe},optNode:Be,flags:{titleEnabled:Pt(ne)}}})},Zs=(ne,Be)=>Pe=>{const Nt=Pe.getData();if(!Nt.url.value){_t(ne),Pe.close();return}const ho=_r=>Dt.from(Nt[_r]).filter(Or=>!R(Be.anchor[_r],Or)),bn={href:Nt.url.value,text:ho("text"),target:ho("target"),rel:ho("rel"),class:ho("linkClass"),title:ho("title")},kn={href:Nt.url.value,attach:Nt.url.meta!==void 0&&Nt.url.meta.attach?Nt.url.meta.attach:So};sr.preprocess(ne,bn).then(_r=>{tt(ne,kn,_r)}),Pe.close()},mi=ne=>{const Be=vo(ne);return Xs.collect(ne,Be)},Wr=(ne,Be)=>{const Pe=ne.anchor,Nt=Pe.url.getOr("");return{url:{value:Nt,meta:{original:{value:Nt}}},text:Pe.text.getOr(""),title:Pe.title.getOr(""),anchor:Nt,link:Nt,rel:Pe.rel.getOr(""),target:Pe.target.or(Be).getOr(""),linkClass:Pe.linkClass.getOr("")}},rr=(ne,Be,Pe)=>{const Nt=[{name:"url",type:"urlinput",filetype:"file",label:"URL",picker_text:"Browse links"}],ho=ne.anchor.text.map(()=>({name:"text",type:"input",label:"Text to display"})).toArray(),bn=ne.flags.titleEnabled?[{name:"title",type:"input",label:"Title"}]:[],kn=Dt.from(Bt(Pe)),_r=Wr(ne,kn),Or=ne.catalogs,Sa=De.init(_r,Or);return{title:"Insert/Edit Link",size:"normal",body:{type:"panel",items:gn([Nt,ho,bn,qe([Or.anchor.map(We.createUi("anchor","Anchors")),Or.rels.map(We.createUi("rel","Rel")),Or.targets.map(We.createUi("target","Open link in...")),Or.link.map(We.createUi("link","Link list")),Or.classes.map(We.createUi("linkClass","Class"))])])},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:_r,onChange:(Ga,{name:Q})=>{Sa.onChange(Ga.getData,{name:Q}).each(Ee=>{Ga.setData(Ee)})},onSubmit:Be}},Sr=ne=>{mi(ne).then(Pe=>{const Nt=Zs(ne,Pe);return rr(Pe,Nt,ne)}).then(Pe=>{ne.windowManager.open(Pe)})},va=ne=>{ne.addCommand("mceLink",(Be,Pe)=>{Pe?.dialog===!0||!zo(ne)?Sr(ne):ne.dispatch("contexttoolbar-show",{toolbarKey:"quicklink"})})};var Cs=tinymce.util.Tools.resolve("tinymce.util.VK");const za=(ne,Be)=>{document.body.appendChild(ne),ne.dispatchEvent(Be),document.body.removeChild(ne)},ws=ne=>{const Be=document.createElement("a");Be.target="_blank",Be.href=ne,Be.rel="noreferrer noopener";const Pe=document.createEvent("MouseEvents");Pe.initMouseEvent("click",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),za(Be,Pe)},As=(ne,Be)=>ne.dom.getParent(Be,"a[href]"),Aa=ne=>As(ne,ne.selection.getStart()),Kn=ne=>ne.altKey===!0&&ne.shiftKey===!1&&ne.ctrlKey===!1&&ne.metaKey===!1,Os=(ne,Be)=>{if(Be){const Pe=ut(Be);if(/^#/.test(Pe)){const Nt=ne.dom.select(Pe);Nt.length&&ne.selection.scrollIntoView(Nt[0],!0)}else ws(Be.href)}},Ma=ne=>()=>{ne.execCommand("mceLink",!1,{dialog:!0})},Ca=ne=>()=>{Os(ne,Aa(ne))},ds=ne=>{ne.on("click",Be=>{const Pe=As(ne,Be.target);Pe&&Cs.metaKeyPressed(Be)&&(Be.preventDefault(),Os(ne,Pe))}),ne.on("keydown",Be=>{if(!Be.isDefaultPrevented()&&Be.keyCode===13&&Kn(Be)){const Pe=Aa(ne);Pe&&(Be.preventDefault(),Os(ne,Pe))}})},xa=(ne,Be)=>(ne.on("NodeChange",Be),()=>ne.off("NodeChange",Be)),Rn=ne=>Be=>{const Pe=()=>{Be.setActive(!ne.mode.isReadOnly()&&Xt(ne,ne.selection.getNode())),Be.setEnabled(ne.selection.isEditable())};return Pe(),xa(ne,Pe)},Hi=ne=>Be=>{const Pe=()=>{Be.setEnabled(ne.selection.isEditable())};return Pe(),xa(ne,Pe)},Bn=ne=>(ne.selection.isCollapsed()?Rr(ne.dom.getParents(ne.selection.getStart())):$n(ne.selection.getRng())).length===1,ji=ne=>Be=>{const Pe=()=>Be.setEnabled(Bn(ne));return Pe(),xa(ne,Pe)},go=ne=>Be=>{const Pe=bn=>Wt(bn)||vr(ne.selection.getRng()),Nt=ne.dom.getParents(ne.selection.getStart()),ho=bn=>{Be.setEnabled(Pe(bn)&&ne.selection.isEditable())};return ho(Nt),xa(ne,bn=>ho(bn.parents))},aa=ne=>{ne.addShortcut("Meta+K","",()=>{ne.execCommand("mceLink")})},Ss=ne=>{ne.ui.registry.addToggleButton("link",{icon:"link",tooltip:"Insert/edit link",onAction:Ma(ne),onSetup:Rn(ne)}),ne.ui.registry.addButton("openlink",{icon:"new-tab",tooltip:"Open link",onAction:Ca(ne),onSetup:ji(ne)}),ne.ui.registry.addButton("unlink",{icon:"unlink",tooltip:"Remove link",onAction:()=>_t(ne),onSetup:go(ne)})},Ir=ne=>{ne.ui.registry.addMenuItem("openlink",{text:"Open link",icon:"new-tab",onAction:Ca(ne),onSetup:ji(ne)}),ne.ui.registry.addMenuItem("link",{icon:"link",text:"Link...",shortcut:"Meta+K",onSetup:Hi(ne),onAction:Ma(ne)}),ne.ui.registry.addMenuItem("unlink",{icon:"unlink",text:"Remove link",onAction:()=>_t(ne),onSetup:go(ne)})},gi=ne=>{const Be="link unlink openlink",Pe="link";ne.ui.registry.addContextMenu("link",{update:Nt=>ne.dom.isEditable(Nt)?Wt(ne.dom.getParents(Nt,"a"))?Be:Pe:""})},sc=ne=>{const Be=ho=>{ho.selection.collapse(!1)},Pe=ho=>{const bn=ne.selection.getNode();return ho.setEnabled(Xt(ne,bn)),So},Nt=ho=>{const bn=vo(ne),kn=Fn(ne);if(bn.isNone()&&kn){const _r=Vo(ne.selection,bn);return Je(_r.length===0,ho)}else return Dt.none()};ne.ui.registry.addContextForm("quicklink",{launch:{type:"contextformtogglebutton",icon:"link",tooltip:"Link",onSetup:Rn(ne)},label:"Link",predicate:ho=>Rt(ne)&&Xt(ne,ho),initValue:()=>vo(ne).fold(co(""),ut),commands:[{type:"contextformtogglebutton",icon:"link",tooltip:"Link",primary:!0,onSetup:ho=>{const bn=ne.selection.getNode();return ho.setActive(Xt(ne,bn)),Rn(ne)(ho)},onAction:ho=>{const bn=ho.getValue(),kn=Nt(bn);tt(ne,{href:bn,attach:So},{href:bn,text:kn,title:Dt.none(),rel:Dt.none(),target:Dt.none(),class:Dt.none()}),Be(ne),ho.hide()}},{type:"contextformbutton",icon:"unlink",tooltip:"Remove link",onSetup:Pe,onAction:ho=>{_t(ne),ho.hide()}},{type:"contextformbutton",icon:"new-tab",tooltip:"Open link",onSetup:Pe,onAction:ho=>{Ca(ne)(),ho.hide()}}]})};var Pr=()=>{xo.add("link",ne=>{Mt(ne),Ss(ne),Ir(ne),gi(ne),sc(ne),ds(ne),va(ne),aa(ne)})};Pr()})();(function(){var xo=tinymce.util.Tools.resolve("tinymce.PluginManager");const Ko=(z,H,J)=>{var Te;return J(z,H.prototype)?!0:((Te=z.constructor)===null||Te===void 0?void 0:Te.name)===H.name},Io=z=>{const H=typeof z;return z===null?"null":H==="object"&&Array.isArray(z)?"array":H==="object"&&Ko(z,String,(J,Te)=>Te.isPrototypeOf(J))?"string":H},on=z=>H=>Io(H)===z,Qo=z=>H=>typeof H===z,io=on("string"),Po=on("object"),jt=on("array"),ko=Qo("boolean"),Mo=z=>z==null,jo=z=>!Mo(z),tn=Qo("function"),To=Qo("number"),Ue=()=>{},it=(z,H)=>J=>z(H(J)),So=z=>()=>z,co=(z,H)=>z===H;function he(z,...H){return(...J)=>{const Te=H.concat(J);return z.apply(null,Te)}}const Dt=z=>H=>!z(H),fo=So(!1);class me{constructor(H,J){this.tag=H,this.value=J}static some(H){return new me(!0,H)}static none(){return me.singletonNone}fold(H,J){return this.tag?J(this.value):H()}isSome(){return this.tag}isNone(){return!this.tag}map(H){return this.tag?me.some(H(this.value)):me.none()}bind(H){return this.tag?H(this.value):me.none()}exists(H){return this.tag&&H(this.value)}forall(H){return!this.tag||H(this.value)}filter(H){return!this.tag||H(this.value)?this:me.none()}getOr(H){return this.tag?this.value:H}or(H){return this.tag?this:H}getOrThunk(H){return this.tag?this.value:H()}orThunk(H){return this.tag?this:H()}getOrDie(H){if(this.tag)return this.value;throw new Error(H??"Called getOrDie on None")}static from(H){return jo(H)?me.some(H):me.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(H){this.tag&&H(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}me.singletonNone=new me(!1);const Ze=Array.prototype.slice,de=Array.prototype.indexOf,rt=Array.prototype.push,Yo=(z,H)=>de.call(z,H),$t=(z,H)=>Yo(z,H)>-1,gn=(z,H)=>{for(let J=0,Te=z.length;J<Te;J++){const He=z[J];if(H(He,J))return!0}return!1},Bo=(z,H)=>{const J=z.length,Te=new Array(J);for(let He=0;He<J;He++){const _o=z[He];Te[He]=H(_o,He)}return Te},Ct=(z,H)=>{for(let J=0,Te=z.length;J<Te;J++){const He=z[J];H(He,J)}},R=(z,H)=>{const J=[];for(let Te=0,He=z.length;Te<He;Te++){const _o=z[Te];H(_o,Te)&&J.push(_o)}return J},qe=(z,H)=>{if(z.length===0)return[];{let J=H(z[0]);const Te=[];let He=[];for(let _o=0,fn=z.length;_o<fn;_o++){const ir=z[_o],Hn=H(ir);Hn!==J&&(Te.push(He),He=[]),J=Hn,He.push(ir)}return He.length!==0&&Te.push(He),Te}},Je=(z,H,J)=>(Ct(z,(Te,He)=>{J=H(J,Te,He)}),J),lt=(z,H,J)=>{for(let Te=0,He=z.length;Te<He;Te++){const _o=z[Te];if(H(_o,Te))return me.some(_o);if(J(_o,Te))break}return me.none()},Mt=(z,H)=>lt(z,H,fo),ht=z=>{const H=[];for(let J=0,Te=z.length;J<Te;++J){if(!jt(z[J]))throw new Error("Arr.flatten item "+J+" was not an array, input: "+z);rt.apply(H,z[J])}return H},Rt=(z,H)=>ht(Bo(z,H)),uo=z=>{const H=Ze.call(z,0);return H.reverse(),H},Bt=(z,H)=>H>=0&&H<z.length?me.some(z[H]):me.none(),V=z=>Bt(z,0),dt=z=>Bt(z,z.length-1),Ie=(z,H)=>{const J=[],Te=tn(H)?He=>gn(J,_o=>H(_o,He)):He=>$t(J,He);for(let He=0,_o=z.length;He<_o;He++){const fn=z[He];Te(fn)||J.push(fn)}return J},Co=(z,H,J=co)=>z.exists(Te=>J(Te,H)),Pt=(z,H,J=co)=>lo(z,H,J).getOr(z.isNone()&&H.isNone()),lo=(z,H,J)=>z.isSome()&&H.isSome()?me.some(J(z.getOrDie(),H.getOrDie())):me.none(),zo=8,to=9,Se=11,$e=1,ct=3,gt=(z,H)=>{const Te=(H||document).createElement("div");if(Te.innerHTML=z,!Te.hasChildNodes()||Te.childNodes.length>1){const He="HTML does not have a single root node";throw console.error(He,z),new Error(He)}return We(Te.childNodes[0])},pe=(z,H)=>{const Te=(H||document).createElement(z);return We(Te)},Oe=(z,H)=>{const Te=(H||document).createTextNode(z);return We(Te)},We=z=>{if(z==null)throw new Error("Node cannot be null or undefined");return{dom:z}},ge={fromHtml:gt,fromTag:pe,fromText:Oe,fromDom:We,fromPoint:(z,H,J)=>me.from(z.dom.elementFromPoint(H,J)).map(We)},Me=(z,H)=>{const J=z.dom;if(J.nodeType!==$e)return!1;{const Te=J;if(Te.matches!==void 0)return Te.matches(H);if(Te.msMatchesSelector!==void 0)return Te.msMatchesSelector(H);if(Te.webkitMatchesSelector!==void 0)return Te.webkitMatchesSelector(H);if(Te.mozMatchesSelector!==void 0)return Te.mozMatchesSelector(H);throw new Error("Browser lacks native selectors")}},at=(z,H)=>z.dom===H.dom,ze=(z,H)=>{const J=z.dom,Te=H.dom;return J===Te?!1:J.contains(Te)},Ge=Me,Gt=typeof window<"u"?window:Function("return this;")(),Vt=(z,H)=>{let J=H??Gt;for(let Te=0;Te<z.length&&J!==void 0&&J!==null;++Te)J=J[z[Te]];return J},Xo=(z,H)=>{const J=z.split(".");return Vt(J,H)},$o=(z,H)=>Xo(z,H),Zo=(z,H)=>{const J=$o(z,H);if(J==null)throw new Error(z+" not available on this browser");return J},Gn=Object.getPrototypeOf,Pn=z=>Zo("HTMLElement",z),zn=z=>{const H=Xo("ownerDocument.defaultView",z);return Po(z)&&(Pn(H).prototype.isPrototypeOf(z)||/^HTML\w*Element$/.test(Gn(z).constructor.name))},ut=z=>z.dom.nodeName.toLowerCase(),zt=z=>z.dom.nodeType,Ft=z=>H=>zt(H)===z,vo=z=>zt(z)===zo||ut(z)==="#comment",Xt=z=>Vo(z)&&zn(z.dom),Vo=Ft($e),$n=Ft(ct),Rr=Ft(to),Wt=Ft(Se),vr=z=>H=>Vo(H)&&ut(H)===z,Fn=z=>ge.fromDom(z.dom.ownerDocument),ln=z=>Rr(z)?z:Fn(z),xr=z=>me.from(z.dom.parentNode).map(ge.fromDom),Ys=z=>me.from(z.dom.parentElement).map(ge.fromDom),Yr=z=>me.from(z.dom.nextSibling).map(ge.fromDom),Pa=z=>Bo(z.dom.childNodes,ge.fromDom),cs=(z,H)=>{const J=z.dom.childNodes;return me.from(J[H]).map(ge.fromDom)},Ha=z=>cs(z,0),ja=z=>cs(z,z.dom.childNodes.length-1),$s=z=>Wt(z)&&jo(z.dom.host),_a=tn(Element.prototype.attachShadow)&&tn(Node.prototype.getRootNode)?z=>ge.fromDom(z.dom.getRootNode()):ln,tt=z=>{const H=_a(z);return $s(H)?me.some(H):me.none()},_t=z=>ge.fromDom(z.dom.host),Do=z=>{const H=$n(z)?z.dom.parentNode:z.dom;if(H==null||H.ownerDocument===null)return!1;const J=H.ownerDocument;return tt(ge.fromDom(H)).fold(()=>J.body.contains(H),it(Do,_t))};var St=(z,H,J,Te,He)=>z(J,Te)?me.some(J):tn(He)&&He(J)?me.none():H(J,Te,He);const zr=(z,H,J)=>{let Te=z.dom;const He=tn(J)?J:fo;for(;Te.parentNode;){Te=Te.parentNode;const _o=ge.fromDom(Te);if(H(_o))return me.some(_o);if(He(_o))break}return me.none()},kr=(z,H,J)=>St((He,_o)=>_o(He),zr,z,H,J),Is=(z,H,J)=>zr(z,Te=>Me(Te,H),J),Xr=(z,H,J)=>St((He,_o)=>Me(He,_o),Is,z,H,J),gr=z=>Xr(z,"[contenteditable]"),De=(z,H=!1)=>Do(z)?z.dom.isContentEditable:gr(z).fold(So(H),J=>Ae(J)==="true"),Ae=z=>z.dom.contentEditable,wt=(z,H)=>{xr(z).each(Te=>{Te.dom.insertBefore(H.dom,z.dom)})},It=(z,H)=>{Yr(z).fold(()=>{xr(z).each(He=>{nn(He,H)})},Te=>{wt(Te,H)})},dn=(z,H)=>{Ha(z).fold(()=>{nn(z,H)},Te=>{z.dom.insertBefore(H.dom,Te.dom)})},nn=(z,H)=>{z.dom.appendChild(H.dom)},sr=(z,H)=>{Ct(H,J=>{wt(z,J)})},Vr=(z,H)=>{Ct(H,J=>{nn(z,J)})},Br=z=>{z.dom.textContent="",Ct(Pa(z),H=>{Jo(H)})},Jo=z=>{const H=z.dom;H.parentNode!==null&&H.parentNode.removeChild(H)};var Ce=tinymce.util.Tools.resolve("tinymce.dom.RangeUtils"),Ne=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),Zt=tinymce.util.Tools.resolve("tinymce.util.VK");const Lo=z=>Bo(z,ge.fromDom),Ho=Object.keys,rn=(z,H)=>{const J=Ho(z);for(let Te=0,He=J.length;Te<He;Te++){const _o=J[Te],fn=z[_o];H(fn,_o)}},Go=z=>(H,J)=>{z[J]=H},hn=(z,H,J,Te)=>{rn(z,(He,_o)=>{(H(He,_o)?J:Te)(He,_o)})},wn=(z,H)=>{const J={};return hn(z,H,Go(J),Ue),J},Un=(z,H,J)=>{if(io(J)||ko(J)||To(J))z.setAttribute(H,J+"");else throw console.error("Invalid call to Attribute.set. Key ",H,":: Value ",J,":: Element ",z),new Error("Attribute value was not simple")},Ar=(z,H)=>{const J=z.dom;rn(H,(Te,He)=>{Un(J,He,Te)})},ra=z=>Je(z.dom.attributes,(H,J)=>(H[J.name]=J.value,H),{}),Xs=(z,H)=>ge.fromDom(z.dom.cloneNode(H)),Zs=z=>Xs(z,!0),mi=(z,H)=>{const J=ge.fromTag(H),Te=ra(z);return Ar(J,Te),J},Wr=(z,H)=>{const J=mi(z,H);It(z,J);const Te=Pa(z);return Vr(J,Te),Jo(z),J};var rr=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),Sr=tinymce.util.Tools.resolve("tinymce.util.Tools");const va=z=>H=>jo(H)&&H.nodeName.toLowerCase()===z,Cs=z=>H=>jo(H)&&z.test(H.nodeName),za=z=>jo(z)&&z.nodeType===3,ws=z=>jo(z)&&z.nodeType===1,As=Cs(/^(OL|UL|DL)$/),Aa=Cs(/^(OL|UL)$/),Kn=va("ol"),Os=Cs(/^(LI|DT|DD)$/),Ma=Cs(/^(DT|DD)$/),Ca=Cs(/^(TH|TD)$/),ds=va("br"),xa=z=>{var H;return((H=z.parentNode)===null||H===void 0?void 0:H.firstChild)===z},Rn=(z,H)=>jo(H)&&H.nodeName in z.schema.getTextBlockElements(),Hi=(z,H)=>jo(z)&&z.nodeName in H,Bn=(z,H)=>jo(H)&&H.nodeName in z.schema.getVoidElements(),ji=(z,H)=>ds(H)?z.isBlock(H.nextSibling)&&!ds(H.previousSibling):!1,go=(z,H,J)=>{const Te=z.isEmpty(H);return J&&z.select("span[data-mce-type=bookmark]",H).length>0?!1:Te},aa=(z,H)=>z.isChildOf(H,z.getRoot()),Ss=z=>H=>H.options.get(z),Ir=z=>{const H=z.options.register;H("lists_indent_on_tab",{processor:"boolean",default:!0})},gi=Ss("lists_indent_on_tab"),sc=Ss("forced_root_block"),Pr=Ss("forced_root_block_attrs"),ne=(z,H)=>{const J=z.dom,Te=z.schema.getBlockElements(),He=J.createFragment(),_o=sc(z),fn=Pr(z);let ir,Hn,Tn=!1;for(Hn=J.create(_o,fn),Hi(H.firstChild,Te)||He.appendChild(Hn);ir=H.firstChild;){const fa=ir.nodeName;!Tn&&(fa!=="SPAN"||ir.getAttribute("data-mce-type")!=="bookmark")&&(Tn=!0),Hi(ir,Te)?(He.appendChild(ir),Hn=null):(Hn||(Hn=J.create(_o,fn),He.appendChild(Hn)),Hn.appendChild(ir))}return!Tn&&Hn&&Hn.appendChild(J.create("br",{"data-mce-bogus":"1"})),He},Be=rr.DOM,Pe=(z,H,J)=>{const Te=Tn=>{const fa=Tn.parentNode;fa&&Sr.each(He,Ka=>{fa.insertBefore(Ka,J.parentNode)}),Be.remove(Tn)},He=Be.select('span[data-mce-type="bookmark"]',H),_o=ne(z,J),fn=Be.createRng();fn.setStartAfter(J),fn.setEndAfter(H);const ir=fn.extractContents();for(let Tn=ir.firstChild;Tn;Tn=Tn.firstChild)if(Tn.nodeName==="LI"&&z.dom.isEmpty(Tn)){Be.remove(Tn);break}z.dom.isEmpty(ir)||Be.insertAfter(ir,H),Be.insertAfter(_o,H);const Hn=J.parentElement;Hn&&go(z.dom,Hn)&&Te(Hn),Be.remove(J),go(z.dom,H)&&Be.remove(H)},Nt=vr("dd"),ho=vr("dt"),bn=(z,H)=>{Nt(H)?Wr(H,"dt"):ho(H)&&Ys(H).each(J=>Pe(z,J.dom,H.dom))},kn=z=>{ho(z)&&Wr(z,"dd")},_r=(z,H,J)=>{H==="Indent"?Ct(J,kn):Ct(J,Te=>bn(z,Te))},Or=(z,H)=>{if(za(z))return{container:z,offset:H};const J=Ce.getNode(z,H);return za(J)?{container:J,offset:H>=z.childNodes.length?J.data.length:0}:J.previousSibling&&za(J.previousSibling)?{container:J.previousSibling,offset:J.previousSibling.data.length}:J.nextSibling&&za(J.nextSibling)?{container:J.nextSibling,offset:0}:{container:z,offset:H}},Sa=z=>{const H=z.cloneRange(),J=Or(z.startContainer,z.startOffset);H.setStart(J.container,J.offset);const Te=Or(z.endContainer,z.endOffset);return H.setEnd(Te.container,Te.offset),H},ma=["OL","UL","DL"],Ga=ma.join(","),Q=(z,H)=>{const J=H||z.selection.getStart(!0);return z.dom.getParent(J,Ga,po(z,J))},Ee=(z,H)=>jo(z)&&H.length===1&&H[0]===z,bt=z=>R(z.querySelectorAll(Ga),As),wo=z=>{const H=Q(z),J=z.selection.getSelectedBlocks();return Ee(H,J)?bt(H):R(J,Te=>As(Te)&&H!==Te)},Zn=(z,H)=>{const J=Sr.map(H,Te=>{const He=z.dom.getParent(Te,"li,dd,dt",po(z,Te));return He||Te});return Ie(J)},U=z=>{const H=z.selection.getSelectedBlocks();return R(Zn(z,H),Os)},oe=z=>R(U(z),Ma),xe=(z,H)=>{const J=z.dom.getParents(H,"TD,TH");return J.length>0?J[0]:z.getBody()},xt=(z,H)=>!As(H)&&!Os(H)&&gn(ma,J=>z.isValidChild(H.nodeName,J)),po=(z,H)=>{const J=z.dom.getParents(H,z.dom.isBlock);return Mt(J,He=>xt(z.schema,He)).getOr(z.getBody())},Yn=z=>xr(z).exists(H=>Os(H.dom)&&Ha(H).exists(J=>!As(J.dom))&&ja(H).exists(J=>!As(J.dom))),ga=(z,H)=>{const J=z.dom.getParents(H,"ol,ul",po(z,H));return dt(J)},ks=z=>{const H=ga(z,z.selection.getStart()),J=R(z.selection.getSelectedBlocks(),Aa);return H.toArray().concat(J)},_i=z=>{const H=z.selection.getStart();return z.dom.getParents(H,"ol,ul",po(z,H))},Js=z=>{const H=ks(z),J=_i(z);return Mt(J,Te=>Yn(ge.fromDom(Te))).fold(()=>Vi(z,H),Te=>[Te])},Vi=(z,H)=>{const J=Bo(H,Te=>ga(z,Te).getOr(Te));return Ie(J)},Qs=z=>/\btox\-/.test(z.className),ic=(z,H)=>lt(z,As,Ca).exists(J=>J.nodeName===H&&!Qs(J)),_s=(z,H)=>H!==null&&!z.dom.isEditable(H),vc=z=>{const H=Q(z);return _s(z,H)},je=(z,H)=>{const J=z.dom.getParent(H,"ol,ul,dl");return _s(z,J)},Ll=(z,H)=>{const J=z.selection.getNode();return H({parents:z.dom.getParents(J),element:J}),z.on("NodeChange",H),()=>z.off("NodeChange",H)},pd=(z,H)=>{const Te=(H||document).createDocumentFragment();return Ct(z,He=>{Te.appendChild(He.dom)}),ge.fromDom(Te)},Ci=(z,H,J)=>z.dispatch("ListMutation",{action:H,element:J}),sa=(z=>H=>H.replace(z,""))(/^\s+|\s+$/g),lc=z=>z.length>0,ag=z=>!lc(z),Si=z=>z.style!==void 0&&tn(z.style.getPropertyValue),Gc=(z,H,J)=>{if(!io(J))throw console.error("Invalid call to CSS.set. Property ",H,":: Value ",J,":: Element ",z),new Error("CSS value must be a string: "+J);Si(z)&&z.style.setProperty(H,J)},Gi=(z,H,J)=>{const Te=z.dom;Gc(Te,H,J)},Il=z=>Ge(z,"OL,UL"),Yl=z=>Ge(z,"LI"),Ki=z=>Ha(z).exists(Il),ie=z=>ja(z).exists(Il),ve=z=>"listAttributes"in z,yt=z=>"isComment"in z,Lt=z=>"isFragment"in z,yn=z=>z.depth>0,ur=z=>z.isSelected,Ra=z=>{const H=Pa(z),J=ie(z)?H.slice(0,-1):H;return Bo(J,Zs)},ei=(z,H,J)=>xr(z).filter(Vo).map(Te=>({depth:H,dirty:!1,isSelected:J,content:Ra(z),itemAttributes:ra(z),listAttributes:ra(Te),listType:ut(Te),isInPreviousLi:!1})),ia=(z,H)=>{nn(z.item,H.list)},pa=z=>{for(let H=1;H<z.length;H++)ia(z[H-1],z[H])},Ps=(z,H)=>{lo(dt(z),V(H),ia)},ta=(z,H)=>{const J={list:ge.fromTag(H,z),item:ge.fromTag("li",z)};return nn(J.list,J.item),J},cc=(z,H,J)=>{const Te=[];for(let He=0;He<J;He++)Te.push(ta(z,ve(H)?H.listType:H.parentListType));return Te},Xl=(z,H)=>{for(let J=0;J<z.length-1;J++)Gi(z[J].item,"list-style-type","none");dt(z).each(J=>{ve(H)&&(Ar(J.list,H.listAttributes),Ar(J.item,H.itemAttributes)),Vr(J.item,H.content)})},Ei=(z,H)=>{ut(z.list)!==H.listType&&(z.list=Wr(z.list,H.listType)),Ar(z.list,H.listAttributes)},xc=(z,H,J)=>{const Te=ge.fromTag("li",z);return Ar(Te,H),Vr(Te,J),Te},Es=(z,H)=>{nn(z.list,H),z.item=H},Ba=(z,H,J)=>{const Te=H.slice(0,J.depth);return dt(Te).each(He=>{if(ve(J)){const _o=xc(z,J.itemAttributes,J.content);Es(He,_o),Ei(He,J)}else if(Lt(J))Vr(He.item,J.content);else{const _o=ge.fromHtml(`<!--${J.content}-->`);nn(He.list,_o)}}),Te},Fa=(z,H,J)=>{const Te=cc(z,J,J.depth-H.length);return pa(Te),Xl(Te,J),Ps(H,Te),H.concat(Te)},ts=(z,H)=>{let J=me.none();const Te=Je(H,(He,_o,fn)=>yt(_o)?fn===0?(J=me.some(_o),He):Ba(z,He,_o):_o.depth>He.length?Fa(z,He,_o):Ba(z,He,_o),[]);return J.each(He=>{const _o=ge.fromHtml(`<!--${He.content}-->`);V(Te).each(fn=>{dn(fn.list,_o)})}),V(Te).map(He=>He.list)},Kc=(z,H)=>{switch(z){case"Indent":H.depth++;break;case"Outdent":H.depth--;break;case"Flatten":H.depth=0}H.dirty=!0},Ua=(z,H)=>{ve(z)&&ve(H)&&(z.listType=H.listType,z.listAttributes={...H.listAttributes})},fd=z=>{z.listAttributes=wn(z.listAttributes,(H,J)=>J!=="start")},Yc=(z,H)=>{const J=z[H].depth,Te=_o=>_o.depth===J&&!_o.dirty,He=_o=>_o.depth<J;return lt(uo(z.slice(0,H)),Te,He).orThunk(()=>lt(z.slice(H+1),Te,He))},nl=z=>(Ct(z,(H,J)=>{Yc(z,J).fold(()=>{H.dirty&&ve(H)&&fd(H)},Te=>Ua(H,Te))}),z),Fr=z=>{let H=z;return{get:()=>H,set:He=>{H=He}}},ti=(z,H,J,Te)=>{var He;if(vo(Te))return[{depth:z+1,content:(He=Te.dom.nodeValue)!==null&&He!==void 0?He:"",dirty:!1,isSelected:!1,isComment:!0}];H.each(ir=>{at(ir.start,Te)&&J.set(!0)});const _o=ei(Te,z,J.get());H.each(ir=>{at(ir.end,Te)&&J.set(!1)});const fn=ja(Te).filter(Il).map(ir=>hd(z,H,J,ir)).getOr([]);return _o.toArray().concat(fn)},Zd=(z,H,J,Te)=>Ha(Te).filter(Il).fold(()=>ti(z,H,J,Te),He=>{const _o=Je(Pa(Te),(fn,ir,Hn)=>{if(Hn===0)return fn;if(Yl(ir))return fn.concat(ti(z,H,J,ir));{const Tn={isFragment:!0,depth:z,content:[ir],isSelected:!1,dirty:!1,parentListType:ut(He)};return fn.concat(Tn)}},[]);return hd(z,H,J,He).concat(_o)}),hd=(z,H,J,Te)=>Rt(Pa(Te),He=>{const _o=Il(He)?hd:Zd,fn=z+1;return _o(fn,H,J,He)}),qd=(z,H)=>{const J=Fr(!1),Te=0;return Bo(z,He=>({sourceList:He,entries:hd(Te,H,J,He)}))},Yi=(z,H)=>{const J=nl(H);return Bo(J,Te=>{const He=yt(Te)?pd([ge.fromHtml(`<!--${Te.content}-->`)]):pd(Te.content);return ge.fromDom(ne(z,He.dom))})},Mc=(z,H)=>{const J=nl(H);return ts(z.contentDocument,J).toArray()},om=(z,H)=>Rt(qe(H,yn),J=>V(J).exists(yn)?Mc(z,J):Yi(z,J)),_u=(z,H)=>{Ct(R(z,ur),J=>Kc(H,J))},Wd=z=>{const H=Bo(U(z),ge.fromDom);return lo(Mt(H,Dt(Ki)),Mt(uo(H),Dt(Ki)),(J,Te)=>({start:J,end:Te}))},rl=(z,H,J)=>{const Te=qd(H,Wd(z));Ct(Te,He=>{_u(He.entries,J);const _o=om(z,He.entries);Ct(_o,fn=>{Ci(z,J==="Indent"?"IndentList":"OutdentList",fn.dom)}),sr(He.sourceList,_o),Jo(He.sourceList)})},Da=(z,H)=>{const J=Lo(Js(z)),Te=Lo(oe(z));let He=!1;if(J.length||Te.length){const _o=z.selection.getBookmark();rl(z,J,H),_r(z,H,Te),z.selection.moveToBookmark(_o),z.selection.setRng(Sa(z.selection.getRng())),z.nodeChanged(),He=!0}return He},Jl=(z,H)=>!vc(z)&&Da(z,H),os=z=>Jl(z,"Indent"),Dc=z=>Jl(z,"Outdent"),dc=z=>Jl(z,"Flatten"),bd="\uFEFF",Ea=z=>z===bd,_l=(z,H,J)=>zr(z,H,J).isSome(),Xc=(z,H)=>_l(z,he(at,H));var yd=tinymce.util.Tools.resolve("tinymce.dom.BookmarkManager");const wc=rr.DOM,Jc=z=>{const H={},J=Te=>{let He=z[Te?"startContainer":"endContainer"],_o=z[Te?"startOffset":"endOffset"];if(ws(He)){const fn=wc.create("span",{"data-mce-type":"bookmark"});He.hasChildNodes()?(_o=Math.min(_o,He.childNodes.length-1),Te?He.insertBefore(fn,He.childNodes[_o]):wc.insertAfter(fn,He.childNodes[_o])):He.appendChild(fn),He=fn,_o=0}H[Te?"startContainer":"endContainer"]=He,H[Te?"startOffset":"endOffset"]=_o};return J(!0),z.collapsed||J(),H},Gd=z=>{const H=Te=>{const He=ir=>{var Hn;let Tn=(Hn=ir.parentNode)===null||Hn===void 0?void 0:Hn.firstChild,fa=0;for(;Tn;){if(Tn===ir)return fa;(!ws(Tn)||Tn.getAttribute("data-mce-type")!=="bookmark")&&fa++,Tn=Tn.nextSibling}return-1};let _o=z[Te?"startContainer":"endContainer"],fn=z[Te?"startOffset":"endOffset"];if(_o){if(ws(_o)&&_o.parentNode){const ir=_o;fn=He(_o),_o=_o.parentNode,wc.remove(ir),!_o.hasChildNodes()&&wc.isBlock(_o)&&_o.appendChild(wc.create("br"))}z[Te?"startContainer":"endContainer"]=_o,z[Te?"startOffset":"endOffset"]=fn}};H(!0),H();const J=wc.createRng();return J.setStart(z.startContainer,z.startOffset),z.endContainer&&J.setEnd(z.endContainer,z.endOffset),Sa(J)},vd=z=>{switch(z){case"UL":return"ToggleUlList";case"OL":return"ToggleOlList";case"DL":return"ToggleDLList"}},pi=(z,H,J)=>{const Te=J["list-style-type"]?J["list-style-type"]:null;z.setStyle(H,"list-style-type",Te)},Cn=(z,H)=>{Sr.each(H,(J,Te)=>{z.setAttribute(Te,J)})},Ql=(z,H,J)=>{Cn(H,J["list-attributes"]),Sr.each(z.select("li",H),Te=>{Cn(Te,J["list-item-attributes"])})},ec=(z,H,J)=>{pi(z,H,J),Ql(z,H,J)},yp=(z,H,J)=>{Sr.each(J,Te=>z.setStyle(H,Te,""))},Kd=(z,H)=>jo(H)&&!Hi(H,z.schema.getBlockElements()),Cl=(z,H,J,Te)=>{let He=H[J?"startContainer":"endContainer"];const _o=H[J?"startOffset":"endOffset"];ws(He)&&(He=He.childNodes[Math.min(_o,He.childNodes.length-1)]||He),!J&&ds(He.nextSibling)&&(He=He.nextSibling);const fn=Hn=>{for(;!z.dom.isBlock(Hn)&&Hn.parentNode&&Te!==Hn;)Hn=Hn.parentNode;return Hn},ir=(Hn,Tn)=>{var fa;const Ka=new Ne(Hn,fn(Hn)),Ni=Tn?"next":"prev";let td;for(;td=Ka[Ni]();)if(!(Bn(z,td)||Ea(td.textContent)||((fa=td.textContent)===null||fa===void 0?void 0:fa.length)===0))return me.some(td);return me.none()};if(J&&za(He))if(Ea(He.textContent))He=ir(He,!1).getOr(He);else for(He.parentNode!==null&&Kd(z,He.parentNode)&&(He=He.parentNode);He.previousSibling!==null&&(Kd(z,He.previousSibling)||za(He.previousSibling));)He=He.previousSibling;if(!J&&za(He))if(Ea(He.textContent))He=ir(He,!0).getOr(He);else for(He.parentNode!==null&&Kd(z,He.parentNode)&&(He=He.parentNode);He.nextSibling!==null&&(Kd(z,He.nextSibling)||za(He.nextSibling));)He=He.nextSibling;for(;He.parentNode!==Te;){const Hn=He.parentNode;if(Rn(z,He)||/^(TD|TH)$/.test(Hn.nodeName))return He;He=Hn}return He},nm=(z,H,J)=>{const Te=[],He=z.dom,_o=Cl(z,H,!0,J),fn=Cl(z,H,!1,J);let ir;const Hn=[];for(let Tn=_o;Tn&&(Hn.push(Tn),Tn!==fn);Tn=Tn.nextSibling);return Sr.each(Hn,Tn=>{var fa;if(Rn(z,Tn)){Te.push(Tn),ir=null;return}if(He.isBlock(Tn)||ds(Tn)){ds(Tn)&&He.remove(Tn),ir=null;return}const Ka=Tn.nextSibling;if(yd.isBookmarkNode(Tn)&&(As(Ka)||Rn(z,Ka)||!Ka&&Tn.parentNode===J)){ir=null;return}ir||(ir=He.create("p"),(fa=Tn.parentNode)===null||fa===void 0||fa.insertBefore(ir,Tn),Te.push(ir)),ir.appendChild(Tn)}),Te},rm=(z,H,J)=>{const Te=z.getStyle(H,"list-style-type");let He=J?J["list-style-type"]:"";return He=He===null?"":He,Te===He},wa=(z,H)=>{const J=z.selection.getStart(!0),Te=Cl(z,H,!0,z.getBody());return Xc(ge.fromDom(Te),ge.fromDom(H.commonAncestorContainer))?H.commonAncestorContainer:J},Qc=(z,H,J)=>{const Te=z.selection.getRng();let He="LI";const _o=po(z,wa(z,Te)),fn=z.dom;if(fn.getContentEditable(z.selection.getNode())==="false")return;H=H.toUpperCase(),H==="DL"&&(He="DT");const ir=Jc(Te),Hn=R(nm(z,Te,_o),z.dom.isEditable);Sr.each(Hn,Tn=>{let fa;const Ka=Tn.previousSibling,Ni=Tn.parentNode;Os(Ni)||(Ka&&As(Ka)&&Ka.nodeName===H&&rm(fn,Ka,J)?(fa=Ka,Tn=fn.rename(Tn,He),Ka.appendChild(Tn)):(fa=fn.create(H),Ni.insertBefore(fa,Tn),fa.appendChild(Tn),Tn=fn.rename(Tn,He)),yp(fn,Tn,["margin","margin-right","margin-bottom","margin-left","margin-top","padding","padding-right","padding-bottom","padding-left","padding-top"]),ec(fn,fa,J),Ti(z.dom,fa))}),z.selection.setRng(Gd(ir))},Ns=(z,H)=>As(z)&&z.nodeName===H?.nodeName,kc=(z,H,J)=>{const Te=z.getStyle(H,"list-style-type",!0),He=z.getStyle(J,"list-style-type",!0);return Te===He},Rm=(z,H)=>z.className===H.className,an=(z,H,J)=>Ns(H,J)&&kc(z,H,J)&&Rm(H,J),Ti=(z,H)=>{let J,Te=H.nextSibling;if(an(z,H,Te)){const He=Te;for(;J=He.firstChild;)H.appendChild(J);z.remove(He)}if(Te=H.previousSibling,an(z,H,Te)){const He=Te;for(;J=He.lastChild;)H.insertBefore(J,H.firstChild);z.remove(He)}},Cu=(z,H,J,Te)=>{if(H.nodeName!==J){const He=z.dom.rename(H,J);ec(z.dom,He,Te),Ci(z,vd(J),He)}else ec(z.dom,H,Te),Ci(z,vd(J),H)},ka=(z,H,J,Te)=>{if(H.classList.forEach((He,_o,fn)=>{He.startsWith("tox-")&&(fn.remove(He),fn.length===0&&H.removeAttribute("class"))}),H.nodeName!==J){const He=z.dom.rename(H,J);ec(z.dom,He,Te),Ci(z,vd(J),He)}else ec(z.dom,H,Te),Ci(z,vd(J),H)},Sl=(z,H,J,Te,He)=>{const _o=As(H);if(_o&&H.nodeName===Te&&!fi(He)&&!Qs(H))dc(z);else{Qc(z,Te,He);const fn=Jc(z.selection.getRng()),ir=_o?[H,...J]:J,Hn=_o&&Qs(H)?ka:Cu;Sr.each(ir,Tn=>{Hn(z,Tn,Te,He)}),z.selection.setRng(Gd(fn))}},fi=z=>"list-style-type"in z,El=(z,H,J,Te)=>{if(H!==z.getBody())if(H)if(H.nodeName===J&&!fi(Te)&&!Qs(H))dc(z);else{const He=Jc(z.selection.getRng());Qs(H)&&H.classList.forEach((fn,ir,Hn)=>{fn.startsWith("tox-")&&(Hn.remove(fn),Hn.length===0&&H.removeAttribute("class"))}),ec(z.dom,H,Te);const _o=z.dom.rename(H,J);Ti(z.dom,_o),z.selection.setRng(Gd(He)),Qc(z,J,Te),Ci(z,vd(J),_o)}else Qc(z,J,Te),Ci(z,vd(J),H)},Ms=(z,H,J)=>{const Te=Q(z);if(je(z,Te))return;const He=wo(z),_o=Po(J)?J:{};He.length>0?Sl(z,Te,He,H,_o):El(z,Te,H,_o)},Su=rr.DOM,oi=(z,H)=>{const J=H.parentElement;if(J&&J.nodeName==="LI"&&J.firstChild===H){const Te=J.previousSibling;Te&&Te.nodeName==="LI"?(Te.appendChild(H),go(z,J)&&Su.remove(J)):Su.setStyle(J,"listStyleType","none")}if(As(J)){const Te=J.previousSibling;Te&&Te.nodeName==="LI"&&Te.appendChild(H)}},ro=(z,H)=>{const J=Sr.grep(z.select("ol,ul",H));Sr.each(J,Te=>{oi(z,Te)})},Eu=(z,H,J,Te)=>{let He=H.startContainer;const _o=H.startOffset;if(za(He)&&(J?_o<He.data.length:_o>0))return He;const fn=z.schema.getNonEmptyElements();ws(He)&&(He=Ce.getNode(He,_o));const ir=new Ne(He,Te);J&&ji(z.dom,He)&&ir.next();const Hn=J?ir.next.bind(ir):ir.prev2.bind(ir);for(;He=Hn();)if(He.nodeName==="LI"&&!He.hasChildNodes()||fn[He.nodeName]||za(He)&&He.data.length>0)return He;return null},Yt=(z,H)=>{const J=H.childNodes;return J.length===1&&!As(J[0])&&z.isBlock(J[0])},ni=z=>me.from(z).map(ge.fromDom).filter(Xt).exists(H=>De(H)&&!$t(["details"],ut(H))),xd=(z,H)=>{Yt(z,H)&&ni(H.firstChild)&&z.remove(H.firstChild,!0)},us=(z,H,J)=>{let Te;const He=Yt(z,J)?J.firstChild:J;if(xd(z,H),!go(z,H,!0))for(;Te=H.firstChild;)He.appendChild(Te)},da=(z,H,J)=>{let Te;const He=H.parentNode;if(!aa(z,H)||!aa(z,J))return;As(J.lastChild)&&(Te=J.lastChild),He===J.lastChild&&ds(He.previousSibling)&&z.remove(He.previousSibling);const _o=J.lastChild;_o&&ds(_o)&&H.hasChildNodes()&&z.remove(_o),go(z,J,!0)&&Br(ge.fromDom(J)),us(z,H,J),Te&&J.appendChild(Te);const ir=ze(ge.fromDom(J),ge.fromDom(H))?z.getParents(H,As,J):[];z.remove(H),Ct(ir,Hn=>{go(z,Hn)&&Hn!==z.getRoot()&&z.remove(Hn)})},ml=(z,H,J)=>{Br(ge.fromDom(J)),da(z.dom,H,J),z.selection.setCursorLocation(J,0)},zi=(z,H,J,Te)=>{const He=z.dom;if(He.isEmpty(Te))ml(z,J,Te);else{const _o=Jc(H);da(He,J,Te),z.selection.setRng(Gd(_o))}},Oa=(z,H,J,Te)=>{const He=Jc(H);da(z.dom,J,Te);const _o=Gd(He);z.selection.setRng(_o)},al=(z,H)=>{const J=z.dom,Te=z.selection,He=Te.getStart(),_o=xe(z,He),fn=J.getParent(Te.getStart(),"LI",_o);if(fn){const ir=fn.parentElement;if(ir===z.getBody()&&go(J,ir))return!0;const Hn=Sa(Te.getRng()),Tn=J.getParent(Eu(z,Hn,H,_o),"LI",_o),fa=Tn&&(H?J.isChildOf(fn,Tn):J.isChildOf(Tn,fn));if(Tn&&Tn!==fn&&!fa)return z.undoManager.transact(()=>{H?zi(z,Hn,Tn,fn):xa(fn)?Dc(z):Oa(z,Hn,fn,Tn)}),!0;if(fa&&!H&&Tn!==fn)return z.undoManager.transact(()=>{if(Hn.commonAncestorContainer.parentElement){const Ka=Jc(Hn),Ni=Hn.commonAncestorContainer.parentElement;us(J,Hn.commonAncestorContainer.parentElement,Tn),Ni.remove();const td=Gd(Ka);z.selection.setRng(td)}}),!0;if(!Tn&&!H&&Hn.startOffset===0&&Hn.endOffset===0)return z.undoManager.transact(()=>{dc(z)}),!0}return!1},la=(z,H,J)=>{const Te=z.getParent(H.parentNode,z.isBlock,J);z.remove(H),Te&&z.isEmpty(Te)&&z.remove(Te)},$i=(z,H)=>{const J=z.dom,Te=z.selection.getStart(),He=xe(z,Te),_o=J.getParent(Te,J.isBlock,He);if(_o&&J.isEmpty(_o)){const fn=Sa(z.selection.getRng()),ir=J.getParent(Eu(z,fn,H,He),"LI",He);if(ir){const Hn=Ni=>$t(["td","th","caption"],ut(Ni)),Tn=Ni=>Ni.dom===He,fa=kr(ge.fromDom(ir),Hn,Tn),Ka=kr(ge.fromDom(fn.startContainer),Hn,Tn);return Pt(fa,Ka,at)?(z.undoManager.transact(()=>{const Ni=ir.parentNode;la(J,_o,He),Ti(J,Ni),z.selection.select(ir,!0),z.selection.collapse(H)}),!0):!1}}return!1},Yd=(z,H)=>al(z,H)||$i(z,H),Hs=z=>{const H=z.selection.getStart(),J=xe(z,H);return z.dom.getParent(H,"LI,DT,DD",J)||U(z).length>0},sg=z=>Hs(z)?(z.undoManager.transact(()=>{z.execCommand("Delete"),ro(z.dom,z.getBody())}),!0):!1,Tl=(z,H)=>{const J=z.selection;return!je(z,J.getNode())&&(J.isCollapsed()?Yd(z,H):sg(z))},ns=z=>{z.on("ExecCommand",H=>{const J=H.command.toLowerCase();(J==="delete"||J==="forwarddelete")&&Hs(z)&&ro(z.dom,z.getBody())}),z.on("keydown",H=>{H.keyCode===Zt.BACKSPACE?Tl(z,!1)&&H.preventDefault():H.keyCode===Zt.DELETE&&Tl(z,!0)&&H.preventDefault()})},gl=z=>({backspaceDelete:H=>{Tl(z,H)}}),ft=(z,H)=>{const J=Q(z);J===null||je(z,J)||z.undoManager.transact(()=>{Po(H.styles)&&z.dom.setStyles(J,H.styles),Po(H.attrs)&&rn(H.attrs,(Te,He)=>z.dom.setAttrib(J,He,Te))})},Ai=z=>{const H=uo(sa(z).split("")),J=Bo(H,(Te,He)=>{const _o=Te.toUpperCase().charCodeAt(0)-65+1;return Math.pow(26,He)*_o});return Je(J,(Te,He)=>Te+He,0)},wd=z=>{if(z--,z<0)return"";{const H=z%26,J=Math.floor(z/26),Te=wd(J),He=String.fromCharCode(65+H);return Te+He}},zl=z=>/^[A-Z]+$/.test(z),pl=z=>/^[a-z]+$/.test(z),ri=z=>/^[0-9]+$/.test(z),hs=z=>ri(z)?2:zl(z)?0:pl(z)?1:ag(z)?3:4,uc=z=>{switch(hs(z)){case 2:return me.some({listStyleType:me.none(),start:z});case 0:return me.some({listStyleType:me.some("upper-alpha"),start:Ai(z).toString()});case 1:return me.some({listStyleType:me.some("lower-alpha"),start:Ai(z).toString()});case 3:return me.some({listStyleType:me.none(),start:""});case 4:return me.none()}},Bm=z=>{const H=parseInt(z.start,10);return Co(z.listStyleType,"upper-alpha")?wd(H):Co(z.listStyleType,"lower-alpha")?wd(H).toLowerCase():z.start},Sn=z=>{const H=Q(z);!Kn(H)||je(z,H)||z.windowManager.open({title:"List Properties",body:{type:"panel",items:[{type:"input",name:"start",label:"Start list at number",inputMode:"numeric"}]},initialData:{start:Bm({start:z.dom.getAttrib(H,"start","1"),listStyleType:me.from(z.dom.getStyle(H,"list-style-type"))})},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],onSubmit:J=>{const Te=J.getData();uc(Te.start).each(He=>{z.execCommand("mceListUpdate",!1,{attrs:{start:He.start==="1"?"":He.start},styles:{"list-style-type":He.listStyleType.getOr("")}})}),J.close()}})},Ui=(z,H)=>()=>{const J=Q(z);return jo(J)&&J.nodeName===H},Xi=z=>{z.addCommand("mceListProps",()=>{Sn(z)})},Oi=z=>{z.on("BeforeExecCommand",H=>{const J=H.command.toLowerCase();J==="indent"?os(z):J==="outdent"&&Dc(z)}),z.addCommand("InsertUnorderedList",(H,J)=>{Ms(z,"UL",J)}),z.addCommand("InsertOrderedList",(H,J)=>{Ms(z,"OL",J)}),z.addCommand("InsertDefinitionList",(H,J)=>{Ms(z,"DL",J)}),z.addCommand("RemoveList",()=>{dc(z)}),Xi(z),z.addCommand("mceListUpdate",(H,J)=>{Po(J)&&ft(z,J)}),z.addQueryStateHandler("InsertUnorderedList",Ui(z,"UL")),z.addQueryStateHandler("InsertOrderedList",Ui(z,"OL")),z.addQueryStateHandler("InsertDefinitionList",Ui(z,"DL"))};var Za=tinymce.util.Tools.resolve("tinymce.html.Node");const _c=z=>z.type===3,qs=z=>z.length===0,Tu=z=>{const H=(He,_o)=>{const fn=Za.create("li");Ct(He,ir=>fn.append(ir)),_o?z.insert(fn,_o,!0):z.append(fn)},J=(He,_o)=>_c(_o)?[...He,_o]:!qs(He)&&!_c(_o)?(H(He,_o),[]):He,Te=Je(z.children(),J,[]);qs(Te)||H(Te)},kd=z=>{z.on("PreInit",()=>{const{parser:H}=z;H.addNodeFilter("ul,ol",J=>Ct(J,Tu))})},Pl=z=>{z.on("keydown",H=>{H.keyCode!==Zt.TAB||Zt.metaKeyPressed(H)||z.undoManager.transact(()=>{(H.shiftKey?Dc(z):os(z))&&H.preventDefault()})})},bs=z=>{gi(z)&&Pl(z),ns(z)},Ws=(z,H)=>J=>{const Te=He=>{J.setActive(ic(He.parents,H)),J.setEnabled(!je(z,He.element)&&z.selection.isEditable())};return J.setEnabled(z.selection.isEditable()),Ll(z,Te)},ed=z=>{const H=J=>()=>z.execCommand(J);z.hasPlugin("advlist")||(z.ui.registry.addToggleButton("numlist",{icon:"ordered-list",active:!1,tooltip:"Numbered list",onAction:H("InsertOrderedList"),onSetup:Ws(z,"OL")}),z.ui.registry.addToggleButton("bullist",{icon:"unordered-list",active:!1,tooltip:"Bullet list",onAction:H("InsertUnorderedList"),onSetup:Ws(z,"UL")}))},Hl=(z,H)=>J=>Ll(z,He=>J.setEnabled(ic(He.parents,H)&&!je(z,He.element))),_d=z=>{const H={text:"List properties...",icon:"ordered-list",onAction:()=>z.execCommand("mceListProps"),onSetup:Hl(z,"OL")};z.ui.registry.addMenuItem("listprops",H),z.ui.registry.addContextMenu("lists",{update:J=>{const Te=Q(z,J);return Kn(Te)?["listprops"]:[]}})};var ai=()=>{xo.add("lists",z=>(Ir(z),kd(z),z.hasPlugin("rtc",!0)?Xi(z):(bs(z),Oi(z)),ed(z),_d(z),gl(z)))};ai()})();(function(){var xo=tinymce.util.Tools.resolve("tinymce.PluginManager");const Ko=(De,Ae,wt)=>{var It;return wt(De,Ae.prototype)?!0:((It=De.constructor)===null||It===void 0?void 0:It.name)===Ae.name},Io=De=>{const Ae=typeof De;return De===null?"null":Ae==="object"&&Array.isArray(De)?"array":Ae==="object"&&Ko(De,String,(wt,It)=>It.isPrototypeOf(wt))?"string":Ae},on=De=>Ae=>Io(Ae)===De,Qo=on("string"),io=on("object"),Po=on("array"),jt=De=>De==null,ko=De=>!jt(De);class Mo{constructor(Ae,wt){this.tag=Ae,this.value=wt}static some(Ae){return new Mo(!0,Ae)}static none(){return Mo.singletonNone}fold(Ae,wt){return this.tag?wt(this.value):Ae()}isSome(){return this.tag}isNone(){return!this.tag}map(Ae){return this.tag?Mo.some(Ae(this.value)):Mo.none()}bind(Ae){return this.tag?Ae(this.value):Mo.none()}exists(Ae){return this.tag&&Ae(this.value)}forall(Ae){return!this.tag||Ae(this.value)}filter(Ae){return!this.tag||Ae(this.value)?this:Mo.none()}getOr(Ae){return this.tag?this.value:Ae}or(Ae){return this.tag?this:Ae}getOrThunk(Ae){return this.tag?this.value:Ae()}orThunk(Ae){return this.tag?this:Ae()}getOrDie(Ae){if(this.tag)return this.value;throw new Error(Ae??"Called getOrDie on None")}static from(Ae){return ko(Ae)?Mo.some(Ae):Mo.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(Ae){this.tag&&Ae(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}Mo.singletonNone=new Mo(!1);const jo=Array.prototype.push,tn=(De,Ae)=>{for(let wt=0,It=De.length;wt<It;wt++){const dn=De[wt];Ae(dn,wt)}},To=De=>{const Ae=[];for(let wt=0,It=De.length;wt<It;++wt){if(!Po(De[wt]))throw new Error("Arr.flatten item "+wt+" was not an array, input: "+De);jo.apply(Ae,De[wt])}return Ae},Ue=De=>{let Ae=De;return{get:()=>Ae,set:dn=>{Ae=dn}}},it=Object.keys,So=Object.hasOwnProperty,co=(De,Ae)=>{const wt=it(De);for(let It=0,dn=wt.length;It<dn;It++){const nn=wt[It],sr=De[nn];Ae(sr,nn)}},he=(De,Ae)=>Dt(De,Ae)?Mo.from(De[Ae]):Mo.none(),Dt=(De,Ae)=>So.call(De,Ae),fo=De=>Ae=>Ae.options.get(De),me=De=>{const Ae=De.options.register;Ae("audio_template_callback",{processor:"function"}),Ae("video_template_callback",{processor:"function"}),Ae("iframe_template_callback",{processor:"function"}),Ae("media_live_embeds",{processor:"boolean",default:!0}),Ae("media_filter_html",{processor:"boolean",default:!0}),Ae("media_url_resolver",{processor:"function"}),Ae("media_alt_source",{processor:"boolean",default:!0}),Ae("media_poster",{processor:"boolean",default:!0}),Ae("media_dimensions",{processor:"boolean",default:!0})},Ze=fo("audio_template_callback"),de=fo("video_template_callback"),rt=fo("iframe_template_callback"),Yo=fo("media_live_embeds"),$t=fo("media_filter_html"),gn=fo("media_url_resolver"),Bo=fo("media_alt_source"),Ct=fo("media_poster"),R=fo("media_dimensions");var qe=tinymce.util.Tools.resolve("tinymce.util.Tools"),Je=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),lt=tinymce.util.Tools.resolve("tinymce.html.DomParser");const Mt=Je.DOM,ht=De=>De.replace(/px$/,""),Rt=De=>{const Ae=De.attr("style"),wt=Ae?Mt.parseStyle(Ae):{};return{type:"ephox-embed-iri",source:De.attr("data-ephox-embed-iri"),altsource:"",poster:"",width:he(wt,"max-width").map(ht).getOr(""),height:he(wt,"max-height").map(ht).getOr("")}},uo=(De,Ae)=>{let wt={};const dn=lt({validate:!1,forced_root_block:!1},Ae).parse(De);for(let nn=dn;nn;nn=nn.walk())if(nn.type===1){const sr=nn.name;if(nn.attr("data-ephox-embed-iri")){wt=Rt(nn);break}else!wt.source&&sr==="param"&&(wt.source=nn.attr("movie")),(sr==="iframe"||sr==="object"||sr==="embed"||sr==="video"||sr==="audio")&&(wt.type||(wt.type=sr),wt=qe.extend(nn.attributes.map,wt)),sr==="source"&&(wt.source?wt.altsource||(wt.altsource=nn.attr("src")):wt.source=nn.attr("src")),sr==="img"&&!wt.poster&&(wt.poster=nn.attr("src"))}return wt.source=wt.source||wt.src||"",wt.altsource=wt.altsource||"",wt.poster=wt.poster||"",wt},Bt=De=>{var Ae;const wt={mp3:"audio/mpeg",m4a:"audio/x-m4a",wav:"audio/wav",mp4:"video/mp4",webm:"video/webm",ogg:"video/ogg",swf:"application/x-shockwave-flash"},It=(Ae=De.toLowerCase().split(".").pop())!==null&&Ae!==void 0?Ae:"";return he(wt,It).getOr("")};var V=tinymce.util.Tools.resolve("tinymce.html.Node"),dt=tinymce.util.Tools.resolve("tinymce.html.Serializer");const Ie=(De,Ae={})=>lt({forced_root_block:!1,validate:!1,allow_conditional_comments:!0,...Ae},De),Co=Je.DOM,Pt=De=>/^[0-9.]+$/.test(De)?De+"px":De,lo=(De,Ae)=>{const wt=Ae.attr("style"),It=wt?Co.parseStyle(wt):{};ko(De.width)&&(It["max-width"]=Pt(De.width)),ko(De.height)&&(It["max-height"]=Pt(De.height)),Ae.attr("style",Co.serializeStyle(It))},zo=["source","altsource"],to=(De,Ae,wt,It)=>{let dn=0,nn=0;const sr=Ie(It);sr.addNodeFilter("source",Br=>dn=Br.length);const Vr=sr.parse(De);for(let Br=Vr;Br;Br=Br.walk())if(Br.type===1){const Jo=Br.name;if(Br.attr("data-ephox-embed-iri")){lo(Ae,Br);break}else{switch(Jo){case"video":case"object":case"embed":case"img":case"iframe":Ae.height!==void 0&&Ae.width!==void 0&&(Br.attr("width",Ae.width),Br.attr("height",Ae.height));break}if(wt)switch(Jo){case"video":Br.attr("poster",Ae.poster),Br.attr("src",null);for(let Ne=dn;Ne<2;Ne++)if(Ae[zo[Ne]]){const Zt=new V("source",1);Zt.attr("src",Ae[zo[Ne]]),Zt.attr("type",Ae[zo[Ne]+"mime"]||null),Br.append(Zt)}break;case"iframe":Br.attr("src",Ae.source);break;case"object":const Ce=Br.getAll("img").length>0;if(Ae.poster&&!Ce){Br.attr("src",Ae.poster);const Ne=new V("img",1);Ne.attr("src",Ae.poster),Ne.attr("width",Ae.width),Ne.attr("height",Ae.height),Br.append(Ne)}break;case"source":if(nn<2&&(Br.attr("src",Ae[zo[nn]]),Br.attr("type",Ae[zo[nn]+"mime"]||null),!Ae[zo[nn]])){Br.remove();continue}nn++;break;case"img":Ae.poster||Br.remove();break}}}return dt({},It).serialize(Vr)},Se=[{regex:/youtu\.be\/([\w\-_\?&=.]+)/i,type:"iframe",w:560,h:314,url:"www.youtube.com/embed/$1",allowFullscreen:!0},{regex:/youtube\.com(.+)v=([^&]+)(&([a-z0-9&=\-_]+))?/i,type:"iframe",w:560,h:314,url:"www.youtube.com/embed/$2?$4",allowFullscreen:!0},{regex:/youtube.com\/embed\/([a-z0-9\?&=\-_]+)/i,type:"iframe",w:560,h:314,url:"www.youtube.com/embed/$1",allowFullscreen:!0},{regex:/vimeo\.com\/([0-9]+)\?h=(\w+)/,type:"iframe",w:425,h:350,url:"player.vimeo.com/video/$1?h=$2&title=0&byline=0&portrait=0&color=8dc7dc",allowFullscreen:!0},{regex:/vimeo\.com\/(.*)\/([0-9]+)\?h=(\w+)/,type:"iframe",w:425,h:350,url:"player.vimeo.com/video/$2?h=$3&title=0&amp;byline=0",allowFullscreen:!0},{regex:/vimeo\.com\/([0-9]+)/,type:"iframe",w:425,h:350,url:"player.vimeo.com/video/$1?title=0&byline=0&portrait=0&color=8dc7dc",allowFullscreen:!0},{regex:/vimeo\.com\/(.*)\/([0-9]+)/,type:"iframe",w:425,h:350,url:"player.vimeo.com/video/$2?title=0&amp;byline=0",allowFullscreen:!0},{regex:/maps\.google\.([a-z]{2,3})\/maps\/(.+)msid=(.+)/,type:"iframe",w:425,h:350,url:'maps.google.com/maps/ms?msid=$2&output=embed"',allowFullscreen:!1},{regex:/dailymotion\.com\/video\/([^_]+)/,type:"iframe",w:480,h:270,url:"www.dailymotion.com/embed/video/$1",allowFullscreen:!0},{regex:/dai\.ly\/([^_]+)/,type:"iframe",w:480,h:270,url:"www.dailymotion.com/embed/video/$1",allowFullscreen:!0}],$e=De=>{const Ae=De.match(/^(https?:\/\/|www\.)(.+)$/i);return Ae&&Ae.length>1?Ae[1]==="www."?"https://":Ae[1]:"https://"},ct=(De,Ae)=>{const wt=$e(Ae),It=De.regex.exec(Ae);let dn=wt+De.url;if(ko(It))for(let nn=0;nn<It.length;nn++)dn=dn.replace("$"+nn,()=>It[nn]?It[nn]:"");return dn.replace(/\?$/,"")},gt=De=>{const Ae=Se.filter(wt=>wt.regex.test(De));return Ae.length>0?qe.extend({},Ae[0],{url:ct(Ae[0],De)}):null},pe=(De,Ae)=>{if(Ae)return Ae(De);{const wt=De.allowfullscreen?' allowFullscreen="1"':"";return'<iframe src="'+De.source+'" width="'+De.width+'" height="'+De.height+'"'+wt+"></iframe>"}},Oe=De=>{let Ae='<object data="'+De.source+'" width="'+De.width+'" height="'+De.height+'" type="application/x-shockwave-flash">';return De.poster&&(Ae+='<img src="'+De.poster+'" width="'+De.width+'" height="'+De.height+'" />'),Ae+="</object>",Ae},We=(De,Ae)=>Ae?Ae(De):'<audio controls="controls" src="'+De.source+'">'+(De.altsource?`
<source src="`+De.altsource+'"'+(De.altsourcemime?' type="'+De.altsourcemime+'"':"")+` />
`:"")+"</audio>",Fe=(De,Ae)=>Ae?Ae(De):'<video width="'+De.width+'" height="'+De.height+'"'+(De.poster?' poster="'+De.poster+'"':"")+` controls="controls">
<source src="`+De.source+'"'+(De.sourcemime?' type="'+De.sourcemime+'"':"")+` />
`+(De.altsource?'<source src="'+De.altsource+'"'+(De.altsourcemime?' type="'+De.altsourcemime+'"':"")+` />
`:"")+"</video>",ge=(De,Ae)=>{var wt;const It=qe.extend({},Ae);if(!It.source&&(qe.extend(It,uo((wt=It.embed)!==null&&wt!==void 0?wt:"",De.schema)),!It.source))return"";It.altsource||(It.altsource=""),It.poster||(It.poster=""),It.source=De.convertURL(It.source,"source"),It.altsource=De.convertURL(It.altsource,"source"),It.sourcemime=Bt(It.source),It.altsourcemime=Bt(It.altsource),It.poster=De.convertURL(It.poster,"poster");const dn=gt(It.source);if(dn&&(It.source=dn.url,It.type=dn.type,It.allowfullscreen=dn.allowFullscreen,It.width=It.width||String(dn.w),It.height=It.height||String(dn.h)),It.embed)return to(It.embed,It,!0,De.schema);{const nn=Ze(De),sr=de(De),Vr=rt(De);return It.width=It.width||"300",It.height=It.height||"150",qe.each(It,(Br,Jo)=>{It[Jo]=De.dom.encode(""+Br)}),It.type==="iframe"?pe(It,Vr):It.sourcemime==="application/x-shockwave-flash"?Oe(It):It.sourcemime.indexOf("audio")!==-1?We(It,nn):Fe(It,sr)}},Me=De=>De.hasAttribute("data-mce-object")||De.hasAttribute("data-ephox-embed-iri"),at=De=>{De.on("click keyup touchend",()=>{const Ae=De.selection.getNode();Ae&&De.dom.hasClass(Ae,"mce-preview-object")&&De.dom.getAttrib(Ae,"data-mce-selected")&&Ae.setAttribute("data-mce-selected","2")}),De.on("ObjectResized",Ae=>{const wt=Ae.target;if(wt.getAttribute("data-mce-object")){let It=wt.getAttribute("data-mce-html");It&&(It=unescape(It),wt.setAttribute("data-mce-html",escape(to(It,{width:String(Ae.width),height:String(Ae.height)},!1,De.schema))))}})},ze={},Ge=(De,Ae,wt)=>new Promise((It,dn)=>{const nn=sr=>(sr.html&&(ze[De.source]=sr),It({url:De.source,html:sr.html?sr.html:Ae(De)}));ze[De.source]?nn(ze[De.source]):wt({url:De.source},nn,dn)}),Gt=(De,Ae)=>Promise.resolve({html:Ae(De),url:De.source}),Vt=De=>Ae=>ge(De,Ae),Xo=(De,Ae)=>{const wt=gn(De);return wt?Ge(Ae,Vt(De),wt):Gt(Ae,Vt(De))},$o=De=>Dt(ze,De),Zo=(De,Ae)=>he(Ae,De).bind(wt=>he(wt,"meta")),Gn=(De,Ae,wt)=>It=>{const dn=()=>he(De,It),nn=()=>he(Ae,It),sr=Jo=>he(Jo,"value").bind(Ce=>Ce.length>0?Mo.some(Ce):Mo.none()),Vr=()=>dn().bind(Jo=>io(Jo)?sr(Jo).orThunk(nn):nn().orThunk(()=>Mo.from(Jo))),Br=()=>nn().orThunk(()=>dn().bind(Jo=>io(Jo)?sr(Jo):Mo.from(Jo)));return{[It]:(It===wt?Vr():Br()).getOr("")}},Pn=(De,Ae)=>{const wt={};return he(De,"dimensions").each(It=>{tn(["width","height"],dn=>{he(Ae,dn).orThunk(()=>he(It,dn)).each(nn=>wt[dn]=nn)})}),wt},zn=(De,Ae)=>{const wt=Ae&&Ae!=="dimensions"?Zo(Ae,De).getOr({}):{},It=Gn(De,wt,Ae);return{...It("source"),...It("altsource"),...It("poster"),...It("embed"),...Pn(De,wt)}},ut=De=>{const Ae={...De,source:{value:he(De,"source").getOr("")},altsource:{value:he(De,"altsource").getOr("")},poster:{value:he(De,"poster").getOr("")}};return tn(["width","height"],wt=>{he(De,wt).each(It=>{const dn=Ae.dimensions||{};dn[wt]=It,Ae.dimensions=dn})}),Ae},zt=De=>Ae=>{const wt=Ae&&Ae.msg?"Media embed handler error: "+Ae.msg:"Media embed handler threw unknown error.";De.notificationManager.open({type:"error",text:wt})},Ft=De=>{const Ae=De.selection.getNode(),wt=Me(Ae)?De.serializer.serialize(Ae,{selection:!0}):"",It=uo(wt,De.schema),nn=(()=>{if($n(It.source,It.type)){const sr=De.dom.getRect(Ae);return{width:sr.w.toString().replace(/px$/,""),height:sr.h.toString().replace(/px$/,"")}}else return{}})();return{embed:wt,...It,...nn}},vo=(De,Ae)=>wt=>{if(Qo(wt.url)&&wt.url.trim().length>0){const It=wt.html,nn={...uo(It,Ae.schema),source:wt.url,embed:It};De.setData(ut(nn))}},Xt=(De,Ae)=>{const wt=De.dom.select("*[data-mce-object]");for(let It=0;It<Ae.length;It++)for(let dn=wt.length-1;dn>=0;dn--)Ae[It]===wt[dn]&&wt.splice(dn,1);De.selection.select(wt[0])},Vo=(De,Ae)=>{const wt=De.dom.select("*[data-mce-object]");De.insertContent(Ae),Xt(De,wt),De.nodeChanged()},$n=(De,Ae)=>ko(Ae)&&Ae==="ephox-embed-iri"&&ko(gt(De)),Rr=(De,Ae)=>((It,dn)=>It.width!==dn.width||It.height!==dn.height)(De,Ae)&&$n(Ae.source,De.type),Wt=(De,Ae,wt)=>{var It;Ae.embed=Rr(De,Ae)&&R(wt)?ge(wt,{...Ae,embed:""}):to((It=Ae.embed)!==null&&It!==void 0?It:"",Ae,!1,wt.schema),Ae.embed&&(De.source===Ae.source||$o(Ae.source))?Vo(wt,Ae.embed):Xo(wt,Ae).then(dn=>{Vo(wt,dn.html)}).catch(zt(wt))},vr=De=>{const Ae=Ft(De),wt=Ue(Ae),It=ut(Ae),dn=(hn,wn)=>{const Un=zn(wn.getData(),"source");hn.source!==Un.source&&(vo(Go,De)({url:Un.source,html:""}),Xo(De,Un).then(vo(Go,De)).catch(zt(De)))},nn=hn=>{var wn;const Un=zn(hn.getData()),Ar=uo((wn=Un.embed)!==null&&wn!==void 0?wn:"",De.schema);hn.setData(ut(Ar))},sr=(hn,wn,Un)=>{const Ar=zn(hn.getData(),wn),ra=Rr(Un,Ar)&&R(De)?{...Ar,embed:""}:Ar,Xs=ge(De,ra);hn.setData(ut({...ra,embed:Xs}))},Vr=[{name:"source",type:"urlinput",filetype:"media",label:"Source",picker_text:"Browse files"}],Br=R(De)?[{type:"sizeinput",name:"dimensions",label:"Constrain proportions",constrain:!0}]:[],Jo={title:"General",name:"general",items:To([Vr,Br])},Ne={title:"Embed",items:[{type:"textarea",name:"embed",label:"Paste your embed code below:"}]},Zt=[];Bo(De)&&Zt.push({name:"altsource",type:"urlinput",filetype:"media",label:"Alternative source URL"}),Ct(De)&&Zt.push({name:"poster",type:"urlinput",filetype:"image",label:"Media poster (Image URL)"});const Lo={title:"Advanced",name:"advanced",items:Zt},Ho=[Jo,Ne];Zt.length>0&&Ho.push(Lo);const rn={type:"tabpanel",tabs:Ho},Go=De.windowManager.open({title:"Insert/Edit Media",size:"normal",body:rn,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],onSubmit:hn=>{const wn=zn(hn.getData());Wt(wt.get(),wn,De),hn.close()},onChange:(hn,wn)=>{switch(wn.name){case"source":dn(wt.get(),hn);break;case"embed":nn(hn);break;case"dimensions":case"altsource":case"poster":sr(hn,wn.name,wt.get());break}wt.set(zn(hn.getData()))},initialData:It})},Fn=De=>({showDialog:()=>{vr(De)}}),ln=De=>{const Ae=()=>{vr(De)};De.addCommand("mceMedia",Ae)},xr=(De,Ae,wt)=>Ae===""||De.length>=Ae.length&&De.substr(wt,wt+Ae.length)===Ae,Ys=(De,Ae)=>xr(De,Ae,0);var Yr=tinymce.util.Tools.resolve("tinymce.Env");const Pa=De=>{const Ae=De.name;return Ae==="iframe"||Ae==="video"||Ae==="audio"},cs=(De,Ae,wt,It=null)=>{const dn=De.attr(wt);return ko(dn)?dn:Dt(Ae,wt)?null:It},Ha=(De,Ae,wt)=>{const It=Ae.name==="img"||De.name==="video",dn=It?"300":null,nn=De.name==="audio"?"30":"150",sr=It?nn:null;Ae.attr({width:cs(De,wt,"width",dn),height:cs(De,wt,"height",sr)})},ja=(De,Ae,wt,It)=>{const dn=Ie(De.schema).parse(It,{context:Ae});for(;dn.firstChild;)wt.append(dn.firstChild)},$s=(De,Ae)=>{const wt=Ae.name,It=new V("img",1);return _a(De,Ae,It),Ha(Ae,It,{}),It.attr({style:Ae.attr("style"),src:Yr.transparentSrc,"data-mce-object":wt,class:"mce-object mce-object-"+wt}),It},Us=(De,Ae)=>{var wt;const It=Ae.name,dn=new V("span",1);dn.attr({contentEditable:"false",style:Ae.attr("style"),"data-mce-object":It,class:"mce-preview-object mce-object-"+It}),_a(De,Ae,dn);const nn=De.dom.parseStyle((wt=Ae.attr("style"))!==null&&wt!==void 0?wt:""),sr=new V(It,1);if(Ha(Ae,sr,nn),sr.attr({src:Ae.attr("src"),style:Ae.attr("style"),class:Ae.attr("class")}),It==="iframe")sr.attr({allowfullscreen:Ae.attr("allowfullscreen"),frameborder:"0",sandbox:Ae.attr("sandbox")});else{tn(["controls","crossorigin","currentTime","loop","muted","poster","preload"],Ce=>{sr.attr(Ce,Ae.attr(Ce))});const Jo=dn.attr("data-mce-html");ko(Jo)&&ja(De,It,sr,unescape(Jo))}const Vr=new V("span",1);return Vr.attr("class","mce-shim"),dn.append(sr),dn.append(Vr),dn},_a=(De,Ae,wt)=>{var It;const dn=(It=Ae.attributes)!==null&&It!==void 0?It:[];let nn=dn.length;for(;nn--;){const Jo=dn[nn].name;let Ce=dn[nn].value;Jo!=="width"&&Jo!=="height"&&Jo!=="style"&&!Ys(Jo,"data-mce-")&&((Jo==="data"||Jo==="src")&&(Ce=De.convertURL(Ce,Jo)),wt.attr("data-mce-p-"+Jo,Ce))}const sr=dt({inner:!0},De.schema),Vr=new V("div",1);tn(Ae.children(),Jo=>Vr.append(Jo));const Br=sr.serialize(Vr);Br&&(wt.attr("data-mce-html",escape(Br)),wt.empty())},tt=De=>{const Ae=De.attr("class");return Qo(Ae)&&/\btiny-pageembed\b/.test(Ae)},_t=De=>{let Ae=De;for(;Ae=Ae.parent;)if(Ae.attr("data-ephox-embed-iri")||tt(Ae))return!0;return!1},Do=De=>Ae=>{let wt=Ae.length,It;for(;wt--;)It=Ae[wt],It.parent&&(It.parent.attr("data-mce-object")||(Pa(It)&&Yo(De)?_t(It)||It.replace(Us(De,It)):_t(It)||It.replace($s(De,It))))},St=(De,Ae,wt)=>{const It=De.options.get,dn=It("xss_sanitization"),nn=$t(De);return Ie(De.schema,{sanitize:dn,validate:nn}).parse(wt,{context:Ae})},zr=De=>{De.on("PreInit",()=>{const{schema:Ae,serializer:wt,parser:It}=De,dn=Ae.getBoolAttrs();tn("webkitallowfullscreen mozallowfullscreen".split(" "),nn=>{dn[nn]={}}),co({embed:["wmode"]},(nn,sr)=>{const Vr=Ae.getElementRule(sr);Vr&&tn(nn,Br=>{Vr.attributes[Br]={},Vr.attributesOrder.push(Br)})}),It.addNodeFilter("iframe,video,audio,object,embed",Do(De)),wt.addAttributeFilter("data-mce-object",(nn,sr)=>{var Vr;let Br=nn.length;for(;Br--;){const Jo=nn[Br];if(!Jo.parent)continue;const Ce=Jo.attr(sr),Ne=new V(Ce,1);if(Ce!=="audio"){const rn=Jo.attr("class");rn&&rn.indexOf("mce-preview-object")!==-1&&Jo.firstChild?Ne.attr({width:Jo.firstChild.attr("width"),height:Jo.firstChild.attr("height")}):Ne.attr({width:Jo.attr("width"),height:Jo.attr("height")})}Ne.attr({style:Jo.attr("style")});const Zt=(Vr=Jo.attributes)!==null&&Vr!==void 0?Vr:[];let Lo=Zt.length;for(;Lo--;){const rn=Zt[Lo].name;rn.indexOf("data-mce-p-")===0&&Ne.attr(rn.substr(11),Zt[Lo].value)}const Ho=Jo.attr("data-mce-html");if(Ho){const rn=St(De,Ce,unescape(Ho));tn(rn.children(),Go=>Ne.append(Go))}Jo.replace(Ne)}})}),De.on("SetContent",()=>{const Ae=De.dom;tn(Ae.select("span.mce-preview-object"),wt=>{Ae.select("span.mce-shim",wt).length===0&&Ae.add(wt,"span",{class:"mce-shim"})})})},kr=De=>{De.on("ResolveName",Ae=>{let wt;Ae.target.nodeType===1&&(wt=Ae.target.getAttribute("data-mce-object"))&&(Ae.name=wt)})},Is=De=>Ae=>{const wt=()=>{Ae.setEnabled(De.selection.isEditable())};return De.on("NodeChange",wt),wt(),()=>{De.off("NodeChange",wt)}},Xr=De=>{const Ae=()=>De.execCommand("mceMedia");De.ui.registry.addToggleButton("media",{tooltip:"Insert/edit media",icon:"embed",onAction:Ae,onSetup:wt=>{const It=De.selection;wt.setActive(Me(It.getNode()));const dn=It.selectorChangedWithUnbind("img[data-mce-object],span[data-mce-object],div[data-ephox-embed-iri]",wt.setActive).unbind,nn=Is(De)(wt);return()=>{dn(),nn()}}}),De.ui.registry.addMenuItem("media",{icon:"embed",text:"Media...",onAction:Ae,onSetup:Is(De)})};var gr=()=>{xo.add("media",De=>(me(De),ln(De),Xr(De),kr(De),zr(De),at(De),Fn(De)))};gr()})();(function(){var xo=tinymce.util.Tools.resolve("tinymce.PluginManager");const Ko=he=>Dt=>typeof Dt===he,Io=Ko("boolean"),on=Ko("number"),Qo=he=>Dt=>Dt.options.get(he),io=he=>{const Dt=he.options.register;Dt("nonbreaking_force_tab",{processor:fo=>Io(fo)?{value:fo?3:0,valid:!0}:on(fo)?{value:fo,valid:!0}:{valid:!1,message:"Must be a boolean or number."},default:!1}),Dt("nonbreaking_wrap",{processor:"boolean",default:!0})},Po=Qo("nonbreaking_force_tab"),jt=Qo("nonbreaking_wrap"),ko=(he,Dt)=>{let fo="";for(let me=0;me<Dt;me++)fo+=he;return fo},Mo=he=>he.plugins.visualchars?he.plugins.visualchars.isEnabled():!1,jo=(he,Dt)=>{const fo=()=>Mo(he)?"mce-nbsp-wrap mce-nbsp":"mce-nbsp-wrap",me=()=>`<span class="${fo()}" contenteditable="false">${ko("&nbsp;",Dt)}</span>`,de=jt(he)||he.plugins.visualchars?me():ko("&nbsp;",Dt);he.undoManager.transact(()=>he.insertContent(de))},tn=he=>{he.addCommand("mceNonBreaking",()=>{jo(he,1)})};var To=tinymce.util.Tools.resolve("tinymce.util.VK");const Ue=he=>{const Dt=Po(he);Dt>0&&he.on("keydown",fo=>{if(fo.keyCode===To.TAB&&!fo.isDefaultPrevented()){if(fo.shiftKey)return;fo.preventDefault(),fo.stopImmediatePropagation(),jo(he,Dt)}})},it=he=>Dt=>{const fo=()=>{Dt.setEnabled(he.selection.isEditable())};return he.on("NodeChange",fo),fo(),()=>{he.off("NodeChange",fo)}},So=he=>{const Dt=()=>he.execCommand("mceNonBreaking");he.ui.registry.addButton("nonbreaking",{icon:"non-breaking",tooltip:"Nonbreaking space",onAction:Dt,onSetup:it(he)}),he.ui.registry.addMenuItem("nonbreaking",{icon:"non-breaking",text:"Nonbreaking space",onAction:Dt,onSetup:it(he)})};var co=()=>{xo.add("nonbreaking",he=>{io(he),tn(he),So(he),Ue(he)})};co()})();(function(){var xo=tinymce.util.Tools.resolve("tinymce.PluginManager"),Ko=tinymce.util.Tools.resolve("tinymce.Env");const Io=it=>So=>So.options.get(it),on=it=>{const So=it.options.register;So("pagebreak_separator",{processor:"string",default:"<!-- pagebreak -->"}),So("pagebreak_split_block",{processor:"boolean",default:!1})},Qo=Io("pagebreak_separator"),io=Io("pagebreak_split_block"),Po="mce-pagebreak",jt=it=>{const So=`<img src="${Ko.transparentSrc}" class="${Po}" data-mce-resize="false" data-mce-placeholder />`;return it?`<p>${So}</p>`:So},ko=it=>{const So=Qo(it),co=()=>io(it),he=new RegExp(So.replace(/[\?\.\*\[\]\(\)\{\}\+\^\$\:]/g,Dt=>"\\"+Dt),"gi");it.on("BeforeSetContent",Dt=>{Dt.content=Dt.content.replace(he,jt(co()))}),it.on("PreInit",()=>{it.serializer.addNodeFilter("img",Dt=>{let fo=Dt.length,me,Ze;for(;fo--;)if(me=Dt[fo],Ze=me.attr("class"),Ze&&Ze.indexOf(Po)!==-1){const de=me.parent;if(de&&it.schema.getBlockElements()[de.name]&&co()){de.type=3,de.value=So,de.raw=!0,me.remove();continue}me.type=3,me.value=So,me.raw=!0}})})},Mo=it=>{it.addCommand("mcePageBreak",()=>{it.insertContent(jt(io(it)))})},jo=it=>{it.on("ResolveName",So=>{So.target.nodeName==="IMG"&&it.dom.hasClass(So.target,Po)&&(So.name="pagebreak")})},tn=it=>So=>{const co=()=>{So.setEnabled(it.selection.isEditable())};return it.on("NodeChange",co),co(),()=>{it.off("NodeChange",co)}},To=it=>{const So=()=>it.execCommand("mcePageBreak");it.ui.registry.addButton("pagebreak",{icon:"page-break",tooltip:"Page break",onAction:So,onSetup:tn(it)}),it.ui.registry.addMenuItem("pagebreak",{text:"Page break",icon:"page-break",onAction:So,onSetup:tn(it)})};var Ue=()=>{xo.add("pagebreak",it=>{on(it),Mo(it),To(it),ko(it),jo(it)})};Ue()})();(function(){var xo=tinymce.util.Tools.resolve("tinymce.PluginManager"),Ko=tinymce.util.Tools.resolve("tinymce.Env"),Io=tinymce.util.Tools.resolve("tinymce.util.Tools");const on=Ue=>it=>it.options.get(Ue),Qo=on("content_style"),io=on("content_css_cors"),Po=on("body_class"),jt=on("body_id"),ko=Ue=>{var it;let So="";const co=Ue.dom.encode,he=(it=Qo(Ue))!==null&&it!==void 0?it:"";So+='<base href="'+co(Ue.documentBaseURI.getURI())+'">';const Dt=io(Ue)?' crossorigin="anonymous"':"";Io.each(Ue.contentCSS,gn=>{So+='<link type="text/css" rel="stylesheet" href="'+co(Ue.documentBaseURI.toAbsolute(gn))+'"'+Dt+">"}),he&&(So+='<style type="text/css">'+he+"</style>");const fo=jt(Ue),me=Po(Ue),de='<script>document.addEventListener && document.addEventListener("click", function(e) {for (var elm = e.target; elm; elm = elm.parentNode) {if (elm.nodeName === "A" && !('+(Ko.os.isMacOS()||Ko.os.isiOS()?"e.metaKey":"e.ctrlKey && !e.altKey")+")) {e.preventDefault();}}}, false);<\/script> ",rt=Ue.getBody().dir,Yo=rt?' dir="'+co(rt)+'"':"";return"<!DOCTYPE html><html><head>"+So+'</head><body id="'+co(fo)+'" class="mce-content-body '+co(me)+'"'+Yo+">"+Ue.getContent()+de+"</body></html>"},Mo=Ue=>{const it=ko(Ue);Ue.windowManager.open({title:"Preview",size:"large",body:{type:"panel",items:[{name:"preview",type:"iframe",sandboxed:!0,transparent:!1}]},buttons:[{type:"cancel",name:"close",text:"Close",primary:!0}],initialData:{preview:it}}).focus("close")},jo=Ue=>{Ue.addCommand("mcePreview",()=>{Mo(Ue)})},tn=Ue=>{const it=()=>Ue.execCommand("mcePreview");Ue.ui.registry.addButton("preview",{icon:"preview",tooltip:"Preview",onAction:it}),Ue.ui.registry.addMenuItem("preview",{icon:"preview",text:"Preview",onAction:it})};var To=()=>{xo.add("preview",Ue=>{jo(Ue),tn(Ue)})};To()})();(function(){var xo=tinymce.util.Tools.resolve("tinymce.PluginManager");const Ko=($e,ct,gt)=>{var pe;return gt($e,ct.prototype)?!0:((pe=$e.constructor)===null||pe===void 0?void 0:pe.name)===ct.name},Io=$e=>{const ct=typeof $e;return $e===null?"null":ct==="object"&&Array.isArray($e)?"array":ct==="object"&&Ko($e,String,(gt,pe)=>pe.isPrototypeOf(gt))?"string":ct},on=$e=>ct=>Io(ct)===$e,Qo=$e=>ct=>typeof ct===$e,io=on("string"),Po=Qo("boolean"),jt=$e=>$e==null,ko=$e=>!jt($e),Mo=Qo("function"),jo=$e=>ct=>ct.options.get($e),tn=$e=>{const ct=$e.options.register,gt=Fe=>ge=>{const Me=Po(ge)||io(ge);return Me?Po(ge)?{value:ge?Fe:"",valid:Me}:{value:ge.trim(),valid:Me}:{valid:!1,message:"Must be a boolean or string."}},pe="bold italic | quicklink h2 h3 blockquote";ct("quickbars_selection_toolbar",{processor:gt(pe),default:pe});const Oe="quickimage quicktable";ct("quickbars_insert_toolbar",{processor:gt(Oe),default:Oe});const We="alignleft aligncenter alignright";ct("quickbars_image_toolbar",{processor:gt(We),default:We})},To=jo("quickbars_selection_toolbar"),Ue=jo("quickbars_insert_toolbar"),it=jo("quickbars_image_toolbar");let So=0;const co=$e=>{const gt=new Date().getTime(),pe=Math.floor(Math.random()*1e9);return So++,$e+"_"+pe+So+String(gt)},he=($e,ct,gt)=>{$e.execCommand("mceInsertTable",!1,{rows:gt,columns:ct})},Dt=($e,ct,gt)=>{const pe=$e.editorUpload.blobCache,Oe=pe.create(co("mceu"),gt,ct);pe.add(Oe),$e.insertContent($e.dom.createHTML("img",{src:Oe.blobUri()}))},fo=$e=>new Promise(ct=>{const gt=new FileReader;gt.onloadend=()=>{ct(gt.result.split(",")[1])},gt.readAsDataURL($e)});var me=tinymce.util.Tools.resolve("tinymce.util.Delay");const Ze=$e=>new Promise(ct=>{let gt=!1;const pe=document.createElement("input");pe.type="file",pe.accept="image/*",pe.style.position="fixed",pe.style.left="0",pe.style.top="0",pe.style.opacity="0.001",document.body.appendChild(pe);const Oe=ge=>{var Me;gt||((Me=pe.parentNode)===null||Me===void 0||Me.removeChild(pe),gt=!0,ct(ge))},We=ge=>{Oe(Array.prototype.slice.call(ge.target.files))};pe.addEventListener("input",We),pe.addEventListener("change",We);const Fe=ge=>{const Me=()=>{Oe([])};gt||(ge.type==="focusin"?me.setEditorTimeout($e,Me,1e3):Me()),$e.off("focusin remove",Fe)};$e.on("focusin remove",Fe),pe.click()}),de=$e=>{$e.ui.registry.addButton("quickimage",{icon:"image",tooltip:"Insert image",onAction:()=>{Ze($e).then(ct=>{if(ct.length>0){const gt=ct[0];fo(gt).then(pe=>{Dt($e,pe,gt)})}})}}),$e.ui.registry.addButton("quicktable",{icon:"table",tooltip:"Insert table",onAction:()=>{he($e,2,2)}})},Yo=($e=>()=>$e)(!1);class $t{constructor(ct,gt){this.tag=ct,this.value=gt}static some(ct){return new $t(!0,ct)}static none(){return $t.singletonNone}fold(ct,gt){return this.tag?gt(this.value):ct()}isSome(){return this.tag}isNone(){return!this.tag}map(ct){return this.tag?$t.some(ct(this.value)):$t.none()}bind(ct){return this.tag?ct(this.value):$t.none()}exists(ct){return this.tag&&ct(this.value)}forall(ct){return!this.tag||ct(this.value)}filter(ct){return!this.tag||ct(this.value)?this:$t.none()}getOr(ct){return this.tag?this.value:ct}or(ct){return this.tag?this:ct}getOrThunk(ct){return this.tag?this.value:ct()}orThunk(ct){return this.tag?this:ct()}getOrDie(ct){if(this.tag)return this.value;throw new Error(ct??"Called getOrDie on None")}static from(ct){return ko(ct)?$t.some(ct):$t.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(ct){this.tag&&ct(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}$t.singletonNone=new $t(!1),typeof window<"u"||Function("return this;")();const gn=1,Bo=$e=>$e.dom.nodeName.toLowerCase(),Ct=($e,ct)=>{const gt=$e.dom;return gt&&gt.hasAttribute?gt.hasAttribute(ct):!1};var R=($e,ct,gt,pe,Oe)=>$e(gt,pe)?$t.some(gt):Mo(Oe)&&Oe(gt)?$t.none():ct(gt,pe,Oe);const qe=($e,ct)=>{const pe=(ct||document).createElement("div");if(pe.innerHTML=$e,!pe.hasChildNodes()||pe.childNodes.length>1){const Oe="HTML does not have a single root node";throw console.error(Oe,$e),new Error(Oe)}return Mt(pe.childNodes[0])},Je=($e,ct)=>{const pe=(ct||document).createElement($e);return Mt(pe)},lt=($e,ct)=>{const pe=(ct||document).createTextNode($e);return Mt(pe)},Mt=$e=>{if($e==null)throw new Error("Node cannot be null or undefined");return{dom:$e}},Rt={fromHtml:qe,fromTag:Je,fromText:lt,fromDom:Mt,fromPoint:($e,ct,gt)=>$t.from($e.dom.elementFromPoint(ct,gt)).map(Mt)},uo=($e,ct)=>{const gt=$e.dom;if(gt.nodeType!==gn)return!1;{const pe=gt;if(pe.matches!==void 0)return pe.matches(ct);if(pe.msMatchesSelector!==void 0)return pe.msMatchesSelector(ct);if(pe.webkitMatchesSelector!==void 0)return pe.webkitMatchesSelector(ct);if(pe.mozMatchesSelector!==void 0)return pe.mozMatchesSelector(ct);throw new Error("Browser lacks native selectors")}},Bt=($e,ct,gt)=>{let pe=$e.dom;const Oe=Mo(gt)?gt:Yo;for(;pe.parentNode;){pe=pe.parentNode;const We=Rt.fromDom(pe);if(ct(We))return $t.some(We);if(Oe(We))break}return $t.none()},V=($e,ct,gt)=>R((Oe,We)=>We(Oe),Bt,$e,ct,gt),dt=($e,ct,gt)=>V($e,ct,gt).isSome(),Ie=($e,ct,gt)=>Bt($e,pe=>uo(pe,ct),gt),Co=($e,ct,gt)=>R((Oe,We)=>uo(Oe,We),Ie,$e,ct,gt),Pt=$e=>{const ct=Ue($e);ct.length>0&&$e.ui.registry.addContextToolbar("quickblock",{predicate:gt=>{const pe=Rt.fromDom(gt),Oe=$e.schema.getTextBlockElements(),We=Fe=>Fe.dom===$e.getBody();return!Ct(pe,"data-mce-bogus")&&Co(pe,'table,[data-mce-bogus="all"]',We).fold(()=>dt(pe,Fe=>Bo(Fe)in Oe&&$e.dom.isEmpty(Fe.dom),We),Yo)},items:ct,position:"line",scope:"editor"})},lo=$e=>$e.dom.classList!==void 0,zo=($e,ct)=>lo($e)&&$e.dom.classList.contains(ct),to=$e=>{const ct=Fe=>$e.dom.isEditable(Fe),gt=Fe=>ct(Fe.parentElement),pe=Fe=>{const ge=Fe.nodeName==="FIGURE"&&/image/i.test(Fe.className),Me=Fe.nodeName==="IMG"||ge,at=zo(Rt.fromDom(Fe),"mce-pagebreak");return Me&&gt(Fe)&&!at},Oe=it($e);Oe.length>0&&$e.ui.registry.addContextToolbar("imageselection",{predicate:pe,items:Oe,position:"node"});const We=To($e);We.length>0&&$e.ui.registry.addContextToolbar("textselection",{predicate:Fe=>!pe(Fe)&&!$e.selection.isCollapsed()&&ct(Fe),items:We,position:"selection",scope:"editor"})};var Se=()=>{xo.add("quickbars",$e=>{tn($e),de($e),Pt($e),to($e)})};Se()})();(function(){var xo=tinymce.util.Tools.resolve("tinymce.PluginManager");const Io=(he=>Dt=>typeof Dt===he)("function");var on=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),Qo=tinymce.util.Tools.resolve("tinymce.util.Tools");const io=he=>Dt=>Dt.options.get(he),Po=he=>{const Dt=he.options.register;Dt("save_enablewhendirty",{processor:"boolean",default:!0}),Dt("save_onsavecallback",{processor:"function"}),Dt("save_oncancelcallback",{processor:"function"})},jt=io("save_enablewhendirty"),ko=io("save_onsavecallback"),Mo=io("save_oncancelcallback"),jo=(he,Dt)=>{he.notificationManager.open({text:Dt,type:"error"})},tn=he=>{const Dt=on.DOM.getParent(he.id,"form");if(jt(he)&&!he.isDirty())return;he.save();const fo=ko(he);if(Io(fo)){fo.call(he,he),he.nodeChanged();return}Dt?(he.setDirty(!1),(!Dt.onsubmit||Dt.onsubmit())&&(typeof Dt.submit=="function"?Dt.submit():jo(he,"Error: Form submit field collision.")),he.nodeChanged()):jo(he,"Error: No form element found.")},To=he=>{const Dt=Qo.trim(he.startContent),fo=Mo(he);if(Io(fo)){fo.call(he,he);return}he.resetContent(Dt)},Ue=he=>{he.addCommand("mceSave",()=>{tn(he)}),he.addCommand("mceCancel",()=>{To(he)})},it=he=>Dt=>{const fo=()=>{Dt.setEnabled(!jt(he)||he.isDirty())};return fo(),he.on("NodeChange dirty",fo),()=>he.off("NodeChange dirty",fo)},So=he=>{he.ui.registry.addButton("save",{icon:"save",tooltip:"Save",enabled:!1,onAction:()=>he.execCommand("mceSave"),onSetup:it(he)}),he.ui.registry.addButton("cancel",{icon:"cancel",tooltip:"Cancel",enabled:!1,onAction:()=>he.execCommand("mceCancel"),onSetup:it(he)}),he.addShortcut("Meta+S","","mceSave")};var co=()=>{xo.add("save",he=>{Po(he),So(he),Ue(he)})};co()})();(function(){const xo=Ce=>{let Ne=Ce;return{get:()=>Ne,set:Ho=>{Ne=Ho}}};var Ko=tinymce.util.Tools.resolve("tinymce.PluginManager");const Io=(Ce,Ne,Zt)=>{var Lo;return Zt(Ce,Ne.prototype)?!0:((Lo=Ce.constructor)===null||Lo===void 0?void 0:Lo.name)===Ne.name},on=Ce=>{const Ne=typeof Ce;return Ce===null?"null":Ne==="object"&&Array.isArray(Ce)?"array":Ne==="object"&&Io(Ce,String,(Zt,Lo)=>Lo.isPrototypeOf(Zt))?"string":Ne},Qo=Ce=>Ne=>on(Ne)===Ce,io=Ce=>Ne=>typeof Ne===Ce,Po=Qo("string"),jt=Qo("array"),ko=io("boolean"),Mo=Ce=>Ce==null,jo=Ce=>!Mo(Ce),tn=io("number"),To=()=>{},Ue=Ce=>()=>Ce,it=Ue(!0),co=Ue("[~№|!-*+-\\/:;?@\\[-`{}¡«·»¿;·՚-՟։֊־׀׃׆׳״؉؊،؍؛؞؟٪-٭۔܀-܍߷-߹࠰-࠾࡞।॥॰෴๏๚๛༄-༒༺-༽྅࿐-࿔࿙࿚၊-၏჻፡-፨᐀᙭᙮᚛᚜᛫-᛭᜵᜶។-៖៘-៚᠀-᠊᥄᥅᨞᨟᪠-᪦᪨-᪭᭚-᭠᯼-᯿᰻-᰿᱾᱿᳓‐-‧‰-⁃⁅-⁑⁓-⁞⁽⁾₍₎〈〉❨-❵⟅⟆⟦-⟯⦃-⦘⧘-⧛⧼⧽⳹-⳼⳾⳿⵰⸀-⸮⸰⸱、-〃〈-】〔-〟〰〽゠・꓾꓿꘍-꘏꙳꙾꛲-꛷꡴-꡷꣎꣏꣸-꣺꤮꤯꥟꧁-꧍꧞꧟꩜-꩟꫞꫟꯫﴾﴿︐-︙︰-﹒﹔-﹡﹣﹨﹪﹫！-＃％-＊，-／：；？＠［-］＿｛｝｟-･]");class he{constructor(Ne,Zt){this.tag=Ne,this.value=Zt}static some(Ne){return new he(!0,Ne)}static none(){return he.singletonNone}fold(Ne,Zt){return this.tag?Zt(this.value):Ne()}isSome(){return this.tag}isNone(){return!this.tag}map(Ne){return this.tag?he.some(Ne(this.value)):he.none()}bind(Ne){return this.tag?Ne(this.value):he.none()}exists(Ne){return this.tag&&Ne(this.value)}forall(Ne){return!this.tag||Ne(this.value)}filter(Ne){return!this.tag||Ne(this.value)?this:he.none()}getOr(Ne){return this.tag?this.value:Ne}or(Ne){return this.tag?this:Ne}getOrThunk(Ne){return this.tag?this.value:Ne()}orThunk(Ne){return this.tag?this:Ne()}getOrDie(Ne){if(this.tag)return this.value;throw new Error(Ne??"Called getOrDie on None")}static from(Ne){return jo(Ne)?he.some(Ne):he.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(Ne){this.tag&&Ne(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}he.singletonNone=new he(!1);const Dt=co;var fo=tinymce.util.Tools.resolve("tinymce.Env"),me=tinymce.util.Tools.resolve("tinymce.util.Tools");const Ze=Array.prototype.slice,de=Array.prototype.push,rt=(Ce,Ne)=>{const Zt=Ce.length,Lo=new Array(Zt);for(let Ho=0;Ho<Zt;Ho++){const rn=Ce[Ho];Lo[Ho]=Ne(rn,Ho)}return Lo},Yo=(Ce,Ne)=>{for(let Zt=0,Lo=Ce.length;Zt<Lo;Zt++){const Ho=Ce[Zt];Ne(Ho,Zt)}},$t=(Ce,Ne)=>{for(let Zt=Ce.length-1;Zt>=0;Zt--){const Lo=Ce[Zt];Ne(Lo,Zt)}},gn=(Ce,Ne)=>{if(Ce.length===0)return[];{let Zt=Ne(Ce[0]);const Lo=[];let Ho=[];for(let rn=0,Go=Ce.length;rn<Go;rn++){const hn=Ce[rn],wn=Ne(hn);wn!==Zt&&(Lo.push(Ho),Ho=[]),Zt=wn,Ho.push(hn)}return Ho.length!==0&&Lo.push(Ho),Lo}},Bo=(Ce,Ne,Zt)=>(Yo(Ce,(Lo,Ho)=>{Zt=Ne(Zt,Lo,Ho)}),Zt),Ct=Ce=>{const Ne=[];for(let Zt=0,Lo=Ce.length;Zt<Lo;++Zt){if(!jt(Ce[Zt]))throw new Error("Arr.flatten item "+Zt+" was not an array, input: "+Ce);de.apply(Ne,Ce[Zt])}return Ne},R=(Ce,Ne)=>Ct(rt(Ce,Ne)),qe=(Ce,Ne)=>{const Zt=Ze.call(Ce,0);return Zt.sort(Ne),Zt},Je=Object.hasOwnProperty,lt=(Ce,Ne)=>Je.call(Ce,Ne);typeof window<"u"||Function("return this;")();const Mt=9,ht=11,Rt=1,uo=3,Bt=Ce=>Ce.dom.nodeType,dt=(Ce=>Ne=>Bt(Ne)===Ce)(uo),Ie=(Ce,Ne,Zt)=>{if(Po(Zt)||ko(Zt)||tn(Zt))Ce.setAttribute(Ne,Zt+"");else throw console.error("Invalid call to Attribute.set. Key ",Ne,":: Value ",Zt,":: Element ",Ce),new Error("Attribute value was not simple")},Co=(Ce,Ne,Zt)=>{Ie(Ce.dom,Ne,Zt)},Pt=(Ce,Ne)=>{const Lo=(Ne||document).createElement("div");if(Lo.innerHTML=Ce,!Lo.hasChildNodes()||Lo.childNodes.length>1){const Ho="HTML does not have a single root node";throw console.error(Ho,Ce),new Error(Ho)}return to(Lo.childNodes[0])},lo=(Ce,Ne)=>{const Lo=(Ne||document).createElement(Ce);return to(Lo)},zo=(Ce,Ne)=>{const Lo=(Ne||document).createTextNode(Ce);return to(Lo)},to=Ce=>{if(Ce==null)throw new Error("Node cannot be null or undefined");return{dom:Ce}},$e={fromHtml:Pt,fromTag:lo,fromText:zo,fromDom:to,fromPoint:(Ce,Ne,Zt)=>he.from(Ce.dom.elementFromPoint(Ne,Zt)).map(to)},ct=Ce=>Ce.nodeType!==Rt&&Ce.nodeType!==Mt&&Ce.nodeType!==ht||Ce.childElementCount===0,gt=(Ce,Ne)=>{const Zt=Ne===void 0?document:Ne.dom;return ct(Zt)?[]:rt(Zt.querySelectorAll(Ce),$e.fromDom)},pe=Ce=>he.from(Ce.dom.parentNode).map($e.fromDom),Oe=Ce=>rt(Ce.dom.childNodes,$e.fromDom),We=(Ce,Ne)=>({element:Ce,offset:Ne}),Fe=(Ce,Ne)=>{const Zt=Oe(Ce);return Zt.length>0&&Ne<Zt.length?We(Zt[Ne],0):We(Ce,Ne)},ge=(Ce,Ne)=>{pe(Ce).each(Lo=>{Lo.dom.insertBefore(Ne.dom,Ce.dom)})},Me=(Ce,Ne)=>{Ce.dom.appendChild(Ne.dom)},at=(Ce,Ne)=>{ge(Ce,Ne),Me(Ne,Ce)},Ge=((Ce,Ne)=>{const Zt=rn=>{if(!Ce(rn))throw new Error("Can only get "+Ne+" value of a "+Ne+" node");return Lo(rn).getOr("")},Lo=rn=>Ce(rn)?he.from(rn.dom.nodeValue):he.none();return{get:Zt,getOption:Lo,set:(rn,Go)=>{if(!Ce(rn))throw new Error("Can only set raw "+Ne+" value of a "+Ne+" node");rn.dom.nodeValue=Go}}})(dt,"text"),Gt=Ce=>Ge.get(Ce),Vt=(Ce,Ne,Zt)=>(Ce.compareDocumentPosition(Ne)&Zt)!==0,Xo=(Ce,Ne)=>Vt(Ce,Ne,Node.DOCUMENT_POSITION_PRECEDING),$o=(Ce,Ne)=>gt(Ne,Ce);var Zo=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker");const Gn=(Ce,Ne)=>Ce.isBlock(Ne)||lt(Ce.schema.getVoidElements(),Ne.nodeName),Pn=(Ce,Ne)=>!Ce.isEditable(Ne),zn=(Ce,Ne)=>Ce.getContentEditable(Ne)==="true"&&Ne.parentNode&&!Ce.isEditable(Ne.parentNode),ut=(Ce,Ne)=>!Ce.isBlock(Ne)&&lt(Ce.schema.getWhitespaceElements(),Ne.nodeName),zt=(Ce,Ne)=>Gn(Ce,Ne)||Pn(Ce,Ne)||ut(Ce,Ne)||zn(Ce,Ne),Ft=Ce=>Ce.nodeType===3,vo=()=>({sOffset:0,fOffset:0,elements:[]}),Xt=(Ce,Ne)=>Fe($e.fromDom(Ce),Ne),Vo=(Ce,Ne,Zt,Lo,Ho,rn=!0)=>{let Go=rn?Ne(!1):Zt;for(;Go;){const hn=Pn(Ce,Go);if(hn||ut(Ce,Go)){if(hn?Lo.cef(Go):Lo.boundary(Go))break;Go=Ne(!0);continue}else if(Gn(Ce,Go)){if(Lo.boundary(Go))break}else Ft(Go)&&Lo.text(Go);if(Go===Ho)break;Go=Ne(!1)}},$n=(Ce,Ne,Zt,Lo,Ho)=>{var rn;if(zt(Ce,Zt))return;const Go=(rn=Ce.getParent(Lo,Ce.isBlock))!==null&&rn!==void 0?rn:Ce.getRoot(),hn=new Zo(Zt,Go),wn=Ho?hn.next.bind(hn):hn.prev.bind(hn);Vo(Ce,wn,Zt,{boundary:it,cef:it,text:Un=>{Ho?Ne.fOffset+=Un.length:Ne.sOffset+=Un.length,Ne.elements.push($e.fromDom(Un))}})},Rr=(Ce,Ne,Zt,Lo,Ho,rn=!0)=>{const Go=new Zo(Zt,Ne),hn=[];let wn=vo();$n(Ce,wn,Zt,Ne,!1);const Un=()=>(wn.elements.length>0&&(hn.push(wn),wn=vo()),!1);return Vo(Ce,Go.next.bind(Go),Zt,{boundary:Un,cef:Ar=>(Un(),Ho&&hn.push(...Ho.cef(Ar)),!1),text:Ar=>{wn.elements.push($e.fromDom(Ar)),Ho&&Ho.text(Ar,wn)}},Lo,rn),Lo&&$n(Ce,wn,Lo,Ne,!0),Un(),hn},Wt=(Ce,Ne)=>{const Zt=Xt(Ne.startContainer,Ne.startOffset),Lo=Zt.element.dom,Ho=Xt(Ne.endContainer,Ne.endOffset),rn=Ho.element.dom;return Rr(Ce,Ne.commonAncestorContainer,Lo,rn,{text:(Go,hn)=>{Go===rn?hn.fOffset+=Go.length-Ho.offset:Go===Lo&&(hn.sOffset+=Zt.offset)},cef:Go=>{const hn=R($o($e.fromDom(Go),"*[contenteditable=true]"),wn=>{const Un=wn.dom;return Rr(Ce,Un,Un)});return qe(hn,(wn,Un)=>Xo(wn.elements[0].dom,Un.elements[0].dom)?1:-1)}},!1)},vr=(Ce,Ne)=>Ne.collapsed?[]:Wt(Ce,Ne),Fn=(Ce,Ne)=>{const Zt=Ce.createRng();return Zt.selectNode(Ne),vr(Ce,Zt)},ln=(Ce,Ne)=>R(Ne,Zt=>Fn(Ce,Zt)),xr=(Ce,Ne,Zt=0,Lo=Ce.length)=>{const Ho=Ne.regex;Ho.lastIndex=Zt;const rn=[];let Go;for(;Go=Ho.exec(Ce);){const hn=Go[Ne.matchIndex],wn=Go.index+Go[0].indexOf(hn),Un=wn+hn.length;if(Un>Lo)break;rn.push({start:wn,finish:Un}),Ho.lastIndex=Un}return rn},Ys=(Ce,Ne)=>{const Zt=Bo(Ce,(Lo,Ho)=>{const rn=Gt(Ho),Go=Lo.last,hn=Go+rn.length,wn=R(Ne,(Un,Ar)=>Un.start<hn&&Un.finish>Go?[{element:Ho,start:Math.max(Go,Un.start)-Go,finish:Math.min(hn,Un.finish)-Go,matchId:Ar}]:[]);return{results:Lo.results.concat(wn),last:hn}},{results:[],last:0}).results;return gn(Zt,Lo=>Lo.matchId)},Yr=(Ce,Ne)=>R(Ne,Zt=>{const Lo=Zt.elements,Ho=rt(Lo,Gt).join(""),rn=xr(Ho,Ce,Zt.sOffset,Ho.length-Zt.fOffset);return Ys(Lo,rn)}),Pa=(Ce,Ne)=>{$t(Ce,(Zt,Lo)=>{$t(Zt,Ho=>{const rn=$e.fromDom(Ne.cloneNode(!1));Co(rn,"data-mce-index",Lo);const Go=Ho.element.dom;if(Go.length===Ho.finish&&Ho.start===0)at(Ho.element,rn);else{Go.length!==Ho.finish&&Go.splitText(Ho.finish);const hn=Go.splitText(Ho.start);at($e.fromDom(hn),rn)}})})},cs=(Ce,Ne,Zt,Lo)=>{const Ho=Fn(Ce,Zt),rn=Yr(Ne,Ho);return Pa(rn,Lo),rn.length},Ha=(Ce,Ne,Zt,Lo)=>{const Ho=Zt.getBookmark(),rn=Ce.select("td[data-mce-selected],th[data-mce-selected]"),Go=rn.length>0?ln(Ce,rn):vr(Ce,Zt.getRng()),hn=Yr(Ne,Go);return Pa(hn,Lo),Zt.moveToBookmark(Ho),hn.length},ja=Ce=>Ce.getAttribute("data-mce-index"),$s=(Ce,Ne,Zt,Lo)=>{const Ho=Ce.dom.create("span",{"data-mce-bogus":1});Ho.className="mce-match-marker";const rn=Ce.getBody();return gr(Ce,Ne,!1),Lo?Ha(Ce.dom,Zt,Ce.selection,Ho):cs(Ce.dom,Zt,rn,Ho)},Us=Ce=>{var Ne;const Zt=Ce.parentNode;Ce.firstChild&&Zt.insertBefore(Ce.firstChild,Ce),(Ne=Ce.parentNode)===null||Ne===void 0||Ne.removeChild(Ce)},_a=(Ce,Ne)=>{const Zt=[],Lo=me.toArray(Ce.getBody().getElementsByTagName("span"));if(Lo.length)for(let Ho=0;Ho<Lo.length;Ho++){const rn=ja(Lo[Ho]);rn===null||!rn.length||rn===Ne.toString()&&Zt.push(Lo[Ho])}return Zt},tt=(Ce,Ne,Zt)=>{const Lo=Ne.get();let Ho=Lo.index;const rn=Ce.dom;Zt?Ho+1===Lo.count?Ho=0:Ho++:Ho-1===-1?Ho=Lo.count-1:Ho--,rn.removeClass(_a(Ce,Lo.index),"mce-match-marker-selected");const Go=_a(Ce,Ho);return Go.length?(rn.addClass(_a(Ce,Ho),"mce-match-marker-selected"),Ce.selection.scrollIntoView(Go[0]),Ho):-1},_t=(Ce,Ne)=>{const Zt=Ne.parentNode;Ce.remove(Ne),Zt&&Ce.isEmpty(Zt)&&Ce.remove(Zt)},Do=(Ce,Ne)=>{const Lo="("+Ce.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&").replace(/\s/g,"[^\\S\\r\\n\\uFEFF]")+")";return Ne?`(?:^|\\s|${Dt()})`+Lo+`(?=$|\\s|${Dt()})`:Lo},St=(Ce,Ne,Zt,Lo,Ho,rn)=>{const Go=Ce.selection,hn=Do(Zt,Ho),wn=Go.isForward(),Un={regex:new RegExp(hn,Lo?"g":"gi"),matchIndex:1},Ar=$s(Ce,Ne,Un,rn);if(fo.browser.isSafari()&&Go.setRng(Go.getRng(),wn),Ar){const ra=tt(Ce,Ne,!0);Ne.set({index:ra,count:Ar,text:Zt,matchCase:Lo,wholeWord:Ho,inSelection:rn})}return Ar},zr=(Ce,Ne)=>{const Zt=tt(Ce,Ne,!0);Ne.set({...Ne.get(),index:Zt})},kr=(Ce,Ne)=>{const Zt=tt(Ce,Ne,!1);Ne.set({...Ne.get(),index:Zt})},Is=Ce=>{const Ne=ja(Ce);return Ne!==null&&Ne.length>0},Xr=(Ce,Ne,Zt,Lo,Ho)=>{const rn=Ne.get(),Go=rn.index;let hn,wn=Go;Lo=Lo!==!1;const Un=Ce.getBody(),Ar=me.grep(me.toArray(Un.getElementsByTagName("span")),Is);for(let ra=0;ra<Ar.length;ra++){const Xs=ja(Ar[ra]);let Zs=hn=parseInt(Xs,10);if(Ho||Zs===rn.index){for(Zt.length?(Ar[ra].innerText=Zt,Us(Ar[ra])):_t(Ce.dom,Ar[ra]);Ar[++ra];)if(Zs=parseInt(ja(Ar[ra]),10),Zs===hn)_t(Ce.dom,Ar[ra]);else{ra--;break}Lo&&wn--}else hn>Go&&Ar[ra].setAttribute("data-mce-index",String(hn-1))}return Ne.set({...rn,count:Ho?0:rn.count-1,index:wn}),Lo?zr(Ce,Ne):kr(Ce,Ne),!Ho&&Ne.get().count>0},gr=(Ce,Ne,Zt)=>{let Lo,Ho;const rn=Ne.get(),Go=me.toArray(Ce.getBody().getElementsByTagName("span"));for(let hn=0;hn<Go.length;hn++){const wn=ja(Go[hn]);wn!==null&&wn.length&&(wn===rn.index.toString()&&(Lo||(Lo=Go[hn].firstChild),Ho=Go[hn].firstChild),Us(Go[hn]))}if(Ne.set({...rn,index:-1,count:0,text:""}),Lo&&Ho){const hn=Ce.dom.createRng();return hn.setStart(Lo,0),hn.setEnd(Ho,Ho.data.length),Zt!==!1&&Ce.selection.setRng(hn),hn}else return},De=(Ce,Ne)=>Ne.get().count>1,Ae=(Ce,Ne)=>Ne.get().count>1,wt=(Ce,Ne)=>({done:hn=>gr(Ce,Ne,hn),find:(hn,wn,Un,Ar=!1)=>St(Ce,Ne,hn,wn,Un,Ar),next:()=>zr(Ce,Ne),prev:()=>kr(Ce,Ne),replace:(hn,wn,Un)=>Xr(Ce,Ne,hn,wn,Un)}),It=Ce=>{const Ne=xo(he.none()),Zt=()=>Ne.get().each(Ce);return{clear:()=>{Zt(),Ne.set(he.none())},isSet:()=>Ne.get().isSome(),get:()=>Ne.get(),set:hn=>{Zt(),Ne.set(he.some(hn))}}},dn=()=>{const Ce=It(To);return{...Ce,on:Zt=>Ce.get().each(Zt)}},nn=(Ce,Ne)=>{const Zt=dn();Ce.undoManager.add();const Lo=me.trim(Ce.selection.getContent({format:"text"})),Ho=Wr=>{Wr.setEnabled("next",De(Ce,Ne)),Wr.setEnabled("prev",Ae(Ce,Ne))},rn=Wr=>{const rr=Wr.getData(),Sr=Ne.get();Ne.set({...Sr,matchCase:rr.matchcase,wholeWord:rr.wholewords,inSelection:rr.inselection})},Go=(Wr,rr)=>{Yo(["replace","replaceall","prev","next"],Cs=>Wr.setEnabled(Cs,!rr))},hn=(Wr,rr)=>{rr.redial(mi(Wr,rr.getData()))},wn=(Wr,rr)=>{fo.browser.isSafari()&&fo.deviceType.isTouch()&&(rr==="find"||rr==="replace"||rr==="replaceall")&&Wr.focus(rr)},Un=Wr=>{gr(Ce,Ne,!1),Go(Wr,!0),Ho(Wr)},Ar=Wr=>{const rr=Wr.getData(),Sr=Ne.get();if(!rr.findtext.length){Un(Wr);return}if(Sr.text===rr.findtext&&Sr.matchCase===rr.matchcase&&Sr.wholeWord===rr.wholewords)zr(Ce,Ne);else{const va=St(Ce,Ne,rr.findtext,rr.matchcase,rr.wholewords,rr.inselection);va<=0&&hn(!0,Wr),Go(Wr,va===0)}Ho(Wr)},ra=Ne.get(),Xs={findtext:Lo,replacetext:"",wholewords:ra.wholeWord,matchcase:ra.matchCase,inselection:ra.inSelection},Zs=Wr=>{const rr=[{type:"bar",items:[{type:"input",name:"findtext",placeholder:"Find",maximized:!0,inputMode:"search"},{type:"button",name:"prev",text:"Previous",icon:"action-prev",enabled:!1,borderless:!0},{type:"button",name:"next",text:"Next",icon:"action-next",enabled:!1,borderless:!0}]},{type:"input",name:"replacetext",placeholder:"Replace with",inputMode:"search"}];return Wr&&rr.push({type:"alertbanner",level:"error",text:"Could not find the specified string.",icon:"warning"}),rr},mi=(Wr,rr)=>({title:"Find and Replace",size:"normal",body:{type:"panel",items:Zs(Wr)},buttons:[{type:"menu",name:"options",icon:"preferences",tooltip:"Preferences",align:"start",items:[{type:"togglemenuitem",name:"matchcase",text:"Match case"},{type:"togglemenuitem",name:"wholewords",text:"Find whole words only"},{type:"togglemenuitem",name:"inselection",text:"Find in selection"}]},{type:"custom",name:"find",text:"Find",primary:!0},{type:"custom",name:"replace",text:"Replace",enabled:!1},{type:"custom",name:"replaceall",text:"Replace all",enabled:!1}],initialData:rr,onChange:(Sr,va)=>{Wr&&hn(!1,Sr),va.name==="findtext"&&Ne.get().count>0&&Un(Sr)},onAction:(Sr,va)=>{const Cs=Sr.getData();switch(va.name){case"find":Ar(Sr);break;case"replace":Xr(Ce,Ne,Cs.replacetext)?Ho(Sr):Un(Sr);break;case"replaceall":Xr(Ce,Ne,Cs.replacetext,!0,!0),Un(Sr);break;case"prev":kr(Ce,Ne),Ho(Sr);break;case"next":zr(Ce,Ne),Ho(Sr);break;case"matchcase":case"wholewords":case"inselection":hn(!1,Sr),rn(Sr),Un(Sr);break}wn(Sr,va.name)},onSubmit:Sr=>{Ar(Sr),wn(Sr,"find")},onClose:()=>{Ce.focus(),gr(Ce,Ne),Ce.undoManager.add()}});Zt.set(Ce.windowManager.open(mi(!1,Xs),{inline:"toolbar"}))},sr=(Ce,Ne)=>{Ce.addCommand("SearchReplace",()=>{nn(Ce,Ne)})},Vr=(Ce,Ne)=>()=>{nn(Ce,Ne)},Br=(Ce,Ne)=>{Ce.ui.registry.addMenuItem("searchreplace",{text:"Find and replace...",shortcut:"Meta+F",onAction:Vr(Ce,Ne),icon:"search"}),Ce.ui.registry.addButton("searchreplace",{tooltip:"Find and replace",onAction:Vr(Ce,Ne),icon:"search"}),Ce.shortcuts.add("Meta+F","",Vr(Ce,Ne))};var Jo=()=>{Ko.add("searchreplace",Ce=>{const Ne=xo({index:-1,count:0,text:"",matchCase:!1,wholeWord:!1,inSelection:!1});return sr(Ce,Ne),Br(Ce,Ne),wt(Ce,Ne)})};Jo()})();(function(){var xo=tinymce.util.Tools.resolve("tinymce.PluginManager");const Ko=(C,D,G)=>{var ce;return G(C,D.prototype)?!0:((ce=C.constructor)===null||ce===void 0?void 0:ce.name)===D.name},Io=C=>{const D=typeof C;return C===null?"null":D==="object"&&Array.isArray(C)?"array":D==="object"&&Ko(C,String,(G,ce)=>ce.isPrototypeOf(G))?"string":D},on=C=>D=>Io(D)===C,Qo=C=>D=>typeof D===C,io=C=>D=>C===D,Po=on("string"),jt=on("array"),ko=Qo("boolean"),Mo=io(void 0),jo=C=>C==null,tn=C=>!jo(C),To=Qo("function"),Ue=Qo("number"),it=()=>{},So=(C,D)=>G=>C(D(G)),co=C=>()=>C,he=C=>C,Dt=(C,D)=>C===D;function fo(C,...D){return(...G)=>{const ce=D.concat(G);return C.apply(null,ce)}}const me=C=>{C()},Ze=co(!1),de=co(!0);class rt{constructor(D,G){this.tag=D,this.value=G}static some(D){return new rt(!0,D)}static none(){return rt.singletonNone}fold(D,G){return this.tag?G(this.value):D()}isSome(){return this.tag}isNone(){return!this.tag}map(D){return this.tag?rt.some(D(this.value)):rt.none()}bind(D){return this.tag?D(this.value):rt.none()}exists(D){return this.tag&&D(this.value)}forall(D){return!this.tag||D(this.value)}filter(D){return!this.tag||D(this.value)?this:rt.none()}getOr(D){return this.tag?this.value:D}or(D){return this.tag?this:D}getOrThunk(D){return this.tag?this.value:D()}orThunk(D){return this.tag?this:D()}getOrDie(D){if(this.tag)return this.value;throw new Error(D??"Called getOrDie on None")}static from(D){return tn(D)?rt.some(D):rt.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(D){this.tag&&D(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}rt.singletonNone=new rt(!1);const Yo=Object.keys,$t=Object.hasOwnProperty,gn=(C,D)=>{const G=Yo(C);for(let ce=0,Ke=G.length;ce<Ke;ce++){const Ut=G[ce],Ao=C[Ut];D(Ao,Ut)}},Bo=C=>(D,G)=>{C[G]=D},Ct=(C,D,G,ce)=>{gn(C,(Ke,Ut)=>{(D(Ke,Ut)?G:ce)(Ke,Ut)})},R=(C,D)=>{const G={};return Ct(C,D,Bo(G),it),G},qe=(C,D)=>{const G=[];return gn(C,(ce,Ke)=>{G.push(D(ce,Ke))}),G},Je=C=>qe(C,he),lt=C=>Yo(C).length,Mt=(C,D)=>ht(C,D)?rt.from(C[D]):rt.none(),ht=(C,D)=>$t.call(C,D),Rt=(C,D)=>ht(C,D)&&C[D]!==void 0&&C[D]!==null,uo=C=>{for(const D in C)if($t.call(C,D))return!1;return!0},Bt=Array.prototype.indexOf,V=Array.prototype.push,dt=(C,D)=>Bt.call(C,D),Ie=(C,D)=>dt(C,D)>-1,Co=(C,D)=>{for(let G=0,ce=C.length;G<ce;G++){const Ke=C[G];if(D(Ke,G))return!0}return!1},Pt=(C,D)=>{const G=[];for(let ce=0;ce<C;ce++)G.push(D(ce));return G},lo=(C,D)=>{const G=C.length,ce=new Array(G);for(let Ke=0;Ke<G;Ke++){const Ut=C[Ke];ce[Ke]=D(Ut,Ke)}return ce},zo=(C,D)=>{for(let G=0,ce=C.length;G<ce;G++){const Ke=C[G];D(Ke,G)}},to=(C,D)=>{for(let G=C.length-1;G>=0;G--){const ce=C[G];D(ce,G)}},Se=(C,D)=>{const G=[],ce=[];for(let Ke=0,Ut=C.length;Ke<Ut;Ke++){const Ao=C[Ke];(D(Ao,Ke)?G:ce).push(Ao)}return{pass:G,fail:ce}},$e=(C,D)=>{const G=[];for(let ce=0,Ke=C.length;ce<Ke;ce++){const Ut=C[ce];D(Ut,ce)&&G.push(Ut)}return G},ct=(C,D,G)=>(to(C,(ce,Ke)=>{G=D(G,ce,Ke)}),G),gt=(C,D,G)=>(zo(C,(ce,Ke)=>{G=D(G,ce,Ke)}),G),pe=(C,D,G)=>{for(let ce=0,Ke=C.length;ce<Ke;ce++){const Ut=C[ce];if(D(Ut,ce))return rt.some(Ut);if(G(Ut,ce))break}return rt.none()},Oe=(C,D)=>pe(C,D,Ze),We=C=>{const D=[];for(let G=0,ce=C.length;G<ce;++G){if(!jt(C[G]))throw new Error("Arr.flatten item "+G+" was not an array, input: "+C);V.apply(D,C[G])}return D},Fe=(C,D)=>We(lo(C,D)),ge=(C,D)=>{for(let G=0,ce=C.length;G<ce;++G){const Ke=C[G];if(D(Ke,G)!==!0)return!1}return!0},Me=(C,D)=>{const G={};for(let ce=0,Ke=C.length;ce<Ke;ce++){const Ut=C[ce];G[String(Ut)]=D(Ut,ce)}return G},at=(C,D)=>D>=0&&D<C.length?rt.some(C[D]):rt.none(),ze=C=>at(C,0),Ge=C=>at(C,C.length-1),Gt=(C,D)=>{for(let G=0;G<C.length;G++){const ce=D(C[G],G);if(ce.isSome())return ce}return rt.none()},Vt=8,Xo=9,$o=11,Zo=1,Gn=3,Pn=(C,D)=>{const ce=(D||document).createElement("div");if(ce.innerHTML=C,!ce.hasChildNodes()||ce.childNodes.length>1){const Ke="HTML does not have a single root node";throw console.error(Ke,C),new Error(Ke)}return zt(ce.childNodes[0])},zn=(C,D)=>{const ce=(D||document).createElement(C);return zt(ce)},ut=(C,D)=>{const ce=(D||document).createTextNode(C);return zt(ce)},zt=C=>{if(C==null)throw new Error("Node cannot be null or undefined");return{dom:C}},vo={fromHtml:Pn,fromTag:zn,fromText:ut,fromDom:zt,fromPoint:(C,D,G)=>rt.from(C.dom.elementFromPoint(D,G)).map(zt)},Xt=(C,D)=>{const G=C.dom;if(G.nodeType!==Zo)return!1;{const ce=G;if(ce.matches!==void 0)return ce.matches(D);if(ce.msMatchesSelector!==void 0)return ce.msMatchesSelector(D);if(ce.webkitMatchesSelector!==void 0)return ce.webkitMatchesSelector(D);if(ce.mozMatchesSelector!==void 0)return ce.mozMatchesSelector(D);throw new Error("Browser lacks native selectors")}},Vo=C=>C.nodeType!==Zo&&C.nodeType!==Xo&&C.nodeType!==$o||C.childElementCount===0,$n=(C,D)=>{const G=D===void 0?document:D.dom;return Vo(G)?[]:lo(G.querySelectorAll(C),vo.fromDom)},Rr=(C,D)=>{const G=D===void 0?document:D.dom;return Vo(G)?rt.none():rt.from(G.querySelector(C)).map(vo.fromDom)},Wt=(C,D)=>C.dom===D.dom,vr=Xt;typeof window<"u"||Function("return this;")();const Fn=C=>C.dom.nodeName.toLowerCase(),ln=C=>C.dom.nodeType,xr=C=>D=>ln(D)===C,Ys=C=>ln(C)===Vt||Fn(C)==="#comment",Yr=xr(Zo),Pa=xr(Gn),cs=xr(Xo),Ha=xr($o),ja=C=>D=>Yr(D)&&Fn(D)===C,$s=C=>vo.fromDom(C.dom.ownerDocument),Us=C=>cs(C)?C:$s(C),_a=C=>rt.from(C.dom.parentNode).map(vo.fromDom),tt=(C,D)=>{const G=To(D)?D:Ze;let ce=C.dom;const Ke=[];for(;ce.parentNode!==null&&ce.parentNode!==void 0;){const Ut=ce.parentNode,Ao=vo.fromDom(Ut);if(Ke.push(Ao),G(Ao)===!0)break;ce=Ut}return Ke},_t=C=>rt.from(C.dom.previousSibling).map(vo.fromDom),Do=C=>rt.from(C.dom.nextSibling).map(vo.fromDom),St=C=>lo(C.dom.childNodes,vo.fromDom),zr=(C,D)=>{const G=C.dom.childNodes;return rt.from(G[D]).map(vo.fromDom)},kr=C=>zr(C,0),Is=C=>Ha(C)&&tn(C.dom.host),gr=To(Element.prototype.attachShadow)&&To(Node.prototype.getRootNode)?C=>vo.fromDom(C.dom.getRootNode()):Us,De=C=>{const D=gr(C);return Is(D)?rt.some(D):rt.none()},Ae=C=>vo.fromDom(C.dom.host),wt=C=>{const D=Pa(C)?C.dom.parentNode:C.dom;if(D==null||D.ownerDocument===null)return!1;const G=D.ownerDocument;return De(vo.fromDom(D)).fold(()=>G.body.contains(D),So(wt,Ae))};var It=(C,D,G,ce,Ke)=>C(G,ce)?rt.some(G):To(Ke)&&Ke(G)?rt.none():D(G,ce,Ke);const dn=(C,D,G)=>{let ce=C.dom;const Ke=To(G)?G:Ze;for(;ce.parentNode;){ce=ce.parentNode;const Ut=vo.fromDom(ce);if(D(Ut))return rt.some(Ut);if(Ke(Ut))break}return rt.none()},nn=(C,D,G)=>It((Ke,Ut)=>Ut(Ke),dn,C,D,G),sr=(C,D)=>{const G=Ke=>D(vo.fromDom(Ke));return Oe(C.dom.childNodes,G).map(vo.fromDom)},Vr=(C,D,G)=>dn(C,ce=>Xt(ce,D),G),Br=(C,D)=>sr(C,G=>Xt(G,D)),Jo=(C,D)=>Rr(D,C),Ce=(C,D,G)=>It((Ke,Ut)=>Xt(Ke,Ut),Vr,C,D,G),Ne=C=>Ce(C,"[contenteditable]"),Zt=(C,D=!1)=>wt(C)?C.dom.isContentEditable:Ne(C).fold(co(D),G=>Lo(G)==="true"),Lo=C=>C.dom.contentEditable,Ho=C=>C.nodeName.toLowerCase(),rn=C=>vo.fromDom(C.getBody()),Go=C=>D=>Wt(D,rn(C)),hn=C=>C?C.replace(/px$/,""):"",wn=C=>/^\d+(\.\d+)?$/.test(C)?C+"px":C,Un=C=>vo.fromDom(C.selection.getStart()),Ar=C=>vo.fromDom(C.selection.getEnd()),ra=C=>nn(C,ja("table")).forall(Zt),Xs=(C,D)=>$e(St(C),D),Zs=(C,D)=>{let G=[];return zo(St(C),ce=>{D(ce)&&(G=G.concat([ce])),G=G.concat(Zs(ce,D))}),G},mi=(C,D)=>Xs(C,G=>Xt(G,D)),Wr=(C,D)=>$n(D,C),rr=(C,D,G)=>{if(Po(G)||ko(G)||Ue(G))C.setAttribute(D,G+"");else throw console.error("Invalid call to Attribute.set. Key ",D,":: Value ",G,":: Element ",C),new Error("Attribute value was not simple")},Sr=(C,D,G)=>{rr(C.dom,D,G)},va=(C,D)=>{const G=C.dom;gn(D,(ce,Ke)=>{rr(G,Ke,ce)})},Cs=(C,D)=>{const G=C.dom.getAttribute(D);return G===null?void 0:G},za=(C,D)=>rt.from(Cs(C,D)),ws=(C,D)=>{C.dom.removeAttribute(D)},As=C=>gt(C.dom.attributes,(D,G)=>(D[G.name]=G.value,D),{}),Aa=(C,D,G=Dt)=>C.exists(ce=>G(ce,D)),Kn=C=>{const D=[],G=ce=>{D.push(ce)};for(let ce=0;ce<C.length;ce++)C[ce].each(G);return D},Os=(C,D,G)=>C.isSome()&&D.isSome()?rt.some(G(C.getOrDie(),D.getOrDie())):rt.none(),Ma=C=>C.bind(he),Ca=(C,D)=>C?rt.some(D):rt.none(),ds=(C,D)=>C.substring(D),xa=(C,D,G)=>D===""||C.length>=D.length&&C.substr(G,G+D.length)===D,Rn=(C,D)=>Hi(C,D)?ds(C,D.length):C,Hi=(C,D)=>xa(C,D,0),ji=(C=>D=>D.replace(C,""))(/^\s+|\s+$/g),go=C=>C.length>0,aa=C=>!go(C),Ss=(C,D=10)=>{const G=parseInt(C,D);return isNaN(G)?rt.none():rt.some(G)},Ir=C=>{const D=parseFloat(C);return isNaN(D)?rt.none():rt.some(D)},gi=C=>C.style!==void 0&&To(C.style.getPropertyValue),sc=(C,D,G)=>{if(!Po(G))throw console.error("Invalid call to CSS.set. Property ",D,":: Value ",G,":: Element ",C),new Error("CSS value must be a string: "+G);gi(C)&&C.style.setProperty(D,G)},Pr=(C,D)=>{gi(C)&&C.style.removeProperty(D)},ne=(C,D,G)=>{const ce=C.dom;sc(ce,D,G)},Be=(C,D)=>{const G=C.dom,Ke=window.getComputedStyle(G).getPropertyValue(D);return Ke===""&&!wt(C)?Pe(G,D):Ke},Pe=(C,D)=>gi(C)?C.style.getPropertyValue(D):"",Nt=(C,D)=>{const G=C.dom,ce=Pe(G,D);return rt.from(ce).filter(Ke=>Ke.length>0)},ho=(C,D)=>{const G=C.dom;Pr(G,D),Aa(za(C,"style").map(ji),"")&&ws(C,"style")},bn=(C,D,G=0)=>za(C,D).map(ce=>parseInt(ce,10)).getOr(G),kn=(C,D)=>_r(C,D,de),_r=(C,D,G)=>Fe(St(C),ce=>Xt(ce,D)?G(ce)?[ce]:[]:_r(ce,D,G)),Or=["tfoot","thead","tbody","colgroup"],Sa=C=>Ie(Or,C),ma=(C,D)=>({rows:C,columns:D}),Ga=(C,D,G)=>({element:C,rowspan:D,colspan:G}),Q=(C,D,G,ce,Ke,Ut)=>({element:C,rowspan:D,colspan:G,row:ce,column:Ke,isLocked:Ut}),Ee=(C,D,G)=>({element:C,cells:D,section:G}),bt=(C,D,G,ce)=>({startRow:C,startCol:D,finishRow:G,finishCol:ce}),wo=(C,D,G)=>({element:C,colspan:D,column:G}),Zn=(C,D)=>({element:C,columns:D}),U=(C,D,G=Ze)=>{if(G(D))return rt.none();if(Ie(C,Fn(D)))return rt.some(D);const ce=Ke=>Xt(Ke,"table")||G(Ke);return Vr(D,C.join(","),ce)},oe=(C,D)=>U(["td","th"],C,D),xe=C=>kn(C,"th,td"),xt=C=>Xt(C,"colgroup")?mi(C,"col"):Fe(ga(C),D=>mi(D,"col")),po=(C,D)=>Ce(C,"table",D),Yn=C=>kn(C,"tr"),ga=C=>po(C).fold(co([]),D=>mi(D,"colgroup")),ks=(C,D)=>lo(C,G=>{if(Fn(G)==="colgroup"){const ce=lo(xt(G),Ke=>{const Ut=bn(Ke,"span",1);return Ga(Ke,1,Ut)});return Ee(G,ce,"colgroup")}else{const ce=lo(xe(G),Ke=>{const Ut=bn(Ke,"rowspan",1),Ao=bn(Ke,"colspan",1);return Ga(Ke,Ut,Ao)});return Ee(G,ce,D(G))}}),_i=C=>_a(C).map(D=>{const G=Fn(D);return Sa(G)?G:"tbody"}).getOr("tbody"),Js=C=>{const D=Yn(C),ce=[...ga(C),...D];return ks(ce,_i)},Vi="data-snooker-locked-cols",Qs=C=>za(C,Vi).bind(D=>rt.from(D.match(/\d+/g))).map(D=>Me(D,de)),ic=(C,D)=>C+","+D,_s=(C,D,G)=>rt.from(C.access[ic(D,G)]),vc=(C,D,G)=>{const ce=je(C,Ke=>G(D,Ke.element));return ce.length>0?rt.some(ce[0]):rt.none()},je=(C,D)=>{const G=Fe(C.all,ce=>ce.cells);return $e(G,D)},Ll=C=>{const D={};let G=0;return zo(C.cells,ce=>{const Ke=ce.colspan;Pt(Ke,Ut=>{const Ao=G+Ut;D[Ao]=wo(ce.element,Ke,Ao)}),G+=Ke}),D},pd=C=>{const D={},G=[],Ke=ze(C).map(Ia=>Ia.element).bind(po).bind(Qs).getOr({});let Ut=0,Ao=0,qo=0;const{pass:Xn,fail:pr}=Se(C,Ia=>Ia.section==="colgroup");zo(pr,Ia=>{const Mi=[];zo(Ia.cells,hi=>{let Td=0;for(;D[ic(qo,Td)]!==void 0;)Td++;const zd=Rt(Ke,Td.toString()),cm=Q(hi.element,hi.rowspan,hi.colspan,qo,Td,zd);for(let Ru=0;Ru<hi.colspan;Ru++)for(let Bu=0;Bu<hi.rowspan;Bu++){const Ad=qo+Bu,Od=Td+Ru,pg=ic(Ad,Od);D[pg]=cm,Ao=Math.max(Ao,Od+1)}Mi.push(cm)}),Ut++,G.push(Ee(Ia.element,Mi,Ia.section)),qo++});const{columns:is,colgroups:Nr}=Ge(Xn).map(Ia=>{const Mi=Ll(Ia);return{colgroups:[Zn(Ia.element,Je(Mi))],columns:Mi}}).getOrThunk(()=>({colgroups:[],columns:{}}));return{grid:ma(Ut,Ao),access:D,all:G,columns:is,colgroups:Nr}},Si={fromTable:C=>{const D=Js(C);return pd(D)},generate:pd,getAt:_s,findItem:vc,filterItems:je,justCells:C=>Fe(C.all,D=>D.cells),justColumns:C=>Je(C.columns),hasColumns:C=>Yo(C.columns).length>0,getColumnAt:(C,D)=>rt.from(C.columns[D])};var Gc=tinymce.util.Tools.resolve("tinymce.util.Tools");const Gi=(C,D,G)=>{const ce=C.select("td,th",D);let Ke;for(let Ut=0;Ut<ce.length;Ut++){const Ao=C.getStyle(ce[Ut],G);if(Mo(Ke)&&(Ke=Ao),Ke!==Ao)return""}return Ke},Il=(C,D,G)=>{Gc.each("left center right".split(" "),ce=>{ce!==G&&C.formatter.remove("align"+ce,{},D)}),G&&C.formatter.apply("align"+G,{},D)},Yl=(C,D,G)=>{Gc.each("top middle bottom".split(" "),ce=>{ce!==G&&C.formatter.remove("valign"+ce,{},D)}),G&&C.formatter.apply("valign"+G,{},D)},Ki=(C,D,G)=>{C.dispatch("TableModified",{...G,table:D})},ie=(C,D)=>Ir(C).getOr(D),ve=(C,D,G)=>ie(Be(C,D),G),yt=(C,D,G,ce)=>{const Ke=ve(C,`padding-${G}`,0),Ut=ve(C,`padding-${ce}`,0),Ao=ve(C,`border-${G}-width`,0),qo=ve(C,`border-${ce}-width`,0);return D-Ke-Ut-Ao-qo},Lt=(C,D)=>{const G=C.dom,ce=G.getBoundingClientRect().width||G.offsetWidth;return D==="border-box"?ce:yt(C,ce,"left","right")},ur=C=>Lt(C,"content-box");var Ra=tinymce.util.Tools.resolve("tinymce.Env");const ei="tableprops tabledelete | tableinsertrowbefore tableinsertrowafter tabledeleterow | tableinsertcolbefore tableinsertcolafter tabledeletecol",ia=Pt(5,C=>{const D=`${C+1}px`;return{title:D,value:D}}),pa=lo(["Solid","Dotted","Dashed","Double","Groove","Ridge","Inset","Outset","None","Hidden"],C=>({title:C,value:C.toLowerCase()})),Ps="100%",ta=C=>{var D;const G=C.dom,ce=(D=G.getParent(C.selection.getStart(),G.isBlock))!==null&&D!==void 0?D:C.getBody();return ur(vo.fromDom(ce))+"px"},cc=(C,D)=>om(C)||!nl(C)?D:Mc(C)?{...D,width:ta(C)}:{...D,width:Ps},Xl=(C,D)=>om(C)||nl(C)?D:Mc(C)?{...D,width:ta(C)}:{...D,width:Ps},Ei=C=>D=>D.options.get(C),xc=C=>{const D=C.options.register;D("table_border_widths",{processor:"object[]",default:ia}),D("table_border_styles",{processor:"object[]",default:pa}),D("table_cell_advtab",{processor:"boolean",default:!0}),D("table_row_advtab",{processor:"boolean",default:!0}),D("table_advtab",{processor:"boolean",default:!0}),D("table_appearance_options",{processor:"boolean",default:!0}),D("table_grid",{processor:"boolean",default:!Ra.deviceType.isTouch()}),D("table_cell_class_list",{processor:"object[]",default:[]}),D("table_row_class_list",{processor:"object[]",default:[]}),D("table_class_list",{processor:"object[]",default:[]}),D("table_toolbar",{processor:"string",default:ei}),D("table_background_color_map",{processor:"object[]",default:[]}),D("table_border_color_map",{processor:"object[]",default:[]})},Es=Ei("table_sizing_mode"),Ba=Ei("table_border_widths"),Fa=Ei("table_border_styles"),ts=Ei("table_cell_advtab"),Kc=Ei("table_row_advtab"),Ua=Ei("table_advtab"),fd=Ei("table_appearance_options"),Yc=Ei("table_grid"),nl=Ei("table_style_by_css"),Fr=Ei("table_cell_class_list"),ti=Ei("table_row_class_list"),Zd=Ei("table_class_list"),hd=Ei("table_toolbar"),qd=Ei("table_background_color_map"),Yi=Ei("table_border_color_map"),Mc=C=>Es(C)==="fixed",om=C=>Es(C)==="responsive",_u=C=>{const D=C.options,G=D.get("table_default_styles");return D.isSet("table_default_styles")?G:cc(C,G)},Wd=C=>{const D=C.options,G=D.get("table_default_attributes");return D.isSet("table_default_attributes")?G:Xl(C,G)},rl=(C,D)=>D.column>=C.startCol&&D.column+D.colspan-1<=C.finishCol&&D.row>=C.startRow&&D.row+D.rowspan-1<=C.finishRow,Da=(C,D)=>{let G=!0;const ce=fo(rl,D);for(let Ke=D.startRow;Ke<=D.finishRow;Ke++)for(let Ut=D.startCol;Ut<=D.finishCol;Ut++)G=G&&Si.getAt(C,Ke,Ut).exists(ce);return G?rt.some(D):rt.none()},Jl=(C,D)=>bt(Math.min(C.row,D.row),Math.min(C.column,D.column),Math.max(C.row+C.rowspan-1,D.row+D.rowspan-1),Math.max(C.column+C.colspan-1,D.column+D.colspan-1)),os=(C,D,G)=>{const ce=Si.findItem(C,D,Wt),Ke=Si.findItem(C,G,Wt);return ce.bind(Ut=>Ke.map(Ao=>Jl(Ut,Ao)))},Dc=(C,D,G)=>os(C,D,G).bind(ce=>Da(C,ce)),dc=(C,D,G)=>{const ce=bd(C);return Dc(ce,D,G)},bd=Si.fromTable,Ea=(C,D)=>{_a(C).each(ce=>{ce.dom.insertBefore(D.dom,C.dom)})},_l=(C,D)=>{Do(C).fold(()=>{_a(C).each(Ke=>{yd(Ke,D)})},ce=>{Ea(ce,D)})},Xc=(C,D)=>{kr(C).fold(()=>{yd(C,D)},ce=>{C.dom.insertBefore(D.dom,ce.dom)})},yd=(C,D)=>{C.dom.appendChild(D.dom)},wc=(C,D)=>{Ea(C,D),yd(D,C)},Jc=(C,D)=>{zo(D,(G,ce)=>{const Ke=ce===0?C:D[ce-1];_l(Ke,G)})},Gd=(C,D)=>{zo(D,G=>{yd(C,G)})},vd=C=>{const D=C.dom;D.parentNode!==null&&D.parentNode.removeChild(D)},pi=C=>{const D=St(C);D.length>0&&Jc(C,D),vd(C)},Ql=((C,D)=>{const G=Ut=>{if(!C(Ut))throw new Error("Can only get "+D+" value of a "+D+" node");return ce(Ut).getOr("")},ce=Ut=>C(Ut)?rt.from(Ut.dom.nodeValue):rt.none();return{get:G,getOption:ce,set:(Ut,Ao)=>{if(!C(Ut))throw new Error("Can only set raw "+D+" value of a "+D+" node");Ut.dom.nodeValue=Ao}}})(Pa,"text"),ec=C=>Ql.get(C),yp=(C,D)=>Ql.set(C,D);var Kd=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","li","table","thead","tbody","tfoot","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],Cl=()=>{const C=pr=>vo.fromDom(pr.dom.cloneNode(!1)),D=pr=>Us(pr).dom,G=pr=>Yr(pr)?Fn(pr)==="body"?!0:Ie(Kd,Fn(pr)):!1,ce=pr=>Yr(pr)?Ie(["br","img","hr","input"],Fn(pr)):!1,Ke=pr=>Yr(pr)&&Cs(pr,"contenteditable")==="false",Ut=(pr,is)=>pr.dom.compareDocumentPosition(is.dom),Ao=(pr,is)=>{const Nr=As(pr);va(is,Nr)},qo=pr=>{const is=Fn(pr);return Ie(["script","noscript","iframe","noframes","noembed","title","style","textarea","xmp"],is)},Xn=pr=>Yr(pr)?za(pr,"lang"):rt.none();return{up:co({selector:Vr,closest:Ce,predicate:dn,all:tt}),down:co({selector:Wr,predicate:Zs}),styles:co({get:Be,getRaw:Nt,set:ne,remove:ho}),attrs:co({get:Cs,set:Sr,remove:ws,copyTo:Ao}),insert:co({before:Ea,after:_l,afterAll:Jc,append:yd,appendAll:Gd,prepend:Xc,wrap:wc}),remove:co({unwrap:pi,remove:vd}),create:co({nu:vo.fromTag,clone:C,text:vo.fromText}),query:co({comparePosition:Ut,prevSibling:_t,nextSibling:Do}),property:co({children:St,name:Fn,parent:_a,document:D,isText:Pa,isComment:Ys,isElement:Yr,isSpecial:qo,getLanguage:Xn,getText:ec,setText:yp,isBoundary:G,isEmptyTag:ce,isNonEditable:Ke}),eq:Wt,is:vr}};const nm=(C,D,G,ce)=>{const Ke=G[0],Ut=G.slice(1);return ce(C,D,Ke,Ut)},rm=(C,D,G)=>G.length>0?nm(C,D,G,wa):rt.none(),wa=(C,D,G,ce)=>{const Ke=D(C,G);return ct(ce,(Ut,Ao)=>{const qo=D(C,Ao);return Qc(C,Ut,qo)},Ke)},Qc=(C,D,G)=>D.bind(ce=>G.filter(fo(C.eq,ce))),Ns=rm,kc=Cl(),Rm=(C,D)=>Ns(kc,(G,ce)=>C(ce),D),an=C=>Vr(C,"table"),Ti=(C,D)=>{const G=Wr(C,D);return G.length>0?rt.some(G):rt.none()},Cu=(C,D,G)=>Jo(C,D).bind(ce=>Jo(C,G).bind(Ke=>Rm(an,[ce,Ke]).map(Ut=>({first:ce,last:Ke,table:Ut})))),ka=(C,D)=>Ti(C,D),Sl=(C,D,G)=>Cu(C,D,G).bind(ce=>{const Ke=Xn=>Wt(C,Xn),Ut="thead,tfoot,tbody,table",Ao=Vr(ce.first,Ut,Ke),qo=Vr(ce.last,Ut,Ke);return Ao.bind(Xn=>qo.bind(pr=>Wt(Xn,pr)?dc(ce.table,ce.first,ce.last):rt.none()))}),fi=C=>lo(C,vo.fromDom),El="data-mce-selected",Ms="td["+El+"],th["+El+"]",Su="data-mce-first-selected",oi="td["+Su+"],th["+Su+"]",ro="data-mce-last-selected",Eu="td["+ro+"],th["+ro+"]",Yt={selected:El,selectedSelector:Ms,firstSelected:Su,firstSelectedSelector:oi,lastSelected:ro,lastSelectedSelector:Eu},ni=C=>po(C).bind(D=>ka(D,Yt.firstSelectedSelector)).fold(co(C),D=>D[0]),xd=C=>(D,G)=>{const ce=Fn(D),Ke=ce==="col"||ce==="colgroup"?ni(D):D;return Ce(Ke,C,G)},us=xd("th,td,caption"),da=xd("th,td"),ml=C=>fi(C.model.table.getSelectedCells()),zi=(C,D)=>{const G=da(C),ce=G.bind(Ke=>po(Ke)).map(Ke=>Yn(Ke));return Os(G,ce,(Ke,Ut)=>$e(Ut,Ao=>Co(fi(Ao.dom.cells),qo=>Cs(qo,D)==="1"||Wt(qo,Ke)))).getOr([])},Oa=[{text:"None",value:""},{text:"Top",value:"top"},{text:"Middle",value:"middle"},{text:"Bottom",value:"bottom"}],al=C=>({value:Hs(C)}),la=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,$i=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,Yd=C=>la.test(C)||$i.test(C),Hs=C=>Rn(C,"#").toUpperCase(),sg=C=>Yd(C)?rt.some({value:Hs(C)}):rt.none(),Tl=C=>{const D=C.toString(16);return(D.length===1?"0"+D:D).toUpperCase()},ns=C=>{const D=Tl(C.red)+Tl(C.green)+Tl(C.blue);return al(D)},gl=/^\s*rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)\s*$/i,ft=/^\s*rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d?(?:\.\d+)?)\s*\)\s*$/i,Ai=(C,D,G,ce)=>({red:C,green:D,blue:G,alpha:ce}),wd=(C,D,G,ce)=>{const Ke=parseInt(C,10),Ut=parseInt(D,10),Ao=parseInt(G,10),qo=parseFloat(ce);return Ai(Ke,Ut,Ao,qo)},zl=C=>{if(C==="transparent")return rt.some(Ai(0,0,0,0));const D=gl.exec(C);if(D!==null)return rt.some(wd(D[1],D[2],D[3],"1"));const G=ft.exec(C);return G!==null?rt.some(wd(G[1],G[2],G[3],G[4])):rt.none()},pl=C=>sg(C).orThunk(()=>zl(C).map(ns)).getOrThunk(()=>{const D=document.createElement("canvas");D.height=1,D.width=1;const G=D.getContext("2d");G.clearRect(0,0,D.width,D.height),G.fillStyle="#FFFFFF",G.fillStyle=C,G.fillRect(0,0,1,1);const ce=G.getImageData(0,0,1,1).data,Ke=ce[0],Ut=ce[1],Ao=ce[2],qo=ce[3];return ns(Ai(Ke,Ut,Ao,qo))}),ri=C=>zl(C).map(ns).map(D=>"#"+D.value).getOr(C),hs=C=>{let D=C;return{get:()=>D,set:Ke=>{D=Ke}}},uc=C=>{const D=hs(rt.none()),G=()=>D.get().each(C);return{clear:()=>{G(),D.set(rt.none())},isSet:()=>D.get().isSome(),get:()=>D.get(),set:qo=>{G(),D.set(rt.some(qo))}}},Bm=()=>uc(C=>C.unbind()),Sn=(C,D,G)=>ce=>{const Ke=Bm(),Ut=aa(G),Ao=()=>{const qo=ml(C),Xn=pr=>C.formatter.match(D,{value:G},pr.dom,Ut);Ut?(ce.setActive(!Co(qo,Xn)),Ke.set(C.formatter.formatChanged(D,pr=>ce.setActive(!pr),!0))):(ce.setActive(ge(qo,Xn)),Ke.set(C.formatter.formatChanged(D,ce.setActive,!1,{value:G})))};return C.initialized?Ao():C.on("init",Ao),Ke.clear},Ui=C=>Rt(C,"menu"),Xi=C=>lo(C,D=>{const G=D.text||D.title||"";return Ui(D)?{text:G,items:Xi(D.menu)}:{text:G,value:D.value}}),Oi=(C,D,G,ce)=>lo(D,Ke=>{const Ut=Ke.text||Ke.title;return Ui(Ke)?{type:"nestedmenuitem",text:Ut,getSubmenuItems:()=>Oi(C,Ke.menu,G,ce)}:{text:Ut,type:"togglemenuitem",onAction:()=>ce(Ke.value),onSetup:Sn(C,G,Ke.value)}}),Za=(C,D)=>G=>{C.execCommand("mceTableApplyCellStyle",!1,{[D]:G})},_c=C=>Fe(C,D=>Ui(D)?[{...D,menu:_c(D.menu)}]:go(D.value)?[D]:[]),qs=(C,D,G,ce)=>Ke=>Ke(Oi(C,D,G,ce)),Tu=(C,D,G)=>{const ce=lo(D,Ke=>({text:Ke.title,value:"#"+pl(Ke.value).value,type:"choiceitem"}));return[{type:"fancymenuitem",fancytype:"colorswatch",initData:{colors:ce.length>0?ce:void 0,allowCustomColors:!1},onAction:Ke=>{const Ut=Ke.value==="remove"?"":Ke.value;C.execCommand("mceTableApplyCellStyle",!1,{[G]:Ut})}}]},kd=C=>()=>{const G=C.queryCommandValue("mceTableRowType")==="header"?"body":"header";C.execCommand("mceTableRowType",!1,{type:G})},Pl=C=>()=>{const G=C.queryCommandValue("mceTableColType")==="th"?"td":"th";C.execCommand("mceTableColType",!1,{type:G})},bs=C=>{const D=Xi(Fr(C));return D.length>0?rt.some({name:"class",type:"listbox",label:"Class",items:D}):rt.none()},Ws=[{name:"width",type:"input",label:"Width"},{name:"height",type:"input",label:"Height"},{name:"celltype",type:"listbox",label:"Cell type",items:[{text:"Cell",value:"td"},{text:"Header cell",value:"th"}]},{name:"scope",type:"listbox",label:"Scope",items:[{text:"None",value:""},{text:"Row",value:"row"},{text:"Column",value:"col"},{text:"Row group",value:"rowgroup"},{text:"Column group",value:"colgroup"}]},{name:"halign",type:"listbox",label:"Horizontal align",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{name:"valign",type:"listbox",label:"Vertical align",items:Oa}],ed=C=>Ws.concat(bs(C).toArray()),Hl=(C,D)=>{const ce=[{name:"borderstyle",type:"listbox",label:"Border style",items:[{text:"Select...",value:""}].concat(Xi(Fa(C)))},{name:"bordercolor",type:"colorinput",label:"Border color"},{name:"backgroundcolor",type:"colorinput",label:"Background color"}];return{title:"Advanced",name:"advanced",items:D==="cell"?[{name:"borderwidth",type:"input",label:"Border width"}].concat(ce):ce}},ai={normal:(C,D)=>{const G=C.dom;return{setAttrib:(Ao,qo)=>{G.setAttrib(D,Ao,qo)},setStyle:(Ao,qo)=>{G.setStyle(D,Ao,qo)},setFormat:(Ao,qo)=>{qo===""?C.formatter.remove(Ao,{value:null},D,!0):C.formatter.apply(Ao,{value:qo},D)}}}},z=ja("th"),H=(C,D)=>C&&D?"sectionCells":C?"section":"cells",J=C=>{const D=C.section==="thead",G=Aa(Te(C.cells),"th");return C.section==="tfoot"?{type:"footer"}:D||G?{type:"header",subType:H(D,G)}:{type:"body"}},Te=C=>{const D=$e(C,G=>z(G.element));return D.length===0?rt.some("td"):D.length===C.length?rt.some("th"):rt.none()},He=C=>{const D=lo(C,Ke=>J(Ke).type),G=Ie(D,"header"),ce=Ie(D,"footer");if(!G&&!ce)return rt.some("body");{const Ke=Ie(D,"body");return G&&!Ke&&!ce?rt.some("header"):!G&&!Ke&&ce?rt.some("footer"):rt.none()}},_o=C=>{let D=!1,G;return(...ce)=>(D||(D=!0,G=C.apply(null,ce)),G)},fn=(C,D)=>Gt(C.all,G=>Oe(G.cells,ce=>Wt(D,ce.element))),ir=(C,D,G)=>{const ce=lo(D.selection,Ut=>oe(Ut).bind(Ao=>fn(C,Ao)).filter(G)),Ke=Kn(ce);return Ca(Ke.length>0,Ke)},Hn=(C,D)=>D.mergable,Tn=(C,D)=>D.unmergable,fa=(C,D)=>ir(C,D,de),Ka=(C,D)=>fn(C,D).exists(G=>!G.isLocked),Ni=(C,D)=>ge(D,G=>Ka(C,G)),td=(C,D)=>Hn(C,D).filter(G=>Ni(C,G.cells)),Bf=(C,D)=>Tn(C,D).filter(G=>Ni(C,G));({...{generate:C=>{if(!jt(C))throw new Error("cases must be an array");if(C.length===0)throw new Error("there must be at least one case");const D=[],G={};return zo(C,(ce,Ke)=>{const Ut=Yo(ce);if(Ut.length!==1)throw new Error("one and only one name per case");const Ao=Ut[0],qo=ce[Ao];if(G[Ao]!==void 0)throw new Error("duplicate key detected:"+Ao);if(Ao==="cata")throw new Error("cannot have a case named cata (sorry)");if(!jt(qo))throw new Error("case arguments must be an array");D.push(Ao),G[Ao]=(...Xn)=>{const pr=Xn.length;if(pr!==qo.length)throw new Error("Wrong number of arguments to case "+Ao+". Expected "+qo.length+" ("+qo+"), got "+pr);return{fold:(...Nr)=>{if(Nr.length!==C.length)throw new Error("Wrong number of arguments to fold. Expected "+C.length+", got "+Nr.length);return Nr[Ke].apply(null,Xn)},match:Nr=>{const ha=Yo(Nr);if(D.length!==ha.length)throw new Error("Wrong number of arguments to match. Expected: "+D.join(",")+`
Actual: `+ha.join(","));if(!ge(D,Mi=>Ie(ha,Mi)))throw new Error("Not all branches were specified when using match. Specified: "+ha.join(", ")+`
Required: `+D.join(", "));return Nr[Ao].apply(null,Xn)},log:Nr=>{}}}}),G}}.generate([{none:[]},{only:["index"]},{left:["index","next"]},{middle:["prev","index","next"]},{right:["prev","index"]}])});const am=(C,D)=>{const G=Si.fromTable(C);return fa(G,D).bind(Ke=>{const Ut=Ke[Ke.length-1],Ao=Ke[0].row,qo=Ut.row+Ut.rowspan,Xn=G.all.slice(Ao,qo);return He(Xn)}).getOr("")},Cd=C=>Hi(C,"rgb")?ri(C):C,fl=C=>{const D=vo.fromDom(C);return{borderwidth:Nt(D,"border-width").getOr(""),borderstyle:Nt(D,"border-style").getOr(""),bordercolor:Nt(D,"border-color").map(Cd).getOr(""),backgroundcolor:Nt(D,"background-color").map(Cd).getOr("")}},Jd=C=>{const D=C[0],G=C.slice(1);return zo(G,ce=>{zo(Yo(D),Ke=>{gn(ce,(Ut,Ao)=>{const qo=D[Ke];qo!==""&&Ke===Ao&&qo!==Ut&&(D[Ke]="")})})}),D},Fm=(C,D,G,ce)=>Oe(C,Ke=>!Mo(G.formatter.matchNode(ce,D+Ke))).getOr(""),ys=fo(Fm,["left","center","right"],"align"),Sd=fo(Fm,["top","middle","bottom"],"valign"),ig=(C,D)=>{const G=_u(C),ce=Wd(C),Ke=()=>({borderstyle:Mt(G,"border-style").getOr(""),bordercolor:Cd(Mt(G,"border-color").getOr("")),backgroundcolor:Cd(Mt(G,"background-color").getOr(""))}),Ut={height:"",width:"100%",cellspacing:"",cellpadding:"",caption:!1,class:"",align:"",border:""},Ao=()=>{const is=G["border-width"];return nl(C)&&is?{border:is}:Mt(ce,"border").fold(()=>({}),Nr=>({border:Nr}))},qo=D?Ke():{},Xn=()=>{const is=Mt(G,"border-spacing").or(Mt(ce,"cellspacing")).fold(()=>({}),ha=>({cellspacing:ha})),Nr=Mt(G,"border-padding").or(Mt(ce,"cellpadding")).fold(()=>({}),ha=>({cellpadding:ha}));return{...is,...Nr}};return{...Ut,...G,...ce,...qo,...Ao(),...Xn()}},Lm=C=>po(vo.fromDom(C)).map(D=>{const G={selection:fi(C.cells)};return am(D,G)}).getOr(""),Ff=(C,D,G)=>{const ce=(qo,Xn)=>{const pr=Nt(vo.fromDom(Xn),"border-width");return nl(C)&&pr.isSome()?pr.getOr(""):qo.getAttrib(Xn,"border")||Gi(C.dom,Xn,"border-width")||Gi(C.dom,Xn,"border")||""},Ke=C.dom,Ut=nl(C)?Ke.getStyle(D,"border-spacing")||Ke.getAttrib(D,"cellspacing"):Ke.getAttrib(D,"cellspacing")||Ke.getStyle(D,"border-spacing"),Ao=nl(C)?Gi(Ke,D,"padding")||Ke.getAttrib(D,"cellpadding"):Ke.getAttrib(D,"cellpadding")||Gi(Ke,D,"padding");return{width:Ke.getStyle(D,"width")||Ke.getAttrib(D,"width"),height:Ke.getStyle(D,"height")||Ke.getAttrib(D,"height"),cellspacing:Ut??"",cellpadding:Ao??"",border:ce(Ke,D),caption:!!Ke.select("caption",D)[0],class:Ke.getAttrib(D,"class",""),align:ys(C,D),...G?fl(D):{}}},Im=(C,D,G)=>{const ce=C.dom;return{height:ce.getStyle(D,"height")||ce.getAttrib(D,"height"),class:ce.getAttrib(D,"class",""),type:Lm(D),align:ys(C,D),...G?fl(D):{}}},zu=(C,D,G,ce)=>{const Ke=C.dom,Ut=ce.getOr(D),Ao=(qo,Xn)=>Ke.getStyle(qo,Xn)||Ke.getAttrib(qo,Xn);return{width:Ao(Ut,"width"),height:Ao(D,"height"),scope:Ke.getAttrib(D,"scope"),celltype:Ho(D),class:Ke.getAttrib(D,"class",""),halign:ys(C,D),valign:Sd(C,D),...G?fl(D):{}}},Au=(C,D)=>{const G=Si.fromTable(C),ce=Si.justCells(G),Ke=$e(ce,Ut=>Co(D,Ao=>Wt(Ut.element,Ao)));return lo(Ke,Ut=>({element:Ut.element.dom,column:Si.getColumnAt(G,Ut.column).map(Ao=>Ao.element.dom)}))},Rc=(C,D,G,ce)=>{ce("scope")&&C.setAttrib("scope",G.scope),ce("class")&&C.setAttrib("class",G.class),ce("height")&&C.setStyle("height",wn(G.height)),ce("width")&&D.setStyle("width",wn(G.width))},sm=(C,D,G)=>{G("backgroundcolor")&&C.setFormat("tablecellbackgroundcolor",D.backgroundcolor),G("bordercolor")&&C.setFormat("tablecellbordercolor",D.bordercolor),G("borderstyle")&&C.setFormat("tablecellborderstyle",D.borderstyle),G("borderwidth")&&C.setFormat("tablecellborderwidth",wn(D.borderwidth))},Ou=(C,D,G,ce)=>{const Ke=D.length===1;zo(D,Ut=>{const Ao=Ut.element,qo=Ke?de:ce,Xn=ai.normal(C,Ao),pr=Ut.column.map(is=>ai.normal(C,is)).getOr(Xn);Rc(Xn,pr,G,qo),ts(C)&&sm(Xn,G,qo),ce("halign")&&Il(C,Ao,G.halign),ce("valign")&&Yl(C,Ao,G.valign)})},xp=(C,D)=>{C.execCommand("mceTableCellType",!1,{type:D.celltype,no_events:!0})},lg=(C,D,G,ce)=>{const Ke=R(ce,(Ut,Ao)=>G[Ao]!==Ut);lt(Ke)>0&&D.length>=1&&po(D[0]).each(Ut=>{const Ao=Au(Ut,D),qo=lt(R(Ke,(pr,is)=>is!=="scope"&&is!=="celltype"))>0,Xn=ht(Ke,"celltype");(qo||ht(Ke,"scope"))&&Ou(C,Ao,ce,fo(ht,Ke)),Xn&&xp(C,ce),Ki(C,Ut.dom,{structure:Xn,style:qo})})},cg=(C,D,G,ce)=>{const Ke=ce.getData();ce.close(),C.undoManager.transact(()=>{lg(C,D,G,Ke),C.focus()})},wp=(C,D)=>{const G=po(D[0]).map(ce=>lo(Au(ce,D),Ke=>zu(C,Ke.element,ts(C),Ke.column)));return Jd(G.getOrDie())},im=C=>{const D=ml(C);if(D.length===0)return;const G=wp(C,D),ce={type:"tabpanel",tabs:[{title:"General",name:"general",items:ed(C)},Hl(C,"cell")]},Ke={type:"panel",items:[{type:"grid",columns:2,items:ed(C)}]};C.windowManager.open({title:"Cell Properties",size:"normal",body:ts(C)?ce:Ke,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:G,onSubmit:fo(cg,C,D,G)})},Ed=C=>{const D=Xi(ti(C));return D.length>0?rt.some({name:"class",type:"listbox",label:"Class",items:D}):rt.none()},dg=[{type:"listbox",name:"type",label:"Row type",items:[{text:"Header",value:"header"},{text:"Body",value:"body"},{text:"Footer",value:"footer"}]},{type:"listbox",name:"align",label:"Alignment",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{label:"Height",name:"height",type:"input"}],Pm=C=>dg.concat(Ed(C).toArray()),$r=(C,D,G)=>{G("class")&&C.setAttrib("class",D.class),G("height")&&C.setStyle("height",wn(D.height))},_n=(C,D,G)=>{G("backgroundcolor")&&C.setStyle("background-color",D.backgroundcolor),G("bordercolor")&&C.setStyle("border-color",D.bordercolor),G("borderstyle")&&C.setStyle("border-style",D.borderstyle)},Qd=(C,D,G,ce)=>{const Ut=D.length===1?de:ce;zo(D,Ao=>{const qo=ai.normal(C,Ao);$r(qo,G,Ut),Kc(C)&&_n(qo,G,Ut),ce("align")&&Il(C,Ao,G.align)})},kp=(C,D)=>{C.execCommand("mceTableRowType",!1,{type:D.type,no_events:!0})},Hm=(C,D,G,ce)=>{const Ke=R(ce,(Ut,Ao)=>G[Ao]!==Ut);if(lt(Ke)>0){const Ut=ht(Ke,"type"),Ao=Ut?lt(Ke)>1:!0;Ao&&Qd(C,D,ce,fo(ht,Ke)),Ut&&kp(C,ce),po(vo.fromDom(D[0])).each(qo=>Ki(C,qo.dom,{structure:Ut,style:Ao}))}},Bc=(C,D,G,ce)=>{const Ke=ce.getData();ce.close(),C.undoManager.transact(()=>{Hm(C,D,G,Ke),C.focus()})},qa=C=>{const D=zi(Un(C),Yt.selected);if(D.length===0)return;const G=lo(D,Ao=>Im(C,Ao.dom,Kc(C))),ce=Jd(G),Ke={type:"tabpanel",tabs:[{title:"General",name:"general",items:Pm(C)},Hl(C,"row")]},Ut={type:"panel",items:[{type:"grid",columns:2,items:Pm(C)}]};C.windowManager.open({title:"Row Properties",size:"normal",body:Kc(C)?Ke:Ut,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:ce,onSubmit:fo(Bc,C,lo(D,Ao=>Ao.dom),ce)})},Nu=(C,D,G)=>{const ce=G?[{type:"input",name:"cols",label:"Cols",inputMode:"numeric"},{type:"input",name:"rows",label:"Rows",inputMode:"numeric"}]:[],Ke=[{type:"input",name:"width",label:"Width"},{type:"input",name:"height",label:"Height"}],Ut=fd(C)?[{type:"input",name:"cellspacing",label:"Cell spacing",inputMode:"numeric"},{type:"input",name:"cellpadding",label:"Cell padding",inputMode:"numeric"},{type:"input",name:"border",label:"Border width"},{type:"label",label:"Caption",items:[{type:"checkbox",name:"caption",label:"Show caption"}]}]:[],Ao=[{type:"listbox",name:"align",label:"Alignment",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]}],qo=D.length>0?[{type:"listbox",name:"class",label:"Class",items:D}]:[];return ce.concat(Ke).concat(Ut).concat(Ao).concat(qo)},_p=(C,D,G,ce)=>{if(D.tagName==="TD"||D.tagName==="TH")Po(G)&&tn(ce)?C.setStyle(D,G,ce):C.setStyles(D,G);else if(D.children)for(let Ke=0;Ke<D.children.length;Ke++)_p(C,D.children[Ke],G,ce)},Kt=(C,D,G,ce)=>{const Ke=C.dom,Ut={},Ao={},qo=nl(C),Xn=Ua(C);if(Mo(G.class)||(Ut.class=G.class),Ao.height=wn(G.height),qo?Ao.width=wn(G.width):Ke.getAttrib(D,"width")&&(Ut.width=hn(G.width)),qo?(Ao["border-width"]=wn(G.border),Ao["border-spacing"]=wn(G.cellspacing)):(Ut.border=G.border,Ut.cellpadding=G.cellpadding,Ut.cellspacing=G.cellspacing),qo&&D.children){const pr={};if(ce.border&&(pr["border-width"]=wn(G.border)),ce.cellpadding&&(pr.padding=wn(G.cellpadding)),Xn&&ce.bordercolor&&(pr["border-color"]=G.bordercolor),!uo(pr))for(let is=0;is<D.children.length;is++)_p(Ke,D.children[is],pr)}if(Xn){const pr=G;Ao["background-color"]=pr.backgroundcolor,Ao["border-color"]=pr.bordercolor,Ao["border-style"]=pr.borderstyle}Ke.setStyles(D,{..._u(C),...Ao}),Ke.setAttribs(D,{...Wd(C),...Ut})},lm=(C,D,G,ce)=>{const Ke=C.dom,Ut=ce.getData(),Ao=R(Ut,(qo,Xn)=>G[Xn]!==qo);ce.close(),Ut.class===""&&delete Ut.class,C.undoManager.transact(()=>{if(!D){const qo=Ss(Ut.cols).getOr(1),Xn=Ss(Ut.rows).getOr(1);C.execCommand("mceInsertTable",!1,{rows:Xn,columns:qo}),D=da(Un(C),Go(C)).bind(pr=>po(pr,Go(C))).map(pr=>pr.dom).getOrDie()}if(lt(Ao)>0){const qo={border:ht(Ao,"border"),bordercolor:ht(Ao,"bordercolor"),cellpadding:ht(Ao,"cellpadding")};Kt(C,D,Ut,qo);const Xn=Ke.select("caption",D)[0];(Xn&&!Ut.caption||!Xn&&Ut.caption)&&C.execCommand("mceTableToggleCaption"),Il(C,D,Ut.align)}if(C.focus(),C.addVisual(),lt(Ao)>0){const qo=ht(Ao,"caption"),Xn=qo?lt(Ao)>1:!0;Ki(C,D,{structure:qo,style:Xn})}})},ug=(C,D)=>{const G=C.dom;let ce,Ke=ig(C,Ua(C));D?(Ke.cols="1",Ke.rows="1",Ua(C)&&(Ke.borderstyle="",Ke.bordercolor="",Ke.backgroundcolor="")):(ce=G.getParent(C.selection.getStart(),"table",C.getBody()),ce?Ke=Ff(C,ce,Ua(C)):Ua(C)&&(Ke.borderstyle="",Ke.bordercolor="",Ke.backgroundcolor=""));const Ut=Xi(Zd(C));Ut.length>0&&Ke.class&&(Ke.class=Ke.class.replace(/\s*mce\-item\-table\s*/g,""));const Ao={type:"grid",columns:2,items:Nu(C,Ut,D)},qo=()=>({type:"panel",items:[Ao]}),Xn=()=>({type:"tabpanel",tabs:[{title:"General",name:"general",items:[Ao]},Hl(C,"table")]}),pr=Ua(C)?Xn():qo();C.windowManager.open({title:"Table Properties",size:"normal",body:pr,onSubmit:fo(lm,C,ce,Ke),buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:Ke})},jm=C=>{const D=G=>{ra(Un(C))&&G()};gn({mceTableProps:fo(ug,C,!1),mceTableRowProps:fo(qa,C),mceTableCellProps:fo(im,C),mceInsertTableDialog:fo(ug,C,!0)},(G,ce)=>C.addCommand(ce,()=>D(G)))},Lf=(C,D)=>Br(C,D).isSome(),jl=he,sb=C=>{const D=(ce,Ke)=>za(ce,Ke).exists(Ut=>parseInt(Ut,10)>1),G=ce=>D(ce,"rowspan")||D(ce,"colspan");return C.length>0&&ge(C,G)?rt.some(C):rt.none()},Mu=(C,D,G)=>D.length<=1?rt.none():Sl(C,G.firstSelectedSelector,G.lastSelectedSelector).map(ce=>({bounds:ce,cells:D})),La=C=>({element:C,mergable:rt.none(),unmergable:rt.none(),selection:[C]}),od=(C,D,G)=>({element:G,mergable:Mu(D,C,Yt),unmergable:sb(C),selection:jl(C)}),If=C=>{const D=hs(rt.none()),G=hs([]);let ce=rt.none();const Ke=ja("caption"),Ut=oa=>ce.forall(wr=>!wr[oa]),Ao=()=>us(Un(C),Go(C)),qo=()=>us(Ar(C),Go(C)),Xn=()=>Ao().bind(oa=>Ma(Os(po(oa),qo().bind(po),(wr,hl)=>Wt(wr,hl)?Ke(oa)?rt.some(La(oa)):rt.some(od(ml(C),wr,oa)):rt.none()))),pr=oa=>po(oa.element).map(hl=>{const Jr=Si.fromTable(hl),bi=fa(Jr,oa).getOr([]),rs=gt(bi,(Di,Lc)=>(Lc.isLocked&&(Di.onAny=!0,Lc.column===0?Di.onFirst=!0:Lc.column+Lc.colspan>=Jr.grid.columns&&(Di.onLast=!0)),Di),{onAny:!1,onFirst:!1,onLast:!1});return{mergeable:td(Jr,oa).isSome(),unmergeable:Bf(Jr,oa).isSome(),locked:rs}}),is=()=>{D.set(_o(Xn)()),ce=D.get().bind(pr),zo(G.get(),me)},Nr=oa=>(oa(),G.set(G.get().concat([oa])),()=>{G.set($e(G.get(),wr=>wr!==oa))}),ha=(oa,wr)=>Nr(()=>D.get().fold(()=>{oa.setEnabled(!1)},hl=>{oa.setEnabled(!wr(hl)&&C.selection.isEditable())})),Ia=(oa,wr,hl)=>Nr(()=>D.get().fold(()=>{oa.setEnabled(!1),oa.setActive(!1)},Jr=>{oa.setEnabled(!wr(Jr)&&C.selection.isEditable()),oa.setActive(hl(Jr))})),Mi=oa=>ce.exists(wr=>wr.locked[oa]),hi=oa=>ha(oa,wr=>!1),Td=oa=>ha(oa,wr=>Ke(wr.element)),zd=oa=>wr=>ha(wr,hl=>Ke(hl.element)||Mi(oa)),cm=oa=>wr=>ha(wr,hl=>Ke(hl.element)||oa().isNone()),Ru=(oa,wr)=>hl=>ha(hl,Jr=>Ke(Jr.element)||oa().isNone()||Mi(wr)),Bu=oa=>ha(oa,wr=>Ut("mergeable")),Ad=oa=>ha(oa,wr=>Ut("unmergeable")),Od=oa=>Ia(oa,Ze,wr=>po(wr.element,Go(C)).exists(Jr=>Lf(Jr,"caption"))),pg=(oa,wr)=>hl=>Ia(hl,Jr=>Ke(Jr.element),()=>C.queryCommandValue(oa)===wr),Fu=pg("mceTableRowType","header"),nd=pg("mceTableColType","th");return C.on("NodeChange ExecCommand TableSelectorChange",is),{onSetupTable:hi,onSetupCellOrRow:Td,onSetupColumn:zd,onSetupPasteable:cm,onSetupPasteableColumn:Ru,onSetupMergeable:Bu,onSetupUnmergeable:Ad,resetTargets:is,onSetupTableWithCaption:Od,onSetupTableRowHeaders:Fu,onSetupTableColumnHeaders:nd,targets:D.get}};var Cc=tinymce.util.Tools.resolve("tinymce.FakeClipboard");const Sc="x-tinymce/dom-table-",Ds=Sc+"rows",Vm=Sc+"columns",Fc=C=>{var D;const G=(D=Cc.read())!==null&&D!==void 0?D:[];return Gt(G,ce=>rt.from(ce.getType(C)))},eu=()=>Fc(Ds),Al=()=>Fc(Vm),$m=C=>D=>{const G=()=>{D.setEnabled(C.selection.isEditable())};return C.on("NodeChange",G),G(),()=>{C.off("NodeChange",G)}},mg=(C,D)=>{C.ui.registry.addMenuButton("table",{tooltip:"Table",icon:"table",onSetup:$m(C),fetch:qo=>qo("inserttable | cell row column | advtablesort | tableprops deletetable")});const G=qo=>()=>C.execCommand(qo),ce=(qo,Xn)=>{C.queryCommandSupported(Xn.command)&&C.ui.registry.addButton(qo,{...Xn,onAction:To(Xn.onAction)?Xn.onAction:G(Xn.command)})},Ke=(qo,Xn)=>{C.queryCommandSupported(Xn.command)&&C.ui.registry.addToggleButton(qo,{...Xn,onAction:To(Xn.onAction)?Xn.onAction:G(Xn.command)})};ce("tableprops",{tooltip:"Table properties",command:"mceTableProps",icon:"table",onSetup:D.onSetupTable}),ce("tabledelete",{tooltip:"Delete table",command:"mceTableDelete",icon:"table-delete-table",onSetup:D.onSetupTable}),ce("tablecellprops",{tooltip:"Cell properties",command:"mceTableCellProps",icon:"table-cell-properties",onSetup:D.onSetupCellOrRow}),ce("tablemergecells",{tooltip:"Merge cells",command:"mceTableMergeCells",icon:"table-merge-cells",onSetup:D.onSetupMergeable}),ce("tablesplitcells",{tooltip:"Split cell",command:"mceTableSplitCells",icon:"table-split-cells",onSetup:D.onSetupUnmergeable}),ce("tableinsertrowbefore",{tooltip:"Insert row before",command:"mceTableInsertRowBefore",icon:"table-insert-row-above",onSetup:D.onSetupCellOrRow}),ce("tableinsertrowafter",{tooltip:"Insert row after",command:"mceTableInsertRowAfter",icon:"table-insert-row-after",onSetup:D.onSetupCellOrRow}),ce("tabledeleterow",{tooltip:"Delete row",command:"mceTableDeleteRow",icon:"table-delete-row",onSetup:D.onSetupCellOrRow}),ce("tablerowprops",{tooltip:"Row properties",command:"mceTableRowProps",icon:"table-row-properties",onSetup:D.onSetupCellOrRow}),ce("tableinsertcolbefore",{tooltip:"Insert column before",command:"mceTableInsertColBefore",icon:"table-insert-column-before",onSetup:D.onSetupColumn("onFirst")}),ce("tableinsertcolafter",{tooltip:"Insert column after",command:"mceTableInsertColAfter",icon:"table-insert-column-after",onSetup:D.onSetupColumn("onLast")}),ce("tabledeletecol",{tooltip:"Delete column",command:"mceTableDeleteCol",icon:"table-delete-column",onSetup:D.onSetupColumn("onAny")}),ce("tablecutrow",{tooltip:"Cut row",command:"mceTableCutRow",icon:"cut-row",onSetup:D.onSetupCellOrRow}),ce("tablecopyrow",{tooltip:"Copy row",command:"mceTableCopyRow",icon:"duplicate-row",onSetup:D.onSetupCellOrRow}),ce("tablepasterowbefore",{tooltip:"Paste row before",command:"mceTablePasteRowBefore",icon:"paste-row-before",onSetup:D.onSetupPasteable(eu)}),ce("tablepasterowafter",{tooltip:"Paste row after",command:"mceTablePasteRowAfter",icon:"paste-row-after",onSetup:D.onSetupPasteable(eu)}),ce("tablecutcol",{tooltip:"Cut column",command:"mceTableCutCol",icon:"cut-column",onSetup:D.onSetupColumn("onAny")}),ce("tablecopycol",{tooltip:"Copy column",command:"mceTableCopyCol",icon:"duplicate-column",onSetup:D.onSetupColumn("onAny")}),ce("tablepastecolbefore",{tooltip:"Paste column before",command:"mceTablePasteColBefore",icon:"paste-column-before",onSetup:D.onSetupPasteableColumn(Al,"onFirst")}),ce("tablepastecolafter",{tooltip:"Paste column after",command:"mceTablePasteColAfter",icon:"paste-column-after",onSetup:D.onSetupPasteableColumn(Al,"onLast")}),ce("tableinsertdialog",{tooltip:"Insert table",command:"mceInsertTableDialog",icon:"table",onSetup:$m(C)});const Ut=_c(Zd(C));Ut.length!==0&&C.queryCommandSupported("mceTableToggleClass")&&C.ui.registry.addMenuButton("tableclass",{icon:"table-classes",tooltip:"Table styles",fetch:qs(C,Ut,"tableclass",qo=>C.execCommand("mceTableToggleClass",!1,qo)),onSetup:D.onSetupTable});const Ao=_c(Fr(C));Ao.length!==0&&C.queryCommandSupported("mceTableCellToggleClass")&&C.ui.registry.addMenuButton("tablecellclass",{icon:"table-cell-classes",tooltip:"Cell styles",fetch:qs(C,Ao,"tablecellclass",qo=>C.execCommand("mceTableCellToggleClass",!1,qo)),onSetup:D.onSetupCellOrRow}),C.queryCommandSupported("mceTableApplyCellStyle")&&(C.ui.registry.addMenuButton("tablecellvalign",{icon:"vertical-align",tooltip:"Vertical align",fetch:qs(C,Oa,"tablecellverticalalign",Za(C,"vertical-align")),onSetup:D.onSetupCellOrRow}),C.ui.registry.addMenuButton("tablecellborderwidth",{icon:"border-width",tooltip:"Border width",fetch:qs(C,Ba(C),"tablecellborderwidth",Za(C,"border-width")),onSetup:D.onSetupCellOrRow}),C.ui.registry.addMenuButton("tablecellborderstyle",{icon:"border-style",tooltip:"Border style",fetch:qs(C,Fa(C),"tablecellborderstyle",Za(C,"border-style")),onSetup:D.onSetupCellOrRow}),C.ui.registry.addMenuButton("tablecellbackgroundcolor",{icon:"cell-background-color",tooltip:"Background color",fetch:qo=>qo(Tu(C,qd(C),"background-color")),onSetup:D.onSetupCellOrRow}),C.ui.registry.addMenuButton("tablecellbordercolor",{icon:"cell-border-color",tooltip:"Border color",fetch:qo=>qo(Tu(C,Yi(C),"border-color")),onSetup:D.onSetupCellOrRow})),Ke("tablecaption",{tooltip:"Table caption",icon:"table-caption",command:"mceTableToggleCaption",onSetup:D.onSetupTableWithCaption}),Ke("tablerowheader",{tooltip:"Row header",icon:"table-top-header",command:"mceTableRowType",onAction:kd(C),onSetup:D.onSetupTableRowHeaders}),Ke("tablecolheader",{tooltip:"Column header",icon:"table-left-header",command:"mceTableColType",onAction:Pl(C),onSetup:D.onSetupTableColumnHeaders})},un=C=>{const D=ce=>C.dom.is(ce,"table")&&C.getBody().contains(ce)&&C.dom.isEditable(ce.parentNode),G=hd(C);G.length>0&&C.ui.registry.addContextToolbar("table",{predicate:D,items:G,scope:"node",position:"node"})},gg=C=>D=>{const G=()=>{D.setEnabled(C.selection.isEditable())};return C.on("NodeChange",G),G(),()=>{C.off("NodeChange",G)}},Cp=(C,D)=>{const G=Nr=>()=>C.execCommand(Nr),ce=(Nr,ha)=>C.queryCommandSupported(ha.command)?(C.ui.registry.addMenuItem(Nr,{...ha,onAction:To(ha.onAction)?ha.onAction:G(ha.command)}),!0):!1,Ke=(Nr,ha)=>{C.queryCommandSupported(ha.command)&&C.ui.registry.addToggleMenuItem(Nr,{...ha,onAction:To(ha.onAction)?ha.onAction:G(ha.command)})},Ut=Nr=>{C.execCommand("mceInsertTable",!1,{rows:Nr.numRows,columns:Nr.numColumns})},Ao=[ce("tableinsertrowbefore",{text:"Insert row before",icon:"table-insert-row-above",command:"mceTableInsertRowBefore",onSetup:D.onSetupCellOrRow}),ce("tableinsertrowafter",{text:"Insert row after",icon:"table-insert-row-after",command:"mceTableInsertRowAfter",onSetup:D.onSetupCellOrRow}),ce("tabledeleterow",{text:"Delete row",icon:"table-delete-row",command:"mceTableDeleteRow",onSetup:D.onSetupCellOrRow}),ce("tablerowprops",{text:"Row properties",icon:"table-row-properties",command:"mceTableRowProps",onSetup:D.onSetupCellOrRow}),ce("tablecutrow",{text:"Cut row",icon:"cut-row",command:"mceTableCutRow",onSetup:D.onSetupCellOrRow}),ce("tablecopyrow",{text:"Copy row",icon:"duplicate-row",command:"mceTableCopyRow",onSetup:D.onSetupCellOrRow}),ce("tablepasterowbefore",{text:"Paste row before",icon:"paste-row-before",command:"mceTablePasteRowBefore",onSetup:D.onSetupPasteable(eu)}),ce("tablepasterowafter",{text:"Paste row after",icon:"paste-row-after",command:"mceTablePasteRowAfter",onSetup:D.onSetupPasteable(eu)})],qo=[ce("tableinsertcolumnbefore",{text:"Insert column before",icon:"table-insert-column-before",command:"mceTableInsertColBefore",onSetup:D.onSetupColumn("onFirst")}),ce("tableinsertcolumnafter",{text:"Insert column after",icon:"table-insert-column-after",command:"mceTableInsertColAfter",onSetup:D.onSetupColumn("onLast")}),ce("tabledeletecolumn",{text:"Delete column",icon:"table-delete-column",command:"mceTableDeleteCol",onSetup:D.onSetupColumn("onAny")}),ce("tablecutcolumn",{text:"Cut column",icon:"cut-column",command:"mceTableCutCol",onSetup:D.onSetupColumn("onAny")}),ce("tablecopycolumn",{text:"Copy column",icon:"duplicate-column",command:"mceTableCopyCol",onSetup:D.onSetupColumn("onAny")}),ce("tablepastecolumnbefore",{text:"Paste column before",icon:"paste-column-before",command:"mceTablePasteColBefore",onSetup:D.onSetupPasteableColumn(Al,"onFirst")}),ce("tablepastecolumnafter",{text:"Paste column after",icon:"paste-column-after",command:"mceTablePasteColAfter",onSetup:D.onSetupPasteableColumn(Al,"onLast")})],Xn=[ce("tablecellprops",{text:"Cell properties",icon:"table-cell-properties",command:"mceTableCellProps",onSetup:D.onSetupCellOrRow}),ce("tablemergecells",{text:"Merge cells",icon:"table-merge-cells",command:"mceTableMergeCells",onSetup:D.onSetupMergeable}),ce("tablesplitcells",{text:"Split cell",icon:"table-split-cells",command:"mceTableSplitCells",onSetup:D.onSetupUnmergeable})];Yc(C)?C.ui.registry.addNestedMenuItem("inserttable",{text:"Table",icon:"table",getSubmenuItems:()=>[{type:"fancymenuitem",fancytype:"inserttable",onAction:Ut}],onSetup:gg(C)}):C.ui.registry.addMenuItem("inserttable",{text:"Table",icon:"table",onAction:G("mceInsertTableDialog"),onSetup:gg(C)}),C.ui.registry.addMenuItem("inserttabledialog",{text:"Insert table",icon:"table",onAction:G("mceInsertTableDialog"),onSetup:gg(C)}),ce("tableprops",{text:"Table properties",onSetup:D.onSetupTable,command:"mceTableProps"}),ce("deletetable",{text:"Delete table",icon:"table-delete-table",onSetup:D.onSetupTable,command:"mceTableDelete"}),Ie(Ao,!0)&&C.ui.registry.addNestedMenuItem("row",{type:"nestedmenuitem",text:"Row",getSubmenuItems:co("tableinsertrowbefore tableinsertrowafter tabledeleterow tablerowprops | tablecutrow tablecopyrow tablepasterowbefore tablepasterowafter")}),Ie(qo,!0)&&C.ui.registry.addNestedMenuItem("column",{type:"nestedmenuitem",text:"Column",getSubmenuItems:co("tableinsertcolumnbefore tableinsertcolumnafter tabledeletecolumn | tablecutcolumn tablecopycolumn tablepastecolumnbefore tablepastecolumnafter")}),Ie(Xn,!0)&&C.ui.registry.addNestedMenuItem("cell",{type:"nestedmenuitem",text:"Cell",getSubmenuItems:co("tablecellprops tablemergecells tablesplitcells")}),C.ui.registry.addContextMenu("table",{update:()=>(D.resetTargets(),D.targets().fold(co(""),Nr=>Fn(Nr.element)==="caption"?"tableprops deletetable":"cell row column | advtablesort | tableprops deletetable"))});const pr=_c(Zd(C));pr.length!==0&&C.queryCommandSupported("mceTableToggleClass")&&C.ui.registry.addNestedMenuItem("tableclass",{icon:"table-classes",text:"Table styles",getSubmenuItems:()=>Oi(C,pr,"tableclass",Nr=>C.execCommand("mceTableToggleClass",!1,Nr)),onSetup:D.onSetupTable});const is=_c(Fr(C));is.length!==0&&C.queryCommandSupported("mceTableCellToggleClass")&&C.ui.registry.addNestedMenuItem("tablecellclass",{icon:"table-cell-classes",text:"Cell styles",getSubmenuItems:()=>Oi(C,is,"tablecellclass",Nr=>C.execCommand("mceTableCellToggleClass",!1,Nr)),onSetup:D.onSetupCellOrRow}),C.queryCommandSupported("mceTableApplyCellStyle")&&(C.ui.registry.addNestedMenuItem("tablecellvalign",{icon:"vertical-align",text:"Vertical align",getSubmenuItems:()=>Oi(C,Oa,"tablecellverticalalign",Za(C,"vertical-align")),onSetup:D.onSetupCellOrRow}),C.ui.registry.addNestedMenuItem("tablecellborderwidth",{icon:"border-width",text:"Border width",getSubmenuItems:()=>Oi(C,Ba(C),"tablecellborderwidth",Za(C,"border-width")),onSetup:D.onSetupCellOrRow}),C.ui.registry.addNestedMenuItem("tablecellborderstyle",{icon:"border-style",text:"Border style",getSubmenuItems:()=>Oi(C,Fa(C),"tablecellborderstyle",Za(C,"border-style")),onSetup:D.onSetupCellOrRow}),C.ui.registry.addNestedMenuItem("tablecellbackgroundcolor",{icon:"cell-background-color",text:"Background color",getSubmenuItems:()=>Tu(C,qd(C),"background-color"),onSetup:D.onSetupCellOrRow}),C.ui.registry.addNestedMenuItem("tablecellbordercolor",{icon:"cell-border-color",text:"Border color",getSubmenuItems:()=>Tu(C,Yi(C),"border-color"),onSetup:D.onSetupCellOrRow})),Ke("tablecaption",{icon:"table-caption",text:"Table caption",command:"mceTableToggleCaption",onSetup:D.onSetupTableWithCaption}),Ke("tablerowheader",{text:"Row header",icon:"table-top-header",command:"mceTableRowType",onAction:kd(C),onSetup:D.onSetupTableRowHeaders}),Ke("tablecolheader",{text:"Column header",icon:"table-left-header",command:"mceTableColType",onAction:Pl(C),onSetup:D.onSetupTableRowHeaders})},Du=C=>{const D=If(C);xc(C),jm(C),Cp(C,D),mg(C,D),un(C)};var Sp=()=>{xo.add("table",Du)};Sp()})();(function(){const xo=To=>{let Ue=To;return{get:()=>Ue,set:co=>{Ue=co}}};var Ko=tinymce.util.Tools.resolve("tinymce.PluginManager");const Io=(To,Ue)=>{To.dispatch("VisualBlocks",{state:Ue})},on=(To,Ue,it)=>{To.dom.toggleClass(To.getBody(),"mce-visualblocks"),it.set(!it.get()),Io(To,it.get())},Qo=(To,Ue,it)=>{To.addCommand("mceVisualBlocks",()=>{on(To,Ue,it)})},io=To=>Ue=>Ue.options.get(To),Po=To=>{const Ue=To.options.register;Ue("visualblocks_default_state",{processor:"boolean",default:!1})},jt=io("visualblocks_default_state"),ko=(To,Ue,it)=>{To.on("PreviewFormats AfterPreviewFormats",So=>{it.get()&&To.dom.toggleClass(To.getBody(),"mce-visualblocks",So.type==="afterpreviewformats")}),To.on("init",()=>{jt(To)&&on(To,Ue,it)})},Mo=(To,Ue)=>it=>{it.setActive(Ue.get());const So=co=>it.setActive(co.state);return To.on("VisualBlocks",So),()=>To.off("VisualBlocks",So)},jo=(To,Ue)=>{const it=()=>To.execCommand("mceVisualBlocks");To.ui.registry.addToggleButton("visualblocks",{icon:"visualblocks",tooltip:"Show blocks",onAction:it,onSetup:Mo(To,Ue)}),To.ui.registry.addToggleMenuItem("visualblocks",{text:"Show blocks",icon:"visualblocks",onAction:it,onSetup:Mo(To,Ue)})};var tn=()=>{Ko.add("visualblocks",(To,Ue)=>{Po(To);const it=xo(!1);Qo(To,Ue,it),jo(To,it),ko(To,Ue,it)})};tn()})();(function(){const xo=tt=>{let _t=tt;return{get:()=>_t,set:zr=>{_t=zr}}};var Ko=tinymce.util.Tools.resolve("tinymce.PluginManager");const Io=tt=>({isEnabled:()=>tt.get()}),on=(tt,_t)=>tt.dispatch("VisualChars",{state:_t}),Qo=(tt,_t,Do)=>{var St;return Do(tt,_t.prototype)?!0:((St=tt.constructor)===null||St===void 0?void 0:St.name)===_t.name},io=tt=>{const _t=typeof tt;return tt===null?"null":_t==="object"&&Array.isArray(tt)?"array":_t==="object"&&Qo(tt,String,(Do,St)=>St.isPrototypeOf(Do))?"string":_t},Po=tt=>_t=>io(_t)===tt,jt=tt=>_t=>typeof _t===tt,ko=tt=>_t=>tt===_t,Mo=Po("string"),jo=Po("object"),tn=ko(null),To=jt("boolean"),Ue=tt=>tt==null,it=tt=>!Ue(tt),So=jt("number");class co{constructor(_t,Do){this.tag=_t,this.value=Do}static some(_t){return new co(!0,_t)}static none(){return co.singletonNone}fold(_t,Do){return this.tag?Do(this.value):_t()}isSome(){return this.tag}isNone(){return!this.tag}map(_t){return this.tag?co.some(_t(this.value)):co.none()}bind(_t){return this.tag?_t(this.value):co.none()}exists(_t){return this.tag&&_t(this.value)}forall(_t){return!this.tag||_t(this.value)}filter(_t){return!this.tag||_t(this.value)?this:co.none()}getOr(_t){return this.tag?this.value:_t}or(_t){return this.tag?this:_t}getOrThunk(_t){return this.tag?this.value:_t()}orThunk(_t){return this.tag?this:_t()}getOrDie(_t){if(this.tag)return this.value;throw new Error(_t??"Called getOrDie on None")}static from(_t){return it(_t)?co.some(_t):co.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(_t){this.tag&&_t(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}co.singletonNone=new co(!1);const he=(tt,_t)=>{const Do=tt.length,St=new Array(Do);for(let zr=0;zr<Do;zr++){const kr=tt[zr];St[zr]=_t(kr,zr)}return St},Dt=(tt,_t)=>{for(let Do=0,St=tt.length;Do<St;Do++){const zr=tt[Do];_t(zr,Do)}},fo=(tt,_t)=>{const Do=[];for(let St=0,zr=tt.length;St<zr;St++){const kr=tt[St];_t(kr,St)&&Do.push(kr)}return Do},me=Object.keys,Ze=(tt,_t)=>{const Do=me(tt);for(let St=0,zr=Do.length;St<zr;St++){const kr=Do[St],Is=tt[kr];_t(Is,kr)}},de=typeof window<"u"?window:Function("return this;")(),rt=(tt,_t)=>{let Do=_t??de;for(let St=0;St<tt.length&&Do!==void 0&&Do!==null;++St)Do=Do[tt[St]];return Do},Yo=(tt,_t)=>{const Do=tt.split(".");return rt(Do,_t)},$t=(tt,_t)=>Yo(tt,_t),gn=(tt,_t)=>{const Do=$t(tt,_t);if(Do==null)throw new Error(tt+" not available on this browser");return Do},Bo=Object.getPrototypeOf,Ct=tt=>gn("HTMLElement",tt),R=tt=>{const _t=Yo("ownerDocument.defaultView",tt);return jo(tt)&&(Ct(_t).prototype.isPrototypeOf(tt)||/^HTML\w*Element$/.test(Bo(tt).constructor.name))},qe=1,Je=3,lt=tt=>tt.dom.nodeType,Mt=tt=>tt.dom.nodeValue,ht=tt=>_t=>lt(_t)===tt,Rt=tt=>uo(tt)&&R(tt.dom),uo=ht(qe),Bt=ht(Je),V=(tt,_t,Do)=>{if(Mo(Do)||To(Do)||So(Do))tt.setAttribute(_t,Do+"");else throw console.error("Invalid call to Attribute.set. Key ",_t,":: Value ",Do,":: Element ",tt),new Error("Attribute value was not simple")},dt=(tt,_t,Do)=>{V(tt.dom,_t,Do)},Ie=(tt,_t)=>{const Do=tt.dom.getAttribute(_t);return Do===null?void 0:Do},Co=(tt,_t)=>{tt.dom.removeAttribute(_t)},Pt=(tt,_t)=>{const Do=Ie(tt,_t);return Do===void 0||Do===""?[]:Do.split(" ")},lo=(tt,_t,Do)=>{const zr=Pt(tt,_t).concat([Do]);return dt(tt,_t,zr.join(" ")),!0},zo=(tt,_t,Do)=>{const St=fo(Pt(tt,_t),zr=>zr!==Do);return St.length>0?dt(tt,_t,St.join(" ")):Co(tt,_t),!1},to=tt=>tt.dom.classList!==void 0,Se=tt=>Pt(tt,"class"),$e=(tt,_t)=>lo(tt,"class",_t),ct=(tt,_t)=>zo(tt,"class",_t),gt=(tt,_t)=>{to(tt)?tt.dom.classList.add(_t):$e(tt,_t)},pe=tt=>{(to(tt)?tt.dom.classList:Se(tt)).length===0&&Co(tt,"class")},Oe=(tt,_t)=>{to(tt)?tt.dom.classList.remove(_t):ct(tt,_t),pe(tt)},We=(tt,_t)=>{const St=(_t||document).createElement("div");if(St.innerHTML=tt,!St.hasChildNodes()||St.childNodes.length>1){const zr="HTML does not have a single root node";throw console.error(zr,tt),new Error(zr)}return Me(St.childNodes[0])},Fe=(tt,_t)=>{const St=(_t||document).createElement(tt);return Me(St)},ge=(tt,_t)=>{const St=(_t||document).createTextNode(tt);return Me(St)},Me=tt=>{if(tt==null)throw new Error("Node cannot be null or undefined");return{dom:tt}},ze={fromHtml:We,fromTag:Fe,fromText:ge,fromDom:Me,fromPoint:(tt,_t,Do)=>co.from(tt.dom.elementFromPoint(_t,Do)).map(Me)},Ge={" ":"nbsp","­":"shy"},Gt=(tt,_t)=>{let Do="";return Ze(tt,(St,zr)=>{Do+=zr}),new RegExp("["+Do+"]",_t?"g":"")},Vt=tt=>{let _t="";return Ze(tt,Do=>{_t&&(_t+=","),_t+="span.mce-"+Do}),_t},Xo=Gt(Ge),$o=Gt(Ge,!0),Zo=Vt(Ge),Gn="mce-nbsp",Pn=tt=>tt.dom.contentEditable,zn=tt=>'<span data-mce-bogus="1" class="mce-'+Ge[tt]+'">'+tt+"</span>",ut=tt=>tt.nodeName.toLowerCase()==="span"&&tt.classList.contains("mce-nbsp-wrap"),zt=tt=>{const _t=Mt(tt);return Bt(tt)&&Mo(_t)&&Xo.test(_t)},Ft=tt=>Rt(tt)&&Pn(tt)==="false",vo=(tt,_t)=>{if(Rt(tt)&&!ut(tt.dom)){const Do=Pn(tt);if(Do==="true")return!0;if(Do==="false")return!1}return _t},Xt=(tt,_t,Do)=>{let St=[];const zr=tt.dom,kr=he(zr.childNodes,ze.fromDom),Is=Xr=>ut(Xr.dom)||!Ft(Xr);return Dt(kr,Xr=>{Do&&Is(Xr)&&_t(Xr)&&(St=St.concat([Xr])),St=St.concat(Xt(Xr,_t,vo(Xr,Do)))}),St},Vo=(tt,_t)=>{for(;tt.parentNode;){if(tt.parentNode===_t)return _t;tt=tt.parentNode}},$n=tt=>tt.replace($o,zn),Rr=(tt,_t)=>{const Do=tt.dom,St=Xt(ze.fromDom(_t),zt,tt.dom.isEditable(_t));Dt(St,zr=>{var kr;const Is=zr.dom.parentNode;if(ut(Is))gt(ze.fromDom(Is),Gn);else{const Xr=$n(Do.encode((kr=Mt(zr))!==null&&kr!==void 0?kr:"")),gr=Do.create("div",{},Xr);let De;for(;De=gr.lastChild;)Do.insertAfter(De,zr.dom);tt.dom.remove(zr.dom)}})},Wt=(tt,_t)=>{const Do=tt.dom.select(Zo,_t);Dt(Do,St=>{ut(St)?Oe(ze.fromDom(St),Gn):tt.dom.remove(St,!0)})},vr=tt=>{const _t=tt.getBody(),Do=tt.selection.getBookmark();let St=Vo(tt.selection.getNode(),_t);St=St!==void 0?St:_t,Wt(tt,St),Rr(tt,St),tt.selection.moveToBookmark(Do)},Fn=(tt,_t)=>{on(tt,_t.get());const Do=tt.getBody();_t.get()===!0?Rr(tt,Do):Wt(tt,Do)},ln=(tt,_t)=>{_t.set(!_t.get());const Do=tt.selection.getBookmark();Fn(tt,_t),tt.selection.moveToBookmark(Do)},xr=(tt,_t)=>{tt.addCommand("mceVisualChars",()=>{ln(tt,_t)})},Ys=tt=>_t=>_t.options.get(tt),Yr=tt=>{const _t=tt.options.register;_t("visualchars_default_state",{processor:"boolean",default:!1})},Pa=Ys("visualchars_default_state"),cs=(tt,_t)=>{tt.on("init",()=>{Fn(tt,_t)})},Ha=(tt,_t)=>{let Do=null;return{cancel:()=>{tn(Do)||(clearTimeout(Do),Do=null)},throttle:(...kr)=>{tn(Do)&&(Do=setTimeout(()=>{Do=null,tt.apply(null,kr)},_t))}}},ja=(tt,_t)=>{const Do=Ha(()=>{vr(tt)},300);tt.on("keydown",St=>{_t.get()===!0&&(St.keyCode===13?vr(tt):Do.throttle())}),tt.on("remove",Do.cancel)},$s=(tt,_t)=>Do=>{Do.setActive(_t.get());const St=zr=>Do.setActive(zr.state);return tt.on("VisualChars",St),()=>tt.off("VisualChars",St)},Us=(tt,_t)=>{const Do=()=>tt.execCommand("mceVisualChars");tt.ui.registry.addToggleButton("visualchars",{tooltip:"Show invisible characters",icon:"visualchars",onAction:Do,onSetup:$s(tt,_t)}),tt.ui.registry.addToggleMenuItem("visualchars",{text:"Show invisible characters",icon:"visualchars",onAction:Do,onSetup:$s(tt,_t)})};var _a=()=>{Ko.add("visualchars",tt=>{Yr(tt);const _t=xo(Pa(tt));return xr(tt,_t),Us(tt,_t),ja(tt,_t),cs(tt,_t),Io(_t)})};_a()})();(function(){var xo=tinymce.util.Tools.resolve("tinymce.PluginManager");const Io=(pe=>Oe=>pe===Oe)(null),on=pe=>pe,Qo=(pe,Oe)=>{const We=pe.length,Fe=new Array(We);for(let ge=0;ge<We;ge++){const Me=pe[ge];Fe[ge]=Oe(Me,ge)}return Fe},Po={aletter:"[A-Za-zªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԧԱ-Ֆՙա-ևא-תװ-׳ؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘऄ-हऽॐक़-ॡॱ-ॷॹ-ॿঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-ళవ-హఽౘౙౠౡಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൠൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆༀཀ-ཇཉ-ཬྈ-ྌႠ-Ⴥა-ჺჼᄀ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏼᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛰᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰᠠ-ᡷᢀ-ᢨᢪᢰ-ᣵᤀ-ᤜᨀ-ᨖᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᯀ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᳩ-ᳬᳮ-ᳱᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⒶ-ⓩⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⴀ-ⴥⴰ-ⵥⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⸯ々〻〼ㄅ-ㄭㄱ-ㆎㆠ-ㆺꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚗꚠ-ꛯꜗ-ꜟꜢ-ꞈꞋ-ꞎꞐꞑꞠ-ꞩꟺ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꨀ-ꨨꩀ-ꩂꩄ-ꩋꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꯀ-ꯢ가-힣ힰ-ퟆퟋ-ퟻﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚﾠ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ]",midnumlet:"[-'\\.‘’․﹒＇．]",midletter:"[:··״‧︓﹕：]",midnum:"[±+*/,;;։،؍٬߸⁄︐︔﹐﹔，；]",numeric:"[0-9٠-٩٫۰-۹߀-߉०-९০-৯੦-੯૦-૯୦-୯௦-௯౦-౯೦-೯൦-൯๐-๙໐-໙༠-༩၀-၉႐-႙០-៩᠐-᠙᥆-᥏᧐-᧙᪀-᪉᪐-᪙᭐-᭙᮰-᮹᱀-᱉᱐-᱙꘠-꘩꣐-꣙꤀-꤉꧐-꧙꩐-꩙꯰-꯹]",cr:"\\r",lf:"\\n",newline:"[\v\f\u2028\u2029]",extend:"[̀-ͯ҃-҉֑-ׇֽֿׁׂׅׄؐ-ًؚ-ٰٟۖ-ۜ۟-۪ۤۧۨ-ܑۭܰ-݊ަ-ް߫-߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛ऀ-ःऺ-़ा-ॏ॑-ॗॢॣঁ-ঃ়া-ৄেৈো-্ৗৢৣਁ-ਃ਼ਾ-ੂੇੈੋ-੍ੑੰੱੵઁ-ઃ઼ા-ૅે-ૉો-્ૢૣଁ-ଃ଼ା-ୄେୈୋ-୍ୖୗୢୣஂா-ூெ-ைொ-்ௗఁ-ఃా-ౄె-ైొ-్ౕౖౢౣಂಃ಼ಾ-ೄೆ-ೈೊ-್ೕೖೢೣംഃാ-ൄെ-ൈൊ-്ൗൢൣංඃ්ා-ුූෘ-ෟෲෳัิ-ฺ็-๎ັິ-ູົຼ່-ໍ༹༘༙༵༷༾༿ཱ-྄྆྇ྍ-ྗྙ-ྼ࿆ါ-ှၖ-ၙၞ-ၠၢ-ၤၧ-ၭၱ-ၴႂ-ႍႏႚ-ႝ፝-፟ᜒ-᜔ᜲ-᜴ᝒᝓᝲᝳា-៓៝᠋-᠍ᢩᤠ-ᤫᤰ-᤻ᦰ-ᧀᧈᧉᨗ-ᨛᩕ-ᩞ᩠-᩿᩼ᬀ-ᬄ᬴-᭄᭫-᭳ᮀ-ᮂᮡ-᯦᮪-᯳ᰤ-᰷᳐-᳔᳒-᳨᳭ᳲ᷀-ᷦ᷼-᷿‌‍⃐-⃰⳯-⵿⳱ⷠ-〪ⷿ-゙゚〯꙯-꙲꙼꙽꛰꛱ꠂ꠆ꠋꠣ-ꠧꢀꢁꢴ-꣄꣠-꣱ꤦ-꤭ꥇ-꥓ꦀ-ꦃ꦳-꧀ꨩ-ꨶꩃꩌꩍꩻꪰꪲ-ꪴꪷꪸꪾ꪿꫁ꯣ-ꯪ꯬꯭ﬞ︀-️︠-︦ﾞﾟ]",format:"[­؀-؃۝܏឴឵‎‏‪-‮⁠-⁤⁪-⁯\uFEFF￹-￻]",katakana:"[〱-〵゛゜゠-ヺー-ヿㇰ-ㇿ㋐-㋾㌀-㍗ｦ-ﾝ]",extendnumlet:"[=_‿⁀⁔︳︴﹍-﹏＿∀-⋿<>]",punctuation:"[~№|!-*+-\\/:;?@\\[-`{}¡«·»¿;·՚-՟։֊־׀׃׆׳״؉؊،؍؛؞؟٪-٭۔܀-܍߷-߹࠰-࠾࡞।॥॰෴๏๚๛༄-༒༺-༽྅࿐-࿔࿙࿚၊-၏჻፡-፨᐀᙭᙮᚛᚜᛫-᛭᜵᜶។-៖៘-៚᠀-᠊᥄᥅᨞᨟᪠-᪦᪨-᪭᭚-᭠᯼-᯿᰻-᰿᱾᱿᳓‐-‧‰-⁃⁅-⁑⁓-⁞⁽⁾₍₎〈〉❨-❵⟅⟆⟦-⟯⦃-⦘⧘-⧛⧼⧽⳹-⳼⳾⳿⵰⸀-⸮⸰⸱、-〃〈-】〔-〟〰〽゠・꓾꓿꘍-꘏꙳꙾꛲-꛷꡴-꡷꣎꣏꣸-꣺꤮꤯꥟꧁-꧍꧞꧟꩜-꩟꫞꫟꯫﴾﴿︐-︙︰-﹒﹔-﹡﹣﹨﹪﹫！-＃％-＊，-／：；？＠［-］＿｛｝｟-･]"},jt={ALETTER:0,MIDNUMLET:1,MIDLETTER:2,MIDNUM:3,NUMERIC:4,CR:5,LF:6,NEWLINE:7,EXTEND:8,FORMAT:9,KATAKANA:10,EXTENDNUMLET:11,AT:12,OTHER:13},ko=[new RegExp(Po.aletter),new RegExp(Po.midnumlet),new RegExp(Po.midletter),new RegExp(Po.midnum),new RegExp(Po.numeric),new RegExp(Po.cr),new RegExp(Po.lf),new RegExp(Po.newline),new RegExp(Po.extend),new RegExp(Po.format),new RegExp(Po.katakana),new RegExp(Po.extendnumlet),new RegExp("@")],Mo="",jo=new RegExp("^"+Po.punctuation+"$"),tn=/^\s+$/,To=ko,Ue=jt.OTHER,it=pe=>{let Oe=Ue;const We=To.length;for(let Fe=0;Fe<We;++Fe){const ge=To[Fe];if(ge&&ge.test(pe)){Oe=Fe;break}}return Oe},So=pe=>{const Oe={};return We=>{if(Oe[We])return Oe[We];{const Fe=pe(We);return Oe[We]=Fe,Fe}}},co=pe=>{const Oe=So(it);return Qo(pe,Oe)},he=(pe,Oe)=>{const We=pe[Oe],Fe=pe[Oe+1];if(Oe<0||Oe>pe.length-1&&Oe!==0||We===jt.ALETTER&&Fe===jt.ALETTER)return!1;const ge=pe[Oe+2];if(We===jt.ALETTER&&(Fe===jt.MIDLETTER||Fe===jt.MIDNUMLET||Fe===jt.AT)&&ge===jt.ALETTER)return!1;const Me=pe[Oe-1];return(We===jt.MIDLETTER||We===jt.MIDNUMLET||Fe===jt.AT)&&Fe===jt.ALETTER&&Me===jt.ALETTER||(We===jt.NUMERIC||We===jt.ALETTER)&&(Fe===jt.NUMERIC||Fe===jt.ALETTER)||(We===jt.MIDNUM||We===jt.MIDNUMLET)&&Fe===jt.NUMERIC&&Me===jt.NUMERIC||We===jt.NUMERIC&&(Fe===jt.MIDNUM||Fe===jt.MIDNUMLET)&&ge===jt.NUMERIC||(We===jt.EXTEND||We===jt.FORMAT)&&(Fe===jt.ALETTER||Fe===jt.NUMERIC||Fe===jt.KATAKANA||Fe===jt.EXTEND||Fe===jt.FORMAT)||(Fe===jt.EXTEND||Fe===jt.FORMAT&&(ge===jt.ALETTER||ge===jt.NUMERIC||ge===jt.KATAKANA||ge===jt.EXTEND||ge===jt.FORMAT))&&(We===jt.ALETTER||We===jt.NUMERIC||We===jt.KATAKANA||We===jt.EXTEND||We===jt.FORMAT)||We===jt.CR&&Fe===jt.LF?!1:We===jt.NEWLINE||We===jt.CR||We===jt.LF||Fe===jt.NEWLINE||Fe===jt.CR||Fe===jt.LF?!0:!(We===jt.KATAKANA&&Fe===jt.KATAKANA||Fe===jt.EXTENDNUMLET&&(We===jt.ALETTER||We===jt.NUMERIC||We===jt.KATAKANA||We===jt.EXTENDNUMLET)||We===jt.EXTENDNUMLET&&(Fe===jt.ALETTER||Fe===jt.NUMERIC||Fe===jt.KATAKANA)||We===jt.AT)},Dt=Mo,fo=tn,me=jo,Ze=pe=>pe==="http"||pe==="https",de=(pe,Oe)=>{let We;for(We=Oe;We<pe.length&&!fo.test(pe[We]);We++);return We},rt=(pe,Oe)=>{const We=de(pe,Oe+1);return pe.slice(Oe+1,We).join(Dt).substr(0,3)==="://"?We:Oe},Yo=(pe,Oe,We,Fe)=>{const ge=[],Me=[];let at=[];for(let ze=0;ze<We.length;++ze)if(at.push(pe[ze]),he(We,ze)){const Ge=Oe[ze];if((Fe.includeWhitespace||!fo.test(Ge))&&(Fe.includePunctuation||!me.test(Ge))){const Gt=ze-at.length+1,Vt=ze+1,Xo=Oe.slice(Gt,Vt).join(Dt);if(Ze(Xo)){const $o=rt(Oe,ze),Zo=pe.slice(Vt,$o);Array.prototype.push.apply(at,Zo),ze=$o}ge.push(at),Me.push({start:Gt,end:Vt})}at=[]}return{words:ge,indices:Me}},$t=()=>({includeWhitespace:!1,includePunctuation:!1}),gn=(pe,Oe,We)=>{We={...$t(),...We};const Fe=Qo(pe,Oe),ge=co(Fe);return Yo(pe,Fe,ge,We)},Ct=(pe,Oe,We)=>gn(pe,Oe,We).words,R=pe=>pe.replace(/\uFEFF/g,"");var qe=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker");const Je=(pe,Oe)=>{const We=Oe.getBlockElements(),Fe=Oe.getVoidElements(),ge=Gt=>We[Gt.nodeName]||Fe[Gt.nodeName],Me=[];let at="";const ze=new qe(pe,pe);let Ge;for(;Ge=ze.next();)Ge.nodeType===3?at+=R(Ge.data):ge(Ge)&&at.length&&(Me.push(at),at="");return at.length&&Me.push(at),Me},lt=pe=>pe.replace(/\u200B/g,""),Mt=pe=>pe.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"_").length,ht=(pe,Oe)=>{const We=lt(Je(pe,Oe).join(`
`));return Ct(We.split(""),on).length},Rt=(pe,Oe)=>{const We=Je(pe,Oe).join("");return Mt(We)},uo=(pe,Oe)=>{const We=Je(pe,Oe).join("").replace(/\s/g,"");return Mt(We)},Bt=(pe,Oe)=>()=>Oe(pe.getBody(),pe.schema),V=(pe,Oe)=>()=>Oe(pe.selection.getRng().cloneContents(),pe.schema),dt=pe=>Bt(pe,ht),Ie=pe=>({body:{getWordCount:dt(pe),getCharacterCount:Bt(pe,Rt),getCharacterCountWithoutSpaces:Bt(pe,uo)},selection:{getWordCount:V(pe,ht),getCharacterCount:V(pe,Rt),getCharacterCountWithoutSpaces:V(pe,uo)},getCount:dt(pe)}),Co=(pe,Oe)=>{pe.windowManager.open({title:"Word Count",body:{type:"panel",items:[{type:"table",header:["Count","Document","Selection"],cells:[["Words",String(Oe.body.getWordCount()),String(Oe.selection.getWordCount())],["Characters (no spaces)",String(Oe.body.getCharacterCountWithoutSpaces()),String(Oe.selection.getCharacterCountWithoutSpaces())],["Characters",String(Oe.body.getCharacterCount()),String(Oe.selection.getCharacterCount())]]}]},buttons:[{type:"cancel",name:"close",text:"Close",primary:!0}]})},Pt=(pe,Oe)=>{pe.addCommand("mceWordCount",()=>Co(pe,Oe))},lo=(pe,Oe)=>{let We=null;return{cancel:()=>{Io(We)||(clearTimeout(We),We=null)},throttle:(...Me)=>{Io(We)&&(We=setTimeout(()=>{We=null,pe.apply(null,Me)},Oe))}}};var zo=tinymce.util.Tools.resolve("tinymce.util.Delay");const to=(pe,Oe)=>{pe.dispatch("wordCountUpdate",{wordCount:{words:Oe.body.getWordCount(),characters:Oe.body.getCharacterCount(),charactersWithoutSpaces:Oe.body.getCharacterCountWithoutSpaces()}})},Se=(pe,Oe)=>{to(pe,Oe)},$e=(pe,Oe,We)=>{const Fe=lo(()=>Se(pe,Oe),We);pe.on("init",()=>{Se(pe,Oe),zo.setEditorTimeout(pe,()=>{pe.on("SetContent BeforeAddUndo Undo Redo ViewUpdate keyup",Fe.throttle)},0),pe.on("remove",Fe.cancel)})},ct=pe=>{const Oe=()=>pe.execCommand("mceWordCount");pe.ui.registry.addButton("wordcount",{tooltip:"Word count",icon:"character-count",onAction:Oe}),pe.ui.registry.addMenuItem("wordcount",{text:"Word count",icon:"character-count",onAction:Oe})};var gt=(pe=300)=>{xo.add("wordcount",Oe=>{const We=Ie(Oe);return Pt(Oe,We),ct(Oe),$e(Oe,We,pe),We})};gt()})();tinymce.Resource.add("tinymce.html-i18n.help-keynav.zh_CN",`<h1>开始键盘导航</h1>

<dl>
  <dt>聚焦于菜单栏</dt>
  <dd>Windows 或 Linux：Alt+F9</dd>
  <dd>macOS：&#x2325;F9</dd>
  <dt>聚焦于工具栏</dt>
  <dd>Windows 或 Linux：Alt+F10</dd>
  <dd>macOS：&#x2325;F10</dd>
  <dt>聚焦于页脚</dt>
  <dd>Windows 或 Linux：Alt+F11</dd>
  <dd>macOS：&#x2325;F11</dd>
  <dt>聚焦于上下文工具栏</dt>
  <dd>Windows、Linux 或 macOS：Ctrl+F9
</dl>

<p>导航将在第一个 UI 项上开始，其中突出显示该项，或者对于页脚元素路径中的第一项，将为其添加下划线。</p>

<h1>在 UI 部分之间导航</h1>

<p>要从一个 UI 部分移至下一个，请按 <strong>Tab</strong>。</p>

<p>要从一个 UI 部分移至上一个，请按 <strong>Shift+Tab</strong>。</p>

<p>这些 UI 部分的 <strong>Tab</strong> 顺序为：</p>

<ol>
  <li>菜单栏</li>
  <li>每个工具栏组</li>
  <li>边栏</li>
  <li>页脚中的元素路径</li>
  <li>页脚中的字数切换按钮</li>
  <li>页脚中的品牌链接</li>
  <li>页脚中的编辑器调整大小图柄</li>
</ol>

<p>如果不存在某个 UI 部分，则跳过它。</p>

<p>如果键盘导航焦点在页脚，并且没有可见的边栏，则按 <strong>Shift+Tab</strong> 将焦点移至第一个工具栏组而非最后一个。</p>

<h1>在 UI 部分内导航</h1>

<p>要从一个 UI 元素移至下一个，请按相应的<strong>箭头</strong>键。</p>

<p><strong>左</strong>和<strong>右</strong>箭头键</p>

<ul>
  <li>在菜单栏中的菜单之间移动。</li>
  <li>打开菜单中的子菜单。</li>
  <li>在工具栏组中的按钮之间移动。</li>
  <li>在页脚的元素路径中的各项之间移动。</li>
</ul>

<p><strong>下</strong>和<strong>上</strong>箭头键</p>

<ul>
  <li>在菜单中的菜单项之间移动。</li>
  <li>在工具栏弹出菜单中的各项之间移动。</li>
</ul>

<p><strong>箭头</strong>键在具有焦点的 UI 部分内循环。</p>

<p>要关闭打开的菜单、打开的子菜单或打开的弹出菜单，请按 <strong>Esc</strong> 键。</p>

<p>如果当前的焦点在特定 UI 部分的“顶部”，则按 <strong>Esc</strong> 键还将完全退出键盘导航。</p>

<h1>执行菜单项或工具栏按钮</h1>

<p>当突出显示所需的菜单项或工具栏按钮时，按 <strong>Return</strong>、<strong>Enter</strong> 或<strong>空格</strong>以执行该项。</p>

<h1>在非标签页式对话框中导航</h1>

<p>在非标签页式对话框中，当对话框打开时，第一个交互组件获得焦点。</p>

<p>通过按 <strong>Tab</strong> 或 <strong>Shift+Tab</strong>，在交互对话框组件之间导航。</p>

<h1>在标签页式对话框中导航</h1>

<p>在标签页式对话框中，当对话框打开时，标签页菜单中的第一个按钮获得焦点。</p>

<p>通过按 <strong>Tab</strong> 或 <strong>Shift+Tab</strong>，在此对话框的交互组件之间导航。</p>

<p>通过将焦点移至另一对话框标签页的菜单，然后按相应的<strong>箭头</strong>键以在可用的标签页间循环，从而切换到该对话框标签页。</p>
`);tinymce.Resource.add("tinymce.html-i18n.help-keynav.en",`<h1>Begin keyboard navigation</h1>

<dl>
  <dt>Focus the Menu bar</dt>
  <dd>Windows or Linux: Alt+F9</dd>
  <dd>macOS: &#x2325;F9</dd>
  <dt>Focus the Toolbar</dt>
  <dd>Windows or Linux: Alt+F10</dd>
  <dd>macOS: &#x2325;F10</dd>
  <dt>Focus the footer</dt>
  <dd>Windows or Linux: Alt+F11</dd>
  <dd>macOS: &#x2325;F11</dd>
  <dt>Focus a contextual toolbar</dt>
  <dd>Windows, Linux or macOS: Ctrl+F9
</dl>

<p>Navigation will start at the first UI item, which will be highlighted, or underlined in the case of the first item in
  the Footer element path.</p>

<h1>Navigate between UI sections</h1>

<p>To move from one UI section to the next, press <strong>Tab</strong>.</p>

<p>To move from one UI section to the previous, press <strong>Shift+Tab</strong>.</p>

<p>The <strong>Tab</strong> order of these UI sections is:</p>

<ol>
  <li>Menu bar</li>
  <li>Each toolbar group</li>
  <li>Sidebar</li>
  <li>Element path in the footer</li>
  <li>Word count toggle button in the footer</li>
  <li>Branding link in the footer</li>
  <li>Editor resize handle in the footer</li>
</ol>

<p>If a UI section is not present, it is skipped.</p>

<p>If the footer has keyboard navigation focus, and there is no visible sidebar, pressing <strong>Shift+Tab</strong>
  moves focus to the first toolbar group, not the last.</p>

<h1>Navigate within UI sections</h1>

<p>To move from one UI element to the next, press the appropriate <strong>Arrow</strong> key.</p>

<p>The <strong>Left</strong> and <strong>Right</strong> arrow keys</p>

<ul>
  <li>move between menus in the menu bar.</li>
  <li>open a sub-menu in a menu.</li>
  <li>move between buttons in a toolbar group.</li>
  <li>move between items in the footer’s element path.</li>
</ul>

<p>The <strong>Down</strong> and <strong>Up</strong> arrow keys</p>

<ul>
  <li>move between menu items in a menu.</li>
  <li>move between items in a toolbar pop-up menu.</li>
</ul>

<p><strong>Arrow</strong> keys cycle within the focused UI section.</p>

<p>To close an open menu, an open sub-menu, or an open pop-up menu, press the <strong>Esc</strong> key.</p>

<p>If the current focus is at the ‘top’ of a particular UI section, pressing the <strong>Esc</strong> key also exits
  keyboard navigation entirely.</p>

<h1>Execute a menu item or toolbar button</h1>

<p>When the desired menu item or toolbar button is highlighted, press <strong>Return</strong>, <strong>Enter</strong>,
  or the <strong>Space bar</strong> to execute the item.</p>

<h1>Navigate non-tabbed dialogs</h1>

<p>In non-tabbed dialogs, the first interactive component takes focus when the dialog opens.</p>

<p>Navigate between interactive dialog components by pressing <strong>Tab</strong> or <strong>Shift+Tab</strong>.</p>

<h1>Navigate tabbed dialogs</h1>

<p>In tabbed dialogs, the first button in the tab menu takes focus when the dialog opens.</p>

<p>Navigate between interactive components of this dialog tab by pressing <strong>Tab</strong> or
  <strong>Shift+Tab</strong>.</p>

<p>Switch to another dialog tab by giving the tab menu focus and then pressing the appropriate <strong>Arrow</strong>
  key to cycle through the available tabs.</p>
`);const YM="/vite-vue3-admin/assets/zh_CN-D2ZaekyI.js",XM=Object.assign({"./zh_CN.js":YM}),JM=Object.entries(XM).reduce((xo,[Ko,Io])=>{const on=Ko.replace(/\.\/(.+)\.js/,"$1");return xo[on]=Io,xo},{}),QM=["accordion","advlist","anchor","autolink","autosave","charmap","code","codesample","directionality","emoticons","fullscreen","help","image","importcss","insertdatetime","link","lists","media","nonbreaking","pagebreak","preview","quickbars","save","searchreplace","table","visualblocks","visualchars","wordcount"],eD=["fontsizeselect lineheight searchreplace bold italic underline strikethrough alignleft aligncenter alignright outdent indent  blockquote undo redo removeformat subscript superscript code codesample","hr bullist numlist link  preview anchor pagebreak insertdatetime media  forecolor backcolor fullscreen"],tD={...o6,init:Object,toolbar:{type:Array,default:eD},plugins:{type:Array,default:QM},height:{type:[Number,String],required:!1,default:400},width:{type:[Number,String],required:!1,default:"auto"}},oD=R5({__name:"index",props:wM(tD,{value:{},valueModifiers:{}}),emits:["update:value"],setup(xo){const Ko=xo,Io=kM(xo,"value"),on=NM(),Qo=A5(()=>{const jt=MM().getLocale.value;return["zh_CN","en"].includes(jt)?jt:"zh_CN"}),io=A5(()=>on.getNavTheme==="realDark"?"oxide-dark":"oxide"),Po=A5(()=>{const{height:jt,init:ko,toolbar:Mo,plugins:jo}=Ko,To="/vite-vue3-admin/tinymce-resource";return{base_url:To,height:jt,toolbar:Mo,menubar:"file edit insert view format table",plugins:jo,language_url:JM[Qo.value],language:Qo.value,branding:!1,default_link_target:"_blank",link_title:!1,promotion:!1,object_resizing:!1,auto_focus:!0,resize:!0,skin:io.value,skin_url:`${To}/skins/ui/${io.value}`,...ko}});return(jt,ko)=>(M5(),QN(D5(WM),_M({...jt.$attrs,...Ko},{modelValue:Io.value,"onUpdate:modelValue":ko[0]||(ko[0]=Mo=>Io.value=Mo),"tinymce-script-src":D5(GM),init:Po.value}),null,16,["modelValue","tinymce-script-src","init"]))}}),nD={images_upload_handler:async xo=>(await e6.toolsUpload.uploadUpload({file:xo.blob()})).filename},rD=[{field:"subject",component:"Input",label:"邮件标题",required:!0,colProps:{md:18}},{field:"to",component:"Input",label:"收件邮箱",helpMessage:"多个地址英文逗号,隔开",componentProps:{placeholder:"请输入邮箱地址,多个地址英文逗号,隔开"},colProps:{md:18},rules:[{type:"email",required:!0,message:"请输入有效的邮箱地址"}]},{field:"content",component:()=>A3(oD,{init:nD},null),label:"正文",colProps:{md:18}}],pD=R5({name:"ToolsEmail",__name:"index",setup(xo){const Ko=JN(!1),[Io]=DM({labelWidth:120,schemas:rD,submitButtonOptions:{text:"发送邮箱"},actionColOptions:{span:18}}),on=[{key:"2",name:"发送邮件"}];async function Qo(io){try{Ko.value=!0,await e6.systemEmail.emailSend(io,{successMsg:"发送成功"})}finally{Ko.value=!1}}return(io,Po)=>{const jt=OM,ko=TM,Mo=zM,jo=AM;return M5(),QN(jo,{spinning:Ko.value,tip:"邮件发送中..."},{default:_A(()=>[A3(Mo,{size:"small"},{default:_A(()=>[A3(ko,{"tab-position":"top","tab-bar-style":{marginLeft:"1rem"},"active-key":"2"},{default:_A(()=>[(M5(),CM(EM,null,SM(on,tn=>A3(jt,{key:tn.key,tab:tn.name},{default:_A(()=>[A3(D5(Io),{onSubmit:Qo})]),_:2},1032,["tab"])),64))]),_:1})]),_:1})]),_:1},8,["spinning"])}}});export{pD as default};
